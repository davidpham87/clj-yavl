shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$editorDom = function(require, module, exports) {
  function createEditorPagePosition(editorViewDomNode) {
    editorViewDomNode = dom.getDomNodePagePosition(editorViewDomNode);
    return new EditorPagePosition(editorViewDomNode.left, editorViewDomNode.top, editorViewDomNode.width, editorViewDomNode.height);
  }
  function createCoordinatesRelativeToEditor(editorViewDomNode, editorPagePosition, pos) {
    return new CoordinatesRelativeToEditor((pos.x - editorPagePosition.x) / (editorPagePosition.width / editorViewDomNode.offsetWidth), (pos.y - editorPagePosition.y) / (editorPagePosition.height / editorViewDomNode.offsetHeight));
  }
  function camelToDashes(str) {
    return str.replace(/(^[A-Z])/, ([first]) => first.toLowerCase()).replace(/([A-Z])/g, ([letter]) => `-${letter.toLowerCase()}`);
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ClientCoordinates:{enumerable:!0, get:function() {
    return ClientCoordinates;
  }}, CoordinatesRelativeToEditor:{enumerable:!0, get:function() {
    return CoordinatesRelativeToEditor;
  }}, DynamicCssRules:{enumerable:!0, get:function() {
    return DynamicCssRules;
  }}, EditorMouseEvent:{enumerable:!0, get:function() {
    return EditorMouseEvent;
  }}, EditorMouseEventFactory:{enumerable:!0, get:function() {
    return EditorMouseEventFactory;
  }}, EditorPagePosition:{enumerable:!0, get:function() {
    return EditorPagePosition;
  }}, EditorPointerEventFactory:{enumerable:!0, get:function() {
    return EditorPointerEventFactory;
  }}, GlobalEditorPointerMoveMonitor:{enumerable:!0, get:function() {
    return GlobalEditorPointerMoveMonitor;
  }}, PageCoordinates:{enumerable:!0, get:function() {
    return PageCoordinates;
  }}, createCoordinatesRelativeToEditor:{enumerable:!0, get:function() {
    return createCoordinatesRelativeToEditor;
  }}, createEditorPagePosition:{enumerable:!0, get:function() {
    return createEditorPagePosition;
  }}});
  var dom = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_globalPointerMoveMonitor_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$globalPointerMoveMonitor");
  module = require("module$node_modules$monaco_editor$esm$vs$base$browser$mouseEvent");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$async"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_colorRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$colorRegistry");
  class PageCoordinates {
    constructor(x, y) {
      this.x = x;
      this.y = y;
      this._pageCoordinatesBrand = void 0;
    }
    toClientCoordinates(targetWindow) {
      return new ClientCoordinates(this.x - targetWindow.scrollX, this.y - targetWindow.scrollY);
    }
  }
  class ClientCoordinates {
    constructor(clientX, clientY) {
      this.clientX = clientX;
      this.clientY = clientY;
      this._clientCoordinatesBrand = void 0;
    }
    toPageCoordinates(targetWindow) {
      return new PageCoordinates(this.clientX + targetWindow.scrollX, this.clientY + targetWindow.scrollY);
    }
  }
  class EditorPagePosition {
    constructor(x, y, width, height) {
      this.x = x;
      this.y = y;
      this.width = width;
      this.height = height;
      this._editorPagePositionBrand = void 0;
    }
  }
  class CoordinatesRelativeToEditor {
    constructor(x, y) {
      this.x = x;
      this.y = y;
      this._positionRelativeToEditorBrand = void 0;
    }
  }
  class EditorMouseEvent extends module.StandardMouseEvent {
    constructor(e, isFromPointerCapture, editorViewDomNode) {
      super(dom.getWindow(editorViewDomNode), e);
      this._editorMouseEventBrand = void 0;
      this.isFromPointerCapture = isFromPointerCapture;
      this.pos = new PageCoordinates(this.posx, this.posy);
      this.editorPos = createEditorPagePosition(editorViewDomNode);
      this.relativePos = createCoordinatesRelativeToEditor(editorViewDomNode, this.editorPos, this.pos);
    }
  }
  class EditorMouseEventFactory {
    constructor(editorViewDomNode) {
      this._editorViewDomNode = editorViewDomNode;
    }
    _create(e) {
      return new EditorMouseEvent(e, !1, this._editorViewDomNode);
    }
    onContextMenu(target, callback) {
      return dom.addDisposableListener(target, "contextmenu", e => {
        callback(this._create(e));
      });
    }
    onMouseUp(target, callback) {
      return dom.addDisposableListener(target, "mouseup", e => {
        callback(this._create(e));
      });
    }
    onMouseDown(target, callback) {
      return dom.addDisposableListener(target, dom.EventType.MOUSE_DOWN, e => {
        callback(this._create(e));
      });
    }
    onPointerDown(target, callback) {
      return dom.addDisposableListener(target, dom.EventType.POINTER_DOWN, e => {
        callback(this._create(e), e.pointerId);
      });
    }
    onMouseLeave(target, callback) {
      return dom.addDisposableListener(target, dom.EventType.MOUSE_LEAVE, e => {
        callback(this._create(e));
      });
    }
    onMouseMove(target, callback) {
      return dom.addDisposableListener(target, "mousemove", e => callback(this._create(e)));
    }
  }
  class EditorPointerEventFactory {
    constructor(editorViewDomNode) {
      this._editorViewDomNode = editorViewDomNode;
    }
    _create(e) {
      return new EditorMouseEvent(e, !1, this._editorViewDomNode);
    }
    onPointerUp(target, callback) {
      return dom.addDisposableListener(target, "pointerup", e => {
        callback(this._create(e));
      });
    }
    onPointerDown(target, callback) {
      return dom.addDisposableListener(target, dom.EventType.POINTER_DOWN, e => {
        callback(this._create(e), e.pointerId);
      });
    }
    onPointerLeave(target, callback) {
      return dom.addDisposableListener(target, dom.EventType.POINTER_LEAVE, e => {
        callback(this._create(e));
      });
    }
    onPointerMove(target, callback) {
      return dom.addDisposableListener(target, "pointermove", e => callback(this._create(e)));
    }
  }
  class GlobalEditorPointerMoveMonitor extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    constructor(editorViewDomNode) {
      super();
      this._editorViewDomNode = editorViewDomNode;
      this._globalPointerMoveMonitor = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_globalPointerMoveMonitor_DOT_js.GlobalPointerMoveMonitor());
      this._keydownListener = null;
    }
    startMonitoring(initialElement, pointerId, initialButtons, pointerMoveCallback, onStopCallback) {
      this._keydownListener = dom.addStandardDisposableListener(initialElement.ownerDocument, "keydown", e => {
        e.toKeyCodeChord().isModifierKey() || this._globalPointerMoveMonitor.stopMonitoring(!0, e.browserEvent);
      }, !0);
      this._globalPointerMoveMonitor.startMonitoring(initialElement, pointerId, initialButtons, e => {
        pointerMoveCallback(new EditorMouseEvent(e, !0, this._editorViewDomNode));
      }, e => {
        this._keydownListener.dispose();
        onStopCallback(e);
      });
    }
    stopMonitoring() {
      this._globalPointerMoveMonitor.stopMonitoring(!0);
    }
  }
  class DynamicCssRules {
    constructor(_editor) {
      this._editor = _editor;
      this._instanceId = ++DynamicCssRules._idPool;
      this._counter = 0;
      this._rules = new Map();
      this._garbageCollectionScheduler = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => this.garbageCollect(), 1000);
    }
    createClassNameRef(options) {
      const rule = this.getOrCreateRule(options);
      rule.increaseRefCount();
      return {className:rule.className, dispose:() => {
        rule.decreaseRefCount();
        this._garbageCollectionScheduler.schedule();
      }};
    }
    getOrCreateRule(properties) {
      const key = this.computeUniqueKey(properties);
      var existingRule = this._rules.get(key);
      existingRule || (existingRule = this._counter++, existingRule = new RefCountedCssRule(key, `dyn-rule-${this._instanceId}-${existingRule}`, dom.isInShadowDOM(this._editor.getContainerDomNode()) ? this._editor.getContainerDomNode() : void 0, properties), this._rules.set(key, existingRule));
      return existingRule;
    }
    computeUniqueKey(properties) {
      return JSON.stringify(properties);
    }
    garbageCollect() {
      for (const rule of this._rules.values()) {
        rule.hasReferences() || (this._rules.delete(rule.key), rule.dispose());
      }
    }
  }
  DynamicCssRules._idPool = 0;
  class RefCountedCssRule {
    constructor(key, className, _containerElement, properties) {
      this.key = key;
      this.className = className;
      this.properties = properties;
      this._referenceCount = 0;
      this._styleElementDisposables = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();
      this._styleElement = dom.createStyleSheet(_containerElement, void 0, this._styleElementDisposables);
      this._styleElement.textContent = this.getCssText(this.className, this.properties);
    }
    getCssText(className, properties) {
      className = `.${className} {`;
      for (const prop in properties) {
        var value = properties[prop];
        value = typeof value === "object" ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_colorRegistry_DOT_js.asCssVariable)(value.id) : value;
        const cssPropName = camelToDashes(prop);
        className += `\n\t${cssPropName}: ${value};`;
      }
      return className + "\n}";
    }
    dispose() {
      this._styleElementDisposables.dispose();
      this._styleElement = void 0;
    }
    increaseRefCount() {
      this._referenceCount++;
    }
    decreaseRefCount() {
      this._referenceCount--;
    }
    hasReferences() {
      return this._referenceCount > 0;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$editorDom.js.map
