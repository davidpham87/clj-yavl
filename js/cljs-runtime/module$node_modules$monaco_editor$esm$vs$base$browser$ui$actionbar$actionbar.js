shadow$provide.module$node_modules$monaco_editor$esm$vs$base$browser$ui$actionbar$actionbar = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ActionBar:{enumerable:!0, get:function() {
    return ActionBar;
  }}});
  var DOM = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_keyboardEvent_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$keyboardEvent"), require$_DOT__SLASH_actionViewItems_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$actionbar$actionViewItems"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_actions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$actions"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), types = require("module$node_modules$monaco_editor$esm$vs$base$common$types");
  require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$actionbar$actionbar_css");
  class ActionBar extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    constructor(container, options = {}) {
      var _a, _b, _c, _d, _e, _f;
      super();
      this._actionRunnerDisposables = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore());
      this.viewItemDisposables = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js.DisposableMap());
      this.triggerKeyDown = !1;
      this.focusable = !0;
      this._onDidBlur = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidBlur = this._onDidBlur.event;
      this._onDidCancel = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter({onWillAddFirstListener:() => this.cancelHasListener = !0}));
      this.onDidCancel = this._onDidCancel.event;
      this.cancelHasListener = !1;
      this._onDidRun = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidRun = this._onDidRun.event;
      this._onWillRun = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onWillRun = this._onWillRun.event;
      this.options = options;
      this._context = (_a = options.context) !== null && _a !== void 0 ? _a : null;
      this._orientation = (_b = this.options.orientation) !== null && _b !== void 0 ? _b : 0;
      this._triggerKeys = {keyDown:(_d = (_c = this.options.triggerKeys) === null || _c === void 0 ? void 0 : _c.keyDown) !== null && _d !== void 0 ? _d : !1, keys:(_f = (_e = this.options.triggerKeys) === null || _e === void 0 ? void 0 : _e.keys) !== null && _f !== void 0 ? _f : [3, 10]};
      this.options.actionRunner ? this._actionRunner = this.options.actionRunner : (this._actionRunner = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_actions_DOT_js.ActionRunner(), this._actionRunnerDisposables.add(this._actionRunner));
      this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));
      this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));
      this.viewItems = [];
      this.focusedItem = void 0;
      this.domNode = document.createElement("div");
      this.domNode.className = "monaco-action-bar";
      options.animated !== !1 && this.domNode.classList.add("animated");
      let previousKeys, nextKeys;
      switch(this._orientation) {
        case 0:
          previousKeys = [15];
          nextKeys = [17];
          break;
        case 1:
          previousKeys = [16], nextKeys = [18], this.domNode.className += " vertical";
      }
      this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_DOWN, e => {
        e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(e);
        let eventHandled = !0;
        const focusedItem = typeof this.focusedItem === "number" ? this.viewItems[this.focusedItem] : void 0;
        previousKeys && (e.equals(previousKeys[0]) || e.equals(previousKeys[1])) ? eventHandled = this.focusPrevious() : nextKeys && (e.equals(nextKeys[0]) || e.equals(nextKeys[1])) ? eventHandled = this.focusNext() : e.equals(9) && this.cancelHasListener ? this._onDidCancel.fire() : e.equals(14) ? eventHandled = this.focusFirst() : e.equals(13) ? eventHandled = this.focusLast() : e.equals(2) && focusedItem instanceof require$_DOT__SLASH_actionViewItems_DOT_js.BaseActionViewItem && focusedItem.trapsArrowNavigation ? 
        eventHandled = this.focusNext() : this.isTriggerKeyEvent(e) ? this._triggerKeys.keyDown ? this.doTrigger(e) : this.triggerKeyDown = !0 : eventHandled = !1;
        eventHandled && (e.preventDefault(), e.stopPropagation());
      }));
      this._register(DOM.addDisposableListener(this.domNode, DOM.EventType.KEY_UP, e => {
        e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(e);
        this.isTriggerKeyEvent(e) ? (!this._triggerKeys.keyDown && this.triggerKeyDown && (this.triggerKeyDown = !1, this.doTrigger(e)), e.preventDefault(), e.stopPropagation()) : (e.equals(2) || e.equals(1026) || e.equals(16) || e.equals(18) || e.equals(15) || e.equals(17)) && this.updateFocusedItem();
      }));
      this.focusTracker = this._register(DOM.trackFocus(this.domNode));
      this._register(this.focusTracker.onDidBlur(() => {
        DOM.getActiveElement() !== this.domNode && DOM.isAncestor(DOM.getActiveElement(), this.domNode) || (this._onDidBlur.fire(), this.previouslyFocusedItem = this.focusedItem, this.focusedItem = void 0, this.triggerKeyDown = !1);
      }));
      this._register(this.focusTracker.onDidFocus(() => this.updateFocusedItem()));
      this.actionsList = document.createElement("ul");
      this.actionsList.className = "actions-container";
      this.options.highlightToggledItems && this.actionsList.classList.add("highlight-toggled");
      this.actionsList.setAttribute("role", this.options.ariaRole || "toolbar");
      this.options.ariaLabel && this.actionsList.setAttribute("aria-label", this.options.ariaLabel);
      this.domNode.appendChild(this.actionsList);
      container.appendChild(this.domNode);
    }
    refreshRole() {
      this.length() >= 1 ? this.actionsList.setAttribute("role", this.options.ariaRole || "toolbar") : this.actionsList.setAttribute("role", "presentation");
    }
    setFocusable(focusable) {
      (this.focusable = focusable) ? (focusable = this.viewItems.find(vi => vi instanceof require$_DOT__SLASH_actionViewItems_DOT_js.BaseActionViewItem && vi.isEnabled()), focusable instanceof require$_DOT__SLASH_actionViewItems_DOT_js.BaseActionViewItem && focusable.setFocusable(!0)) : this.viewItems.forEach(vi => {
        vi instanceof require$_DOT__SLASH_actionViewItems_DOT_js.BaseActionViewItem && vi.setFocusable(!1);
      });
    }
    isTriggerKeyEvent(event) {
      let ret = !1;
      this._triggerKeys.keys.forEach(keyCode => {
        ret = ret || event.equals(keyCode);
      });
      return ret;
    }
    updateFocusedItem() {
      var _a, _b;
      for (let i = 0; i < this.actionsList.children.length; i++) {
        const elem = this.actionsList.children[i];
        if (DOM.isAncestor(DOM.getActiveElement(), elem)) {
          this.focusedItem = i;
          (_b = (_a = this.viewItems[this.focusedItem]) === null || _a === void 0 ? void 0 : _a.showHover) === null || _b === void 0 || _b.call(_a);
          break;
        }
      }
    }
    get context() {
      return this._context;
    }
    set context(context) {
      this._context = context;
      this.viewItems.forEach(i => i.setActionContext(context));
    }
    get actionRunner() {
      return this._actionRunner;
    }
    set actionRunner(actionRunner) {
      this._actionRunner = actionRunner;
      this._actionRunnerDisposables.clear();
      this._actionRunnerDisposables.add(this._actionRunner.onDidRun(e => this._onDidRun.fire(e)));
      this._actionRunnerDisposables.add(this._actionRunner.onWillRun(e => this._onWillRun.fire(e)));
      this.viewItems.forEach(item => item.actionRunner = actionRunner);
    }
    getContainer() {
      return this.domNode;
    }
    getAction(indexOrElement) {
      var _a;
      if (typeof indexOrElement === "number") {
        return (_a = this.viewItems[indexOrElement]) === null || _a === void 0 ? void 0 : _a.action;
      }
      if (indexOrElement instanceof HTMLElement) {
        for (; indexOrElement.parentElement !== this.actionsList;) {
          if (!indexOrElement.parentElement) {
            return;
          }
          indexOrElement = indexOrElement.parentElement;
        }
        for (_a = 0; _a < this.actionsList.childNodes.length; _a++) {
          if (this.actionsList.childNodes[_a] === indexOrElement) {
            return this.viewItems[_a].action;
          }
        }
      }
    }
    push(arg, options = {}) {
      arg = Array.isArray(arg) ? arg : [arg];
      let index = types.isNumber(options.index) ? options.index : null;
      arg.forEach(action => {
        const actionViewItemElement = document.createElement("li");
        actionViewItemElement.className = "action-item";
        actionViewItemElement.setAttribute("role", "presentation");
        let item;
        const viewItemOptions = {hoverDelegate:this.options.hoverDelegate, ...options};
        this.options.actionViewItemProvider && (item = this.options.actionViewItemProvider(action, viewItemOptions));
        item ||= new require$_DOT__SLASH_actionViewItems_DOT_js.ActionViewItem(this.context, action, viewItemOptions);
        this.options.allowContextMenu || this.viewItemDisposables.set(item, DOM.addDisposableListener(actionViewItemElement, DOM.EventType.CONTEXT_MENU, e => {
          DOM.EventHelper.stop(e, !0);
        }));
        item.actionRunner = this._actionRunner;
        item.setActionContext(this.context);
        item.render(actionViewItemElement);
        this.focusable && item instanceof require$_DOT__SLASH_actionViewItems_DOT_js.BaseActionViewItem && this.viewItems.length === 0 && item.setFocusable(!0);
        index === null || index < 0 || index >= this.actionsList.children.length ? (this.actionsList.appendChild(actionViewItemElement), this.viewItems.push(item)) : (this.actionsList.insertBefore(actionViewItemElement, this.actionsList.children[index]), this.viewItems.splice(index, 0, item), index++);
      });
      typeof this.focusedItem === "number" && this.focus(this.focusedItem);
      this.refreshRole();
    }
    clear() {
      this.isEmpty() || (this.viewItems = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js.dispose)(this.viewItems), this.viewItemDisposables.clearAndDisposeAll(), DOM.clearNode(this.actionsList), this.refreshRole());
    }
    length() {
      return this.viewItems.length;
    }
    isEmpty() {
      return this.viewItems.length === 0;
    }
    focus(arg) {
      let selectFirst = !1, index = void 0;
      arg === void 0 ? selectFirst = !0 : typeof arg === "number" ? index = arg : typeof arg === "boolean" && (selectFirst = arg);
      selectFirst && typeof this.focusedItem === "undefined" ? (arg = this.viewItems.findIndex(item => item.isEnabled()), this.focusedItem = arg === -1 ? void 0 : arg) : index !== void 0 && (this.focusedItem = index);
      this.updateFocus(void 0, void 0, !0);
    }
    focusFirst() {
      this.focusedItem = this.length() - 1;
      return this.focusNext(!0);
    }
    focusLast() {
      this.focusedItem = 0;
      return this.focusPrevious(!0);
    }
    focusNext(forceLoop) {
      if (typeof this.focusedItem === "undefined") {
        this.focusedItem = this.viewItems.length - 1;
      } else if (this.viewItems.length <= 1) {
        return !1;
      }
      const startIndex = this.focusedItem;
      let item;
      do {
        if (!forceLoop && this.options.preventLoopNavigation && this.focusedItem + 1 >= this.viewItems.length) {
          return this.focusedItem = startIndex, !1;
        }
        this.focusedItem = (this.focusedItem + 1) % this.viewItems.length;
        item = this.viewItems[this.focusedItem];
      } while (this.focusedItem !== startIndex && (this.options.focusOnlyEnabledItems && !item.isEnabled() || item.action.id === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_actions_DOT_js.Separator.ID));
      this.updateFocus();
      return !0;
    }
    focusPrevious(forceLoop) {
      if (typeof this.focusedItem === "undefined") {
        this.focusedItem = 0;
      } else if (this.viewItems.length <= 1) {
        return !1;
      }
      const startIndex = this.focusedItem;
      let item;
      do {
        --this.focusedItem;
        if (this.focusedItem < 0) {
          if (!forceLoop && this.options.preventLoopNavigation) {
            return this.focusedItem = startIndex, !1;
          }
          this.focusedItem = this.viewItems.length - 1;
        }
        item = this.viewItems[this.focusedItem];
      } while (this.focusedItem !== startIndex && (this.options.focusOnlyEnabledItems && !item.isEnabled() || item.action.id === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_actions_DOT_js.Separator.ID));
      this.updateFocus(!0);
      return !0;
    }
    updateFocus(fromRight, preventScroll, forceFocus = !1) {
      var _a, _b;
      typeof this.focusedItem === "undefined" && this.actionsList.focus({preventScroll});
      this.previouslyFocusedItem === void 0 || this.previouslyFocusedItem === this.focusedItem || (_a = this.viewItems[this.previouslyFocusedItem]) !== null && _a !== void 0 && _a.blur();
      if (_a = this.focusedItem !== void 0 ? this.viewItems[this.focusedItem] : void 0) {
        let focusItem = !0;
        types.isFunction(_a.focus) || (focusItem = !1);
        this.options.focusOnlyEnabledItems && types.isFunction(_a.isEnabled) && !_a.isEnabled() && (focusItem = !1);
        _a.action.id === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_actions_DOT_js.Separator.ID && (focusItem = !1);
        focusItem && ((_b = _a.showHover) === null || _b === void 0 || _b.call(_a));
        if (!focusItem) {
          this.actionsList.focus({preventScroll}), this.previouslyFocusedItem = void 0;
        } else if (forceFocus || this.previouslyFocusedItem !== this.focusedItem) {
          _a.focus(fromRight), this.previouslyFocusedItem = this.focusedItem;
        }
      }
    }
    doTrigger(event) {
      if (typeof this.focusedItem !== "undefined") {
        var actionViewItem = this.viewItems[this.focusedItem];
        actionViewItem instanceof require$_DOT__SLASH_actionViewItems_DOT_js.BaseActionViewItem && this.run(actionViewItem._action, actionViewItem._context === null || actionViewItem._context === void 0 ? event : actionViewItem._context);
      }
    }
    async run(action, context) {
      await this._actionRunner.run(action, context);
    }
    dispose() {
      this._context = void 0;
      this.viewItems = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js.dispose)(this.viewItems);
      this.getContainer().remove();
      super.dispose();
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$browser$ui$actionbar$actionbar.js.map
