{
"version":3,
"file":"module$node_modules$vega_scenegraph$build$vega_scenegraph.js",
"lineCount":3668,
"mappings":"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",
"sources":["node_modules/vega-scenegraph/build/vega-scenegraph.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_scenegraph$build$vega_scenegraph\"] = function(require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-util'), require('vega-canvas'), require('vega-loader'), require('vega-scale')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-util', 'vega-canvas', 'vega-loader', 'vega-scale'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}, global.vega, global.vega, global.vega, global.vega));\n})(this, (function (exports, vegaUtil, vegaCanvas, vegaLoader, vegaScale) { 'use strict';\n\n  let gradient_id = 0;\n  function resetSVGGradientId() {\n    gradient_id = 0;\n  }\n  const patternPrefix = 'p_';\n  function isGradient(value) {\n    return value && value.gradient;\n  }\n  function gradientRef(g, defs, base) {\n    const type = g.gradient;\n    let id = g.id,\n      prefix = type === 'radial' ? patternPrefix : '';\n\n    // check id, assign default values as needed\n    if (!id) {\n      id = g.id = 'gradient_' + gradient_id++;\n      if (type === 'radial') {\n        g.x1 = get(g.x1, 0.5);\n        g.y1 = get(g.y1, 0.5);\n        g.r1 = get(g.r1, 0);\n        g.x2 = get(g.x2, 0.5);\n        g.y2 = get(g.y2, 0.5);\n        g.r2 = get(g.r2, 0.5);\n        prefix = patternPrefix;\n      } else {\n        g.x1 = get(g.x1, 0);\n        g.y1 = get(g.y1, 0);\n        g.x2 = get(g.x2, 1);\n        g.y2 = get(g.y2, 0);\n      }\n    }\n\n    // register definition\n    defs[id] = g;\n\n    // return url reference\n    return 'url(' + (base || '') + '#' + prefix + id + ')';\n  }\n  function get(val, def) {\n    return val != null ? val : def;\n  }\n  function Gradient (p0, p1) {\n    var stops = [],\n      gradient;\n    return gradient = {\n      gradient: 'linear',\n      x1: p0 ? p0[0] : 0,\n      y1: p0 ? p0[1] : 0,\n      x2: p1 ? p1[0] : 1,\n      y2: p1 ? p1[1] : 0,\n      stops: stops,\n      stop: function (offset, color) {\n        stops.push({\n          offset: offset,\n          color: color\n        });\n        return gradient;\n      }\n    };\n  }\n\n  function constant (x) {\n    return function constant() {\n      return x;\n    };\n  }\n\n  const abs = Math.abs;\n  const atan2 = Math.atan2;\n  const cos = Math.cos;\n  const max = Math.max;\n  const min = Math.min;\n  const sin = Math.sin;\n  const sqrt = Math.sqrt;\n  const epsilon$1 = 1e-12;\n  const pi$1 = Math.PI;\n  const halfPi = pi$1 / 2;\n  const tau$1 = 2 * pi$1;\n  function acos(x) {\n    return x > 1 ? 0 : x < -1 ? pi$1 : Math.acos(x);\n  }\n  function asin(x) {\n    return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n  }\n\n  const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n  function append(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += arguments[i] + strings[i];\n    }\n  }\n  function appendRound(digits) {\n    let d = Math.floor(digits);\n    if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n    if (d > 15) return append;\n    const k = 10 ** d;\n    return function (strings) {\n      this._ += strings[0];\n      for (let i = 1, n = strings.length; i < n; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  class Path {\n    constructor(digits) {\n      this._x0 = this._y0 =\n      // start of current subpath\n      this._x1 = this._y1 = null; // end of current subpath\n      this._ = \"\";\n      this._append = digits == null ? append : appendRound(digits);\n    }\n    moveTo(x, y) {\n      this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n    }\n    closePath() {\n      if (this._x1 !== null) {\n        this._x1 = this._x0, this._y1 = this._y0;\n        this._append`Z`;\n      }\n    }\n    lineTo(x, y) {\n      this._append`L${this._x1 = +x},${this._y1 = +y}`;\n    }\n    quadraticCurveTo(x1, y1, x, y) {\n      this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n    }\n    bezierCurveTo(x1, y1, x2, y2, x, y) {\n      this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n    }\n    arcTo(x1, y1, x2, y2, r) {\n      x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n      // Is the radius negative? Error.\n      if (r < 0) throw new Error(`negative radius: ${r}`);\n      let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n      // Is this path empty? Move to (x1,y1).\n      if (this._x1 === null) {\n        this._append`M${this._x1 = x1},${this._y1 = y1}`;\n      }\n\n      // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n      else if (!(l01_2 > epsilon)) ;\n\n      // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n      // Equivalently, is (x1,y1) coincident with (x2,y2)?\n      // Or, is the radius zero? Line to (x1,y1).\n      else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n        this._append`L${this._x1 = x1},${this._y1 = y1}`;\n      }\n\n      // Otherwise, draw an arc!\n      else {\n        let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n        // If the start tangent is not coincident with (x0,y0), line to.\n        if (Math.abs(t01 - 1) > epsilon) {\n          this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n        }\n        this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n      }\n    }\n    arc(x, y, r, a0, a1, ccw) {\n      x = +x, y = +y, r = +r, ccw = !!ccw;\n\n      // Is the radius negative? Error.\n      if (r < 0) throw new Error(`negative radius: ${r}`);\n      let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n      // Is this path empty? Move to (x0,y0).\n      if (this._x1 === null) {\n        this._append`M${x0},${y0}`;\n      }\n\n      // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n      else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n        this._append`L${x0},${y0}`;\n      }\n\n      // Is this arc empty? We\u2019re done.\n      if (!r) return;\n\n      // Does the angle go the wrong way? Flip the direction.\n      if (da < 0) da = da % tau + tau;\n\n      // Is this a complete circle? Draw two arcs to complete the circle.\n      if (da > tauEpsilon) {\n        this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n      }\n\n      // Is this arc non-empty? Draw an arc!\n      else if (da > epsilon) {\n        this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n      }\n    }\n    rect(x, y, w, h) {\n      this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n    }\n    toString() {\n      return this._;\n    }\n  }\n  function path$3() {\n    return new Path();\n  }\n\n  // Allow instanceof d3.path\n  path$3.prototype = Path.prototype;\n\n  function withPath(shape) {\n    let digits = 3;\n    shape.digits = function (_) {\n      if (!arguments.length) return digits;\n      if (_ == null) {\n        digits = null;\n      } else {\n        const d = Math.floor(_);\n        if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n        digits = d;\n      }\n      return shape;\n    };\n    return () => new Path(digits);\n  }\n\n  function arcInnerRadius(d) {\n    return d.innerRadius;\n  }\n  function arcOuterRadius(d) {\n    return d.outerRadius;\n  }\n  function arcStartAngle(d) {\n    return d.startAngle;\n  }\n  function arcEndAngle(d) {\n    return d.endAngle;\n  }\n  function arcPadAngle(d) {\n    return d && d.padAngle; // Note: optional!\n  }\n  function intersect$1(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var x10 = x1 - x0,\n      y10 = y1 - y0,\n      x32 = x3 - x2,\n      y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n    if (t * t < epsilon$1) return;\n    t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n    return [x0 + t * x10, y0 + t * y10];\n  }\n\n  // Compute perpendicular offset line of length rc.\n  // http://mathworld.wolfram.com/Circle-LineIntersection.html\n  function cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n    var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n    // Pick the closer of the two intersection points.\n    // TODO Is there a faster way to determine which intersection to use?\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n    return {\n      cx: cx0,\n      cy: cy0,\n      x01: -ox,\n      y01: -oy,\n      x11: cx0 * (r1 / r - 1),\n      y11: cy0 * (r1 / r - 1)\n    };\n  }\n  function d3_arc () {\n    var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n    function arc() {\n      var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n      if (!context) context = buffer = path();\n\n      // Ensure that the outer radius is always larger than the inner radius.\n      if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n      // Is it a point?\n      if (!(r1 > epsilon$1)) context.moveTo(0, 0);\n\n      // Or is it a circle or annulus?\n      else if (da > tau$1 - epsilon$1) {\n        context.moveTo(r1 * cos(a0), r1 * sin(a0));\n        context.arc(0, 0, r1, a0, a1, !cw);\n        if (r0 > epsilon$1) {\n          context.moveTo(r0 * cos(a1), r0 * sin(a1));\n          context.arc(0, 0, r0, a1, a0, cw);\n        }\n      }\n\n      // Or is it a circular or annular sector?\n      else {\n        var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = ap > epsilon$1 && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n        // Apply padding? Note that since r1 \u2265 r0, da1 \u2265 da0.\n        if (rp > epsilon$1) {\n          var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n          if ((da0 -= p0 * 2) > epsilon$1) p0 *= cw ? 1 : -1, a00 += p0, a10 -= p0;else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n          if ((da1 -= p1 * 2) > epsilon$1) p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n        }\n        var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n        // Apply rounded corners?\n        if (rc > epsilon$1) {\n          var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n          // Restrict the corner radius according to the sector angle. If this\n          // intersection fails, it\u2019s probably because the arc is too small, so\n          // disable the corner radius entirely.\n          if (da < pi$1) {\n            if (oc = intersect$1(x01, y01, x00, y00, x11, y11, x10, y10)) {\n              var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n              rc0 = min(rc, (r0 - lc) / (kc - 1));\n              rc1 = min(rc, (r1 - lc) / (kc + 1));\n            } else {\n              rc0 = rc1 = 0;\n            }\n          }\n        }\n\n        // Is the sector collapsed to a line?\n        if (!(da1 > epsilon$1)) context.moveTo(x01, y01);\n\n        // Does the sector\u2019s outer ring have rounded corners?\n        else if (rc1 > epsilon$1) {\n          t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n          t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n          context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n          // Have the corners merged?\n          if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n          // Otherwise, draw the two corners and the ring.\n          else {\n            context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n            context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n            context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n          }\n        }\n\n        // Or is the outer ring just a circular arc?\n        else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n        // Is there no inner ring, and it\u2019s a circular sector?\n        // Or perhaps it\u2019s an annular sector collapsed due to padding?\n        if (!(r0 > epsilon$1) || !(da0 > epsilon$1)) context.lineTo(x10, y10);\n\n        // Does the sector\u2019s inner ring (or point) have rounded corners?\n        else if (rc0 > epsilon$1) {\n          t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n          t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n          context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n          // Have the corners merged?\n          if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n          // Otherwise, draw the two corners and the ring.\n          else {\n            context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n            context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n            context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n          }\n        }\n\n        // Or is the inner ring just a circular arc?\n        else context.arc(0, 0, r0, a10, a00, cw);\n      }\n      context.closePath();\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n    arc.centroid = function () {\n      var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi$1 / 2;\n      return [cos(a) * r, sin(a) * r];\n    };\n    arc.innerRadius = function (_) {\n      return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n    };\n    arc.outerRadius = function (_) {\n      return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n    };\n    arc.cornerRadius = function (_) {\n      return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n    };\n    arc.padRadius = function (_) {\n      return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n    };\n    arc.startAngle = function (_) {\n      return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n    };\n    arc.endAngle = function (_) {\n      return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n    };\n    arc.padAngle = function (_) {\n      return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n    };\n    arc.context = function (_) {\n      return arguments.length ? (context = _ == null ? null : _, arc) : context;\n    };\n    return arc;\n  }\n\n  function array (x) {\n    return typeof x === \"object\" && \"length\" in x ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n  }\n\n  function Linear(context) {\n    this._context = context;\n  }\n  Linear.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._point = 0;\n    },\n    lineEnd: function () {\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n          break;\n        case 1:\n          this._point = 2;\n        // falls through\n        default:\n          this._context.lineTo(x, y);\n          break;\n      }\n    }\n  };\n  function curveLinear (context) {\n    return new Linear(context);\n  }\n\n  function x$1(p) {\n    return p[0];\n  }\n  function y$1(p) {\n    return p[1];\n  }\n\n  function d3_line (x, y) {\n    var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n    x = typeof x === \"function\" ? x : x === undefined ? x$1 : constant(x);\n    y = typeof y === \"function\" ? y : y === undefined ? y$1 : constant(y);\n    function line(data) {\n      var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n      if (context == null) output = curve(buffer = path());\n      for (i = 0; i <= n; ++i) {\n        if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n          if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n        }\n        if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n      }\n      if (buffer) return output = null, buffer + \"\" || null;\n    }\n    line.x = function (_) {\n      return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n    };\n    line.y = function (_) {\n      return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n    };\n    line.defined = function (_) {\n      return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n    };\n    line.curve = function (_) {\n      return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n    };\n    line.context = function (_) {\n      return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n    };\n    return line;\n  }\n\n  function d3_area (x0, y0, y1) {\n    var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n    x0 = typeof x0 === \"function\" ? x0 : x0 === undefined ? x$1 : constant(+x0);\n    y0 = typeof y0 === \"function\" ? y0 : y0 === undefined ? constant(0) : constant(+y0);\n    y1 = typeof y1 === \"function\" ? y1 : y1 === undefined ? y$1 : constant(+y1);\n    function area(data) {\n      var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n      if (context == null) output = curve(buffer = path());\n      for (i = 0; i <= n; ++i) {\n        if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n          if (defined0 = !defined0) {\n            j = i;\n            output.areaStart();\n            output.lineStart();\n          } else {\n            output.lineEnd();\n            output.lineStart();\n            for (k = i - 1; k >= j; --k) {\n              output.point(x0z[k], y0z[k]);\n            }\n            output.lineEnd();\n            output.areaEnd();\n          }\n        }\n        if (defined0) {\n          x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n          output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n        }\n      }\n      if (buffer) return output = null, buffer + \"\" || null;\n    }\n    function arealine() {\n      return d3_line().defined(defined).curve(curve).context(context);\n    }\n    area.x = function (_) {\n      return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n    };\n    area.x0 = function (_) {\n      return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n    };\n    area.x1 = function (_) {\n      return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n    };\n    area.y = function (_) {\n      return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n    };\n    area.y0 = function (_) {\n      return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n    };\n    area.y1 = function (_) {\n      return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n    };\n    area.lineX0 = area.lineY0 = function () {\n      return arealine().x(x0).y(y0);\n    };\n    area.lineY1 = function () {\n      return arealine().x(x0).y(y1);\n    };\n    area.lineX1 = function () {\n      return arealine().x(x1).y(y0);\n    };\n    area.defined = function (_) {\n      return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n    };\n    area.curve = function (_) {\n      return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n    };\n    area.context = function (_) {\n      return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n    };\n    return area;\n  }\n\n  var circle = {\n    draw(context, size) {\n      const r = sqrt(size / pi$1);\n      context.moveTo(r, 0);\n      context.arc(0, 0, r, 0, tau$1);\n    }\n  };\n\n  function Symbol(type, size) {\n    let context = null,\n      path = withPath(symbol);\n    type = typeof type === \"function\" ? type : constant(type || circle);\n    size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n    function symbol() {\n      let buffer;\n      if (!context) context = buffer = path();\n      type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n      if (buffer) return context = null, buffer + \"\" || null;\n    }\n    symbol.type = function (_) {\n      return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n    };\n    symbol.size = function (_) {\n      return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n    };\n    symbol.context = function (_) {\n      return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n    };\n    return symbol;\n  }\n\n  function noop () {}\n\n  function point$4(that, x, y) {\n    that._context.bezierCurveTo((2 * that._x0 + that._x1) / 3, (2 * that._y0 + that._y1) / 3, (that._x0 + 2 * that._x1) / 3, (that._y0 + 2 * that._y1) / 3, (that._x0 + 4 * that._x1 + x) / 6, (that._y0 + 4 * that._y1 + y) / 6);\n  }\n  function Basis(context) {\n    this._context = context;\n  }\n  Basis.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function () {\n      switch (this._point) {\n        case 3:\n          point$4(this, this._x1, this._y1);\n        // falls through\n        case 2:\n          this._context.lineTo(this._x1, this._y1);\n          break;\n      }\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n          break;\n        case 1:\n          this._point = 2;\n          break;\n        case 2:\n          this._point = 3;\n          this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);\n        // falls through\n        default:\n          point$4(this, x, y);\n          break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n  function curveBasis (context) {\n    return new Basis(context);\n  }\n\n  function BasisClosed(context) {\n    this._context = context;\n  }\n  BasisClosed.prototype = {\n    areaStart: noop,\n    areaEnd: noop,\n    lineStart: function () {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function () {\n      switch (this._point) {\n        case 1:\n          {\n            this._context.moveTo(this._x2, this._y2);\n            this._context.closePath();\n            break;\n          }\n        case 2:\n          {\n            this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n            this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n            this._context.closePath();\n            break;\n          }\n        case 3:\n          {\n            this.point(this._x2, this._y2);\n            this.point(this._x3, this._y3);\n            this.point(this._x4, this._y4);\n            break;\n          }\n      }\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._x2 = x, this._y2 = y;\n          break;\n        case 1:\n          this._point = 2;\n          this._x3 = x, this._y3 = y;\n          break;\n        case 2:\n          this._point = 3;\n          this._x4 = x, this._y4 = y;\n          this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6);\n          break;\n        default:\n          point$4(this, x, y);\n          break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n  function curveBasisClosed (context) {\n    return new BasisClosed(context);\n  }\n\n  function BasisOpen(context) {\n    this._context = context;\n  }\n  BasisOpen.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function () {\n      if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          break;\n        case 1:\n          this._point = 2;\n          break;\n        case 2:\n          this._point = 3;\n          var x0 = (this._x0 + 4 * this._x1 + x) / 6,\n            y0 = (this._y0 + 4 * this._y1 + y) / 6;\n          this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0);\n          break;\n        case 3:\n          this._point = 4;\n        // falls through\n        default:\n          point$4(this, x, y);\n          break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n    }\n  };\n  function curveBasisOpen (context) {\n    return new BasisOpen(context);\n  }\n\n  function Bundle(context, beta) {\n    this._basis = new Basis(context);\n    this._beta = beta;\n  }\n  Bundle.prototype = {\n    lineStart: function () {\n      this._x = [];\n      this._y = [];\n      this._basis.lineStart();\n    },\n    lineEnd: function () {\n      var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n      if (j > 0) {\n        var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n        while (++i <= j) {\n          t = i / j;\n          this._basis.point(this._beta * x[i] + (1 - this._beta) * (x0 + t * dx), this._beta * y[i] + (1 - this._beta) * (y0 + t * dy));\n        }\n      }\n      this._x = this._y = null;\n      this._basis.lineEnd();\n    },\n    point: function (x, y) {\n      this._x.push(+x);\n      this._y.push(+y);\n    }\n  };\n  var curveBundle = (function custom(beta) {\n    function bundle(context) {\n      return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n    }\n    bundle.beta = function (beta) {\n      return custom(+beta);\n    };\n    return bundle;\n  })(0.85);\n\n  function point$3(that, x, y) {\n    that._context.bezierCurveTo(that._x1 + that._k * (that._x2 - that._x0), that._y1 + that._k * (that._y2 - that._y0), that._x2 + that._k * (that._x1 - x), that._y2 + that._k * (that._y1 - y), that._x2, that._y2);\n  }\n  function Cardinal(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n  Cardinal.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function () {\n      switch (this._point) {\n        case 2:\n          this._context.lineTo(this._x2, this._y2);\n          break;\n        case 3:\n          point$3(this, this._x1, this._y1);\n          break;\n      }\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n          break;\n        case 1:\n          this._point = 2;\n          this._x1 = x, this._y1 = y;\n          break;\n        case 2:\n          this._point = 3;\n        // falls through\n        default:\n          point$3(this, x, y);\n          break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n  var curveCardinal = (function custom(tension) {\n    function cardinal(context) {\n      return new Cardinal(context, tension);\n    }\n    cardinal.tension = function (tension) {\n      return custom(+tension);\n    };\n    return cardinal;\n  })(0);\n\n  function CardinalClosed(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n  CardinalClosed.prototype = {\n    areaStart: noop,\n    areaEnd: noop,\n    lineStart: function () {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function () {\n      switch (this._point) {\n        case 1:\n          {\n            this._context.moveTo(this._x3, this._y3);\n            this._context.closePath();\n            break;\n          }\n        case 2:\n          {\n            this._context.lineTo(this._x3, this._y3);\n            this._context.closePath();\n            break;\n          }\n        case 3:\n          {\n            this.point(this._x3, this._y3);\n            this.point(this._x4, this._y4);\n            this.point(this._x5, this._y5);\n            break;\n          }\n      }\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._x3 = x, this._y3 = y;\n          break;\n        case 1:\n          this._point = 2;\n          this._context.moveTo(this._x4 = x, this._y4 = y);\n          break;\n        case 2:\n          this._point = 3;\n          this._x5 = x, this._y5 = y;\n          break;\n        default:\n          point$3(this, x, y);\n          break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n  var curveCardinalClosed = (function custom(tension) {\n    function cardinal(context) {\n      return new CardinalClosed(context, tension);\n    }\n    cardinal.tension = function (tension) {\n      return custom(+tension);\n    };\n    return cardinal;\n  })(0);\n\n  function CardinalOpen(context, tension) {\n    this._context = context;\n    this._k = (1 - tension) / 6;\n  }\n  CardinalOpen.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function () {\n      if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          break;\n        case 1:\n          this._point = 2;\n          break;\n        case 2:\n          this._point = 3;\n          this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n          break;\n        case 3:\n          this._point = 4;\n        // falls through\n        default:\n          point$3(this, x, y);\n          break;\n      }\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n  var curveCardinalOpen = (function custom(tension) {\n    function cardinal(context) {\n      return new CardinalOpen(context, tension);\n    }\n    cardinal.tension = function (tension) {\n      return custom(+tension);\n    };\n    return cardinal;\n  })(0);\n\n  function point$2(that, x, y) {\n    var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n    if (that._l01_a > epsilon$1) {\n      var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n      x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n      y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n    }\n    if (that._l23_a > epsilon$1) {\n      var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n      x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n      y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n    }\n    that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n  }\n  function CatmullRom(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n  CatmullRom.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n      this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n    },\n    lineEnd: function () {\n      switch (this._point) {\n        case 2:\n          this._context.lineTo(this._x2, this._y2);\n          break;\n        case 3:\n          this.point(this._x2, this._y2);\n          break;\n      }\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      if (this._point) {\n        var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n          break;\n        case 1:\n          this._point = 2;\n          break;\n        case 2:\n          this._point = 3;\n        // falls through\n        default:\n          point$2(this, x, y);\n          break;\n      }\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n  var curveCatmullRom = (function custom(alpha) {\n    function catmullRom(context) {\n      return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n    }\n    catmullRom.alpha = function (alpha) {\n      return custom(+alpha);\n    };\n    return catmullRom;\n  })(0.5);\n\n  function CatmullRomClosed(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n  CatmullRomClosed.prototype = {\n    areaStart: noop,\n    areaEnd: noop,\n    lineStart: function () {\n      this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n      this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n    },\n    lineEnd: function () {\n      switch (this._point) {\n        case 1:\n          {\n            this._context.moveTo(this._x3, this._y3);\n            this._context.closePath();\n            break;\n          }\n        case 2:\n          {\n            this._context.lineTo(this._x3, this._y3);\n            this._context.closePath();\n            break;\n          }\n        case 3:\n          {\n            this.point(this._x3, this._y3);\n            this.point(this._x4, this._y4);\n            this.point(this._x5, this._y5);\n            break;\n          }\n      }\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      if (this._point) {\n        var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._x3 = x, this._y3 = y;\n          break;\n        case 1:\n          this._point = 2;\n          this._context.moveTo(this._x4 = x, this._y4 = y);\n          break;\n        case 2:\n          this._point = 3;\n          this._x5 = x, this._y5 = y;\n          break;\n        default:\n          point$2(this, x, y);\n          break;\n      }\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n  var curveCatmullRomClosed = (function custom(alpha) {\n    function catmullRom(context) {\n      return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n    }\n    catmullRom.alpha = function (alpha) {\n      return custom(+alpha);\n    };\n    return catmullRom;\n  })(0.5);\n\n  function CatmullRomOpen(context, alpha) {\n    this._context = context;\n    this._alpha = alpha;\n  }\n  CatmullRomOpen.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n      this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n    },\n    lineEnd: function () {\n      if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      if (this._point) {\n        var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n        this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n      }\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          break;\n        case 1:\n          this._point = 2;\n          break;\n        case 2:\n          this._point = 3;\n          this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n          break;\n        case 3:\n          this._point = 4;\n        // falls through\n        default:\n          point$2(this, x, y);\n          break;\n      }\n      this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n      this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n      this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n      this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n    }\n  };\n  var curveCatmullRomOpen = (function custom(alpha) {\n    function catmullRom(context) {\n      return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n    }\n    catmullRom.alpha = function (alpha) {\n      return custom(+alpha);\n    };\n    return catmullRom;\n  })(0.5);\n\n  function LinearClosed(context) {\n    this._context = context;\n  }\n  LinearClosed.prototype = {\n    areaStart: noop,\n    areaEnd: noop,\n    lineStart: function () {\n      this._point = 0;\n    },\n    lineEnd: function () {\n      if (this._point) this._context.closePath();\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      if (this._point) this._context.lineTo(x, y);else this._point = 1, this._context.moveTo(x, y);\n    }\n  };\n  function curveLinearClosed (context) {\n    return new LinearClosed(context);\n  }\n\n  function sign(x) {\n    return x < 0 ? -1 : 1;\n  }\n\n  // Calculate the slopes of the tangents (Hermite-type interpolation) based on\n  // the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n  // Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n  // NOV(II), P. 443, 1990.\n  function slope3(that, x2, y2) {\n    var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n    return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n  }\n\n  // Calculate a one-sided slope.\n  function slope2(that, t) {\n    var h = that._x1 - that._x0;\n    return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n  }\n\n  // According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n  // \"you can express cubic Hermite interpolation in terms of cubic B\u00e9zier curves\n  // with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\n  function point$1(that, t0, t1) {\n    var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n    that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n  }\n  function MonotoneX(context) {\n    this._context = context;\n  }\n  MonotoneX.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n      this._point = 0;\n    },\n    lineEnd: function () {\n      switch (this._point) {\n        case 2:\n          this._context.lineTo(this._x1, this._y1);\n          break;\n        case 3:\n          point$1(this, this._t0, slope2(this, this._t0));\n          break;\n      }\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      var t1 = NaN;\n      x = +x, y = +y;\n      if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n          break;\n        case 1:\n          this._point = 2;\n          break;\n        case 2:\n          this._point = 3;\n          point$1(this, slope2(this, t1 = slope3(this, x, y)), t1);\n          break;\n        default:\n          point$1(this, this._t0, t1 = slope3(this, x, y));\n          break;\n      }\n      this._x0 = this._x1, this._x1 = x;\n      this._y0 = this._y1, this._y1 = y;\n      this._t0 = t1;\n    }\n  };\n  function MonotoneY(context) {\n    this._context = new ReflectContext(context);\n  }\n  (MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n    MonotoneX.prototype.point.call(this, y, x);\n  };\n  function ReflectContext(context) {\n    this._context = context;\n  }\n  ReflectContext.prototype = {\n    moveTo: function (x, y) {\n      this._context.moveTo(y, x);\n    },\n    closePath: function () {\n      this._context.closePath();\n    },\n    lineTo: function (x, y) {\n      this._context.lineTo(y, x);\n    },\n    bezierCurveTo: function (x1, y1, x2, y2, x, y) {\n      this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n    }\n  };\n  function monotoneX(context) {\n    return new MonotoneX(context);\n  }\n  function monotoneY(context) {\n    return new MonotoneY(context);\n  }\n\n  function Natural(context) {\n    this._context = context;\n  }\n  Natural.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x = [];\n      this._y = [];\n    },\n    lineEnd: function () {\n      var x = this._x,\n        y = this._y,\n        n = x.length;\n      if (n) {\n        this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n        if (n === 2) {\n          this._context.lineTo(x[1], y[1]);\n        } else {\n          var px = controlPoints(x),\n            py = controlPoints(y);\n          for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n            this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n          }\n        }\n      }\n      if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n      this._line = 1 - this._line;\n      this._x = this._y = null;\n    },\n    point: function (x, y) {\n      this._x.push(+x);\n      this._y.push(+y);\n    }\n  };\n\n  // See https://www.particleincell.com/2012/bezier-splines/ for derivation.\n  function controlPoints(x) {\n    var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n    a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n    for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n    a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n    for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n    a[n - 1] = r[n - 1] / b[n - 1];\n    for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n    b[n - 1] = (x[n] + a[n - 1]) / 2;\n    for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n    return [a, b];\n  }\n  function curveNatural (context) {\n    return new Natural(context);\n  }\n\n  function Step(context, t) {\n    this._context = context;\n    this._t = t;\n  }\n  Step.prototype = {\n    areaStart: function () {\n      this._line = 0;\n    },\n    areaEnd: function () {\n      this._line = NaN;\n    },\n    lineStart: function () {\n      this._x = this._y = NaN;\n      this._point = 0;\n    },\n    lineEnd: function () {\n      if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n      if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n      if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n    },\n    point: function (x, y) {\n      x = +x, y = +y;\n      switch (this._point) {\n        case 0:\n          this._point = 1;\n          this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n          break;\n        case 1:\n          this._point = 2;\n        // falls through\n        default:\n          {\n            if (this._t <= 0) {\n              this._context.lineTo(this._x, y);\n              this._context.lineTo(x, y);\n            } else {\n              var x1 = this._x * (1 - this._t) + x * this._t;\n              this._context.lineTo(x1, this._y);\n              this._context.lineTo(x1, y);\n            }\n            break;\n          }\n      }\n      this._x = x, this._y = y;\n    }\n  };\n  function curveStep (context) {\n    return new Step(context, 0.5);\n  }\n  function stepBefore(context) {\n    return new Step(context, 0);\n  }\n  function stepAfter(context) {\n    return new Step(context, 1);\n  }\n\n  const lookup = {\n    'basis': {\n      curve: curveBasis\n    },\n    'basis-closed': {\n      curve: curveBasisClosed\n    },\n    'basis-open': {\n      curve: curveBasisOpen\n    },\n    'bundle': {\n      curve: curveBundle,\n      tension: 'beta',\n      value: 0.85\n    },\n    'cardinal': {\n      curve: curveCardinal,\n      tension: 'tension',\n      value: 0\n    },\n    'cardinal-open': {\n      curve: curveCardinalOpen,\n      tension: 'tension',\n      value: 0\n    },\n    'cardinal-closed': {\n      curve: curveCardinalClosed,\n      tension: 'tension',\n      value: 0\n    },\n    'catmull-rom': {\n      curve: curveCatmullRom,\n      tension: 'alpha',\n      value: 0.5\n    },\n    'catmull-rom-closed': {\n      curve: curveCatmullRomClosed,\n      tension: 'alpha',\n      value: 0.5\n    },\n    'catmull-rom-open': {\n      curve: curveCatmullRomOpen,\n      tension: 'alpha',\n      value: 0.5\n    },\n    'linear': {\n      curve: curveLinear\n    },\n    'linear-closed': {\n      curve: curveLinearClosed\n    },\n    'monotone': {\n      horizontal: monotoneY,\n      vertical: monotoneX\n    },\n    'natural': {\n      curve: curveNatural\n    },\n    'step': {\n      curve: curveStep\n    },\n    'step-after': {\n      curve: stepAfter\n    },\n    'step-before': {\n      curve: stepBefore\n    }\n  };\n  function curves(type, orientation, tension) {\n    var entry = vegaUtil.hasOwnProperty(lookup, type) && lookup[type],\n      curve = null;\n    if (entry) {\n      curve = entry.curve || entry[orientation || 'vertical'];\n      if (entry.tension && tension != null) {\n        curve = curve[entry.tension](tension);\n      }\n    }\n    return curve;\n  }\n\n  const paramCounts = {\n    m: 2,\n    l: 2,\n    h: 1,\n    v: 1,\n    z: 0,\n    c: 6,\n    s: 4,\n    q: 4,\n    t: 2,\n    a: 7\n  };\n  const commandPattern = /[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi;\n  const numberPattern = /^[+-]?(([0-9]*\\.[0-9]+)|([0-9]+\\.)|([0-9]+))([eE][+-]?[0-9]+)?/;\n  const spacePattern = /^((\\s+,?\\s*)|(,\\s*))/;\n  const flagPattern = /^[01]/;\n  function parse(path) {\n    const commands = [];\n    const matches = path.match(commandPattern) || [];\n    matches.forEach(str => {\n      let cmd = str[0];\n      const type = cmd.toLowerCase();\n\n      // parse parameters\n      const paramCount = paramCounts[type];\n      const params = parseParams(type, paramCount, str.slice(1).trim());\n      const count = params.length;\n\n      // error checking based on parameter count\n      if (count < paramCount || count && count % paramCount !== 0) {\n        throw Error('Invalid SVG path, incorrect parameter count');\n      }\n\n      // register the command\n      commands.push([cmd, ...params.slice(0, paramCount)]);\n\n      // exit now if we're done, also handles zero-param 'z'\n      if (count === paramCount) {\n        return;\n      }\n\n      // handle implicit line-to\n      if (type === 'm') {\n        cmd = cmd === 'M' ? 'L' : 'l';\n      }\n\n      // repeat command when given extended param list\n      for (let i = paramCount; i < count; i += paramCount) {\n        commands.push([cmd, ...params.slice(i, i + paramCount)]);\n      }\n    });\n    return commands;\n  }\n  function parseParams(type, paramCount, segment) {\n    const params = [];\n    for (let index = 0; paramCount && index < segment.length;) {\n      for (let i = 0; i < paramCount; ++i) {\n        const pattern = type === 'a' && (i === 3 || i === 4) ? flagPattern : numberPattern;\n        const match = segment.slice(index).match(pattern);\n        if (match === null) {\n          throw Error('Invalid SVG path, incorrect parameter type');\n        }\n        index += match[0].length;\n        params.push(+match[0]);\n        const ws = segment.slice(index).match(spacePattern);\n        if (ws !== null) {\n          index += ws[0].length;\n        }\n      }\n    }\n    return params;\n  }\n\n  const DegToRad = Math.PI / 180;\n  const Epsilon = 1e-14;\n  const HalfPi = Math.PI / 2;\n  const Tau = Math.PI * 2;\n  const HalfSqrt3 = Math.sqrt(3) / 2;\n\n  var segmentCache = {};\n  var bezierCache = {};\n  var join = [].join;\n\n  // Copied from Inkscape svgtopdf, thanks!\n  function segments(x, y, rx, ry, large, sweep, rotateX, ox, oy) {\n    const key = join.call(arguments);\n    if (segmentCache[key]) {\n      return segmentCache[key];\n    }\n    const th = rotateX * DegToRad;\n    const sin_th = Math.sin(th);\n    const cos_th = Math.cos(th);\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n    const px = cos_th * (ox - x) * 0.5 + sin_th * (oy - y) * 0.5;\n    const py = cos_th * (oy - y) * 0.5 - sin_th * (ox - x) * 0.5;\n    let pl = px * px / (rx * rx) + py * py / (ry * ry);\n    if (pl > 1) {\n      pl = Math.sqrt(pl);\n      rx *= pl;\n      ry *= pl;\n    }\n    const a00 = cos_th / rx;\n    const a01 = sin_th / rx;\n    const a10 = -sin_th / ry;\n    const a11 = cos_th / ry;\n    const x0 = a00 * ox + a01 * oy;\n    const y0 = a10 * ox + a11 * oy;\n    const x1 = a00 * x + a01 * y;\n    const y1 = a10 * x + a11 * y;\n    const d = (x1 - x0) * (x1 - x0) + (y1 - y0) * (y1 - y0);\n    let sfactor_sq = 1 / d - 0.25;\n    if (sfactor_sq < 0) sfactor_sq = 0;\n    let sfactor = Math.sqrt(sfactor_sq);\n    if (sweep == large) sfactor = -sfactor;\n    const xc = 0.5 * (x0 + x1) - sfactor * (y1 - y0);\n    const yc = 0.5 * (y0 + y1) + sfactor * (x1 - x0);\n    const th0 = Math.atan2(y0 - yc, x0 - xc);\n    const th1 = Math.atan2(y1 - yc, x1 - xc);\n    let th_arc = th1 - th0;\n    if (th_arc < 0 && sweep === 1) {\n      th_arc += Tau;\n    } else if (th_arc > 0 && sweep === 0) {\n      th_arc -= Tau;\n    }\n    const segs = Math.ceil(Math.abs(th_arc / (HalfPi + 0.001)));\n    const result = [];\n    for (let i = 0; i < segs; ++i) {\n      const th2 = th0 + i * th_arc / segs;\n      const th3 = th0 + (i + 1) * th_arc / segs;\n      result[i] = [xc, yc, th2, th3, rx, ry, sin_th, cos_th];\n    }\n    return segmentCache[key] = result;\n  }\n  function bezier(params) {\n    const key = join.call(params);\n    if (bezierCache[key]) {\n      return bezierCache[key];\n    }\n    var cx = params[0],\n      cy = params[1],\n      th0 = params[2],\n      th1 = params[3],\n      rx = params[4],\n      ry = params[5],\n      sin_th = params[6],\n      cos_th = params[7];\n    const a00 = cos_th * rx;\n    const a01 = -sin_th * ry;\n    const a10 = sin_th * rx;\n    const a11 = cos_th * ry;\n    const cos_th0 = Math.cos(th0);\n    const sin_th0 = Math.sin(th0);\n    const cos_th1 = Math.cos(th1);\n    const sin_th1 = Math.sin(th1);\n    const th_half = 0.5 * (th1 - th0);\n    const sin_th_h2 = Math.sin(th_half * 0.5);\n    const t = 8 / 3 * sin_th_h2 * sin_th_h2 / Math.sin(th_half);\n    const x1 = cx + cos_th0 - t * sin_th0;\n    const y1 = cy + sin_th0 + t * cos_th0;\n    const x3 = cx + cos_th1;\n    const y3 = cy + sin_th1;\n    const x2 = x3 + t * sin_th1;\n    const y2 = y3 - t * cos_th1;\n    return bezierCache[key] = [a00 * x1 + a01 * y1, a10 * x1 + a11 * y1, a00 * x2 + a01 * y2, a10 * x2 + a11 * y2, a00 * x3 + a01 * y3, a10 * x3 + a11 * y3];\n  }\n\n  const temp = ['l', 0, 0, 0, 0, 0, 0, 0];\n  function scale$1(current, sX, sY) {\n    const c = temp[0] = current[0];\n    if (c === 'a' || c === 'A') {\n      temp[1] = sX * current[1];\n      temp[2] = sY * current[2];\n      temp[3] = current[3];\n      temp[4] = current[4];\n      temp[5] = current[5];\n      temp[6] = sX * current[6];\n      temp[7] = sY * current[7];\n    } else if (c === 'h' || c === 'H') {\n      temp[1] = sX * current[1];\n    } else if (c === 'v' || c === 'V') {\n      temp[1] = sY * current[1];\n    } else {\n      for (var i = 1, n = current.length; i < n; ++i) {\n        temp[i] = (i % 2 == 1 ? sX : sY) * current[i];\n      }\n    }\n    return temp;\n  }\n  function pathRender (context, path, l, t, sX, sY) {\n    var current,\n      // current instruction\n      previous = null,\n      x = 0,\n      // current x\n      y = 0,\n      // current y\n      controlX = 0,\n      // current control point x\n      controlY = 0,\n      // current control point y\n      tempX,\n      tempY,\n      tempControlX,\n      tempControlY,\n      anchorX = 0,\n      anchorY = 0;\n    if (l == null) l = 0;\n    if (t == null) t = 0;\n    if (sX == null) sX = 1;\n    if (sY == null) sY = sX;\n    if (context.beginPath) context.beginPath();\n    for (var i = 0, len = path.length; i < len; ++i) {\n      current = path[i];\n      if (sX !== 1 || sY !== 1) {\n        current = scale$1(current, sX, sY);\n      }\n      switch (current[0]) {\n        // first letter\n\n        case 'l':\n          // lineto, relative\n          x += current[1];\n          y += current[2];\n          context.lineTo(x + l, y + t);\n          break;\n        case 'L':\n          // lineto, absolute\n          x = current[1];\n          y = current[2];\n          context.lineTo(x + l, y + t);\n          break;\n        case 'h':\n          // horizontal lineto, relative\n          x += current[1];\n          context.lineTo(x + l, y + t);\n          break;\n        case 'H':\n          // horizontal lineto, absolute\n          x = current[1];\n          context.lineTo(x + l, y + t);\n          break;\n        case 'v':\n          // vertical lineto, relative\n          y += current[1];\n          context.lineTo(x + l, y + t);\n          break;\n        case 'V':\n          // verical lineto, absolute\n          y = current[1];\n          context.lineTo(x + l, y + t);\n          break;\n        case 'm':\n          // moveTo, relative\n          x += current[1];\n          y += current[2];\n          anchorX = x;\n          anchorY = y;\n          context.moveTo(x + l, y + t);\n          break;\n        case 'M':\n          // moveTo, absolute\n          x = current[1];\n          y = current[2];\n          anchorX = x;\n          anchorY = y;\n          context.moveTo(x + l, y + t);\n          break;\n        case 'c':\n          // bezierCurveTo, relative\n          tempX = x + current[5];\n          tempY = y + current[6];\n          controlX = x + current[3];\n          controlY = y + current[4];\n          context.bezierCurveTo(x + current[1] + l,\n          // x1\n          y + current[2] + t,\n          // y1\n          controlX + l,\n          // x2\n          controlY + t,\n          // y2\n          tempX + l, tempY + t);\n          x = tempX;\n          y = tempY;\n          break;\n        case 'C':\n          // bezierCurveTo, absolute\n          x = current[5];\n          y = current[6];\n          controlX = current[3];\n          controlY = current[4];\n          context.bezierCurveTo(current[1] + l, current[2] + t, controlX + l, controlY + t, x + l, y + t);\n          break;\n        case 's':\n          // shorthand cubic bezierCurveTo, relative\n          // transform to absolute x,y\n          tempX = x + current[3];\n          tempY = y + current[4];\n          // calculate reflection of previous control points\n          controlX = 2 * x - controlX;\n          controlY = 2 * y - controlY;\n          context.bezierCurveTo(controlX + l, controlY + t, x + current[1] + l, y + current[2] + t, tempX + l, tempY + t);\n\n          // set control point to 2nd one of this command\n          // the first control point is assumed to be the reflection of\n          // the second control point on the previous command relative\n          // to the current point.\n          controlX = x + current[1];\n          controlY = y + current[2];\n          x = tempX;\n          y = tempY;\n          break;\n        case 'S':\n          // shorthand cubic bezierCurveTo, absolute\n          tempX = current[3];\n          tempY = current[4];\n          // calculate reflection of previous control points\n          controlX = 2 * x - controlX;\n          controlY = 2 * y - controlY;\n          context.bezierCurveTo(controlX + l, controlY + t, current[1] + l, current[2] + t, tempX + l, tempY + t);\n          x = tempX;\n          y = tempY;\n          // set control point to 2nd one of this command\n          // the first control point is assumed to be the reflection of\n          // the second control point on the previous command relative\n          // to the current point.\n          controlX = current[1];\n          controlY = current[2];\n          break;\n        case 'q':\n          // quadraticCurveTo, relative\n          // transform to absolute x,y\n          tempX = x + current[3];\n          tempY = y + current[4];\n          controlX = x + current[1];\n          controlY = y + current[2];\n          context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n          x = tempX;\n          y = tempY;\n          break;\n        case 'Q':\n          // quadraticCurveTo, absolute\n          tempX = current[3];\n          tempY = current[4];\n          context.quadraticCurveTo(current[1] + l, current[2] + t, tempX + l, tempY + t);\n          x = tempX;\n          y = tempY;\n          controlX = current[1];\n          controlY = current[2];\n          break;\n        case 't':\n          // shorthand quadraticCurveTo, relative\n\n          // transform to absolute x,y\n          tempX = x + current[1];\n          tempY = y + current[2];\n          if (previous[0].match(/[QqTt]/) === null) {\n            // If there is no previous command or if the previous command was not a Q, q, T or t,\n            // assume the control point is coincident with the current point\n            controlX = x;\n            controlY = y;\n          } else if (previous[0] === 't') {\n            // calculate reflection of previous control points for t\n            controlX = 2 * x - tempControlX;\n            controlY = 2 * y - tempControlY;\n          } else if (previous[0] === 'q') {\n            // calculate reflection of previous control points for q\n            controlX = 2 * x - controlX;\n            controlY = 2 * y - controlY;\n          }\n          tempControlX = controlX;\n          tempControlY = controlY;\n          context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n          x = tempX;\n          y = tempY;\n          controlX = x + current[1];\n          controlY = y + current[2];\n          break;\n        case 'T':\n          tempX = current[1];\n          tempY = current[2];\n\n          // calculate reflection of previous control points\n          controlX = 2 * x - controlX;\n          controlY = 2 * y - controlY;\n          context.quadraticCurveTo(controlX + l, controlY + t, tempX + l, tempY + t);\n          x = tempX;\n          y = tempY;\n          break;\n        case 'a':\n          drawArc(context, x + l, y + t, [current[1], current[2], current[3], current[4], current[5], current[6] + x + l, current[7] + y + t]);\n          x += current[6];\n          y += current[7];\n          break;\n        case 'A':\n          drawArc(context, x + l, y + t, [current[1], current[2], current[3], current[4], current[5], current[6] + l, current[7] + t]);\n          x = current[6];\n          y = current[7];\n          break;\n        case 'z':\n        case 'Z':\n          x = anchorX;\n          y = anchorY;\n          context.closePath();\n          break;\n      }\n      previous = current;\n    }\n  }\n  function drawArc(context, x, y, coords) {\n    const seg = segments(coords[5],\n    // end x\n    coords[6],\n    // end y\n    coords[0],\n    // radius x\n    coords[1],\n    // radius y\n    coords[3],\n    // large flag\n    coords[4],\n    // sweep flag\n    coords[2],\n    // rotation\n    x, y);\n    for (let i = 0; i < seg.length; ++i) {\n      const bez = bezier(seg[i]);\n      context.bezierCurveTo(bez[0], bez[1], bez[2], bez[3], bez[4], bez[5]);\n    }\n  }\n\n  const Tan30 = 0.5773502691896257;\n  const builtins = {\n    'circle': {\n      draw: function (context, size) {\n        const r = Math.sqrt(size) / 2;\n        context.moveTo(r, 0);\n        context.arc(0, 0, r, 0, Tau);\n      }\n    },\n    'cross': {\n      draw: function (context, size) {\n        var r = Math.sqrt(size) / 2,\n          s = r / 2.5;\n        context.moveTo(-r, -s);\n        context.lineTo(-r, s);\n        context.lineTo(-s, s);\n        context.lineTo(-s, r);\n        context.lineTo(s, r);\n        context.lineTo(s, s);\n        context.lineTo(r, s);\n        context.lineTo(r, -s);\n        context.lineTo(s, -s);\n        context.lineTo(s, -r);\n        context.lineTo(-s, -r);\n        context.lineTo(-s, -s);\n        context.closePath();\n      }\n    },\n    'diamond': {\n      draw: function (context, size) {\n        const r = Math.sqrt(size) / 2;\n        context.moveTo(-r, 0);\n        context.lineTo(0, -r);\n        context.lineTo(r, 0);\n        context.lineTo(0, r);\n        context.closePath();\n      }\n    },\n    'square': {\n      draw: function (context, size) {\n        var w = Math.sqrt(size),\n          x = -w / 2;\n        context.rect(x, x, w, w);\n      }\n    },\n    'arrow': {\n      draw: function (context, size) {\n        var r = Math.sqrt(size) / 2,\n          s = r / 7,\n          t = r / 2.5,\n          v = r / 8;\n        context.moveTo(-s, r);\n        context.lineTo(s, r);\n        context.lineTo(s, -v);\n        context.lineTo(t, -v);\n        context.lineTo(0, -r);\n        context.lineTo(-t, -v);\n        context.lineTo(-s, -v);\n        context.closePath();\n      }\n    },\n    'wedge': {\n      draw: function (context, size) {\n        var r = Math.sqrt(size) / 2,\n          h = HalfSqrt3 * r,\n          o = h - r * Tan30,\n          b = r / 4;\n        context.moveTo(0, -h - o);\n        context.lineTo(-b, h - o);\n        context.lineTo(b, h - o);\n        context.closePath();\n      }\n    },\n    'triangle': {\n      draw: function (context, size) {\n        var r = Math.sqrt(size) / 2,\n          h = HalfSqrt3 * r,\n          o = h - r * Tan30;\n        context.moveTo(0, -h - o);\n        context.lineTo(-r, h - o);\n        context.lineTo(r, h - o);\n        context.closePath();\n      }\n    },\n    'triangle-up': {\n      draw: function (context, size) {\n        var r = Math.sqrt(size) / 2,\n          h = HalfSqrt3 * r;\n        context.moveTo(0, -h);\n        context.lineTo(-r, h);\n        context.lineTo(r, h);\n        context.closePath();\n      }\n    },\n    'triangle-down': {\n      draw: function (context, size) {\n        var r = Math.sqrt(size) / 2,\n          h = HalfSqrt3 * r;\n        context.moveTo(0, h);\n        context.lineTo(-r, -h);\n        context.lineTo(r, -h);\n        context.closePath();\n      }\n    },\n    'triangle-right': {\n      draw: function (context, size) {\n        var r = Math.sqrt(size) / 2,\n          h = HalfSqrt3 * r;\n        context.moveTo(h, 0);\n        context.lineTo(-h, -r);\n        context.lineTo(-h, r);\n        context.closePath();\n      }\n    },\n    'triangle-left': {\n      draw: function (context, size) {\n        var r = Math.sqrt(size) / 2,\n          h = HalfSqrt3 * r;\n        context.moveTo(-h, 0);\n        context.lineTo(h, -r);\n        context.lineTo(h, r);\n        context.closePath();\n      }\n    },\n    'stroke': {\n      draw: function (context, size) {\n        const r = Math.sqrt(size) / 2;\n        context.moveTo(-r, 0);\n        context.lineTo(r, 0);\n      }\n    }\n  };\n  function symbols(_) {\n    return vegaUtil.hasOwnProperty(builtins, _) ? builtins[_] : customSymbol(_);\n  }\n  var custom = {};\n  function customSymbol(path) {\n    if (!vegaUtil.hasOwnProperty(custom, path)) {\n      const parsed = parse(path);\n      custom[path] = {\n        draw: function (context, size) {\n          pathRender(context, parsed, 0, 0, Math.sqrt(size) / 2);\n        }\n      };\n    }\n    return custom[path];\n  }\n\n  // See http://spencermortensen.com/articles/bezier-circle/\n  const C = 0.448084975506; // C = 1 - c\n\n  function rectangleX(d) {\n    return d.x;\n  }\n  function rectangleY(d) {\n    return d.y;\n  }\n  function rectangleWidth(d) {\n    return d.width;\n  }\n  function rectangleHeight(d) {\n    return d.height;\n  }\n  function number(_) {\n    return typeof _ === 'function' ? _ : () => +_;\n  }\n  function clamp(value, min, max) {\n    return Math.max(min, Math.min(value, max));\n  }\n  function vg_rect () {\n    var x = rectangleX,\n      y = rectangleY,\n      width = rectangleWidth,\n      height = rectangleHeight,\n      crTL = number(0),\n      crTR = crTL,\n      crBL = crTL,\n      crBR = crTL,\n      context = null;\n    function rectangle(_, x0, y0) {\n      var buffer,\n        x1 = x0 != null ? x0 : +x.call(this, _),\n        y1 = y0 != null ? y0 : +y.call(this, _),\n        w = +width.call(this, _),\n        h = +height.call(this, _),\n        s = Math.min(w, h) / 2,\n        tl = clamp(+crTL.call(this, _), 0, s),\n        tr = clamp(+crTR.call(this, _), 0, s),\n        bl = clamp(+crBL.call(this, _), 0, s),\n        br = clamp(+crBR.call(this, _), 0, s);\n      if (!context) context = buffer = path$3();\n      if (tl <= 0 && tr <= 0 && bl <= 0 && br <= 0) {\n        context.rect(x1, y1, w, h);\n      } else {\n        var x2 = x1 + w,\n          y2 = y1 + h;\n        context.moveTo(x1 + tl, y1);\n        context.lineTo(x2 - tr, y1);\n        context.bezierCurveTo(x2 - C * tr, y1, x2, y1 + C * tr, x2, y1 + tr);\n        context.lineTo(x2, y2 - br);\n        context.bezierCurveTo(x2, y2 - C * br, x2 - C * br, y2, x2 - br, y2);\n        context.lineTo(x1 + bl, y2);\n        context.bezierCurveTo(x1 + C * bl, y2, x1, y2 - C * bl, x1, y2 - bl);\n        context.lineTo(x1, y1 + tl);\n        context.bezierCurveTo(x1, y1 + C * tl, x1 + C * tl, y1, x1 + tl, y1);\n        context.closePath();\n      }\n      if (buffer) {\n        context = null;\n        return buffer + '' || null;\n      }\n    }\n    rectangle.x = function (_) {\n      if (arguments.length) {\n        x = number(_);\n        return rectangle;\n      } else {\n        return x;\n      }\n    };\n    rectangle.y = function (_) {\n      if (arguments.length) {\n        y = number(_);\n        return rectangle;\n      } else {\n        return y;\n      }\n    };\n    rectangle.width = function (_) {\n      if (arguments.length) {\n        width = number(_);\n        return rectangle;\n      } else {\n        return width;\n      }\n    };\n    rectangle.height = function (_) {\n      if (arguments.length) {\n        height = number(_);\n        return rectangle;\n      } else {\n        return height;\n      }\n    };\n    rectangle.cornerRadius = function (tl, tr, br, bl) {\n      if (arguments.length) {\n        crTL = number(tl);\n        crTR = tr != null ? number(tr) : crTL;\n        crBR = br != null ? number(br) : crTL;\n        crBL = bl != null ? number(bl) : crTR;\n        return rectangle;\n      } else {\n        return crTL;\n      }\n    };\n    rectangle.context = function (_) {\n      if (arguments.length) {\n        context = _ == null ? null : _;\n        return rectangle;\n      } else {\n        return context;\n      }\n    };\n    return rectangle;\n  }\n\n  function vg_trail () {\n    var x,\n      y,\n      size,\n      defined,\n      context = null,\n      ready,\n      x1,\n      y1,\n      r1;\n    function point(x2, y2, w2) {\n      const r2 = w2 / 2;\n      if (ready) {\n        var ux = y1 - y2,\n          uy = x2 - x1;\n        if (ux || uy) {\n          // get normal vector\n          var ud = Math.hypot(ux, uy),\n            rx = (ux /= ud) * r1,\n            ry = (uy /= ud) * r1,\n            t = Math.atan2(uy, ux);\n\n          // draw segment\n          context.moveTo(x1 - rx, y1 - ry);\n          context.lineTo(x2 - ux * r2, y2 - uy * r2);\n          context.arc(x2, y2, r2, t - Math.PI, t);\n          context.lineTo(x1 + rx, y1 + ry);\n          context.arc(x1, y1, r1, t, t + Math.PI);\n        } else {\n          context.arc(x2, y2, r2, 0, Tau);\n        }\n        context.closePath();\n      } else {\n        ready = 1;\n      }\n      x1 = x2;\n      y1 = y2;\n      r1 = r2;\n    }\n    function trail(data) {\n      var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n      if (context == null) context = buffer = path$3();\n      for (i = 0; i <= n; ++i) {\n        if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n          if (defined0 = !defined0) ready = 0;\n        }\n        if (defined0) point(+x(d, i, data), +y(d, i, data), +size(d, i, data));\n      }\n      if (buffer) {\n        context = null;\n        return buffer + '' || null;\n      }\n    }\n    trail.x = function (_) {\n      if (arguments.length) {\n        x = _;\n        return trail;\n      } else {\n        return x;\n      }\n    };\n    trail.y = function (_) {\n      if (arguments.length) {\n        y = _;\n        return trail;\n      } else {\n        return y;\n      }\n    };\n    trail.size = function (_) {\n      if (arguments.length) {\n        size = _;\n        return trail;\n      } else {\n        return size;\n      }\n    };\n    trail.defined = function (_) {\n      if (arguments.length) {\n        defined = _;\n        return trail;\n      } else {\n        return defined;\n      }\n    };\n    trail.context = function (_) {\n      if (arguments.length) {\n        if (_ == null) {\n          context = null;\n        } else {\n          context = _;\n        }\n        return trail;\n      } else {\n        return context;\n      }\n    };\n    return trail;\n  }\n\n  function value$1(a, b) {\n    return a != null ? a : b;\n  }\n  const x = item => item.x || 0,\n    y = item => item.y || 0,\n    w = item => item.width || 0,\n    h = item => item.height || 0,\n    xw = item => (item.x || 0) + (item.width || 0),\n    yh = item => (item.y || 0) + (item.height || 0),\n    sa = item => item.startAngle || 0,\n    ea = item => item.endAngle || 0,\n    pa = item => item.padAngle || 0,\n    ir = item => item.innerRadius || 0,\n    or = item => item.outerRadius || 0,\n    cr = item => item.cornerRadius || 0,\n    tl = item => value$1(item.cornerRadiusTopLeft, item.cornerRadius) || 0,\n    tr = item => value$1(item.cornerRadiusTopRight, item.cornerRadius) || 0,\n    br = item => value$1(item.cornerRadiusBottomRight, item.cornerRadius) || 0,\n    bl = item => value$1(item.cornerRadiusBottomLeft, item.cornerRadius) || 0,\n    sz = item => value$1(item.size, 64),\n    ts = item => item.size || 1,\n    def = item => !(item.defined === false),\n    type = item => symbols(item.shape || 'circle');\n  const arcShape = d3_arc().startAngle(sa).endAngle(ea).padAngle(pa).innerRadius(ir).outerRadius(or).cornerRadius(cr),\n    areavShape = d3_area().x(x).y1(y).y0(yh).defined(def),\n    areahShape = d3_area().y(y).x1(x).x0(xw).defined(def),\n    lineShape = d3_line().x(x).y(y).defined(def),\n    rectShape = vg_rect().x(x).y(y).width(w).height(h).cornerRadius(tl, tr, br, bl),\n    symbolShape = Symbol().type(type).size(sz),\n    trailShape = vg_trail().x(x).y(y).defined(def).size(ts);\n  function hasCornerRadius(item) {\n    return item.cornerRadius || item.cornerRadiusTopLeft || item.cornerRadiusTopRight || item.cornerRadiusBottomRight || item.cornerRadiusBottomLeft;\n  }\n  function arc$1(context, item) {\n    return arcShape.context(context)(item);\n  }\n  function area$1(context, items) {\n    const item = items[0],\n      interp = item.interpolate || 'linear';\n    return (item.orient === 'horizontal' ? areahShape : areavShape).curve(curves(interp, item.orient, item.tension)).context(context)(items);\n  }\n  function line$1(context, items) {\n    const item = items[0],\n      interp = item.interpolate || 'linear';\n    return lineShape.curve(curves(interp, item.orient, item.tension)).context(context)(items);\n  }\n  function rectangle(context, item, x, y) {\n    return rectShape.context(context)(item, x, y);\n  }\n  function shape$1(context, item) {\n    return (item.mark.shape || item.shape).context(context)(item);\n  }\n  function symbol$1(context, item) {\n    return symbolShape.context(context)(item);\n  }\n  function trail$1(context, items) {\n    return trailShape.context(context)(items);\n  }\n\n  var clip_id = 1;\n  function resetSVGClipId() {\n    clip_id = 1;\n  }\n  function clip$1 (renderer, item, size) {\n    var clip = item.clip,\n      defs = renderer._defs,\n      id = item.clip_id || (item.clip_id = 'clip' + clip_id++),\n      c = defs.clipping[id] || (defs.clipping[id] = {\n        id: id\n      });\n    if (vegaUtil.isFunction(clip)) {\n      c.path = clip(null);\n    } else if (hasCornerRadius(size)) {\n      c.path = rectangle(null, size, 0, 0);\n    } else {\n      c.width = size.width || 0;\n      c.height = size.height || 0;\n    }\n    return 'url(#' + id + ')';\n  }\n\n  function Bounds(b) {\n    this.clear();\n    if (b) this.union(b);\n  }\n  Bounds.prototype = {\n    clone() {\n      return new Bounds(this);\n    },\n    clear() {\n      this.x1 = +Number.MAX_VALUE;\n      this.y1 = +Number.MAX_VALUE;\n      this.x2 = -Number.MAX_VALUE;\n      this.y2 = -Number.MAX_VALUE;\n      return this;\n    },\n    empty() {\n      return this.x1 === +Number.MAX_VALUE && this.y1 === +Number.MAX_VALUE && this.x2 === -Number.MAX_VALUE && this.y2 === -Number.MAX_VALUE;\n    },\n    equals(b) {\n      return this.x1 === b.x1 && this.y1 === b.y1 && this.x2 === b.x2 && this.y2 === b.y2;\n    },\n    set(x1, y1, x2, y2) {\n      if (x2 < x1) {\n        this.x2 = x1;\n        this.x1 = x2;\n      } else {\n        this.x1 = x1;\n        this.x2 = x2;\n      }\n      if (y2 < y1) {\n        this.y2 = y1;\n        this.y1 = y2;\n      } else {\n        this.y1 = y1;\n        this.y2 = y2;\n      }\n      return this;\n    },\n    add(x, y) {\n      if (x < this.x1) this.x1 = x;\n      if (y < this.y1) this.y1 = y;\n      if (x > this.x2) this.x2 = x;\n      if (y > this.y2) this.y2 = y;\n      return this;\n    },\n    expand(d) {\n      this.x1 -= d;\n      this.y1 -= d;\n      this.x2 += d;\n      this.y2 += d;\n      return this;\n    },\n    round() {\n      this.x1 = Math.floor(this.x1);\n      this.y1 = Math.floor(this.y1);\n      this.x2 = Math.ceil(this.x2);\n      this.y2 = Math.ceil(this.y2);\n      return this;\n    },\n    scale(s) {\n      this.x1 *= s;\n      this.y1 *= s;\n      this.x2 *= s;\n      this.y2 *= s;\n      return this;\n    },\n    translate(dx, dy) {\n      this.x1 += dx;\n      this.x2 += dx;\n      this.y1 += dy;\n      this.y2 += dy;\n      return this;\n    },\n    rotate(angle, x, y) {\n      const p = this.rotatedPoints(angle, x, y);\n      return this.clear().add(p[0], p[1]).add(p[2], p[3]).add(p[4], p[5]).add(p[6], p[7]);\n    },\n    rotatedPoints(angle, x, y) {\n      var {\n          x1,\n          y1,\n          x2,\n          y2\n        } = this,\n        cos = Math.cos(angle),\n        sin = Math.sin(angle),\n        cx = x - x * cos + y * sin,\n        cy = y - x * sin - y * cos;\n      return [cos * x1 - sin * y1 + cx, sin * x1 + cos * y1 + cy, cos * x1 - sin * y2 + cx, sin * x1 + cos * y2 + cy, cos * x2 - sin * y1 + cx, sin * x2 + cos * y1 + cy, cos * x2 - sin * y2 + cx, sin * x2 + cos * y2 + cy];\n    },\n    union(b) {\n      if (b.x1 < this.x1) this.x1 = b.x1;\n      if (b.y1 < this.y1) this.y1 = b.y1;\n      if (b.x2 > this.x2) this.x2 = b.x2;\n      if (b.y2 > this.y2) this.y2 = b.y2;\n      return this;\n    },\n    intersect(b) {\n      if (b.x1 > this.x1) this.x1 = b.x1;\n      if (b.y1 > this.y1) this.y1 = b.y1;\n      if (b.x2 < this.x2) this.x2 = b.x2;\n      if (b.y2 < this.y2) this.y2 = b.y2;\n      return this;\n    },\n    encloses(b) {\n      return b && this.x1 <= b.x1 && this.x2 >= b.x2 && this.y1 <= b.y1 && this.y2 >= b.y2;\n    },\n    alignsWith(b) {\n      return b && (this.x1 == b.x1 || this.x2 == b.x2 || this.y1 == b.y1 || this.y2 == b.y2);\n    },\n    intersects(b) {\n      return b && !(this.x2 < b.x1 || this.x1 > b.x2 || this.y2 < b.y1 || this.y1 > b.y2);\n    },\n    contains(x, y) {\n      return !(x < this.x1 || x > this.x2 || y < this.y1 || y > this.y2);\n    },\n    width() {\n      return this.x2 - this.x1;\n    },\n    height() {\n      return this.y2 - this.y1;\n    }\n  };\n\n  function Item(mark) {\n    this.mark = mark;\n    this.bounds = this.bounds || new Bounds();\n  }\n\n  function GroupItem(mark) {\n    Item.call(this, mark);\n    this.items = this.items || [];\n  }\n  vegaUtil.inherits(GroupItem, Item);\n\n  class ResourceLoader {\n    constructor(customLoader) {\n      this._pending = 0;\n      this._loader = customLoader || vegaLoader.loader();\n    }\n    pending() {\n      return this._pending;\n    }\n    sanitizeURL(uri) {\n      const loader = this;\n      increment(loader);\n      return loader._loader.sanitize(uri, {\n        context: 'href'\n      }).then(opt => {\n        decrement(loader);\n        return opt;\n      }).catch(() => {\n        decrement(loader);\n        return null;\n      });\n    }\n    loadImage(uri) {\n      const loader = this,\n        Image = vegaCanvas.image();\n      increment(loader);\n      return loader._loader.sanitize(uri, {\n        context: 'image'\n      }).then(opt => {\n        const url = opt.href;\n        if (!url || !Image) throw {\n          url: url\n        };\n        const img = new Image();\n\n        // set crossOrigin only if cors is defined; empty string sets anonymous mode\n        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/crossOrigin\n        const cors = vegaUtil.hasOwnProperty(opt, 'crossOrigin') ? opt.crossOrigin : 'anonymous';\n        if (cors != null) img.crossOrigin = cors;\n\n        // attempt to load image resource\n        img.onload = () => decrement(loader);\n        img.onerror = () => decrement(loader);\n        img.src = url;\n        return img;\n      }).catch(e => {\n        decrement(loader);\n        return {\n          complete: false,\n          width: 0,\n          height: 0,\n          src: e && e.url || ''\n        };\n      });\n    }\n    ready() {\n      const loader = this;\n      return new Promise(accept => {\n        function poll(value) {\n          if (!loader.pending()) accept(value);else setTimeout(() => {\n            poll(true);\n          }, 10);\n        }\n        poll(false);\n      });\n    }\n  }\n  function increment(loader) {\n    loader._pending += 1;\n  }\n  function decrement(loader) {\n    loader._pending -= 1;\n  }\n\n  function boundStroke (bounds, item, miter) {\n    if (item.stroke && item.opacity !== 0 && item.strokeOpacity !== 0) {\n      const sw = item.strokeWidth != null ? +item.strokeWidth : 1;\n      bounds.expand(sw + (miter ? miterAdjustment(item, sw) : 0));\n    }\n    return bounds;\n  }\n  function miterAdjustment(item, strokeWidth) {\n    // TODO: more sophisticated adjustment? Or miter support in boundContext?\n    return item.strokeJoin && item.strokeJoin !== 'miter' ? 0 : strokeWidth;\n  }\n\n  const circleThreshold = Tau - 1e-8;\n  let bounds, lx, ly, rot, ma, mb, mc, md;\n  const add = (x, y) => bounds.add(x, y);\n  const addL = (x, y) => add(lx = x, ly = y);\n  const addX = x => add(x, bounds.y1);\n  const addY = y => add(bounds.x1, y);\n  const px = (x, y) => ma * x + mc * y;\n  const py = (x, y) => mb * x + md * y;\n  const addp = (x, y) => add(px(x, y), py(x, y));\n  const addpL = (x, y) => addL(px(x, y), py(x, y));\n  function boundContext (_, deg) {\n    bounds = _;\n    if (deg) {\n      rot = deg * DegToRad;\n      ma = md = Math.cos(rot);\n      mb = Math.sin(rot);\n      mc = -mb;\n    } else {\n      ma = md = 1;\n      rot = mb = mc = 0;\n    }\n    return context$1;\n  }\n  const context$1 = {\n    beginPath() {},\n    closePath() {},\n    moveTo: addpL,\n    lineTo: addpL,\n    rect(x, y, w, h) {\n      if (rot) {\n        addp(x + w, y);\n        addp(x + w, y + h);\n        addp(x, y + h);\n        addpL(x, y);\n      } else {\n        add(x + w, y + h);\n        addL(x, y);\n      }\n    },\n    quadraticCurveTo(x1, y1, x2, y2) {\n      const px1 = px(x1, y1),\n        py1 = py(x1, y1),\n        px2 = px(x2, y2),\n        py2 = py(x2, y2);\n      quadExtrema(lx, px1, px2, addX);\n      quadExtrema(ly, py1, py2, addY);\n      addL(px2, py2);\n    },\n    bezierCurveTo(x1, y1, x2, y2, x3, y3) {\n      const px1 = px(x1, y1),\n        py1 = py(x1, y1),\n        px2 = px(x2, y2),\n        py2 = py(x2, y2),\n        px3 = px(x3, y3),\n        py3 = py(x3, y3);\n      cubicExtrema(lx, px1, px2, px3, addX);\n      cubicExtrema(ly, py1, py2, py3, addY);\n      addL(px3, py3);\n    },\n    arc(cx, cy, r, sa, ea, ccw) {\n      sa += rot;\n      ea += rot;\n\n      // store last point on path\n      lx = r * Math.cos(ea) + cx;\n      ly = r * Math.sin(ea) + cy;\n      if (Math.abs(ea - sa) > circleThreshold) {\n        // treat as full circle\n        add(cx - r, cy - r);\n        add(cx + r, cy + r);\n      } else {\n        const update = a => add(r * Math.cos(a) + cx, r * Math.sin(a) + cy);\n        let s, i;\n\n        // sample end points\n        update(sa);\n        update(ea);\n\n        // sample interior points aligned with 90 degrees\n        if (ea !== sa) {\n          sa = sa % Tau;\n          if (sa < 0) sa += Tau;\n          ea = ea % Tau;\n          if (ea < 0) ea += Tau;\n          if (ea < sa) {\n            ccw = !ccw; // flip direction\n            s = sa;\n            sa = ea;\n            ea = s; // swap end-points\n          }\n          if (ccw) {\n            ea -= Tau;\n            s = sa - sa % HalfPi;\n            for (i = 0; i < 4 && s > ea; ++i, s -= HalfPi) update(s);\n          } else {\n            s = sa - sa % HalfPi + HalfPi;\n            for (i = 0; i < 4 && s < ea; ++i, s = s + HalfPi) update(s);\n          }\n        }\n      }\n    }\n  };\n  function quadExtrema(x0, x1, x2, cb) {\n    const t = (x0 - x1) / (x0 + x2 - 2 * x1);\n    if (0 < t && t < 1) cb(x0 + (x1 - x0) * t);\n  }\n  function cubicExtrema(x0, x1, x2, x3, cb) {\n    const a = x3 - x0 + 3 * x1 - 3 * x2,\n      b = x0 + x2 - 2 * x1,\n      c = x0 - x1;\n    let t0 = 0,\n      t1 = 0,\n      r;\n\n    // solve for parameter t\n    if (Math.abs(a) > Epsilon) {\n      // quadratic equation\n      r = b * b + c * a;\n      if (r >= 0) {\n        r = Math.sqrt(r);\n        t0 = (-b + r) / a;\n        t1 = (-b - r) / a;\n      }\n    } else {\n      // linear equation\n      t0 = 0.5 * c / b;\n    }\n\n    // calculate position\n    if (0 < t0 && t0 < 1) cb(cubic(t0, x0, x1, x2, x3));\n    if (0 < t1 && t1 < 1) cb(cubic(t1, x0, x1, x2, x3));\n  }\n  function cubic(t, x0, x1, x2, x3) {\n    const s = 1 - t,\n      s2 = s * s,\n      t2 = t * t;\n    return s2 * s * x0 + 3 * s2 * t * x1 + 3 * s * t2 * x2 + t2 * t * x3;\n  }\n\n  var context = (context = vegaCanvas.canvas(1, 1)) ? context.getContext('2d') : null;\n\n  const b = new Bounds();\n  function intersectPath(draw) {\n    return function (item, brush) {\n      // rely on (inaccurate) bounds intersection if no context\n      if (!context) return true;\n\n      // add path to offscreen graphics context\n      draw(context, item);\n\n      // get bounds intersection region\n      b.clear().union(item.bounds).intersect(brush).round();\n      const {\n        x1,\n        y1,\n        x2,\n        y2\n      } = b;\n\n      // iterate over intersection region\n      // perform fine grained inclusion test\n      for (let y = y1; y <= y2; ++y) {\n        for (let x = x1; x <= x2; ++x) {\n          if (context.isPointInPath(x, y)) {\n            return true;\n          }\n        }\n      }\n\n      // false if no hits in intersection region\n      return false;\n    };\n  }\n  function intersectPoint(item, box) {\n    return box.contains(item.x || 0, item.y || 0);\n  }\n  function intersectRect(item, box) {\n    const x = item.x || 0,\n      y = item.y || 0,\n      w = item.width || 0,\n      h = item.height || 0;\n    return box.intersects(b.set(x, y, x + w, y + h));\n  }\n  function intersectRule(item, box) {\n    const x = item.x || 0,\n      y = item.y || 0,\n      x2 = item.x2 != null ? item.x2 : x,\n      y2 = item.y2 != null ? item.y2 : y;\n    return intersectBoxLine(box, x, y, x2, y2);\n  }\n  function intersectBoxLine(box, x, y, u, v) {\n    const {\n        x1,\n        y1,\n        x2,\n        y2\n      } = box,\n      dx = u - x,\n      dy = v - y;\n    let t0 = 0,\n      t1 = 1,\n      p,\n      q,\n      r,\n      e;\n    for (e = 0; e < 4; ++e) {\n      if (e === 0) {\n        p = -dx;\n        q = -(x1 - x);\n      }\n      if (e === 1) {\n        p = dx;\n        q = x2 - x;\n      }\n      if (e === 2) {\n        p = -dy;\n        q = -(y1 - y);\n      }\n      if (e === 3) {\n        p = dy;\n        q = y2 - y;\n      }\n      if (Math.abs(p) < 1e-10 && q < 0) return false;\n      r = q / p;\n      if (p < 0) {\n        if (r > t1) return false;else if (r > t0) t0 = r;\n      } else if (p > 0) {\n        if (r < t0) return false;else if (r < t1) t1 = r;\n      }\n    }\n    return true;\n  }\n\n  function blend (context, item) {\n    context.globalCompositeOperation = item.blend || 'source-over';\n  }\n\n  function value (value, dflt) {\n    return value == null ? dflt : value;\n  }\n\n  function addStops(gradient, stops) {\n    const n = stops.length;\n    for (let i = 0; i < n; ++i) {\n      gradient.addColorStop(stops[i].offset, stops[i].color);\n    }\n    return gradient;\n  }\n  function gradient (context, spec, bounds) {\n    const w = bounds.width(),\n      h = bounds.height();\n    let gradient;\n    if (spec.gradient === 'radial') {\n      gradient = context.createRadialGradient(bounds.x1 + value(spec.x1, 0.5) * w, bounds.y1 + value(spec.y1, 0.5) * h, Math.max(w, h) * value(spec.r1, 0), bounds.x1 + value(spec.x2, 0.5) * w, bounds.y1 + value(spec.y2, 0.5) * h, Math.max(w, h) * value(spec.r2, 0.5));\n    } else {\n      // linear gradient\n      const x1 = value(spec.x1, 0),\n        y1 = value(spec.y1, 0),\n        x2 = value(spec.x2, 1),\n        y2 = value(spec.y2, 0);\n      if (x1 === x2 || y1 === y2 || w === h) {\n        // axis aligned: use normal gradient\n        gradient = context.createLinearGradient(bounds.x1 + x1 * w, bounds.y1 + y1 * h, bounds.x1 + x2 * w, bounds.y1 + y2 * h);\n      } else {\n        // not axis aligned: render gradient into a pattern (#2365)\n        // this allows us to use normalized bounding box coordinates\n        const image = vegaCanvas.canvas(Math.ceil(w), Math.ceil(h)),\n          ictx = image.getContext('2d');\n        ictx.scale(w, h);\n        ictx.fillStyle = addStops(ictx.createLinearGradient(x1, y1, x2, y2), spec.stops);\n        ictx.fillRect(0, 0, w, h);\n        return context.createPattern(image, 'no-repeat');\n      }\n    }\n    return addStops(gradient, spec.stops);\n  }\n\n  function color (context, item, value) {\n    return isGradient(value) ? gradient(context, value, item.bounds) : value;\n  }\n\n  function fill (context, item, opacity) {\n    opacity *= item.fillOpacity == null ? 1 : item.fillOpacity;\n    if (opacity > 0) {\n      context.globalAlpha = opacity;\n      context.fillStyle = color(context, item, item.fill);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  var Empty = [];\n  function stroke (context, item, opacity) {\n    var lw = (lw = item.strokeWidth) != null ? lw : 1;\n    if (lw <= 0) return false;\n    opacity *= item.strokeOpacity == null ? 1 : item.strokeOpacity;\n    if (opacity > 0) {\n      context.globalAlpha = opacity;\n      context.strokeStyle = color(context, item, item.stroke);\n      context.lineWidth = lw;\n      context.lineCap = item.strokeCap || 'butt';\n      context.lineJoin = item.strokeJoin || 'miter';\n      context.miterLimit = item.strokeMiterLimit || 10;\n      if (context.setLineDash) {\n        context.setLineDash(item.strokeDash || Empty);\n        context.lineDashOffset = item.strokeDashOffset || 0;\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function compare(a, b) {\n    return a.zindex - b.zindex || a.index - b.index;\n  }\n  function zorder(scene) {\n    if (!scene.zdirty) return scene.zitems;\n    var items = scene.items,\n      output = [],\n      item,\n      i,\n      n;\n    for (i = 0, n = items.length; i < n; ++i) {\n      item = items[i];\n      item.index = i;\n      if (item.zindex) output.push(item);\n    }\n    scene.zdirty = false;\n    return scene.zitems = output.sort(compare);\n  }\n  function visit(scene, visitor) {\n    var items = scene.items,\n      i,\n      n;\n    if (!items || !items.length) return;\n    const zitems = zorder(scene);\n    if (zitems && zitems.length) {\n      for (i = 0, n = items.length; i < n; ++i) {\n        if (!items[i].zindex) visitor(items[i]);\n      }\n      items = zitems;\n    }\n    for (i = 0, n = items.length; i < n; ++i) {\n      visitor(items[i]);\n    }\n  }\n  function pickVisit(scene, visitor) {\n    var items = scene.items,\n      hit,\n      i;\n    if (!items || !items.length) return null;\n    const zitems = zorder(scene);\n    if (zitems && zitems.length) items = zitems;\n    for (i = items.length; --i >= 0;) {\n      if (hit = visitor(items[i])) return hit;\n    }\n    if (items === zitems) {\n      for (items = scene.items, i = items.length; --i >= 0;) {\n        if (!items[i].zindex) {\n          if (hit = visitor(items[i])) return hit;\n        }\n      }\n    }\n    return null;\n  }\n\n  function drawAll(path) {\n    return function (context, scene, bounds) {\n      visit(scene, item => {\n        if (!bounds || bounds.intersects(item.bounds)) {\n          drawPath(path, context, item, item);\n        }\n      });\n    };\n  }\n  function drawOne(path) {\n    return function (context, scene, bounds) {\n      if (scene.items.length && (!bounds || bounds.intersects(scene.bounds))) {\n        drawPath(path, context, scene.items[0], scene.items);\n      }\n    };\n  }\n  function drawPath(path, context, item, items) {\n    var opacity = item.opacity == null ? 1 : item.opacity;\n    if (opacity === 0) return;\n    if (path(context, items)) return;\n    blend(context, item);\n    if (item.fill && fill(context, item, opacity)) {\n      context.fill();\n    }\n    if (item.stroke && stroke(context, item, opacity)) {\n      context.stroke();\n    }\n  }\n\n  function pick$1(test) {\n    test = test || vegaUtil.truthy;\n    return function (context, scene, x, y, gx, gy) {\n      x *= context.pixelRatio;\n      y *= context.pixelRatio;\n      return pickVisit(scene, item => {\n        const b = item.bounds;\n        // first hit test against bounding box\n        if (b && !b.contains(gx, gy) || !b) return;\n        // if in bounding box, perform more careful test\n        if (test(context, item, x, y, gx, gy)) return item;\n      });\n    };\n  }\n  function hitPath(path, filled) {\n    return function (context, o, x, y) {\n      var item = Array.isArray(o) ? o[0] : o,\n        fill = filled == null ? item.fill : filled,\n        stroke = item.stroke && context.isPointInStroke,\n        lw,\n        lc;\n      if (stroke) {\n        lw = item.strokeWidth;\n        lc = item.strokeCap;\n        context.lineWidth = lw != null ? lw : 1;\n        context.lineCap = lc != null ? lc : 'butt';\n      }\n      return path(context, o) ? false : fill && context.isPointInPath(x, y) || stroke && context.isPointInStroke(x, y);\n    };\n  }\n  function pickPath(path) {\n    return pick$1(hitPath(path));\n  }\n\n  function translate(x, y) {\n    return 'translate(' + x + ',' + y + ')';\n  }\n  function rotate(a) {\n    return 'rotate(' + a + ')';\n  }\n  function scale(scaleX, scaleY) {\n    return 'scale(' + scaleX + ',' + scaleY + ')';\n  }\n  function translateItem(item) {\n    return translate(item.x || 0, item.y || 0);\n  }\n  function rotateItem(item) {\n    return translate(item.x || 0, item.y || 0) + (item.angle ? ' ' + rotate(item.angle) : '');\n  }\n  function transformItem(item) {\n    return translate(item.x || 0, item.y || 0) + (item.angle ? ' ' + rotate(item.angle) : '') + (item.scaleX || item.scaleY ? ' ' + scale(item.scaleX || 1, item.scaleY || 1) : '');\n  }\n\n  function markItemPath (type, shape, isect) {\n    function attr(emit, item) {\n      emit('transform', rotateItem(item));\n      emit('d', shape(null, item));\n    }\n    function bound(bounds, item) {\n      shape(boundContext(bounds, item.angle), item);\n      return boundStroke(bounds, item).translate(item.x || 0, item.y || 0);\n    }\n    function draw(context, item) {\n      var x = item.x || 0,\n        y = item.y || 0,\n        a = item.angle || 0;\n      context.translate(x, y);\n      if (a) context.rotate(a *= DegToRad);\n      context.beginPath();\n      shape(context, item);\n      if (a) context.rotate(-a);\n      context.translate(-x, -y);\n    }\n    return {\n      type: type,\n      tag: 'path',\n      nested: false,\n      attr: attr,\n      bound: bound,\n      draw: drawAll(draw),\n      pick: pickPath(draw),\n      isect: isect || intersectPath(draw)\n    };\n  }\n\n  var arc = markItemPath('arc', arc$1);\n\n  function pickArea(a, p) {\n    var v = a[0].orient === 'horizontal' ? p[1] : p[0],\n      z = a[0].orient === 'horizontal' ? 'y' : 'x',\n      i = a.length,\n      min = +Infinity,\n      hit,\n      d;\n    while (--i >= 0) {\n      if (a[i].defined === false) continue;\n      d = Math.abs(a[i][z] - v);\n      if (d < min) {\n        min = d;\n        hit = a[i];\n      }\n    }\n    return hit;\n  }\n  function pickLine(a, p) {\n    var t = Math.pow(a[0].strokeWidth || 1, 2),\n      i = a.length,\n      dx,\n      dy,\n      dd;\n    while (--i >= 0) {\n      if (a[i].defined === false) continue;\n      dx = a[i].x - p[0];\n      dy = a[i].y - p[1];\n      dd = dx * dx + dy * dy;\n      if (dd < t) return a[i];\n    }\n    return null;\n  }\n  function pickTrail(a, p) {\n    var i = a.length,\n      dx,\n      dy,\n      dd;\n    while (--i >= 0) {\n      if (a[i].defined === false) continue;\n      dx = a[i].x - p[0];\n      dy = a[i].y - p[1];\n      dd = dx * dx + dy * dy;\n      dx = a[i].size || 1;\n      if (dd < dx * dx) return a[i];\n    }\n    return null;\n  }\n\n  function markMultiItemPath (type, shape, tip) {\n    function attr(emit, item) {\n      var items = item.mark.items;\n      if (items.length) emit('d', shape(null, items));\n    }\n    function bound(bounds, mark) {\n      var items = mark.items;\n      if (items.length === 0) {\n        return bounds;\n      } else {\n        shape(boundContext(bounds), items);\n        return boundStroke(bounds, items[0]);\n      }\n    }\n    function draw(context, items) {\n      context.beginPath();\n      shape(context, items);\n    }\n    const hit = hitPath(draw);\n    function pick(context, scene, x, y, gx, gy) {\n      var items = scene.items,\n        b = scene.bounds;\n      if (!items || !items.length || b && !b.contains(gx, gy)) {\n        return null;\n      }\n      x *= context.pixelRatio;\n      y *= context.pixelRatio;\n      return hit(context, items, x, y) ? items[0] : null;\n    }\n    return {\n      type: type,\n      tag: 'path',\n      nested: true,\n      attr: attr,\n      bound: bound,\n      draw: drawOne(draw),\n      pick: pick,\n      isect: intersectPoint,\n      tip: tip\n    };\n  }\n\n  var area = markMultiItemPath('area', area$1, pickArea);\n\n  function clip (context, scene) {\n    var clip = scene.clip;\n    context.save();\n    if (vegaUtil.isFunction(clip)) {\n      context.beginPath();\n      clip(context);\n      context.clip();\n    } else {\n      clipGroup(context, scene.group);\n    }\n  }\n  function clipGroup(context, group) {\n    context.beginPath();\n    hasCornerRadius(group) ? rectangle(context, group, 0, 0) : context.rect(0, 0, group.width || 0, group.height || 0);\n    context.clip();\n  }\n\n  function offset$1(item) {\n    const sw = value(item.strokeWidth, 1);\n    return item.strokeOffset != null ? item.strokeOffset : item.stroke && sw > 0.5 && sw < 1.5 ? 0.5 - Math.abs(sw - 1) : 0;\n  }\n  function attr$5(emit, item) {\n    emit('transform', translateItem(item));\n  }\n  function emitRectangle(emit, item) {\n    const off = offset$1(item);\n    emit('d', rectangle(null, item, off, off));\n  }\n  function background(emit, item) {\n    emit('class', 'background');\n    emit('aria-hidden', true);\n    emitRectangle(emit, item);\n  }\n  function foreground(emit, item) {\n    emit('class', 'foreground');\n    emit('aria-hidden', true);\n    if (item.strokeForeground) {\n      emitRectangle(emit, item);\n    } else {\n      emit('d', '');\n    }\n  }\n  function content(emit, item, renderer) {\n    const url = item.clip ? clip$1(renderer, item, item) : null;\n    emit('clip-path', url);\n  }\n  function bound$5(bounds, group) {\n    if (!group.clip && group.items) {\n      const items = group.items,\n        m = items.length;\n      for (let j = 0; j < m; ++j) {\n        bounds.union(items[j].bounds);\n      }\n    }\n    if ((group.clip || group.width || group.height) && !group.noBound) {\n      bounds.add(0, 0).add(group.width || 0, group.height || 0);\n    }\n    boundStroke(bounds, group);\n    return bounds.translate(group.x || 0, group.y || 0);\n  }\n  function rectanglePath(context, group, x, y) {\n    const off = offset$1(group);\n    context.beginPath();\n    rectangle(context, group, (x || 0) + off, (y || 0) + off);\n  }\n  const hitBackground = hitPath(rectanglePath);\n  const hitForeground = hitPath(rectanglePath, false);\n  const hitCorner = hitPath(rectanglePath, true);\n  function draw$4(context, scene, bounds, markTypes) {\n    visit(scene, group => {\n      const gx = group.x || 0,\n        gy = group.y || 0,\n        fore = group.strokeForeground,\n        opacity = group.opacity == null ? 1 : group.opacity;\n\n      // draw group background\n      if ((group.stroke || group.fill) && opacity) {\n        rectanglePath(context, group, gx, gy);\n        blend(context, group);\n        if (group.fill && fill(context, group, opacity)) {\n          context.fill();\n        }\n        if (group.stroke && !fore && stroke(context, group, opacity)) {\n          context.stroke();\n        }\n      }\n\n      // setup graphics context, set clip and bounds\n      context.save();\n      context.translate(gx, gy);\n      if (group.clip) clipGroup(context, group);\n      if (bounds) bounds.translate(-gx, -gy);\n\n      // draw group contents\n      visit(group, item => {\n        if (item.marktype === 'group' || markTypes == null || markTypes.includes(item.marktype)) {\n          this.draw(context, item, bounds, markTypes);\n        }\n      });\n\n      // restore graphics context\n      if (bounds) bounds.translate(gx, gy);\n      context.restore();\n\n      // draw group foreground\n      if (fore && group.stroke && opacity) {\n        rectanglePath(context, group, gx, gy);\n        blend(context, group);\n        if (stroke(context, group, opacity)) {\n          context.stroke();\n        }\n      }\n    });\n  }\n  function pick(context, scene, x, y, gx, gy) {\n    if (scene.bounds && !scene.bounds.contains(gx, gy) || !scene.items) {\n      return null;\n    }\n    const cx = x * context.pixelRatio,\n      cy = y * context.pixelRatio;\n    return pickVisit(scene, group => {\n      let hit, dx, dy;\n\n      // first hit test bounding box\n      const b = group.bounds;\n      if (b && !b.contains(gx, gy)) return;\n\n      // passed bounds check, test rectangular clip\n      dx = group.x || 0;\n      dy = group.y || 0;\n      const dw = dx + (group.width || 0),\n        dh = dy + (group.height || 0),\n        c = group.clip;\n      if (c && (gx < dx || gx > dw || gy < dy || gy > dh)) return;\n\n      // adjust coordinate system\n      context.save();\n      context.translate(dx, dy);\n      dx = gx - dx;\n      dy = gy - dy;\n\n      // test background for rounded corner clip\n      if (c && hasCornerRadius(group) && !hitCorner(context, group, cx, cy)) {\n        context.restore();\n        return null;\n      }\n      const fore = group.strokeForeground,\n        ix = scene.interactive !== false;\n\n      // hit test against group foreground\n      if (ix && fore && group.stroke && hitForeground(context, group, cx, cy)) {\n        context.restore();\n        return group;\n      }\n\n      // hit test against contained marks\n      hit = pickVisit(group, mark => pickMark(mark, dx, dy) ? this.pick(mark, x, y, dx, dy) : null);\n\n      // hit test against group background\n      if (!hit && ix && (group.fill || !fore && group.stroke) && hitBackground(context, group, cx, cy)) {\n        hit = group;\n      }\n\n      // restore state and return\n      context.restore();\n      return hit || null;\n    });\n  }\n  function pickMark(mark, x, y) {\n    return (mark.interactive !== false || mark.marktype === 'group') && mark.bounds && mark.bounds.contains(x, y);\n  }\n  var group = {\n    type: 'group',\n    tag: 'g',\n    nested: false,\n    attr: attr$5,\n    bound: bound$5,\n    draw: draw$4,\n    pick: pick,\n    isect: intersectRect,\n    content: content,\n    background: background,\n    foreground: foreground\n  };\n\n  var metadata = {\n    'xmlns': 'http://www.w3.org/2000/svg',\n    'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n    'version': '1.1'\n  };\n\n  function getImage(item, renderer) {\n    var image = item.image;\n    if (!image || item.url && item.url !== image.url) {\n      image = {\n        complete: false,\n        width: 0,\n        height: 0\n      };\n      renderer.loadImage(item.url).then(image => {\n        item.image = image;\n        item.image.url = item.url;\n      });\n    }\n    return image;\n  }\n  function imageWidth(item, image) {\n    return item.width != null ? item.width : !image || !image.width ? 0 : item.aspect !== false && item.height ? item.height * image.width / image.height : image.width;\n  }\n  function imageHeight(item, image) {\n    return item.height != null ? item.height : !image || !image.height ? 0 : item.aspect !== false && item.width ? item.width * image.height / image.width : image.height;\n  }\n  function imageXOffset(align, w) {\n    return align === 'center' ? w / 2 : align === 'right' ? w : 0;\n  }\n  function imageYOffset(baseline, h) {\n    return baseline === 'middle' ? h / 2 : baseline === 'bottom' ? h : 0;\n  }\n  function attr$4(emit, item, renderer) {\n    const img = getImage(item, renderer),\n      w = imageWidth(item, img),\n      h = imageHeight(item, img),\n      x = (item.x || 0) - imageXOffset(item.align, w),\n      y = (item.y || 0) - imageYOffset(item.baseline, h),\n      i = !img.src && img.toDataURL ? img.toDataURL() : img.src || '';\n    emit('href', i, metadata['xmlns:xlink'], 'xlink:href');\n    emit('transform', translate(x, y));\n    emit('width', w);\n    emit('height', h);\n    emit('preserveAspectRatio', item.aspect === false ? 'none' : 'xMidYMid');\n  }\n  function bound$4(bounds, item) {\n    const img = item.image,\n      w = imageWidth(item, img),\n      h = imageHeight(item, img),\n      x = (item.x || 0) - imageXOffset(item.align, w),\n      y = (item.y || 0) - imageYOffset(item.baseline, h);\n    return bounds.set(x, y, x + w, y + h);\n  }\n  function draw$3(context, scene, bounds) {\n    visit(scene, item => {\n      if (bounds && !bounds.intersects(item.bounds)) return; // bounds check\n\n      const img = getImage(item, this);\n      let w = imageWidth(item, img);\n      let h = imageHeight(item, img);\n      if (w === 0 || h === 0) return; // early exit\n\n      let x = (item.x || 0) - imageXOffset(item.align, w),\n        y = (item.y || 0) - imageYOffset(item.baseline, h),\n        opacity,\n        ar0,\n        ar1,\n        t;\n      if (item.aspect !== false) {\n        ar0 = img.width / img.height;\n        ar1 = item.width / item.height;\n        if (ar0 === ar0 && ar1 === ar1 && ar0 !== ar1) {\n          if (ar1 < ar0) {\n            t = w / ar0;\n            y += (h - t) / 2;\n            h = t;\n          } else {\n            t = h * ar0;\n            x += (w - t) / 2;\n            w = t;\n          }\n        }\n      }\n      if (img.complete || img.toDataURL) {\n        blend(context, item);\n        context.globalAlpha = (opacity = item.opacity) != null ? opacity : 1;\n        context.imageSmoothingEnabled = item.smooth !== false;\n        context.drawImage(img, x, y, w, h);\n      }\n    });\n  }\n  var image = {\n    type: 'image',\n    tag: 'image',\n    nested: false,\n    attr: attr$4,\n    bound: bound$4,\n    draw: draw$3,\n    pick: pick$1(),\n    isect: vegaUtil.truthy,\n    // bounds check is sufficient\n    get: getImage,\n    xOffset: imageXOffset,\n    yOffset: imageYOffset\n  };\n\n  var line = markMultiItemPath('line', line$1, pickLine);\n\n  function attr$3(emit, item) {\n    var sx = item.scaleX || 1,\n      sy = item.scaleY || 1;\n    if (sx !== 1 || sy !== 1) {\n      emit('vector-effect', 'non-scaling-stroke');\n    }\n    emit('transform', transformItem(item));\n    emit('d', item.path);\n  }\n  function path$1(context, item) {\n    var path = item.path;\n    if (path == null) return true;\n    var x = item.x || 0,\n      y = item.y || 0,\n      sx = item.scaleX || 1,\n      sy = item.scaleY || 1,\n      a = (item.angle || 0) * DegToRad,\n      cache = item.pathCache;\n    if (!cache || cache.path !== path) {\n      (item.pathCache = cache = parse(path)).path = path;\n    }\n    if (a && context.rotate && context.translate) {\n      context.translate(x, y);\n      context.rotate(a);\n      pathRender(context, cache, 0, 0, sx, sy);\n      context.rotate(-a);\n      context.translate(-x, -y);\n    } else {\n      pathRender(context, cache, x, y, sx, sy);\n    }\n  }\n  function bound$3(bounds, item) {\n    return path$1(boundContext(bounds, item.angle), item) ? bounds.set(0, 0, 0, 0) : boundStroke(bounds, item, true);\n  }\n  var path$2 = {\n    type: 'path',\n    tag: 'path',\n    nested: false,\n    attr: attr$3,\n    bound: bound$3,\n    draw: drawAll(path$1),\n    pick: pickPath(path$1),\n    isect: intersectPath(path$1)\n  };\n\n  function attr$2(emit, item) {\n    emit('d', rectangle(null, item));\n  }\n  function bound$2(bounds, item) {\n    var x, y;\n    return boundStroke(bounds.set(x = item.x || 0, y = item.y || 0, x + item.width || 0, y + item.height || 0), item);\n  }\n  function draw$2(context, item) {\n    context.beginPath();\n    rectangle(context, item);\n  }\n  var rect = {\n    type: 'rect',\n    tag: 'path',\n    nested: false,\n    attr: attr$2,\n    bound: bound$2,\n    draw: drawAll(draw$2),\n    pick: pickPath(draw$2),\n    isect: intersectRect\n  };\n\n  function attr$1(emit, item) {\n    emit('transform', translateItem(item));\n    emit('x2', item.x2 != null ? item.x2 - (item.x || 0) : 0);\n    emit('y2', item.y2 != null ? item.y2 - (item.y || 0) : 0);\n  }\n  function bound$1(bounds, item) {\n    var x1, y1;\n    return boundStroke(bounds.set(x1 = item.x || 0, y1 = item.y || 0, item.x2 != null ? item.x2 : x1, item.y2 != null ? item.y2 : y1), item);\n  }\n  function path(context, item, opacity) {\n    var x1, y1, x2, y2;\n    if (item.stroke && stroke(context, item, opacity)) {\n      x1 = item.x || 0;\n      y1 = item.y || 0;\n      x2 = item.x2 != null ? item.x2 : x1;\n      y2 = item.y2 != null ? item.y2 : y1;\n      context.beginPath();\n      context.moveTo(x1, y1);\n      context.lineTo(x2, y2);\n      return true;\n    }\n    return false;\n  }\n  function draw$1(context, scene, bounds) {\n    visit(scene, item => {\n      if (bounds && !bounds.intersects(item.bounds)) return; // bounds check\n      var opacity = item.opacity == null ? 1 : item.opacity;\n      if (opacity && path(context, item, opacity)) {\n        blend(context, item);\n        context.stroke();\n      }\n    });\n  }\n  function hit$1(context, item, x, y) {\n    if (!context.isPointInStroke) return false;\n    return path(context, item, 1) && context.isPointInStroke(x, y);\n  }\n  var rule = {\n    type: 'rule',\n    tag: 'line',\n    nested: false,\n    attr: attr$1,\n    bound: bound$1,\n    draw: draw$1,\n    pick: pick$1(hit$1),\n    isect: intersectRule\n  };\n\n  var shape = markItemPath('shape', shape$1);\n\n  var symbol = markItemPath('symbol', symbol$1, intersectPoint);\n\n  // memoize text width measurement\n  const widthCache = vegaUtil.lruCache();\n  var textMetrics = {\n    height: fontSize,\n    measureWidth: measureWidth,\n    estimateWidth: estimateWidth,\n    width: estimateWidth,\n    canvas: useCanvas\n  };\n  useCanvas(true);\n  function useCanvas(use) {\n    textMetrics.width = use && context ? measureWidth : estimateWidth;\n  }\n\n  // make simple estimate if no canvas is available\n  function estimateWidth(item, text) {\n    return _estimateWidth(textValue(item, text), fontSize(item));\n  }\n  function _estimateWidth(text, currentFontHeight) {\n    return ~~(0.8 * text.length * currentFontHeight);\n  }\n\n  // measure text width if canvas is available\n  function measureWidth(item, text) {\n    return fontSize(item) <= 0 || !(text = textValue(item, text)) ? 0 : _measureWidth(text, font(item));\n  }\n  function _measureWidth(text, currentFont) {\n    const key = `(${currentFont}) ${text}`;\n    let width = widthCache.get(key);\n    if (width === undefined) {\n      context.font = currentFont;\n      width = context.measureText(text).width;\n      widthCache.set(key, width);\n    }\n    return width;\n  }\n  function fontSize(item) {\n    return item.fontSize != null ? +item.fontSize || 0 : 11;\n  }\n  function lineHeight(item) {\n    return item.lineHeight != null ? item.lineHeight : fontSize(item) + 2;\n  }\n  function lineArray(_) {\n    return vegaUtil.isArray(_) ? _.length > 1 ? _ : _[0] : _;\n  }\n  function textLines(item) {\n    return lineArray(item.lineBreak && item.text && !vegaUtil.isArray(item.text) ? item.text.split(item.lineBreak) : item.text);\n  }\n  function multiLineOffset(item) {\n    const tl = textLines(item);\n    return (vegaUtil.isArray(tl) ? tl.length - 1 : 0) * lineHeight(item);\n  }\n  function textValue(item, line) {\n    const text = line == null ? '' : (line + '').trim();\n    return item.limit > 0 && text.length ? truncate(item, text) : text;\n  }\n  function widthGetter(item) {\n    if (textMetrics.width === measureWidth) {\n      // we are using canvas\n      const currentFont = font(item);\n      return text => _measureWidth(text, currentFont);\n    } else if (textMetrics.width === estimateWidth) {\n      // we are relying on estimates\n      const currentFontHeight = fontSize(item);\n      return text => _estimateWidth(text, currentFontHeight);\n    } else {\n      // User defined textMetrics.width function in use (e.g. vl-convert)\n      return text => textMetrics.width(item, text);\n    }\n  }\n  function truncate(item, text) {\n    var limit = +item.limit,\n      width = widthGetter(item);\n    if (width(text) < limit) return text;\n    var ellipsis = item.ellipsis || '\\u2026',\n      rtl = item.dir === 'rtl',\n      lo = 0,\n      hi = text.length,\n      mid;\n    limit -= width(ellipsis);\n    if (rtl) {\n      while (lo < hi) {\n        mid = lo + hi >>> 1;\n        if (width(text.slice(mid)) > limit) lo = mid + 1;else hi = mid;\n      }\n      return ellipsis + text.slice(lo);\n    } else {\n      while (lo < hi) {\n        mid = 1 + (lo + hi >>> 1);\n        if (width(text.slice(0, mid)) < limit) lo = mid;else hi = mid - 1;\n      }\n      return text.slice(0, lo) + ellipsis;\n    }\n  }\n  function fontFamily(item, quote) {\n    var font = item.font;\n    return (quote && font ? String(font).replace(/\"/g, '\\'') : font) || 'sans-serif';\n  }\n  function font(item, quote) {\n    return '' + (item.fontStyle ? item.fontStyle + ' ' : '') + (item.fontVariant ? item.fontVariant + ' ' : '') + (item.fontWeight ? item.fontWeight + ' ' : '') + fontSize(item) + 'px ' + fontFamily(item, quote);\n  }\n  function offset(item) {\n    // perform our own font baseline calculation\n    // why? not all browsers support SVG 1.1 'alignment-baseline' :(\n    // this also ensures consistent layout across renderers\n    var baseline = item.baseline,\n      h = fontSize(item);\n    return Math.round(baseline === 'top' ? 0.79 * h : baseline === 'middle' ? 0.30 * h : baseline === 'bottom' ? -0.21 * h : baseline === 'line-top' ? 0.29 * h + 0.5 * lineHeight(item) : baseline === 'line-bottom' ? 0.29 * h - 0.5 * lineHeight(item) : 0);\n  }\n\n  const textAlign = {\n    'left': 'start',\n    'center': 'middle',\n    'right': 'end'\n  };\n  const tempBounds = new Bounds();\n  function anchorPoint(item) {\n    var x = item.x || 0,\n      y = item.y || 0,\n      r = item.radius || 0,\n      t;\n    if (r) {\n      t = (item.theta || 0) - HalfPi;\n      x += r * Math.cos(t);\n      y += r * Math.sin(t);\n    }\n    tempBounds.x1 = x;\n    tempBounds.y1 = y;\n    return tempBounds;\n  }\n  function attr(emit, item) {\n    var dx = item.dx || 0,\n      dy = (item.dy || 0) + offset(item),\n      p = anchorPoint(item),\n      x = p.x1,\n      y = p.y1,\n      a = item.angle || 0,\n      t;\n    emit('text-anchor', textAlign[item.align] || 'start');\n    if (a) {\n      t = translate(x, y) + ' ' + rotate(a);\n      if (dx || dy) t += ' ' + translate(dx, dy);\n    } else {\n      t = translate(x + dx, y + dy);\n    }\n    emit('transform', t);\n  }\n  function bound(bounds, item, mode) {\n    var h = textMetrics.height(item),\n      a = item.align,\n      p = anchorPoint(item),\n      x = p.x1,\n      y = p.y1,\n      dx = item.dx || 0,\n      dy = (item.dy || 0) + offset(item) - Math.round(0.8 * h),\n      // use 4/5 offset\n      tl = textLines(item),\n      w;\n\n    // get dimensions\n    if (vegaUtil.isArray(tl)) {\n      // multi-line text\n      h += lineHeight(item) * (tl.length - 1);\n      w = tl.reduce((w, t) => Math.max(w, textMetrics.width(item, t)), 0);\n    } else {\n      // single-line text\n      w = textMetrics.width(item, tl);\n    }\n\n    // horizontal alignment\n    if (a === 'center') {\n      dx -= w / 2;\n    } else if (a === 'right') {\n      dx -= w;\n    } else ;\n    bounds.set(dx += x, dy += y, dx + w, dy + h);\n    if (item.angle && !mode) {\n      bounds.rotate(item.angle * DegToRad, x, y);\n    } else if (mode === 2) {\n      return bounds.rotatedPoints(item.angle * DegToRad, x, y);\n    }\n    return bounds;\n  }\n  function draw(context, scene, bounds) {\n    visit(scene, item => {\n      var opacity = item.opacity == null ? 1 : item.opacity,\n        p,\n        x,\n        y,\n        i,\n        lh,\n        tl,\n        str;\n      if (bounds && !bounds.intersects(item.bounds) ||\n      // bounds check\n      opacity === 0 || item.fontSize <= 0 || item.text == null || item.text.length === 0) return;\n      context.font = font(item);\n      context.textAlign = item.align || 'left';\n      p = anchorPoint(item);\n      x = p.x1, y = p.y1;\n      if (item.angle) {\n        context.save();\n        context.translate(x, y);\n        context.rotate(item.angle * DegToRad);\n        x = y = 0; // reset x, y\n      }\n      x += item.dx || 0;\n      y += (item.dy || 0) + offset(item);\n      tl = textLines(item);\n      blend(context, item);\n      if (vegaUtil.isArray(tl)) {\n        lh = lineHeight(item);\n        for (i = 0; i < tl.length; ++i) {\n          str = textValue(item, tl[i]);\n          if (item.fill && fill(context, item, opacity)) {\n            context.fillText(str, x, y);\n          }\n          if (item.stroke && stroke(context, item, opacity)) {\n            context.strokeText(str, x, y);\n          }\n          y += lh;\n        }\n      } else {\n        str = textValue(item, tl);\n        if (item.fill && fill(context, item, opacity)) {\n          context.fillText(str, x, y);\n        }\n        if (item.stroke && stroke(context, item, opacity)) {\n          context.strokeText(str, x, y);\n        }\n      }\n      if (item.angle) context.restore();\n    });\n  }\n  function hit(context, item, x, y, gx, gy) {\n    if (item.fontSize <= 0) return false;\n    if (!item.angle) return true; // bounds sufficient if no rotation\n\n    // project point into space of unrotated bounds\n    var p = anchorPoint(item),\n      ax = p.x1,\n      ay = p.y1,\n      b = bound(tempBounds, item, 1),\n      a = -item.angle * DegToRad,\n      cos = Math.cos(a),\n      sin = Math.sin(a),\n      px = cos * gx - sin * gy + (ax - cos * ax + sin * ay),\n      py = sin * gx + cos * gy + (ay - sin * ax - cos * ay);\n    return b.contains(px, py);\n  }\n  function intersectText(item, box) {\n    const p = bound(tempBounds, item, 2);\n    return intersectBoxLine(box, p[0], p[1], p[2], p[3]) || intersectBoxLine(box, p[0], p[1], p[4], p[5]) || intersectBoxLine(box, p[4], p[5], p[6], p[7]) || intersectBoxLine(box, p[2], p[3], p[6], p[7]);\n  }\n  var text = {\n    type: 'text',\n    tag: 'text',\n    nested: false,\n    attr: attr,\n    bound: bound,\n    draw: draw,\n    pick: pick$1(hit),\n    isect: intersectText\n  };\n\n  var trail = markMultiItemPath('trail', trail$1, pickTrail);\n\n  var Marks = {\n    arc: arc,\n    area: area,\n    group: group,\n    image: image,\n    line: line,\n    path: path$2,\n    rect: rect,\n    rule: rule,\n    shape: shape,\n    symbol: symbol,\n    text: text,\n    trail: trail\n  };\n\n  function boundItem (item, func, opt) {\n    var type = Marks[item.mark.marktype],\n      bound = func || type.bound;\n    if (type.nested) item = item.mark;\n    return bound(item.bounds || (item.bounds = new Bounds()), item, opt);\n  }\n\n  var DUMMY = {\n    mark: null\n  };\n  function boundMark (mark, bounds, opt) {\n    var type = Marks[mark.marktype],\n      bound = type.bound,\n      items = mark.items,\n      hasItems = items && items.length,\n      i,\n      n,\n      item,\n      b;\n    if (type.nested) {\n      if (hasItems) {\n        item = items[0];\n      } else {\n        // no items, fake it\n        DUMMY.mark = mark;\n        item = DUMMY;\n      }\n      b = boundItem(item, bound, opt);\n      bounds = bounds && bounds.union(b) || b;\n      return bounds;\n    }\n    bounds = bounds || mark.bounds && mark.bounds.clear() || new Bounds();\n    if (hasItems) {\n      for (i = 0, n = items.length; i < n; ++i) {\n        bounds.union(boundItem(items[i], bound, opt));\n      }\n    }\n    return mark.bounds = bounds;\n  }\n\n  const keys = ['marktype', 'name', 'role', 'interactive', 'clip', 'items', 'zindex', 'x', 'y', 'width', 'height', 'align', 'baseline',\n  // layout\n  'fill', 'fillOpacity', 'opacity', 'blend',\n  // fill\n  'stroke', 'strokeOpacity', 'strokeWidth', 'strokeCap',\n  // stroke\n  'strokeDash', 'strokeDashOffset',\n  // stroke dash\n  'strokeForeground', 'strokeOffset',\n  // group\n  'startAngle', 'endAngle', 'innerRadius', 'outerRadius',\n  // arc\n  'cornerRadius', 'padAngle',\n  // arc, rect\n  'cornerRadiusTopLeft', 'cornerRadiusTopRight',\n  // rect, group\n  'cornerRadiusBottomLeft', 'cornerRadiusBottomRight', 'interpolate', 'tension', 'orient', 'defined',\n  // area, line\n  'url', 'aspect', 'smooth',\n  // image\n  'path', 'scaleX', 'scaleY',\n  // path\n  'x2', 'y2',\n  // rule\n  'size', 'shape',\n  // symbol\n  'text', 'angle', 'theta', 'radius', 'dir', 'dx', 'dy',\n  // text\n  'ellipsis', 'limit', 'lineBreak', 'lineHeight', 'font', 'fontSize', 'fontWeight', 'fontStyle', 'fontVariant',\n  // font\n  'description', 'aria', 'ariaRole', 'ariaRoleDescription' // aria\n  ];\n  function sceneToJSON(scene, indent) {\n    return JSON.stringify(scene, keys, indent);\n  }\n  function sceneFromJSON(json) {\n    const scene = typeof json === 'string' ? JSON.parse(json) : json;\n    return initialize(scene);\n  }\n  function initialize(scene) {\n    var type = scene.marktype,\n      items = scene.items,\n      parent,\n      i,\n      n;\n    if (items) {\n      for (i = 0, n = items.length; i < n; ++i) {\n        parent = type ? 'mark' : 'group';\n        items[i][parent] = scene;\n        if (items[i].zindex) items[i][parent].zdirty = true;\n        if ('group' === (type || parent)) initialize(items[i]);\n      }\n    }\n    if (type) boundMark(scene);\n    return scene;\n  }\n\n  class Scenegraph {\n    constructor(scene) {\n      if (arguments.length) {\n        this.root = sceneFromJSON(scene);\n      } else {\n        this.root = createMark({\n          marktype: 'group',\n          name: 'root',\n          role: 'frame'\n        });\n        this.root.items = [new GroupItem(this.root)];\n      }\n    }\n    toJSON(indent) {\n      return sceneToJSON(this.root, indent || 0);\n    }\n    mark(markdef, group, index) {\n      group = group || this.root.items[0];\n      const mark = createMark(markdef, group);\n      group.items[index] = mark;\n      if (mark.zindex) mark.group.zdirty = true;\n      return mark;\n    }\n  }\n  function createMark(def, group) {\n    const mark = {\n      bounds: new Bounds(),\n      clip: !!def.clip,\n      group: group,\n      interactive: def.interactive === false ? false : true,\n      items: [],\n      marktype: def.marktype,\n      name: def.name || undefined,\n      role: def.role || undefined,\n      zindex: def.zindex || 0\n    };\n\n    // add accessibility properties if defined\n    if (def.aria != null) {\n      mark.aria = def.aria;\n    }\n    if (def.description) {\n      mark.description = def.description;\n    }\n    return mark;\n  }\n\n  // create a new DOM element\n  function domCreate(doc, tag, ns) {\n    if (!doc && typeof document !== 'undefined' && document.createElement) {\n      doc = document;\n    }\n    return doc ? ns ? doc.createElementNS(ns, tag) : doc.createElement(tag) : null;\n  }\n\n  // find first child element with matching tag\n  function domFind(el, tag) {\n    tag = tag.toLowerCase();\n    var nodes = el.childNodes,\n      i = 0,\n      n = nodes.length;\n    for (; i < n; ++i) if (nodes[i].tagName.toLowerCase() === tag) {\n      return nodes[i];\n    }\n  }\n\n  // retrieve child element at given index\n  // create & insert if doesn't exist or if tags do not match\n  function domChild(el, index, tag, ns) {\n    var a = el.childNodes[index],\n      b;\n    if (!a || a.tagName.toLowerCase() !== tag.toLowerCase()) {\n      b = a || null;\n      a = domCreate(el.ownerDocument, tag, ns);\n      el.insertBefore(a, b);\n    }\n    return a;\n  }\n\n  // remove all child elements at or above the given index\n  function domClear(el, index) {\n    var nodes = el.childNodes,\n      curr = nodes.length;\n    while (curr > index) el.removeChild(nodes[--curr]);\n    return el;\n  }\n\n  // generate css class name for mark\n  function cssClass(mark) {\n    return 'mark-' + mark.marktype + (mark.role ? ' role-' + mark.role : '') + (mark.name ? ' ' + mark.name : '');\n  }\n\n  function point (event, el) {\n    const rect = el.getBoundingClientRect();\n    return [event.clientX - rect.left - (el.clientLeft || 0), event.clientY - rect.top - (el.clientTop || 0)];\n  }\n\n  function resolveItem (item, event, el, origin) {\n    var mark = item && item.mark,\n      mdef,\n      p;\n    if (mark && (mdef = Marks[mark.marktype]).tip) {\n      p = point(event, el);\n      p[0] -= origin[0];\n      p[1] -= origin[1];\n      while (item = item.mark.group) {\n        p[0] -= item.x || 0;\n        p[1] -= item.y || 0;\n      }\n      item = mdef.tip(mark.items, p);\n    }\n    return item;\n  }\n\n  class Handler {\n    /**\n     * Create a new Handler instance.\n     * @param {object} [customLoader] - Optional loader instance for\n     *   href URL sanitization. If not specified, a standard loader\n     *   instance will be generated.\n     * @param {function} [customTooltip] - Optional tooltip handler\n     *   function for custom tooltip display.\n     * @constructor\n     */\n    constructor(customLoader, customTooltip) {\n      this._active = null;\n      this._handlers = {};\n      this._loader = customLoader || vegaLoader.loader();\n      this._tooltip = customTooltip || defaultTooltip;\n    }\n\n    /**\n     * Initialize a new Handler instance.\n     * @param {DOMElement} el - The containing DOM element for the display.\n     * @param {Array<number>} origin - The origin of the display, in pixels.\n     *   The coordinate system will be translated to this point.\n     * @param {object} [obj] - Optional context object that should serve as\n     *   the \"this\" context for event callbacks.\n     * @return {Handler} - This handler instance.\n     */\n    initialize(el, origin, obj) {\n      this._el = el;\n      this._obj = obj || null;\n      return this.origin(origin);\n    }\n\n    /**\n     * Returns the parent container element for a visualization.\n     * @return {DOMElement} - The containing DOM element.\n     */\n    element() {\n      return this._el;\n    }\n\n    /**\n     * Returns the scene element (e.g., canvas or SVG) of the visualization\n     * Subclasses must override if the first child is not the scene element.\n     * @return {DOMElement} - The scene (e.g., canvas or SVG) element.\n     */\n    canvas() {\n      return this._el && this._el.firstChild;\n    }\n\n    /**\n     * Get / set the origin coordinates of the visualization.\n     */\n    origin(origin) {\n      if (arguments.length) {\n        this._origin = origin || [0, 0];\n        return this;\n      } else {\n        return this._origin.slice();\n      }\n    }\n\n    /**\n     * Get / set the scenegraph root.\n     */\n    scene(scene) {\n      if (!arguments.length) return this._scene;\n      this._scene = scene;\n      return this;\n    }\n\n    /**\n     * Add an event handler. Subclasses should override this method.\n     */\n    on(/*type, handler*/) {}\n\n    /**\n     * Remove an event handler. Subclasses should override this method.\n     */\n    off(/*type, handler*/) {}\n\n    /**\n     * Utility method for finding the array index of an event handler.\n     * @param {Array} h - An array of registered event handlers.\n     * @param {string} type - The event type.\n     * @param {function} handler - The event handler instance to find.\n     * @return {number} - The handler's array index or -1 if not registered.\n     */\n    _handlerIndex(h, type, handler) {\n      for (let i = h ? h.length : 0; --i >= 0;) {\n        if (h[i].type === type && (!handler || h[i].handler === handler)) {\n          return i;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Returns an array with registered event handlers.\n     * @param {string} [type] - The event type to query. Any annotations\n     *   are ignored; for example, for the argument \"click.foo\", \".foo\" will\n     *   be ignored and the method returns all \"click\" handlers. If type is\n     *   null or unspecified, this method returns handlers for all types.\n     * @return {Array} - A new array containing all registered event handlers.\n     */\n    handlers(type) {\n      const h = this._handlers,\n        a = [];\n      if (type) {\n        a.push(...h[this.eventName(type)]);\n      } else {\n        for (const k in h) {\n          a.push(...h[k]);\n        }\n      }\n      return a;\n    }\n\n    /**\n     * Parses an event name string to return the specific event type.\n     * For example, given \"click.foo\" returns \"click\"\n     * @param {string} name - The input event type string.\n     * @return {string} - A string with the event type only.\n     */\n    eventName(name) {\n      const i = name.indexOf('.');\n      return i < 0 ? name : name.slice(0, i);\n    }\n\n    /**\n     * Handle hyperlink navigation in response to an item.href value.\n     * @param {Event} event - The event triggering hyperlink navigation.\n     * @param {Item} item - The scenegraph item.\n     * @param {string} href - The URL to navigate to.\n     */\n    handleHref(event, item, href) {\n      this._loader.sanitize(href, {\n        context: 'href'\n      }).then(opt => {\n        const e = new MouseEvent(event.type, event),\n          a = domCreate(null, 'a');\n        for (const name in opt) a.setAttribute(name, opt[name]);\n        a.dispatchEvent(e);\n      }).catch(() => {});\n    }\n\n    /**\n     * Handle tooltip display in response to an item.tooltip value.\n     * @param {Event} event - The event triggering tooltip display.\n     * @param {Item} item - The scenegraph item.\n     * @param {boolean} show - A boolean flag indicating whether\n     *   to show or hide a tooltip for the given item.\n     */\n    handleTooltip(event, item, show) {\n      if (item && item.tooltip != null) {\n        item = resolveItem(item, event, this.canvas(), this._origin);\n        const value = show && item && item.tooltip || null;\n        this._tooltip.call(this._obj, this, event, item, value);\n      }\n    }\n\n    /**\n     * Returns the size of a scenegraph item and its position relative\n     * to the viewport.\n     * @param {Item} item - The scenegraph item.\n     * @return {object} - A bounding box object (compatible with the\n     *   DOMRect type) consisting of x, y, width, heigh, top, left,\n     *   right, and bottom properties.\n     */\n    getItemBoundingClientRect(item) {\n      const el = this.canvas();\n      if (!el) return;\n      const rect = el.getBoundingClientRect(),\n        origin = this._origin,\n        bounds = item.bounds,\n        width = bounds.width(),\n        height = bounds.height();\n      let x = bounds.x1 + origin[0] + rect.left,\n        y = bounds.y1 + origin[1] + rect.top;\n\n      // translate coordinate for each parent group\n      while (item.mark && (item = item.mark.group)) {\n        x += item.x || 0;\n        y += item.y || 0;\n      }\n\n      // return DOMRect-compatible bounding box\n      return {\n        x,\n        y,\n        width,\n        height,\n        left: x,\n        top: y,\n        right: x + width,\n        bottom: y + height\n      };\n    }\n  }\n\n  // The default tooltip display handler.\n  // Sets the HTML title attribute on the visualization container.\n  function defaultTooltip(handler, event, item, value) {\n    handler.element().setAttribute('title', value || '');\n  }\n\n  class Renderer {\n    /**\n     * Create a new Renderer instance.\n     * @param {object} [loader] - Optional loader instance for\n     *   image and href URL sanitization. If not specified, a\n     *   standard loader instance will be generated.\n     * @constructor\n     */\n    constructor(loader) {\n      this._el = null;\n      this._bgcolor = null;\n      this._loader = new ResourceLoader(loader);\n    }\n\n    /**\n     * Initialize a new Renderer instance.\n     * @param {DOMElement} el - The containing DOM element for the display.\n     * @param {number} width - The coordinate width of the display, in pixels.\n     * @param {number} height - The coordinate height of the display, in pixels.\n     * @param {Array<number>} origin - The origin of the display, in pixels.\n     *   The coordinate system will be translated to this point.\n     * @param {number} [scaleFactor=1] - Optional scaleFactor by which to multiply\n     *   the width and height to determine the final pixel size.\n     * @return {Renderer} - This renderer instance.\n     */\n    initialize(el, width, height, origin, scaleFactor) {\n      this._el = el;\n      return this.resize(width, height, origin, scaleFactor);\n    }\n\n    /**\n     * Returns the parent container element for a visualization.\n     * @return {DOMElement} - The containing DOM element.\n     */\n    element() {\n      return this._el;\n    }\n\n    /**\n     * Returns the scene element (e.g., canvas or SVG) of the visualization\n     * Subclasses must override if the first child is not the scene element.\n     * @return {DOMElement} - The scene (e.g., canvas or SVG) element.\n     */\n    canvas() {\n      return this._el && this._el.firstChild;\n    }\n\n    /**\n     * Get / set the background color.\n     */\n    background(bgcolor) {\n      if (arguments.length === 0) return this._bgcolor;\n      this._bgcolor = bgcolor;\n      return this;\n    }\n\n    /**\n     * Resize the display.\n     * @param {number} width - The new coordinate width of the display, in pixels.\n     * @param {number} height - The new coordinate height of the display, in pixels.\n     * @param {Array<number>} origin - The new origin of the display, in pixels.\n     *   The coordinate system will be translated to this point.\n     * @param {number} [scaleFactor=1] - Optional scaleFactor by which to multiply\n     *   the width and height to determine the final pixel size.\n     * @return {Renderer} - This renderer instance;\n     */\n    resize(width, height, origin, scaleFactor) {\n      this._width = width;\n      this._height = height;\n      this._origin = origin || [0, 0];\n      this._scale = scaleFactor || 1;\n      return this;\n    }\n\n    /**\n     * Report a dirty item whose bounds should be redrawn.\n     * This base class method does nothing. Subclasses that perform\n     * incremental should implement this method.\n     * @param {Item} item - The dirty item whose bounds should be redrawn.\n     */\n    dirty(/*item*/) {}\n\n    /**\n     * Render an input scenegraph, potentially with a set of dirty items.\n     * This method will perform an immediate rendering with available resources.\n     * The renderer may also need to perform image loading to perform a complete\n     * render. This process can lead to asynchronous re-rendering of the scene\n     * after this method returns. To receive notification when rendering is\n     * complete, use the renderAsync method instead.\n     * @param {object} scene - The root mark of a scenegraph to render.\n     * @param {Array} markTypes - Array of the mark types to render.\n     *                            If undefined, render all mark types\n     * @return {Renderer} - This renderer instance.\n     */\n    render(scene, markTypes) {\n      const r = this;\n\n      // bind arguments into a render call, and cache it\n      // this function may be subsequently called for async redraw\n      r._call = function () {\n        r._render(scene, markTypes);\n      };\n\n      // invoke the renderer\n      r._call();\n\n      // clear the cached call for garbage collection\n      // async redraws will stash their own copy\n      r._call = null;\n      return r;\n    }\n\n    /**\n     * Internal rendering method. Renderer subclasses should override this\n     * method to actually perform rendering.\n     * @param {object} scene - The root mark of a scenegraph to render.\n     * @param {Array} markTypes - Array of the mark types to render.\n     *                            If undefined, render all mark types\n     */\n    _render(/*scene, markTypes*/\n    ) {\n      // subclasses to override\n    }\n\n    /**\n     * Asynchronous rendering method. Similar to render, but returns a Promise\n     * that resolves when all rendering is completed. Sometimes a renderer must\n     * perform image loading to get a complete rendering. The returned\n     * Promise will not resolve until this process completes.\n     * @param {object} scene - The root mark of a scenegraph to render.\n     * @param {Array} markTypes - Array of the mark types to render.\n     *                            If undefined, render all mark types\n     * @return {Promise} - A Promise that resolves when rendering is complete.\n     */\n    renderAsync(scene, markTypes) {\n      const r = this.render(scene, markTypes);\n      return this._ready ? this._ready.then(() => r) : Promise.resolve(r);\n    }\n\n    /**\n     * Internal method for asynchronous resource loading.\n     * Proxies method calls to the ImageLoader, and tracks loading\n     * progress to invoke a re-render once complete.\n     * @param {string} method - The method name to invoke on the ImageLoader.\n     * @param {string} uri - The URI for the requested resource.\n     * @return {Promise} - A Promise that resolves to the requested resource.\n     */\n    _load(method, uri) {\n      var r = this,\n        p = r._loader[method](uri);\n      if (!r._ready) {\n        // re-render the scene when loading completes\n        const call = r._call;\n        r._ready = r._loader.ready().then(redraw => {\n          if (redraw) call();\n          r._ready = null;\n        });\n      }\n      return p;\n    }\n\n    /**\n     * Sanitize a URL to include as a hyperlink in the rendered scene.\n     * This method proxies a call to ImageLoader.sanitizeURL, but also tracks\n     * image loading progress and invokes a re-render once complete.\n     * @param {string} uri - The URI string to sanitize.\n     * @return {Promise} - A Promise that resolves to the sanitized URL.\n     */\n    sanitizeURL(uri) {\n      return this._load('sanitizeURL', uri);\n    }\n\n    /**\n     * Requests an image to include in the rendered scene.\n     * This method proxies a call to ImageLoader.loadImage, but also tracks\n     * image loading progress and invokes a re-render once complete.\n     * @param {string} uri - The URI string of the image.\n     * @return {Promise} - A Promise that resolves to the loaded Image.\n     */\n    loadImage(uri) {\n      return this._load('loadImage', uri);\n    }\n  }\n\n  const KeyDownEvent = 'keydown';\n  const KeyPressEvent = 'keypress';\n  const KeyUpEvent = 'keyup';\n  const DragEnterEvent = 'dragenter';\n  const DragLeaveEvent = 'dragleave';\n  const DragOverEvent = 'dragover';\n  const PointerDownEvent = 'pointerdown';\n  const PointerUpEvent = 'pointerup';\n  const PointerMoveEvent = 'pointermove';\n  const PointerOutEvent = 'pointerout';\n  const PointerOverEvent = 'pointerover';\n  const MouseDownEvent = 'mousedown';\n  const MouseUpEvent = 'mouseup';\n  const MouseMoveEvent = 'mousemove';\n  const MouseOutEvent = 'mouseout';\n  const MouseOverEvent = 'mouseover';\n  const ClickEvent = 'click';\n  const DoubleClickEvent = 'dblclick';\n  const WheelEvent = 'wheel';\n  const MouseWheelEvent = 'mousewheel';\n  const TouchStartEvent = 'touchstart';\n  const TouchMoveEvent = 'touchmove';\n  const TouchEndEvent = 'touchend';\n  const Events = [KeyDownEvent, KeyPressEvent, KeyUpEvent, DragEnterEvent, DragLeaveEvent, DragOverEvent, PointerDownEvent, PointerUpEvent, PointerMoveEvent, PointerOutEvent, PointerOverEvent, MouseDownEvent, MouseUpEvent, MouseMoveEvent, MouseOutEvent, MouseOverEvent, ClickEvent, DoubleClickEvent, WheelEvent, MouseWheelEvent, TouchStartEvent, TouchMoveEvent, TouchEndEvent];\n  const TooltipShowEvent = PointerMoveEvent;\n  const TooltipHideEvent = MouseOutEvent;\n  const HrefEvent = ClickEvent;\n\n  class CanvasHandler extends Handler {\n    constructor(loader, tooltip) {\n      super(loader, tooltip);\n      this._down = null;\n      this._touch = null;\n      this._first = true;\n      this._events = {};\n\n      // supported events\n      this.events = Events;\n      this.pointermove = move([PointerMoveEvent, MouseMoveEvent], [PointerOverEvent, MouseOverEvent], [PointerOutEvent, MouseOutEvent]);\n      this.dragover = move([DragOverEvent], [DragEnterEvent], [DragLeaveEvent]), this.pointerout = inactive([PointerOutEvent, MouseOutEvent]);\n      this.dragleave = inactive([DragLeaveEvent]);\n    }\n    initialize(el, origin, obj) {\n      this._canvas = el && domFind(el, 'canvas');\n\n      // add minimal events required for proper state management\n      [ClickEvent, MouseDownEvent, PointerDownEvent, PointerMoveEvent, PointerOutEvent, DragLeaveEvent].forEach(type => eventListenerCheck(this, type));\n      return super.initialize(el, origin, obj);\n    }\n\n    // return the backing canvas instance\n    canvas() {\n      return this._canvas;\n    }\n\n    // retrieve the current canvas context\n    context() {\n      return this._canvas.getContext('2d');\n    }\n\n    // to keep old versions of firefox happy\n    DOMMouseScroll(evt) {\n      this.fire(MouseWheelEvent, evt);\n    }\n    pointerdown(evt) {\n      this._down = this._active;\n      this.fire(PointerDownEvent, evt);\n    }\n    mousedown(evt) {\n      this._down = this._active;\n      this.fire(MouseDownEvent, evt);\n    }\n    click(evt) {\n      if (this._down === this._active) {\n        this.fire(ClickEvent, evt);\n        this._down = null;\n      }\n    }\n    touchstart(evt) {\n      this._touch = this.pickEvent(evt.changedTouches[0]);\n      if (this._first) {\n        this._active = this._touch;\n        this._first = false;\n      }\n      this.fire(TouchStartEvent, evt, true);\n    }\n    touchmove(evt) {\n      this.fire(TouchMoveEvent, evt, true);\n    }\n    touchend(evt) {\n      this.fire(TouchEndEvent, evt, true);\n      this._touch = null;\n    }\n\n    // fire an event\n    fire(type, evt, touch) {\n      const a = touch ? this._touch : this._active,\n        h = this._handlers[type];\n\n      // set event type relative to scenegraph items\n      evt.vegaType = type;\n\n      // handle hyperlinks and tooltips first\n      if (type === HrefEvent && a && a.href) {\n        this.handleHref(evt, a, a.href);\n      } else if (type === TooltipShowEvent || type === TooltipHideEvent) {\n        this.handleTooltip(evt, a, type !== TooltipHideEvent);\n      }\n\n      // invoke all registered handlers\n      if (h) {\n        for (let i = 0, len = h.length; i < len; ++i) {\n          h[i].handler.call(this._obj, evt, a);\n        }\n      }\n    }\n\n    // add an event handler\n    on(type, handler) {\n      const name = this.eventName(type),\n        h = this._handlers,\n        i = this._handlerIndex(h[name], type, handler);\n      if (i < 0) {\n        eventListenerCheck(this, type);\n        (h[name] || (h[name] = [])).push({\n          type: type,\n          handler: handler\n        });\n      }\n      return this;\n    }\n\n    // remove an event handler\n    off(type, handler) {\n      const name = this.eventName(type),\n        h = this._handlers[name],\n        i = this._handlerIndex(h, type, handler);\n      if (i >= 0) {\n        h.splice(i, 1);\n      }\n      return this;\n    }\n    pickEvent(evt) {\n      const p = point(evt, this._canvas),\n        o = this._origin;\n      return this.pick(this._scene, p[0], p[1], p[0] - o[0], p[1] - o[1]);\n    }\n\n    // find the scenegraph item at the current pointer position\n    // x, y -- the absolute x, y pointer coordinates on the canvas element\n    // gx, gy -- the relative coordinates within the current group\n    pick(scene, x, y, gx, gy) {\n      const g = this.context(),\n        mark = Marks[scene.marktype];\n      return mark.pick.call(this, g, scene, x, y, gx, gy);\n    }\n  }\n  const eventBundle = type => type === TouchStartEvent || type === TouchMoveEvent || type === TouchEndEvent ? [TouchStartEvent, TouchMoveEvent, TouchEndEvent] : [type];\n\n  // lazily add listeners to the canvas as needed\n  function eventListenerCheck(handler, type) {\n    eventBundle(type).forEach(_ => addEventListener(handler, _));\n  }\n  function addEventListener(handler, type) {\n    const canvas = handler.canvas();\n    if (canvas && !handler._events[type]) {\n      handler._events[type] = 1;\n      canvas.addEventListener(type, handler[type] ? evt => handler[type](evt) : evt => handler.fire(type, evt));\n    }\n  }\n  function fireAll(handler, types, event) {\n    types.forEach(type => handler.fire(type, event));\n  }\n  function move(moveEvents, overEvents, outEvents) {\n    return function (evt) {\n      const a = this._active,\n        p = this.pickEvent(evt);\n      if (p === a) {\n        // active item and picked item are the same\n        fireAll(this, moveEvents, evt); // fire move\n      } else {\n        // active item and picked item are different\n        if (!a || !a.exit) {\n          // fire out for prior active item\n          // suppress if active item was removed from scene\n          fireAll(this, outEvents, evt);\n        }\n        this._active = p; // set new active item\n        fireAll(this, overEvents, evt); // fire over for new active item\n        fireAll(this, moveEvents, evt); // fire move for new active item\n      }\n    };\n  }\n  function inactive(types) {\n    return function (evt) {\n      fireAll(this, types, evt);\n      this._active = null;\n    };\n  }\n\n  function devicePixelRatio() {\n    return typeof window !== 'undefined' ? window.devicePixelRatio || 1 : 1;\n  }\n  function resize (canvas, width, height, origin, scaleFactor, opt) {\n    const inDOM = typeof HTMLElement !== 'undefined' && canvas instanceof HTMLElement && canvas.parentNode != null,\n      context = canvas.getContext('2d'),\n      ratio = inDOM ? devicePixelRatio() : scaleFactor;\n    canvas.width = width * ratio;\n    canvas.height = height * ratio;\n    for (const key in opt) {\n      context[key] = opt[key];\n    }\n    if (inDOM && ratio !== 1) {\n      canvas.style.width = width + 'px';\n      canvas.style.height = height + 'px';\n    }\n    context.pixelRatio = ratio;\n    context.setTransform(ratio, 0, 0, ratio, ratio * origin[0], ratio * origin[1]);\n    return canvas;\n  }\n\n  class CanvasRenderer extends Renderer {\n    constructor(loader) {\n      super(loader);\n      this._options = {};\n      this._redraw = false;\n      this._dirty = new Bounds();\n      this._tempb = new Bounds();\n    }\n    initialize(el, width, height, origin, scaleFactor, options) {\n      this._options = options || {};\n      this._canvas = this._options.externalContext ? null : vegaCanvas.canvas(1, 1, this._options.type); // instantiate a small canvas\n\n      if (el && this._canvas) {\n        domClear(el, 0).appendChild(this._canvas);\n        this._canvas.setAttribute('class', 'marks');\n      }\n\n      // this method will invoke resize to size the canvas appropriately\n      return super.initialize(el, width, height, origin, scaleFactor);\n    }\n    resize(width, height, origin, scaleFactor) {\n      super.resize(width, height, origin, scaleFactor);\n      if (this._canvas) {\n        // configure canvas size and transform\n        resize(this._canvas, this._width, this._height, this._origin, this._scale, this._options.context);\n      } else {\n        // external context needs to be scaled and positioned to origin\n        const ctx = this._options.externalContext;\n        if (!ctx) vegaUtil.error('CanvasRenderer is missing a valid canvas or context');\n        ctx.scale(this._scale, this._scale);\n        ctx.translate(this._origin[0], this._origin[1]);\n      }\n      this._redraw = true;\n      return this;\n    }\n    canvas() {\n      return this._canvas;\n    }\n    context() {\n      return this._options.externalContext || (this._canvas ? this._canvas.getContext('2d') : null);\n    }\n    dirty(item) {\n      const b = this._tempb.clear().union(item.bounds);\n      let g = item.mark.group;\n      while (g) {\n        b.translate(g.x || 0, g.y || 0);\n        g = g.mark.group;\n      }\n      this._dirty.union(b);\n    }\n    _render(scene, markTypes) {\n      const g = this.context(),\n        o = this._origin,\n        w = this._width,\n        h = this._height,\n        db = this._dirty,\n        vb = viewBounds(o, w, h);\n\n      // setup\n      g.save();\n      const b = this._redraw || db.empty() ? (this._redraw = false, vb.expand(1)) : clipToBounds(g, vb.intersect(db), o);\n      this.clear(-o[0], -o[1], w, h);\n\n      // render\n      this.draw(g, scene, b, markTypes);\n\n      // takedown\n      g.restore();\n      db.clear();\n      return this;\n    }\n    draw(ctx, scene, bounds, markTypes) {\n      if (scene.marktype !== 'group' && markTypes != null && !markTypes.includes(scene.marktype)) {\n        return;\n      }\n      const mark = Marks[scene.marktype];\n      if (scene.clip) clip(ctx, scene);\n      mark.draw.call(this, ctx, scene, bounds, markTypes);\n      if (scene.clip) ctx.restore();\n    }\n    clear(x, y, w, h) {\n      const opt = this._options,\n        g = this.context();\n      if (opt.type !== 'pdf' && !opt.externalContext) {\n        // calling clear rect voids vector output in pdf mode\n        // and could remove external context content (#2615)\n        g.clearRect(x, y, w, h);\n      }\n      if (this._bgcolor != null) {\n        g.fillStyle = this._bgcolor;\n        g.fillRect(x, y, w, h);\n      }\n    }\n  }\n  const viewBounds = (origin, width, height) => new Bounds().set(0, 0, width, height).translate(-origin[0], -origin[1]);\n  function clipToBounds(g, b, origin) {\n    // expand bounds by 1 pixel, then round to pixel boundaries\n    b.expand(1).round();\n\n    // align to base pixel grid in case of non-integer scaling (#2425)\n    if (g.pixelRatio % 1) {\n      b.scale(g.pixelRatio).round().scale(1 / g.pixelRatio);\n    }\n\n    // to avoid artifacts translate if origin has fractional pixels\n    b.translate(-(origin[0] % 1), -(origin[1] % 1));\n\n    // set clip path\n    g.beginPath();\n    g.rect(b.x1, b.y1, b.width(), b.height());\n    g.clip();\n    return b;\n  }\n\n  class SVGHandler extends Handler {\n    constructor(loader, tooltip) {\n      super(loader, tooltip);\n      const h = this;\n      h._hrefHandler = listener(h, (evt, item) => {\n        if (item && item.href) h.handleHref(evt, item, item.href);\n      });\n      h._tooltipHandler = listener(h, (evt, item) => {\n        h.handleTooltip(evt, item, evt.type !== TooltipHideEvent);\n      });\n    }\n    initialize(el, origin, obj) {\n      let svg = this._svg;\n      if (svg) {\n        svg.removeEventListener(HrefEvent, this._hrefHandler);\n        svg.removeEventListener(TooltipShowEvent, this._tooltipHandler);\n        svg.removeEventListener(TooltipHideEvent, this._tooltipHandler);\n      }\n      this._svg = svg = el && domFind(el, 'svg');\n      if (svg) {\n        svg.addEventListener(HrefEvent, this._hrefHandler);\n        svg.addEventListener(TooltipShowEvent, this._tooltipHandler);\n        svg.addEventListener(TooltipHideEvent, this._tooltipHandler);\n      }\n      return super.initialize(el, origin, obj);\n    }\n    canvas() {\n      return this._svg;\n    }\n\n    // add an event handler\n    on(type, handler) {\n      const name = this.eventName(type),\n        h = this._handlers,\n        i = this._handlerIndex(h[name], type, handler);\n      if (i < 0) {\n        const x = {\n          type,\n          handler,\n          listener: listener(this, handler)\n        };\n        (h[name] || (h[name] = [])).push(x);\n        if (this._svg) {\n          this._svg.addEventListener(name, x.listener);\n        }\n      }\n      return this;\n    }\n\n    // remove an event handler\n    off(type, handler) {\n      const name = this.eventName(type),\n        h = this._handlers[name],\n        i = this._handlerIndex(h, type, handler);\n      if (i >= 0) {\n        if (this._svg) {\n          this._svg.removeEventListener(name, h[i].listener);\n        }\n        h.splice(i, 1);\n      }\n      return this;\n    }\n  }\n\n  // wrap an event listener for the SVG DOM\n  const listener = (context, handler) => evt => {\n    let item = evt.target.__data__;\n    item = Array.isArray(item) ? item[0] : item;\n    evt.vegaType = evt.type;\n    handler.call(context._obj, evt, item);\n  };\n\n  const ARIA_HIDDEN = 'aria-hidden';\n  const ARIA_LABEL = 'aria-label';\n  const ARIA_ROLE = 'role';\n  const ARIA_ROLEDESCRIPTION = 'aria-roledescription';\n  const GRAPHICS_OBJECT = 'graphics-object';\n  const GRAPHICS_SYMBOL = 'graphics-symbol';\n  const bundle = (role, roledesc, label) => ({\n    [ARIA_ROLE]: role,\n    [ARIA_ROLEDESCRIPTION]: roledesc,\n    [ARIA_LABEL]: label || undefined\n  });\n\n  // these roles are covered by related roles\n  // we can ignore them, no need to generate attributes\n  const AriaIgnore = vegaUtil.toSet(['axis-domain', 'axis-grid', 'axis-label', 'axis-tick', 'axis-title', 'legend-band', 'legend-entry', 'legend-gradient', 'legend-label', 'legend-title', 'legend-symbol', 'title']);\n\n  // aria attribute generators for guide roles\n  const AriaGuides = {\n    'axis': {\n      desc: 'axis',\n      caption: axisCaption\n    },\n    'legend': {\n      desc: 'legend',\n      caption: legendCaption\n    },\n    'title-text': {\n      desc: 'title',\n      caption: item => `Title text '${titleCaption(item)}'`\n    },\n    'title-subtitle': {\n      desc: 'subtitle',\n      caption: item => `Subtitle text '${titleCaption(item)}'`\n    }\n  };\n\n  // aria properties generated for mark item encoding channels\n  const AriaEncode = {\n    ariaRole: ARIA_ROLE,\n    ariaRoleDescription: ARIA_ROLEDESCRIPTION,\n    description: ARIA_LABEL\n  };\n  function ariaItemAttributes(emit, item) {\n    const hide = item.aria === false;\n    emit(ARIA_HIDDEN, hide || undefined);\n    if (hide || item.description == null) {\n      for (const prop in AriaEncode) {\n        emit(AriaEncode[prop], undefined);\n      }\n    } else {\n      const type = item.mark.marktype;\n      emit(ARIA_LABEL, item.description);\n      emit(ARIA_ROLE, item.ariaRole || (type === 'group' ? GRAPHICS_OBJECT : GRAPHICS_SYMBOL));\n      emit(ARIA_ROLEDESCRIPTION, item.ariaRoleDescription || `${type} mark`);\n    }\n  }\n  function ariaMarkAttributes(mark) {\n    return mark.aria === false ? {\n      [ARIA_HIDDEN]: true\n    } : AriaIgnore[mark.role] ? null : AriaGuides[mark.role] ? ariaGuide(mark, AriaGuides[mark.role]) : ariaMark(mark);\n  }\n  function ariaMark(mark) {\n    const type = mark.marktype;\n    const recurse = type === 'group' || type === 'text' || mark.items.some(_ => _.description != null && _.aria !== false);\n    return bundle(recurse ? GRAPHICS_OBJECT : GRAPHICS_SYMBOL, `${type} mark container`, mark.description);\n  }\n  function ariaGuide(mark, opt) {\n    try {\n      const item = mark.items[0],\n        caption = opt.caption || (() => '');\n      return bundle(opt.role || GRAPHICS_SYMBOL, opt.desc, item.description || caption(item));\n    } catch (err) {\n      return null;\n    }\n  }\n  function titleCaption(item) {\n    return vegaUtil.array(item.text).join(' ');\n  }\n  function axisCaption(item) {\n    const datum = item.datum,\n      orient = item.orient,\n      title = datum.title ? extractTitle(item) : null,\n      ctx = item.context,\n      scale = ctx.scales[datum.scale].value,\n      locale = ctx.dataflow.locale(),\n      type = scale.type,\n      xy = orient === 'left' || orient === 'right' ? 'Y' : 'X';\n    return `${xy}-axis` + (title ? ` titled '${title}'` : '') + ` for a ${vegaScale.isDiscrete(type) ? 'discrete' : type} scale` + ` with ${vegaScale.domainCaption(locale, scale, item)}`;\n  }\n  function legendCaption(item) {\n    const datum = item.datum,\n      title = datum.title ? extractTitle(item) : null,\n      type = `${datum.type || ''} legend`.trim(),\n      scales = datum.scales,\n      props = Object.keys(scales),\n      ctx = item.context,\n      scale = ctx.scales[scales[props[0]]].value,\n      locale = ctx.dataflow.locale();\n    return capitalize(type) + (title ? ` titled '${title}'` : '') + ` for ${channelCaption(props)}` + ` with ${vegaScale.domainCaption(locale, scale, item)}`;\n  }\n  function extractTitle(item) {\n    try {\n      return vegaUtil.array(vegaUtil.peek(item.items).items[0].text).join(' ');\n    } catch (err) {\n      return null;\n    }\n  }\n  function channelCaption(props) {\n    props = props.map(p => p + (p === 'fill' || p === 'stroke' ? ' color' : ''));\n    return props.length < 2 ? props[0] : props.slice(0, -1).join(', ') + ' and ' + vegaUtil.peek(props);\n  }\n  function capitalize(s) {\n    return s.length ? s[0].toUpperCase() + s.slice(1) : s;\n  }\n\n  const innerText = val => (val + '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  const attrText = val => innerText(val).replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n  function markup() {\n    let buf = '',\n      outer = '',\n      inner = '';\n    const stack = [],\n      clear = () => outer = inner = '',\n      push = tag => {\n        if (outer) {\n          buf += `${outer}>${inner}`;\n          clear();\n        }\n        stack.push(tag);\n      },\n      attr = (name, value) => {\n        if (value != null) outer += ` ${name}=\"${attrText(value)}\"`;\n        return m;\n      },\n      m = {\n        open(tag, ...attrs) {\n          push(tag);\n          outer = '<' + tag;\n          for (const set of attrs) {\n            for (const key in set) attr(key, set[key]);\n          }\n          return m;\n        },\n        close() {\n          const tag = stack.pop();\n          if (outer) {\n            buf += outer + (inner ? `>${inner}</${tag}>` : '/>');\n          } else {\n            buf += `</${tag}>`;\n          }\n          clear();\n          return m;\n        },\n        attr,\n        text: t => (inner += innerText(t), m),\n        toString: () => buf\n      };\n    return m;\n  }\n  const serializeXML = node => _serialize(markup(), node) + '';\n  function _serialize(m, node) {\n    m.open(node.tagName);\n    if (node.hasAttributes()) {\n      const attrs = node.attributes,\n        n = attrs.length;\n      for (let i = 0; i < n; ++i) {\n        m.attr(attrs[i].name, attrs[i].value);\n      }\n    }\n    if (node.hasChildNodes()) {\n      const children = node.childNodes;\n      for (const child of children) {\n        child.nodeType === 3 // text node\n        ? m.text(child.nodeValue) : _serialize(m, child);\n      }\n    }\n    return m.close();\n  }\n\n  const stylesAttr = {\n    fill: 'fill',\n    fillOpacity: 'fill-opacity',\n    stroke: 'stroke',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    strokeCap: 'stroke-linecap',\n    strokeJoin: 'stroke-linejoin',\n    strokeDash: 'stroke-dasharray',\n    strokeDashOffset: 'stroke-dashoffset',\n    strokeMiterLimit: 'stroke-miterlimit',\n    opacity: 'opacity'\n  };\n  const stylesCss = {\n    blend: 'mix-blend-mode'\n  };\n\n  // ensure miter limit default is consistent with canvas (#2498)\n  const rootAttributes = {\n    'fill': 'none',\n    'stroke-miterlimit': 10\n  };\n\n  const RootIndex = 0,\n    xmlns = 'http://www.w3.org/2000/xmlns/',\n    svgns = metadata.xmlns;\n  class SVGRenderer extends Renderer {\n    constructor(loader) {\n      super(loader);\n      this._dirtyID = 0;\n      this._dirty = [];\n      this._svg = null;\n      this._root = null;\n      this._defs = null;\n    }\n\n    /**\n     * Initialize a new SVGRenderer instance.\n     * @param {DOMElement} el - The containing DOM element for the display.\n     * @param {number} width - The coordinate width of the display, in pixels.\n     * @param {number} height - The coordinate height of the display, in pixels.\n     * @param {Array<number>} origin - The origin of the display, in pixels.\n     *   The coordinate system will be translated to this point.\n     * @param {number} [scaleFactor=1] - Optional scaleFactor by which to multiply\n     *   the width and height to determine the final pixel size.\n     * @return {SVGRenderer} - This renderer instance.\n     */\n    initialize(el, width, height, origin, scaleFactor) {\n      // create the svg definitions cache\n      this._defs = {};\n      this._clearDefs();\n      if (el) {\n        this._svg = domChild(el, 0, 'svg', svgns);\n        this._svg.setAttributeNS(xmlns, 'xmlns', svgns);\n        this._svg.setAttributeNS(xmlns, 'xmlns:xlink', metadata['xmlns:xlink']);\n        this._svg.setAttribute('version', metadata['version']);\n        this._svg.setAttribute('class', 'marks');\n        domClear(el, 1);\n\n        // set the svg root group\n        this._root = domChild(this._svg, RootIndex, 'g', svgns);\n        setAttributes(this._root, rootAttributes);\n\n        // ensure no additional child elements\n        domClear(this._svg, RootIndex + 1);\n      }\n\n      // set background color if defined\n      this.background(this._bgcolor);\n      return super.initialize(el, width, height, origin, scaleFactor);\n    }\n\n    /**\n     * Get / set the background color.\n     */\n    background(bgcolor) {\n      if (arguments.length && this._svg) {\n        this._svg.style.setProperty('background-color', bgcolor);\n      }\n      return super.background(...arguments);\n    }\n\n    /**\n     * Resize the display.\n     * @param {number} width - The new coordinate width of the display, in pixels.\n     * @param {number} height - The new coordinate height of the display, in pixels.\n     * @param {Array<number>} origin - The new origin of the display, in pixels.\n     *   The coordinate system will be translated to this point.\n     * @param {number} [scaleFactor=1] - Optional scaleFactor by which to multiply\n     *   the width and height to determine the final pixel size.\n     * @return {SVGRenderer} - This renderer instance;\n     */\n    resize(width, height, origin, scaleFactor) {\n      super.resize(width, height, origin, scaleFactor);\n      if (this._svg) {\n        setAttributes(this._svg, {\n          width: this._width * this._scale,\n          height: this._height * this._scale,\n          viewBox: `0 0 ${this._width} ${this._height}`\n        });\n        this._root.setAttribute('transform', `translate(${this._origin})`);\n      }\n      this._dirty = [];\n      return this;\n    }\n\n    /**\n     * Returns the SVG element of the visualization.\n     * @return {DOMElement} - The SVG element.\n     */\n    canvas() {\n      return this._svg;\n    }\n\n    /**\n     * Returns an SVG text string for the rendered content,\n     * or null if this renderer is currently headless.\n     */\n    svg() {\n      const svg = this._svg,\n        bg = this._bgcolor;\n      if (!svg) return null;\n      let node;\n      if (bg) {\n        svg.removeAttribute('style');\n        node = domChild(svg, RootIndex, 'rect', svgns);\n        setAttributes(node, {\n          width: this._width,\n          height: this._height,\n          fill: bg\n        });\n      }\n      const text = serializeXML(svg);\n      if (bg) {\n        svg.removeChild(node);\n        this._svg.style.setProperty('background-color', bg);\n      }\n      return text;\n    }\n\n    /**\n     * Internal rendering method.\n     * @param {object} scene - The root mark of a scenegraph to render.\n     * @param {Array} markTypes - Array of the mark types to render.\n     *                            If undefined, render all mark types\n     */\n    _render(scene, markTypes) {\n      // perform spot updates and re-render markup\n      if (this._dirtyCheck()) {\n        if (this._dirtyAll) this._clearDefs();\n        this.mark(this._root, scene, undefined, markTypes);\n        domClear(this._root, 1);\n      }\n      this.defs();\n      this._dirty = [];\n      ++this._dirtyID;\n      return this;\n    }\n\n    // -- Manage rendering of items marked as dirty --\n\n    /**\n     * Flag a mark item as dirty.\n     * @param {Item} item - The mark item.\n     */\n    dirty(item) {\n      if (item.dirty !== this._dirtyID) {\n        item.dirty = this._dirtyID;\n        this._dirty.push(item);\n      }\n    }\n\n    /**\n     * Check if a mark item is considered dirty.\n     * @param {Item} item - The mark item.\n     */\n    isDirty(item) {\n      return this._dirtyAll || !item._svg || !item._svg.ownerSVGElement || item.dirty === this._dirtyID;\n    }\n\n    /**\n     * Internal method to check dirty status and, if possible,\n     * make targetted updates without a full rendering pass.\n     */\n    _dirtyCheck() {\n      this._dirtyAll = true;\n      const items = this._dirty;\n      if (!items.length || !this._dirtyID) return true;\n      const id = ++this._dirtyID;\n      let item, mark, type, mdef, i, n, o;\n      for (i = 0, n = items.length; i < n; ++i) {\n        item = items[i];\n        mark = item.mark;\n        if (mark.marktype !== type) {\n          // memoize mark instance lookup\n          type = mark.marktype;\n          mdef = Marks[type];\n        }\n        if (mark.zdirty && mark.dirty !== id) {\n          this._dirtyAll = false;\n          dirtyParents(item, id);\n          mark.items.forEach(i => {\n            i.dirty = id;\n          });\n        }\n        if (mark.zdirty) continue; // handle in standard drawing pass\n\n        if (item.exit) {\n          // EXIT\n          if (mdef.nested && mark.items.length) {\n            // if nested mark with remaining points, update instead\n            o = mark.items[0];\n            if (o._svg) this._update(mdef, o._svg, o);\n          } else if (item._svg) {\n            // otherwise remove from DOM\n            o = item._svg.parentNode;\n            if (o) o.removeChild(item._svg);\n          }\n          item._svg = null;\n          continue;\n        }\n        item = mdef.nested ? mark.items[0] : item;\n        if (item._update === id) continue; // already visited\n\n        if (!item._svg || !item._svg.ownerSVGElement) {\n          // ENTER\n          this._dirtyAll = false;\n          dirtyParents(item, id);\n        } else {\n          // IN-PLACE UPDATE\n          this._update(mdef, item._svg, item);\n        }\n        item._update = id;\n      }\n      return !this._dirtyAll;\n    }\n\n    // -- Construct & maintain scenegraph to SVG mapping ---\n\n    /**\n     * Render a set of mark items.\n     * @param {SVGElement} el - The parent element in the SVG tree.\n     * @param {object} scene - The mark parent to render.\n     * @param {SVGElement} prev - The previous sibling in the SVG tree.\n     * @param {Array} markTypes - Array of the mark types to render.\n     *                            If undefined, render all mark types\n     */\n    mark(el, scene, prev, markTypes) {\n      if (!this.isDirty(scene)) {\n        return scene._svg;\n      }\n      const svg = this._svg,\n        markType = scene.marktype,\n        mdef = Marks[markType],\n        events = scene.interactive === false ? 'none' : null,\n        isGroup = mdef.tag === 'g';\n      const parent = bind(scene, el, prev, 'g', svg);\n      if (markType !== 'group' && markTypes != null && !markTypes.includes(markType)) {\n        domClear(parent, 0);\n        return scene._svg;\n      }\n      parent.setAttribute('class', cssClass(scene));\n\n      // apply aria attributes to parent container element\n      const aria = ariaMarkAttributes(scene);\n      for (const key in aria) setAttribute(parent, key, aria[key]);\n      if (!isGroup) {\n        setAttribute(parent, 'pointer-events', events);\n      }\n      setAttribute(parent, 'clip-path', scene.clip ? clip$1(this, scene, scene.group) : null);\n      let sibling = null,\n        i = 0;\n      const process = item => {\n        const dirty = this.isDirty(item),\n          node = bind(item, parent, sibling, mdef.tag, svg);\n        if (dirty) {\n          this._update(mdef, node, item);\n          if (isGroup) recurse(this, node, item, markTypes);\n        }\n        sibling = node;\n        ++i;\n      };\n      if (mdef.nested) {\n        if (scene.items.length) process(scene.items[0]);\n      } else {\n        visit(scene, process);\n      }\n      domClear(parent, i);\n      return parent;\n    }\n\n    /**\n     * Update the attributes of an SVG element for a mark item.\n     * @param {object} mdef - The mark definition object\n     * @param {SVGElement} el - The SVG element.\n     * @param {Item} item - The mark item.\n     */\n    _update(mdef, el, item) {\n      // set dom element and values cache\n      // provides access to emit method\n      element = el;\n      values = el.__values__;\n\n      // apply aria-specific properties\n      ariaItemAttributes(emit, item);\n\n      // apply svg attributes\n      mdef.attr(emit, item, this);\n\n      // some marks need special treatment\n      const extra = mark_extras[mdef.type];\n      if (extra) extra.call(this, mdef, el, item);\n\n      // apply svg style attributes\n      // note: element state may have been modified by 'extra' method\n      if (element) this.style(element, item);\n    }\n\n    /**\n     * Update the presentation attributes of an SVG element for a mark item.\n     * @param {SVGElement} el - The SVG element.\n     * @param {Item} item - The mark item.\n     */\n    style(el, item) {\n      if (item == null) return;\n      for (const prop in stylesAttr) {\n        let value = prop === 'font' ? fontFamily(item) : item[prop];\n        if (value === values[prop]) continue;\n        const name = stylesAttr[prop];\n        if (value == null) {\n          el.removeAttribute(name);\n        } else {\n          if (isGradient(value)) {\n            value = gradientRef(value, this._defs.gradient, href());\n          }\n          el.setAttribute(name, value + '');\n        }\n        values[prop] = value;\n      }\n      for (const prop in stylesCss) {\n        setStyle(el, stylesCss[prop], item[prop]);\n      }\n    }\n\n    /**\n     * Render SVG defs, as needed.\n     * Must be called *after* marks have been processed to ensure the\n     * collected state is current and accurate.\n     */\n    defs() {\n      const svg = this._svg,\n        defs = this._defs;\n      let el = defs.el,\n        index = 0;\n      for (const id in defs.gradient) {\n        if (!el) defs.el = el = domChild(svg, RootIndex + 1, 'defs', svgns);\n        index = updateGradient(el, defs.gradient[id], index);\n      }\n      for (const id in defs.clipping) {\n        if (!el) defs.el = el = domChild(svg, RootIndex + 1, 'defs', svgns);\n        index = updateClipping(el, defs.clipping[id], index);\n      }\n\n      // clean-up\n      if (el) {\n        index === 0 ? (svg.removeChild(el), defs.el = null) : domClear(el, index);\n      }\n    }\n\n    /**\n     * Clear defs caches.\n     */\n    _clearDefs() {\n      const def = this._defs;\n      def.gradient = {};\n      def.clipping = {};\n    }\n  }\n\n  // mark ancestor chain with a dirty id\n  function dirtyParents(item, id) {\n    for (; item && item.dirty !== id; item = item.mark.group) {\n      item.dirty = id;\n      if (item.mark && item.mark.dirty !== id) {\n        item.mark.dirty = id;\n      } else return;\n    }\n  }\n\n  // update gradient definitions\n  function updateGradient(el, grad, index) {\n    let i, n, stop;\n    if (grad.gradient === 'radial') {\n      // SVG radial gradients automatically transform to normalized bbox\n      // coordinates, in a way that is cumbersome to replicate in canvas.\n      // We wrap the radial gradient in a pattern element, allowing us to\n      // maintain a circular gradient that matches what canvas provides.\n      let pt = domChild(el, index++, 'pattern', svgns);\n      setAttributes(pt, {\n        id: patternPrefix + grad.id,\n        viewBox: '0,0,1,1',\n        width: '100%',\n        height: '100%',\n        preserveAspectRatio: 'xMidYMid slice'\n      });\n      pt = domChild(pt, 0, 'rect', svgns);\n      setAttributes(pt, {\n        width: 1,\n        height: 1,\n        fill: `url(${href()}#${grad.id})`\n      });\n      el = domChild(el, index++, 'radialGradient', svgns);\n      setAttributes(el, {\n        id: grad.id,\n        fx: grad.x1,\n        fy: grad.y1,\n        fr: grad.r1,\n        cx: grad.x2,\n        cy: grad.y2,\n        r: grad.r2\n      });\n    } else {\n      el = domChild(el, index++, 'linearGradient', svgns);\n      setAttributes(el, {\n        id: grad.id,\n        x1: grad.x1,\n        x2: grad.x2,\n        y1: grad.y1,\n        y2: grad.y2\n      });\n    }\n    for (i = 0, n = grad.stops.length; i < n; ++i) {\n      stop = domChild(el, i, 'stop', svgns);\n      stop.setAttribute('offset', grad.stops[i].offset);\n      stop.setAttribute('stop-color', grad.stops[i].color);\n    }\n    domClear(el, i);\n    return index;\n  }\n\n  // update clipping path definitions\n  function updateClipping(el, clip, index) {\n    let mask;\n    el = domChild(el, index, 'clipPath', svgns);\n    el.setAttribute('id', clip.id);\n    if (clip.path) {\n      mask = domChild(el, 0, 'path', svgns);\n      mask.setAttribute('d', clip.path);\n    } else {\n      mask = domChild(el, 0, 'rect', svgns);\n      setAttributes(mask, {\n        x: 0,\n        y: 0,\n        width: clip.width,\n        height: clip.height\n      });\n    }\n    domClear(el, 1);\n    return index + 1;\n  }\n\n  // Recursively process group contents.\n  function recurse(renderer, el, group, markTypes) {\n    // child 'g' element is second to last among children (path, g, path)\n    // other children here are foreground and background path elements\n    el = el.lastChild.previousSibling;\n    let prev,\n      idx = 0;\n    visit(group, item => {\n      prev = renderer.mark(el, item, prev, markTypes);\n      ++idx;\n    });\n\n    // remove any extraneous DOM elements\n    domClear(el, 1 + idx);\n  }\n\n  // Bind a scenegraph item to an SVG DOM element.\n  // Create new SVG elements as needed.\n  function bind(item, el, sibling, tag, svg) {\n    let node = item._svg,\n      doc;\n\n    // create a new dom node if needed\n    if (!node) {\n      doc = el.ownerDocument;\n      node = domCreate(doc, tag, svgns);\n      item._svg = node;\n      if (item.mark) {\n        node.__data__ = item;\n        node.__values__ = {\n          fill: 'default'\n        };\n\n        // if group, create background, content, and foreground elements\n        if (tag === 'g') {\n          const bg = domCreate(doc, 'path', svgns);\n          node.appendChild(bg);\n          bg.__data__ = item;\n          const cg = domCreate(doc, 'g', svgns);\n          node.appendChild(cg);\n          cg.__data__ = item;\n          const fg = domCreate(doc, 'path', svgns);\n          node.appendChild(fg);\n          fg.__data__ = item;\n          fg.__values__ = {\n            fill: 'default'\n          };\n        }\n      }\n    }\n\n    // (re-)insert if (a) not contained in SVG or (b) sibling order has changed\n    if (node.ownerSVGElement !== svg || siblingCheck(node, sibling)) {\n      el.insertBefore(node, sibling ? sibling.nextSibling : el.firstChild);\n    }\n    return node;\n  }\n\n  // check if two nodes are ordered siblings\n  function siblingCheck(node, sibling) {\n    return node.parentNode && node.parentNode.childNodes.length > 1 && node.previousSibling != sibling; // treat null/undefined the same\n  }\n\n  // -- Set attributes & styles on SVG elements ---\n\n  let element = null,\n    // temp var for current SVG element\n    values = null; // temp var for current values hash\n\n  // Extra configuration for certain mark types\n  const mark_extras = {\n    group(mdef, el, item) {\n      const fg = element = el.childNodes[2];\n      values = fg.__values__;\n      mdef.foreground(emit, item, this);\n      values = el.__values__; // use parent's values hash\n      element = el.childNodes[1];\n      mdef.content(emit, item, this);\n      const bg = element = el.childNodes[0];\n      mdef.background(emit, item, this);\n      const value = item.mark.interactive === false ? 'none' : null;\n      if (value !== values.events) {\n        setAttribute(fg, 'pointer-events', value);\n        setAttribute(bg, 'pointer-events', value);\n        values.events = value;\n      }\n      if (item.strokeForeground && item.stroke) {\n        const fill = item.fill;\n        setAttribute(fg, 'display', null);\n\n        // set style of background\n        this.style(bg, item);\n        setAttribute(bg, 'stroke', null);\n\n        // set style of foreground\n        if (fill) item.fill = null;\n        values = fg.__values__;\n        this.style(fg, item);\n        if (fill) item.fill = fill;\n\n        // leave element null to prevent downstream styling\n        element = null;\n      } else {\n        // ensure foreground is ignored\n        setAttribute(fg, 'display', 'none');\n      }\n    },\n    image(mdef, el, item) {\n      if (item.smooth === false) {\n        setStyle(el, 'image-rendering', 'optimizeSpeed');\n        setStyle(el, 'image-rendering', 'pixelated');\n      } else {\n        setStyle(el, 'image-rendering', null);\n      }\n    },\n    text(mdef, el, item) {\n      const tl = textLines(item);\n      let key, value, doc, lh;\n      if (vegaUtil.isArray(tl)) {\n        // multi-line text\n        value = tl.map(_ => textValue(item, _));\n        key = value.join('\\n'); // content cache key\n\n        if (key !== values.text) {\n          domClear(el, 0);\n          doc = el.ownerDocument;\n          lh = lineHeight(item);\n          value.forEach((t, i) => {\n            const ts = domCreate(doc, 'tspan', svgns);\n            ts.__data__ = item; // data binding\n            ts.textContent = t;\n            if (i) {\n              ts.setAttribute('x', 0);\n              ts.setAttribute('dy', lh);\n            }\n            el.appendChild(ts);\n          });\n          values.text = key;\n        }\n      } else {\n        // single-line text\n        value = textValue(item, tl);\n        if (value !== values.text) {\n          el.textContent = value;\n          values.text = value;\n        }\n      }\n      setAttribute(el, 'font-family', fontFamily(item));\n      setAttribute(el, 'font-size', fontSize(item) + 'px');\n      setAttribute(el, 'font-style', item.fontStyle);\n      setAttribute(el, 'font-variant', item.fontVariant);\n      setAttribute(el, 'font-weight', item.fontWeight);\n    }\n  };\n  function emit(name, value, ns) {\n    // early exit if value is unchanged\n    if (value === values[name]) return;\n\n    // use appropriate method given namespace (ns)\n    if (ns) {\n      setAttributeNS(element, name, value, ns);\n    } else {\n      setAttribute(element, name, value);\n    }\n\n    // note current value for future comparison\n    values[name] = value;\n  }\n  function setStyle(el, name, value) {\n    if (value !== values[name]) {\n      if (value == null) {\n        el.style.removeProperty(name);\n      } else {\n        el.style.setProperty(name, value + '');\n      }\n      values[name] = value;\n    }\n  }\n  function setAttributes(el, attrs) {\n    for (const key in attrs) {\n      setAttribute(el, key, attrs[key]);\n    }\n  }\n  function setAttribute(el, name, value) {\n    if (value != null) {\n      // if value is provided, update DOM attribute\n      el.setAttribute(name, value);\n    } else {\n      // else remove DOM attribute\n      el.removeAttribute(name);\n    }\n  }\n  function setAttributeNS(el, name, value, ns) {\n    if (value != null) {\n      // if value is provided, update DOM attribute\n      el.setAttributeNS(ns, name, value);\n    } else {\n      // else remove DOM attribute\n      el.removeAttributeNS(ns, name);\n    }\n  }\n  function href() {\n    let loc;\n    return typeof window === 'undefined' ? '' : (loc = window.location).hash ? loc.href.slice(0, -loc.hash.length) : loc.href;\n  }\n\n  class SVGStringRenderer extends Renderer {\n    constructor(loader) {\n      super(loader);\n      this._text = null;\n      this._defs = {\n        gradient: {},\n        clipping: {}\n      };\n    }\n\n    /**\n     * Returns the rendered SVG text string,\n     * or null if rendering has not yet occurred.\n     */\n    svg() {\n      return this._text;\n    }\n\n    /**\n     * Internal rendering method.\n     * @param {object} scene - The root mark of a scenegraph to render.\n     */\n    _render(scene) {\n      const m = markup();\n\n      // svg tag\n      m.open('svg', vegaUtil.extend({}, metadata, {\n        class: 'marks',\n        width: this._width * this._scale,\n        height: this._height * this._scale,\n        viewBox: `0 0 ${this._width} ${this._height}`\n      }));\n\n      // background, if defined\n      const bg = this._bgcolor;\n      if (bg && bg !== 'transparent' && bg !== 'none') {\n        m.open('rect', {\n          width: this._width,\n          height: this._height,\n          fill: bg\n        }).close();\n      }\n\n      // root content group\n      m.open('g', rootAttributes, {\n        transform: 'translate(' + this._origin + ')'\n      });\n      this.mark(m, scene);\n      m.close(); // </g>\n\n      // defs\n      this.defs(m);\n\n      // get SVG text string\n      this._text = m.close() + '';\n      return this;\n    }\n\n    /**\n     * Render a set of mark items.\n     * @param {object} m - The markup context.\n     * @param {object} scene - The mark parent to render.\n     */\n    mark(m, scene) {\n      const mdef = Marks[scene.marktype],\n        tag = mdef.tag,\n        attrList = [ariaItemAttributes, mdef.attr];\n\n      // render opening group tag\n      m.open('g', {\n        'class': cssClass(scene),\n        'clip-path': scene.clip ? clip$1(this, scene, scene.group) : null\n      }, ariaMarkAttributes(scene), {\n        'pointer-events': tag !== 'g' && scene.interactive === false ? 'none' : null\n      });\n\n      // render contained elements\n      const process = item => {\n        const href = this.href(item);\n        if (href) m.open('a', href);\n        m.open(tag, this.attr(scene, item, attrList, tag !== 'g' ? tag : null));\n        if (tag === 'text') {\n          const tl = textLines(item);\n          if (vegaUtil.isArray(tl)) {\n            // multi-line text\n            const attrs = {\n              x: 0,\n              dy: lineHeight(item)\n            };\n            for (let i = 0; i < tl.length; ++i) {\n              m.open('tspan', i ? attrs : null).text(textValue(item, tl[i])).close();\n            }\n          } else {\n            // single-line text\n            m.text(textValue(item, tl));\n          }\n        } else if (tag === 'g') {\n          const fore = item.strokeForeground,\n            fill = item.fill,\n            stroke = item.stroke;\n          if (fore && stroke) {\n            item.stroke = null;\n          }\n          m.open('path', this.attr(scene, item, mdef.background, 'bgrect')).close();\n\n          // recurse for group content\n          m.open('g', this.attr(scene, item, mdef.content));\n          visit(item, scene => this.mark(m, scene));\n          m.close();\n          if (fore && stroke) {\n            if (fill) item.fill = null;\n            item.stroke = stroke;\n            m.open('path', this.attr(scene, item, mdef.foreground, 'bgrect')).close();\n            if (fill) item.fill = fill;\n          } else {\n            m.open('path', this.attr(scene, item, mdef.foreground, 'bgfore')).close();\n          }\n        }\n        m.close(); // </tag>\n        if (href) m.close(); // </a>\n      };\n      if (mdef.nested) {\n        if (scene.items && scene.items.length) process(scene.items[0]);\n      } else {\n        visit(scene, process);\n      }\n\n      // render closing group tag\n      return m.close(); // </g>\n    }\n\n    /**\n     * Get href attributes for a hyperlinked mark item.\n     * @param {Item} item - The mark item.\n     */\n    href(item) {\n      const href = item.href;\n      let attr;\n      if (href) {\n        if (attr = this._hrefs && this._hrefs[href]) {\n          return attr;\n        } else {\n          this.sanitizeURL(href).then(attr => {\n            // rewrite to use xlink namespace\n            attr['xlink:href'] = attr.href;\n            attr.href = null;\n            (this._hrefs || (this._hrefs = {}))[href] = attr;\n          });\n        }\n      }\n      return null;\n    }\n\n    /**\n     * Get an object of SVG attributes for a mark item.\n     * @param {object} scene - The mark parent.\n     * @param {Item} item - The mark item.\n     * @param {array|function} attrs - One or more attribute emitters.\n     * @param {string} tag - The tag being rendered.\n     */\n    attr(scene, item, attrs, tag) {\n      const object = {},\n        emit = (name, value, ns, prefixed) => {\n          object[prefixed || name] = value;\n        };\n\n      // apply mark specific attributes\n      if (Array.isArray(attrs)) {\n        attrs.forEach(fn => fn(emit, item, this));\n      } else {\n        attrs(emit, item, this);\n      }\n\n      // apply style attributes\n      if (tag) {\n        style(object, item, scene, tag, this._defs);\n      }\n      return object;\n    }\n\n    /**\n     * Render SVG defs, as needed.\n     * Must be called *after* marks have been processed to ensure the\n     * collected state is current and accurate.\n     * @param {object} m - The markup context.\n     */\n    defs(m) {\n      const gradient = this._defs.gradient,\n        clipping = this._defs.clipping,\n        count = Object.keys(gradient).length + Object.keys(clipping).length;\n      if (count === 0) return; // nothing to do\n\n      m.open('defs');\n      for (const id in gradient) {\n        const def = gradient[id],\n          stops = def.stops;\n        if (def.gradient === 'radial') {\n          // SVG radial gradients automatically transform to normalized bbox\n          // coordinates, in a way that is cumbersome to replicate in canvas.\n          // We wrap the radial gradient in a pattern element, allowing us to\n          // maintain a circular gradient that matches what canvas provides.\n\n          m.open('pattern', {\n            id: patternPrefix + id,\n            viewBox: '0,0,1,1',\n            width: '100%',\n            height: '100%',\n            preserveAspectRatio: 'xMidYMid slice'\n          });\n          m.open('rect', {\n            width: '1',\n            height: '1',\n            fill: 'url(#' + id + ')'\n          }).close();\n          m.close(); // </pattern>\n\n          m.open('radialGradient', {\n            id: id,\n            fx: def.x1,\n            fy: def.y1,\n            fr: def.r1,\n            cx: def.x2,\n            cy: def.y2,\n            r: def.r2\n          });\n        } else {\n          m.open('linearGradient', {\n            id: id,\n            x1: def.x1,\n            x2: def.x2,\n            y1: def.y1,\n            y2: def.y2\n          });\n        }\n        for (let i = 0; i < stops.length; ++i) {\n          m.open('stop', {\n            offset: stops[i].offset,\n            'stop-color': stops[i].color\n          }).close();\n        }\n        m.close();\n      }\n      for (const id in clipping) {\n        const def = clipping[id];\n        m.open('clipPath', {\n          id: id\n        });\n        if (def.path) {\n          m.open('path', {\n            d: def.path\n          }).close();\n        } else {\n          m.open('rect', {\n            x: 0,\n            y: 0,\n            width: def.width,\n            height: def.height\n          }).close();\n        }\n        m.close();\n      }\n      m.close();\n    }\n  }\n\n  // Helper function for attr for style presentation attributes\n  function style(s, item, scene, tag, defs) {\n    let styleList;\n    if (item == null) return s;\n    if (tag === 'bgrect' && scene.interactive === false) {\n      s['pointer-events'] = 'none';\n    }\n    if (tag === 'bgfore') {\n      if (scene.interactive === false) {\n        s['pointer-events'] = 'none';\n      }\n      s.display = 'none';\n      if (item.fill !== null) return s;\n    }\n    if (tag === 'image' && item.smooth === false) {\n      styleList = ['image-rendering: optimizeSpeed;', 'image-rendering: pixelated;'];\n    }\n    if (tag === 'text') {\n      s['font-family'] = fontFamily(item);\n      s['font-size'] = fontSize(item) + 'px';\n      s['font-style'] = item.fontStyle;\n      s['font-variant'] = item.fontVariant;\n      s['font-weight'] = item.fontWeight;\n    }\n    for (const prop in stylesAttr) {\n      let value = item[prop];\n      const name = stylesAttr[prop];\n      if (value === 'transparent' && (name === 'fill' || name === 'stroke')) ; else if (value != null) {\n        if (isGradient(value)) {\n          value = gradientRef(value, defs.gradient, '');\n        }\n        s[name] = value;\n      }\n    }\n    for (const prop in stylesCss) {\n      const value = item[prop];\n      if (value != null) {\n        styleList = styleList || [];\n        styleList.push(`${stylesCss[prop]}: ${value};`);\n      }\n    }\n    if (styleList) {\n      s.style = styleList.join(' ');\n    }\n    return s;\n  }\n\n  /**\n   * @typedef {Object} HybridRendererOptions\n   *\n   * @property {string[]} [svgMarkTypes=['text']] - An array of SVG mark types to render\n   *                                                in the SVG layer. All other mark types\n   *                                                will be rendered in the Canvas layer.\n   * @property {boolean} [svgOnTop=true] - Flag to determine if SVG should be rendered on top.\n   * @property {boolean} [debug=false] - Flag to enable or disable debugging mode. When true,\n   *                                     the top layer will be stacked below the bottom layer\n   *                                     rather than overlaid on top.\n   */\n\n  /** @type {HybridRendererOptions} */\n  const OPTS = {\n    svgMarkTypes: ['text'],\n    svgOnTop: true,\n    debug: false\n  };\n\n  /**\n   * Configure the HybridRenderer\n   *\n   * @param {HybridRendererOptions} options - HybridRenderer configuration options.\n   */\n  function setHybridRendererOptions(options) {\n    OPTS['svgMarkTypes'] = options.svgMarkTypes ?? ['text'];\n    OPTS['svgOnTop'] = options.svgOnTop ?? true;\n    OPTS['debug'] = options.debug ?? false;\n  }\n  class HybridRenderer extends Renderer {\n    constructor(loader) {\n      super(loader);\n      this._svgRenderer = new SVGRenderer(loader);\n      this._canvasRenderer = new CanvasRenderer(loader);\n    }\n\n    /**\n     * Initialize a new HybridRenderer instance.\n     * @param {DOMElement} el - The containing DOM element for the display.\n     * @param {number} width - The coordinate width of the display, in pixels.\n     * @param {number} height - The coordinate height of the display, in pixels.\n     * @param {Array<number>} origin - The origin of the display, in pixels.\n     *   The coordinate system will be translated to this point.\n     * @param {number} [scaleFactor=1] - Optional scaleFactor by which to multiply\n     *   the width and height to determine the final pixel size.\n     * @return {HybridRenderer} - This renderer instance.\n     */\n    initialize(el, width, height, origin, scaleFactor) {\n      this._root_el = domChild(el, 0, 'div');\n      const bottomEl = domChild(this._root_el, 0, 'div');\n      const topEl = domChild(this._root_el, 1, 'div');\n      this._root_el.style.position = 'relative';\n\n      // Set position absolute to overlay svg on top of canvas\n      if (!OPTS.debug) {\n        bottomEl.style.height = '100%';\n        topEl.style.position = 'absolute';\n        topEl.style.top = '0';\n        topEl.style.left = '0';\n        topEl.style.height = '100%';\n        topEl.style.width = '100%';\n      }\n      this._svgEl = OPTS.svgOnTop ? topEl : bottomEl;\n      this._canvasEl = OPTS.svgOnTop ? bottomEl : topEl;\n\n      // pointer-events to none on SVG layer so that canvas gets all events\n      this._svgEl.style.pointerEvents = 'none';\n      this._canvasRenderer.initialize(this._canvasEl, width, height, origin, scaleFactor);\n      this._svgRenderer.initialize(this._svgEl, width, height, origin, scaleFactor);\n      return super.initialize(el, width, height, origin, scaleFactor);\n    }\n\n    /**\n     * Flag a mark item as dirty.\n     * @param {Item} item - The mark item.\n     */\n    dirty(item) {\n      if (OPTS.svgMarkTypes.includes(item.mark.marktype)) {\n        this._svgRenderer.dirty(item);\n      } else {\n        this._canvasRenderer.dirty(item);\n      }\n      return this;\n    }\n\n    /**\n     * Internal rendering method.\n     * @param {object} scene - The root mark of a scenegraph to render.\n     * @param {Array} markTypes - Array of the mark types to render.\n     *                            If undefined, render all mark types\n     */\n    _render(scene, markTypes) {\n      const allMarkTypes = markTypes ?? ['arc', 'area', 'image', 'line', 'path', 'rect', 'rule', 'shape', 'symbol', 'text', 'trail'];\n      const canvasMarkTypes = allMarkTypes.filter(m => !OPTS.svgMarkTypes.includes(m));\n      this._svgRenderer.render(scene, OPTS.svgMarkTypes);\n      this._canvasRenderer.render(scene, canvasMarkTypes);\n    }\n\n    /**\n     * Resize the display.\n     * @param {number} width - The new coordinate width of the display, in pixels.\n     * @param {number} height - The new coordinate height of the display, in pixels.\n     * @param {Array<number>} origin - The new origin of the display, in pixels.\n     *   The coordinate system will be translated to this point.\n     * @param {number} [scaleFactor=1] - Optional scaleFactor by which to multiply\n     *   the width and height to determine the final pixel size.\n     * @return {SVGRenderer} - This renderer instance;\n     */\n    resize(width, height, origin, scaleFactor) {\n      super.resize(width, height, origin, scaleFactor);\n      this._svgRenderer.resize(width, height, origin, scaleFactor);\n      this._canvasRenderer.resize(width, height, origin, scaleFactor);\n      return this;\n    }\n    background(bgcolor) {\n      // Propagate background color to lower canvas renderer\n      if (OPTS.svgOnTop) {\n        this._canvasRenderer.background(bgcolor);\n      } else {\n        this._svgRenderer.background(bgcolor);\n      }\n      return this;\n    }\n  }\n\n  class HybridHandler extends CanvasHandler {\n    constructor(loader, tooltip) {\n      super(loader, tooltip);\n    }\n    initialize(el, origin, obj) {\n      const canvas = domChild(domChild(el, 0, 'div'), OPTS.svgOnTop ? 0 : 1, 'div');\n      return super.initialize(canvas, origin, obj);\n    }\n  }\n\n  const Canvas = 'canvas';\n  const Hybrid = 'hybrid';\n  const PNG = 'png';\n  const SVG = 'svg';\n  const None = 'none';\n  const RenderType = {\n    Canvas: Canvas,\n    PNG: PNG,\n    SVG: SVG,\n    Hybrid: Hybrid,\n    None: None\n  };\n  const modules = {};\n  modules[Canvas] = modules[PNG] = {\n    renderer: CanvasRenderer,\n    headless: CanvasRenderer,\n    handler: CanvasHandler\n  };\n  modules[SVG] = {\n    renderer: SVGRenderer,\n    headless: SVGStringRenderer,\n    handler: SVGHandler\n  };\n  modules[Hybrid] = {\n    renderer: HybridRenderer,\n    headless: HybridRenderer,\n    handler: HybridHandler\n  };\n  modules[None] = {};\n  function renderModule(name, _) {\n    name = String(name || '').toLowerCase();\n    if (arguments.length > 1) {\n      modules[name] = _;\n      return this;\n    } else {\n      return modules[name];\n    }\n  }\n\n  function intersect(scene, bounds, filter) {\n    const hits = [],\n      // intersection results\n      box = new Bounds().union(bounds),\n      // defensive copy\n      type = scene.marktype;\n    return type ? intersectMark(scene, box, filter, hits) : type === 'group' ? intersectGroup(scene, box, filter, hits) : vegaUtil.error('Intersect scene must be mark node or group item.');\n  }\n  function intersectMark(mark, box, filter, hits) {\n    if (visitMark(mark, box, filter)) {\n      const items = mark.items,\n        type = mark.marktype,\n        n = items.length;\n      let i = 0;\n      if (type === 'group') {\n        for (; i < n; ++i) {\n          intersectGroup(items[i], box, filter, hits);\n        }\n      } else {\n        for (const test = Marks[type].isect; i < n; ++i) {\n          const item = items[i];\n          if (intersectItem(item, box, test)) hits.push(item);\n        }\n      }\n    }\n    return hits;\n  }\n  function visitMark(mark, box, filter) {\n    // process if bounds intersect and if\n    // (1) mark is a group mark (so we must recurse), or\n    // (2) mark is interactive and passes filter\n    return mark.bounds && box.intersects(mark.bounds) && (mark.marktype === 'group' || mark.interactive !== false && (!filter || filter(mark)));\n  }\n  function intersectGroup(group, box, filter, hits) {\n    // test intersect against group\n    // skip groups by default unless filter says otherwise\n    if (filter && filter(group.mark) && intersectItem(group, box, Marks.group.isect)) {\n      hits.push(group);\n    }\n\n    // recursively test children marks\n    // translate box to group coordinate space\n    const marks = group.items,\n      n = marks && marks.length;\n    if (n) {\n      const x = group.x || 0,\n        y = group.y || 0;\n      box.translate(-x, -y);\n      for (let i = 0; i < n; ++i) {\n        intersectMark(marks[i], box, filter, hits);\n      }\n      box.translate(x, y);\n    }\n    return hits;\n  }\n  function intersectItem(item, box, test) {\n    // test bounds enclosure, bounds intersection, then detailed test\n    const bounds = item.bounds;\n    return box.encloses(bounds) || box.intersects(bounds) && test(item, box);\n  }\n\n  const clipBounds = new Bounds();\n  function boundClip (mark) {\n    const clip = mark.clip;\n    if (vegaUtil.isFunction(clip)) {\n      clip(boundContext(clipBounds.clear()));\n    } else if (clip) {\n      clipBounds.set(0, 0, mark.group.width, mark.group.height);\n    } else return;\n    mark.bounds.intersect(clipBounds);\n  }\n\n  const TOLERANCE = 1e-9;\n  function sceneEqual(a, b, key) {\n    return a === b ? true : key === 'path' ? pathEqual(a, b) : a instanceof Date && b instanceof Date ? +a === +b : vegaUtil.isNumber(a) && vegaUtil.isNumber(b) ? Math.abs(a - b) <= TOLERANCE : !a || !b || !vegaUtil.isObject(a) && !vegaUtil.isObject(b) ? a == b : objectEqual(a, b);\n  }\n  function pathEqual(a, b) {\n    return sceneEqual(parse(a), parse(b));\n  }\n  function objectEqual(a, b) {\n    var ka = Object.keys(a),\n      kb = Object.keys(b),\n      key,\n      i;\n    if (ka.length !== kb.length) return false;\n    ka.sort();\n    kb.sort();\n    for (i = ka.length - 1; i >= 0; i--) {\n      if (ka[i] != kb[i]) return false;\n    }\n    for (i = ka.length - 1; i >= 0; i--) {\n      key = ka[i];\n      if (!sceneEqual(a[key], b[key], key)) return false;\n    }\n    return typeof a === typeof b;\n  }\n\n  function resetSVGDefIds() {\n    resetSVGClipId();\n    resetSVGGradientId();\n  }\n\n  exports.Bounds = Bounds;\n  exports.CanvasHandler = CanvasHandler;\n  exports.CanvasRenderer = CanvasRenderer;\n  exports.Gradient = Gradient;\n  exports.GroupItem = GroupItem;\n  exports.Handler = Handler;\n  exports.HybridHandler = HybridHandler;\n  exports.HybridRenderer = HybridRenderer;\n  exports.Item = Item;\n  exports.Marks = Marks;\n  exports.RenderType = RenderType;\n  exports.Renderer = Renderer;\n  exports.ResourceLoader = ResourceLoader;\n  exports.SVGHandler = SVGHandler;\n  exports.SVGRenderer = SVGRenderer;\n  exports.SVGStringRenderer = SVGStringRenderer;\n  exports.Scenegraph = Scenegraph;\n  exports.boundClip = boundClip;\n  exports.boundContext = boundContext;\n  exports.boundItem = boundItem;\n  exports.boundMark = boundMark;\n  exports.boundStroke = boundStroke;\n  exports.domChild = domChild;\n  exports.domClear = domClear;\n  exports.domCreate = domCreate;\n  exports.domFind = domFind;\n  exports.font = font;\n  exports.fontFamily = fontFamily;\n  exports.fontSize = fontSize;\n  exports.intersect = intersect;\n  exports.intersectBoxLine = intersectBoxLine;\n  exports.intersectPath = intersectPath;\n  exports.intersectPoint = intersectPoint;\n  exports.intersectRule = intersectRule;\n  exports.lineHeight = lineHeight;\n  exports.markup = markup;\n  exports.multiLineOffset = multiLineOffset;\n  exports.path = path$3;\n  exports.pathCurves = curves;\n  exports.pathEqual = pathEqual;\n  exports.pathParse = parse;\n  exports.pathRectangle = vg_rect;\n  exports.pathRender = pathRender;\n  exports.pathSymbols = symbols;\n  exports.pathTrail = vg_trail;\n  exports.point = point;\n  exports.renderModule = renderModule;\n  exports.resetSVGClipId = resetSVGClipId;\n  exports.resetSVGDefIds = resetSVGDefIds;\n  exports.sceneEqual = sceneEqual;\n  exports.sceneFromJSON = sceneFromJSON;\n  exports.scenePickVisit = pickVisit;\n  exports.sceneToJSON = sceneToJSON;\n  exports.sceneVisit = visit;\n  exports.sceneZOrder = zorder;\n  exports.serializeXML = serializeXML;\n  exports.setHybridRendererOptions = setHybridRendererOptions;\n  exports.textMetrics = textMetrics;\n\n}));\n\n};"],
"names":["shadow$provide","require","module","exports","global","factory","define","amd","globalThis","self","vega","vegaUtil","vegaCanvas","vegaLoader","vegaScale","gradientRef","g","defs","base","type","gradient","id","prefix","patternPrefix","gradient_id","x1","get","y1","r1","x2","y2","r2","val","def","constant","x","asin","halfPi","Math","append","strings","_","i","n","length","arguments","appendRound","digits","d","floor","Error","k","round","path$3","Path","withPath","shape","shape.digits","RangeError","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","cornerTangents","x0","y0","rc","cw","x01","y01","lo","sqrt","ox","oy","x11","y11","x10","y10","x00","y00","dx","dy","d2","r","D","max","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","array","Array","from","Linear","context","_context","curveLinear","x$1","p","y$1","d3_line","y","line","data","defined0","buffer","output","curve","path","defined","lineStart","lineEnd","point","undefined","line.x","line.y","line.defined","line.curve","line.context","d3_area","area","x0z","y0z","j","areaStart","areaEnd","arealine","area.x","area.x0","area.x1","area.y","area.y0","area.y1","lineX0","lineY0","area.lineY0","lineY1","area.lineY1","lineX1","area.lineX1","area.defined","area.curve","area.context","noop","point$4","that","bezierCurveTo","_x0","_x1","_y0","_y1","Basis","BasisClosed","BasisOpen","Bundle","beta","_basis","_beta","point$3","_k","_x2","_y2","Cardinal","tension","CardinalClosed","CardinalOpen","point$2","_l01_a","epsilon$1","a","_l01_2a","_l12_a","_l12_2a","_l23_a","b","_l23_2a","m","CatmullRom","alpha","_alpha","CatmullRomClosed","CatmullRomOpen","LinearClosed","slope3","h0","h1","s0","s1","min","abs","slope2","t","h","point$1","t0","t1","MonotoneX","MonotoneY","ReflectContext","Natural","controlPoints","Step","_t","curves","orientation","entry","hasOwnProperty","lookup","parse","commands","forEach","match","commandPattern","str","cmd","toLowerCase","paramCount","paramCounts","slice","trim","params","index","segment","pattern","numberPattern","flagPattern","push","ws","spacePattern","count","segments","rx","ry","large","sweep","rotateX","key","join","call","segmentCache","th","DegToRad","sin_th","sin","cos_th","cos","px","py","pl","a00","a01","a10","a11","sfactor_sq","sfactor","xc","yc","th0","atan2","th_arc","th1","Tau","segs","ceil","HalfPi","result","pathRender","l","sX","sY","previous","controlX","controlY","anchorX","anchorY","beginPath","len","current","c","temp","lineTo","moveTo","tempX","tempY","quadraticCurveTo","tempControlX","tempControlY","drawArc","closePath","coords","seg","bezierCache","cos_th0","sin_th0","cos_th1","sin_th1","th_half","sin_th_h2","x3","y3","bez","symbols","builtins","customSymbol","custom","parsed","draw","size","rectangleX","rectangleY","rectangleWidth","width","rectangleHeight","height","number","clamp","value","vg_rect","rectangle","w","s","tl","crTL","tr","crTR","bl","crBL","br","crBR","rect","C","rectangle.x","rectangle.y","rectangle.width","rectangle.height","cornerRadius","rectangle.cornerRadius","rectangle.context","vg_trail","trail","ready","w2","ux","uy","ud","hypot","arc","PI","trail.x","trail.y","trail.size","trail.defined","trail.context","value$1","hasCornerRadius","item","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomRight","cornerRadiusBottomLeft","rectShape","clip$1","renderer","clip","_defs","clip_id","clipping","isFunction","Bounds","clear","union","Item","mark","bounds","GroupItem","items","boundStroke","miter","stroke","opacity","strokeOpacity","sw","strokeWidth","expand","strokeJoin","boundContext","deg","rot","ma","md","mb","mc","context$1","quadExtrema","cb","cubicExtrema","Epsilon","cubic","s2","t2","intersectPath","brush","intersect","isPointInPath","intersectPoint","box","contains","intersectRect","intersects","set","intersectRule","intersectBoxLine","u","v","q","e","blend","globalCompositeOperation","dflt","addStops","stops","addColorStop","offset","color","spec","createRadialGradient","createLinearGradient","image","canvas","ictx","getContext","scale","fillStyle","fillRect","createPattern","fill","fillOpacity","globalAlpha","lw","strokeStyle","lineWidth","lineCap","strokeCap","lineJoin","miterLimit","strokeMiterLimit","setLineDash","strokeDash","Empty","lineDashOffset","strokeDashOffset","compare","zindex","zorder","scene","zdirty","zitems","sort","visit","visitor","pickVisit","hit","drawAll","drawPath","drawOne","pick$1","test","truthy","gx","gy","pixelRatio","hitPath","filled","o","isArray","isPointInStroke","lc","translate","markItemPath","isect","angle","rotate","tag","nested","attr","emit","bound","pick","markMultiItemPath","tip","clipGroup","group","offset$1","strokeOffset","rectanglePath","off","getImage","url","complete","loadImage","then","imageWidth","aspect","imageHeight","imageXOffset","align","imageYOffset","baseline","path$1","sx","scaleX","sy","scaleY","cache","pathCache","draw$2","useCanvas","use","textMetrics","measureWidth","estimateWidth","text","textValue","fontSize","currentFontHeight","_measureWidth","font","currentFont","widthCache","measureText","lineHeight","textLines","lineBreak","split","limit","widthGetter","ellipsis","rtl","dir","hi","mid","fontFamily","quote","String","replace","fontStyle","fontVariant","fontWeight","anchorPoint","radius","theta","tempBounds","mode","reduce","rotatedPoints","boundItem","func","opt","Marks","marktype","boundMark","hasItems","DUMMY","sceneToJSON","indent","JSON","stringify","keys","sceneFromJSON","json","initialize","parent","createMark","interactive","name","role","aria","description","domCreate","doc","ns","document","createElement","createElementNS","domFind","el","nodes","childNodes","tagName","domChild","ownerDocument","insertBefore","domClear","curr","removeChild","cssClass","event","getBoundingClientRect","clientX","left","clientLeft","clientY","top","clientTop","defaultTooltip","handler","element","setAttribute","eventListenerCheck","TouchStartEvent","TouchMoveEvent","TouchEndEvent","addEventListener","_events","evt","fire","fireAll","types","move","moveEvents","overEvents","outEvents","_active","pickEvent","exit","inactive","ariaItemAttributes","hide","ARIA_HIDDEN","prop","AriaEncode","ARIA_LABEL","ARIA_ROLE","ariaRole","GRAPHICS_OBJECT","GRAPHICS_SYMBOL","ARIA_ROLEDESCRIPTION","ariaRoleDescription","ariaMarkAttributes","AriaIgnore","AriaGuides","ariaGuide","ariaMark","recurse","some","bundle","caption","desc","err","extractTitle","peek","channelCaption","props","map","markup","buf","outer","inner","stack","innerText","open","attrs","close","pop","toString","_serialize","node","hasAttributes","attributes","hasChildNodes","children","child","nodeType","nodeValue","dirtyParents","dirty","markTypes","lastChild","previousSibling","prev","idx","bind","sibling","svg","_svg","svgns","__data__","__values__","bg","appendChild","cg","fg","ownerSVGElement","parentNode","nextSibling","firstChild","values","setAttributeNS","removeAttributeNS","setStyle","style","removeProperty","setProperty","setAttributes","removeAttribute","href","loc","window","hash","location","styleList","display","smooth","stylesAttr","stylesCss","intersectMark","filter","hits","intersectGroup","intersectItem","marks","encloses","sceneEqual","pathEqual","Date","isNumber","TOLERANCE","isObject","objectEqual","ka","Object","kb","pi$1","tau$1","pi","tau","tauEpsilon","epsilon","constructor","_append","arcTo","x21","y21","l01_2","x20","y20","l21_2","l21","l01","tan","acos","t01","t21","a0","a1","ccw","da","prototype","_line","NaN","_point","circle","_x3","_x4","_y3","_y4","_x","_y","curveBundle","bundle.beta","curveCardinal","cardinal","cardinal.tension","_x5","_y5","curveCardinalClosed","curveCardinalOpen","x23","y23","pow","curveCatmullRom","catmullRom","catmullRom.alpha","curveCatmullRomClosed","curveCatmullRomOpen","_t0","create","i0","i1","curveBasis","curveBasisClosed","curveBasisOpen","curveLinearClosed","horizontal","monotoneY","vertical","monotoneX","curveNatural","curveStep","stepAfter","stepBefore","z","HalfSqrt3","Tan30","arcShape","d3_arc","r0","apply","da0","da1","ap","rp","padRadius","rc0","rc1","p0","p1","x32","y32","ax","oc","ay","bx","by","kc","centroid","arc.centroid","arc.innerRadius","arc.outerRadius","arc.cornerRadius","arc.padRadius","arc.startAngle","arc.endAngle","arc.padAngle","arc.context","sa","ea","pa","ir","or","cr","areavShape","yh","areahShape","xw","lineShape","symbolShape","Symbol","symbol","symbol.type","symbol.size","symbol.context","sz","trailShape","ts","clone","Number","MAX_VALUE","empty","equals","add","alignsWith","inherits","ResourceLoader","customLoader","_pending","_loader","loader","pending","sanitizeURL","uri","sanitize","catch","Image","img","cors","crossOrigin","onload","img.onload","onerror","img.onerror","src","Promise","accept","poll","setTimeout","circleThreshold","lx","ly","addX","addY","addp","addpL","py1","px2","py2","px3","py3","update","arc$1","area$1","orient","interpolate","pickArea","Infinity","hitBackground","hitForeground","hitCorner","attr$5","bound$5","noBound","draw$4","fore","strokeForeground","save","includes","restore","dw","dh","ix","content","background","foreground","metadata","attr$4","toDataURL","bound$4","draw$3","ar0","ar1","imageSmoothingEnabled","drawImage","xOffset","yOffset","line$1","pickLine","dd","path$2","attr$3","bound$3","attr$2","bound$2","rule","attr$1","bound$1","draw$1","hit$1","shape$1","symbol$1","lruCache","textAlign","lh","fillText","strokeText","intersectText","trail$1","pickTrail","Scenegraph","root","toJSON","markdef","Handler","customTooltip","_handlers","_tooltip","origin","obj","_el","_obj","_origin","_scene","on","_handlerIndex","handlers","eventName","indexOf","handleHref","MouseEvent","dispatchEvent","handleTooltip","show","tooltip","mdef","getItemBoundingClientRect","right","bottom","Renderer","_bgcolor","scaleFactor","resize","bgcolor","_width","_height","_scale","render","_call","r._call","_render","renderAsync","_ready","resolve","_load","method","redraw","Events","CanvasHandler","_touch","_down","_first","events","pointermove","PointerMoveEvent","MouseMoveEvent","PointerOverEvent","MouseOverEvent","PointerOutEvent","MouseOutEvent","dragover","DragOverEvent","DragEnterEvent","DragLeaveEvent","pointerout","dragleave","_canvas","DOMMouseScroll","MouseWheelEvent","pointerdown","PointerDownEvent","mousedown","MouseDownEvent","click","ClickEvent","touchstart","changedTouches","touchmove","touchend","touch","vegaType","splice","CanvasRenderer","_options","_redraw","_dirty","_tempb","options","externalContext","inDOM","HTMLElement","ratio","devicePixelRatio","setTransform","ctx","error","db","vb","clearRect","SVGHandler","_hrefHandler","listener","_tooltipHandler","removeEventListener","target","roledesc","label","toSet","axisCaption","datum","title","scales","locale","dataflow","xy","isDiscrete","domainCaption","legendCaption","toUpperCase","rootAttributes","xmlns","SVGRenderer","_dirtyID","_root","_clearDefs","RootIndex","viewBox","_dirtyCheck","_dirtyAll","isDirty","_update","markType","isGroup","process","extra","mark_extras","stop","grad","pt","preserveAspectRatio","fx","fy","fr","mask","textContent","SVGStringRenderer","_text","extend","class","transform","attrList","_hrefs","object","prefixed","fn","OPTS","svgMarkTypes","svgOnTop","debug","HybridRenderer","_svgRenderer","_canvasRenderer","_root_el","bottomEl","topEl","position","_svgEl","_canvasEl","pointerEvents","canvasMarkTypes","HybridHandler","modules","headless","clipBounds","Gradient","RenderType","Canvas","PNG","SVG","Hybrid","None","boundClip","multiLineOffset","pathCurves","pathParse","pathRectangle","pathSymbols","pathTrail","renderModule","resetSVGClipId","resetSVGDefIds","scenePickVisit","sceneVisit","sceneZOrder","serializeXML","setHybridRendererOptions"]
}
