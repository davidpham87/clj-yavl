shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$config$elementSizeObserver = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ElementSizeObserver:{enumerable:!0, get:function() {
    return ElementSizeObserver;
  }}});
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom");
  class ElementSizeObserver extends module.Disposable {
    constructor(referenceDomElement, dimension) {
      super();
      this._onDidChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidChange = this._onDidChange.event;
      this._referenceDomElement = referenceDomElement;
      this._height = this._width = -1;
      this._resizeObserver = null;
      this.measureReferenceDomElement(!1, dimension);
    }
    dispose() {
      this.stopObserving();
      super.dispose();
    }
    getWidth() {
      return this._width;
    }
    getHeight() {
      return this._height;
    }
    startObserving() {
      if (!this._resizeObserver && this._referenceDomElement) {
        let observeContentRect = null;
        const observeNow = () => {
          observeContentRect ? this.observe({width:observeContentRect.width, height:observeContentRect.height}) : this.observe();
        };
        let shouldObserve = !1, alreadyObservedThisAnimationFrame = !1;
        const update = () => {
          if (shouldObserve && !alreadyObservedThisAnimationFrame) {
            try {
              shouldObserve = !1, alreadyObservedThisAnimationFrame = !0, observeNow();
            } finally {
              (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.scheduleAtNextAnimationFrame)((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getWindow)(this._referenceDomElement), () => {
                alreadyObservedThisAnimationFrame = !1;
                update();
              });
            }
          }
        };
        this._resizeObserver = new ResizeObserver(entries => {
          observeContentRect = entries && entries[0] && entries[0].contentRect ? entries[0].contentRect : null;
          shouldObserve = !0;
          update();
        });
        this._resizeObserver.observe(this._referenceDomElement);
      }
    }
    stopObserving() {
      this._resizeObserver && (this._resizeObserver.disconnect(), this._resizeObserver = null);
    }
    observe(dimension) {
      this.measureReferenceDomElement(!0, dimension);
    }
    measureReferenceDomElement(emitEvent, dimension) {
      let observedWidth = 0, observedHeight = 0;
      dimension ? (observedWidth = dimension.width, observedHeight = dimension.height) : this._referenceDomElement && (observedWidth = this._referenceDomElement.clientWidth, observedHeight = this._referenceDomElement.clientHeight);
      observedWidth = Math.max(5, observedWidth);
      observedHeight = Math.max(5, observedHeight);
      if (this._width !== observedWidth || this._height !== observedHeight) {
        this._width = observedWidth, this._height = observedHeight, emitEvent && this._onDidChange.fire();
      }
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$config$elementSizeObserver.js.map
