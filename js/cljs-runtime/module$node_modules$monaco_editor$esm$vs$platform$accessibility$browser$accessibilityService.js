shadow$provide.module$node_modules$monaco_editor$esm$vs$platform$accessibility$browser$accessibilityService = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, AccessibilityService:{enumerable:!0, get:function() {
    return AccessibilityService;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_window_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$window"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  var require$_DOT__DOT__SLASH_common_SLASH_accessibility_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$accessibility$common$accessibility");
  exports = require("module$node_modules$monaco_editor$esm$vs$platform$configuration$common$configuration");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextkey_SLASH_common_SLASH_contextkey_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$contextkey$common$contextkey");
  require = require("module$node_modules$monaco_editor$esm$vs$platform$layout$browser$layoutService");
  var __param = this && this.__param || function(paramIndex, decorator) {
    return function(target, key) {
      decorator(target, key, paramIndex);
    };
  };
  let AccessibilityService = class extends module.Disposable {
    constructor(_contextKeyService, _layoutService, _configurationService) {
      super();
      this._contextKeyService = _contextKeyService;
      this._layoutService = _layoutService;
      this._configurationService = _configurationService;
      this._accessibilitySupport = 0;
      this._onDidChangeScreenReaderOptimized = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this._onDidChangeReducedMotion = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this._accessibilityModeEnabledContext = require$_DOT__DOT__SLASH_common_SLASH_accessibility_DOT_js.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);
      const updateContextKey = () => this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());
      this._register(this._configurationService.onDidChangeConfiguration(e => {
        e.affectsConfiguration("editor.accessibilitySupport") && (updateContextKey(), this._onDidChangeScreenReaderOptimized.fire());
        e.affectsConfiguration("workbench.reduceMotion") && (this._configMotionReduced = this._configurationService.getValue("workbench.reduceMotion"), this._onDidChangeReducedMotion.fire());
      }));
      updateContextKey();
      this._register(this.onDidChangeScreenReaderOptimized(() => updateContextKey()));
      _contextKeyService = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_window_DOT_js.mainWindow.matchMedia("(prefers-reduced-motion: reduce)");
      this._systemMotionReduced = _contextKeyService.matches;
      this._configMotionReduced = this._configurationService.getValue("workbench.reduceMotion");
      this.initReducedMotionListeners(_contextKeyService);
    }
    initReducedMotionListeners(reduceMotionMatcher) {
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(reduceMotionMatcher, "change", () => {
        this._systemMotionReduced = reduceMotionMatcher.matches;
        this._configMotionReduced === "auto" && this._onDidChangeReducedMotion.fire();
      }));
      const updateRootClasses = () => {
        const reduce = this.isMotionReduced();
        this._layoutService.mainContainer.classList.toggle("reduce-motion", reduce);
        this._layoutService.mainContainer.classList.toggle("enable-motion", !reduce);
      };
      updateRootClasses();
      this._register(this.onDidChangeReducedMotion(() => updateRootClasses()));
    }
    get onDidChangeScreenReaderOptimized() {
      return this._onDidChangeScreenReaderOptimized.event;
    }
    isScreenReaderOptimized() {
      const config = this._configurationService.getValue("editor.accessibilitySupport");
      return config === "on" || config === "auto" && this._accessibilitySupport === 2;
    }
    get onDidChangeReducedMotion() {
      return this._onDidChangeReducedMotion.event;
    }
    isMotionReduced() {
      const config = this._configMotionReduced;
      return config === "on" || config === "auto" && this._systemMotionReduced;
    }
    getAccessibilitySupport() {
      return this._accessibilitySupport;
    }
  };
  AccessibilityService = (this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  })([__param(0, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextkey_SLASH_common_SLASH_contextkey_DOT_js.IContextKeyService), __param(1, require.ILayoutService), __param(2, exports.IConfigurationService)], AccessibilityService);
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$platform$accessibility$browser$accessibilityService.js.map
