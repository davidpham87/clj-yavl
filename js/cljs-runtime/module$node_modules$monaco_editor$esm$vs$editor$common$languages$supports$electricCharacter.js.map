{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$electricCharacter.js",
"lineCount":45,
"mappings":"AAAAA,cAAA,CAAA,2FAAA,GAAgH,QAAQ,CAACC,OAAD,EAASC,MAAT,EAAgBC,OAAhB,CAAyB;AACjJC,QAAOC,CAAAA,gBAAP,CAAwBF,OAAxB,EAAiC,CAACG,WAAW,CAACC,WAAW,CAAA,CAAZ,EAAkBC,MAAM,CAAA,CAAxB,CAAZ,EAA2CC,gCAAgC,CAACF,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AAC3I,WAAOD,+BAAP;AAD2I,GAAjC,CAA3E,CAAjC,CAAA;AAGA,MAAIE,oHAAoHV,OAAA,CAAQ,6DAAR,CAAxH,EACIW,2CAA2CX,OAAA,CAAQ,2EAAR,CAD/C,EAEIY,8CAA8CZ,OAAA,CAAQ,4FAAR,CAFlD;AAGA,OAAMQ,gCAAN;AACEK,eAAW,CAACC,gBAAD,CAAmB;AAC5B,UAAKC,CAAAA,iBAAL,GAAyBD,gBAAzB;AAD4B;AAG9BE,yBAAqB,EAAG;AACtB,YAAMC,SAAS,EAAf;AACA,UAAI,IAAKF,CAAAA,iBAAT;AACE,aAAK,MAAMG,OAAX,IAAsB,IAAKH,CAAAA,iBAAkBI,CAAAA,QAA7C;AACE,eAAK,MAAMC,KAAX,IAAoBF,OAAQE,CAAAA,KAA5B,CAAmC;AACjC,kBAAMC,WAAWD,KAAME,CAAAA,MAAN,CAAaF,KAAMG,CAAAA,MAAnB,GAA4B,CAA5B,CAAjB;AACAN,kBAAOO,CAAAA,IAAP,CAAYH,QAAZ,CAAA;AAFiC;AADrC;AADF;AAQA,aAAO,GAAGX,iHAAkHe,CAAAA,QAArH,EAA+HR,MAA/H,CAAP;AAVsB;AAYxBS,uBAAmB,CAACC,SAAD,EAAYC,OAAZ,EAAqBC,MAArB,CAA6B;AAC9C,UAAI,CAAC,IAAKd,CAAAA,iBAAV,IAA+B,IAAKA,CAAAA,iBAAkBI,CAAAA,QAASI,CAAAA,MAA/D,KAA0E,CAA1E;AACE,eAAO,IAAP;AADF;AAGA,UAAMO,aAAaF,OAAQG,CAAAA,sBAAR,CAA+BF,MAA/B,GAAwC,CAAxC,CAAnB;AACA,UAAI,GAAGlB,wCAAyCqB,CAAAA,qBAA5C,EAAmEJ,OAAQK,CAAAA,oBAAR,CAA6BH,UAA7B,CAAnE,CAAJ;AACE,eAAO,IAAP;AADF;AAGMI,gBAAAA,GAAuB,IAAKnB,CAAAA,iBAAkBoB,CAAAA,aAA9CD;AACAE,eAAAA,GAAOR,OAAQS,CAAAA,cAAR,EAAyBC,CAAAA,SAAzB,CAAmC,CAAnC,EAAsCT,MAAtC,GAA+C,CAA/C,CAAPO,GAA2DT,SAA3DS;AACAG,YAAAA,GAAI3B,2CAA4C4B,CAAAA,aAAcC,CAAAA,sBAA1D,CAAiFP,UAAjF,EAAuG,CAAvG,EAA0GE,SAA1G,EAAgH,CAAhH,EAAmHA,SAAKb,CAAAA,MAAxH,CAAJgB;AACN,UAAI,CAACA,MAAL;AACE,eAAO,IAAP;AADF;AAGMG,eAAAA,GAAcN,SAAKE,CAAAA,SAAL,CAAeC,MAAEI,CAAAA,WAAjB,GAA+B,CAA/B,EAAkCJ,MAAEK,CAAAA,SAApC,GAAgD,CAAhD,CAAmDC,CAAAA,WAAnD,EAAdH;AAEN,UADe,IAAK3B,CAAAA,iBAAkB+B,CAAAA,iBAAvBC,CAAyCL,SAAzCK,CACf;AACE,eAAO,IAAP;AADF;AAGMC,aAAAA,GAAoBpB,OAAQqB,CAAAA,0BAAR,CAAmCV,MAAEI,CAAAA,WAArC,GAAmD,CAAnD,CAApBK;AACN,aAAK,OAAQE,CAAAA,IAAR,CAAaF,OAAb,CAAL,GAGO,CAACG,iBAAiBT,SAAlB,CAHP,GACS,IADT;AApB8C;AAhBlD;AAPiJ,CAAjJ;;",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/languages/supports/electricCharacter.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$electricCharacter\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, BracketElectricCharacterSupport:{enumerable:true, get:function() {\n  return BracketElectricCharacterSupport;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require(\"../../../../base/common/arrays.js\");\nvar require$_DOT__DOT__SLASH_supports_DOT_js = require(\"../supports.js\");\nvar require$_DOT__SLASH_richEditBrackets_DOT_js = require(\"./richEditBrackets.js\");\nclass BracketElectricCharacterSupport {\n  constructor(richEditBrackets) {\n    this._richEditBrackets = richEditBrackets;\n  }\n  getElectricCharacters() {\n    const result = [];\n    if (this._richEditBrackets) {\n      for (const bracket of this._richEditBrackets.brackets) {\n        for (const close of bracket.close) {\n          const lastChar = close.charAt(close.length - 1);\n          result.push(lastChar);\n        }\n      }\n    }\n    return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.distinct)(result);\n  }\n  onElectricCharacter(character, context, column) {\n    if (!this._richEditBrackets || this._richEditBrackets.brackets.length === 0) {\n      return null;\n    }\n    const tokenIndex = context.findTokenIndexAtOffset(column - 1);\n    if ((0,require$_DOT__DOT__SLASH_supports_DOT_js.ignoreBracketsInToken)(context.getStandardTokenType(tokenIndex))) {\n      return null;\n    }\n    const reversedBracketRegex = this._richEditBrackets.reversedRegex;\n    const text = context.getLineContent().substring(0, column - 1) + character;\n    const r = require$_DOT__SLASH_richEditBrackets_DOT_js.BracketsUtils.findPrevBracketInRange(reversedBracketRegex, 1, text, 0, text.length);\n    if (!r) {\n      return null;\n    }\n    const bracketText = text.substring(r.startColumn - 1, r.endColumn - 1).toLowerCase();\n    const isOpen = this._richEditBrackets.textIsOpenBracket[bracketText];\n    if (isOpen) {\n      return null;\n    }\n    const textBeforeBracket = context.getActualLineContentBefore(r.startColumn - 1);\n    if (!/^\\s*$/.test(textBeforeBracket)) {\n      return null;\n    }\n    return {matchOpenBracket:bracketText};\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","BracketElectricCharacterSupport","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js","require$_DOT__DOT__SLASH_supports_DOT_js","require$_DOT__SLASH_richEditBrackets_DOT_js","constructor","richEditBrackets","_richEditBrackets","getElectricCharacters","result","bracket","brackets","close","lastChar","charAt","length","push","distinct","onElectricCharacter","character","context","column","tokenIndex","findTokenIndexAtOffset","ignoreBracketsInToken","getStandardTokenType","reversedBracketRegex","reversedRegex","text","getLineContent","substring","r","BracketsUtils","findPrevBracketInRange","bracketText","startColumn","endColumn","toLowerCase","textIsOpenBracket","isOpen","textBeforeBracket","getActualLineContentBefore","test","matchOpenBracket"]
}
