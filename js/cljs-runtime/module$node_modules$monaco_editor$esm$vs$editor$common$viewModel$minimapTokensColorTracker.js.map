{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$minimapTokensColorTracker.js",
"lineCount":47,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/viewModel/minimapTokensColorTracker.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$minimapTokensColorTracker\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, MinimapTokensColorTracker:{enumerable:true, get:function() {\n  return MinimapTokensColorTracker;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require(\"../../../base/common/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../base/common/lifecycle.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js = require(\"../core/rgba.js\");\nvar require$_DOT__DOT__SLASH_languages_DOT_js = require(\"../languages.js\");\nclass MinimapTokensColorTracker extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  static getInstance() {\n    if (!this._INSTANCE) {\n      this._INSTANCE = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.markAsSingleton)(new MinimapTokensColorTracker());\n    }\n    return this._INSTANCE;\n  }\n  constructor() {\n    super();\n    this._onDidChange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();\n    this.onDidChange = this._onDidChange.event;\n    this._updateColorMap();\n    this._register(require$_DOT__DOT__SLASH_languages_DOT_js.TokenizationRegistry.onDidChange(e => {\n      if (e.changedColorMap) {\n        this._updateColorMap();\n      }\n    }));\n  }\n  _updateColorMap() {\n    const colorMap = require$_DOT__DOT__SLASH_languages_DOT_js.TokenizationRegistry.getColorMap();\n    if (!colorMap) {\n      this._colors = [require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js.RGBA8.Empty];\n      this._backgroundIsLight = true;\n      return;\n    }\n    this._colors = [require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js.RGBA8.Empty];\n    for (let colorId = 1; colorId < colorMap.length; colorId++) {\n      const source = colorMap[colorId].rgba;\n      this._colors[colorId] = new require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js.RGBA8(source.r, source.g, source.b, Math.round(source.a * 255));\n    }\n    const backgroundLuminosity = colorMap[2].getRelativeLuminance();\n    this._backgroundIsLight = backgroundLuminosity >= 0.5;\n    this._onDidChange.fire(undefined);\n  }\n  getColor(colorId) {\n    if (colorId < 1 || colorId >= this._colors.length) {\n      colorId = 2;\n    }\n    return this._colors[colorId];\n  }\n  backgroundIsLight() {\n    return this._backgroundIsLight;\n  }\n}\nMinimapTokensColorTracker._INSTANCE = null;\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","MinimapTokensColorTracker","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js","require$_DOT__DOT__SLASH_languages_DOT_js","Disposable","getInstance","_INSTANCE","markAsSingleton","constructor","_onDidChange","Emitter","onDidChange","event","_updateColorMap","_register","TokenizationRegistry","e","changedColorMap","colorMap","getColorMap","_colors","RGBA8","Empty","colorId","length","source","rgba","r","g","b","Math","round","a","_backgroundIsLight","getRelativeLuminance","backgroundLuminosity","fire","undefined","getColor","backgroundIsLight"]
}
