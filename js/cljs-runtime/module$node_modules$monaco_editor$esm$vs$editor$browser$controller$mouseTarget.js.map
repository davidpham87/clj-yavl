{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$controller$mouseTarget.js",
"lineCount":536,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseTarget.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$controller$mouseTarget\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, HitTestContext:{enumerable:true, get:function() {\n  return HitTestContext;\n}}, MouseTarget:{enumerable:true, get:function() {\n  return MouseTarget;\n}}, MouseTargetFactory:{enumerable:true, get:function() {\n  return MouseTargetFactory;\n}}, PointerHandlerLastRenderData:{enumerable:true, get:function() {\n  return PointerHandlerLastRenderData;\n}}});\nvar require$_DOT__DOT__SLASH_editorDom_DOT_js = require(\"../editorDom.js\");\nvar require$_DOT__DOT__SLASH_view_SLASH_viewPart_DOT_js = require(\"../view/viewPart.js\");\nvar require$_DOT__DOT__SLASH_viewParts_SLASH_lines_SLASH_viewLine_DOT_js = require(\"../viewParts/lines/viewLine.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js = require(\"../../common/core/position.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js = require(\"../../common/core/range.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_cursorColumns_DOT_js = require(\"../../common/core/cursorColumns.js\");\nvar dom = require(\"../../../base/browser/dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_cursor_SLASH_cursorAtomicMoveOperations_DOT_js = require(\"../../common/cursor/cursorAtomicMoveOperations.js\");\nclass UnknownHitTestResult {\n  constructor(hitTarget = null) {\n    this.hitTarget = hitTarget;\n    this.type = 0;\n  }\n}\nclass ContentHitTestResult {\n  constructor(position, spanNode, injectedText) {\n    this.position = position;\n    this.spanNode = spanNode;\n    this.injectedText = injectedText;\n    this.type = 1;\n  }\n}\nvar HitTestResult;\n(function(HitTestResult) {\n  function createFromDOMInfo(ctx, spanNode, offset) {\n    const position = ctx.getPositionFromDOMInfo(spanNode, offset);\n    if (position) {\n      return new ContentHitTestResult(position, spanNode, null);\n    }\n    return new UnknownHitTestResult(spanNode);\n  }\n  HitTestResult.createFromDOMInfo = createFromDOMInfo;\n})(HitTestResult || (HitTestResult = {}));\nclass PointerHandlerLastRenderData {\n  constructor(lastViewCursorsRenderData, lastTextareaPosition) {\n    this.lastViewCursorsRenderData = lastViewCursorsRenderData;\n    this.lastTextareaPosition = lastTextareaPosition;\n  }\n}\nclass MouseTarget {\n  static _deduceRage(position, range = null) {\n    if (!range && position) {\n      return new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(position.lineNumber, position.column, position.lineNumber, position.column);\n    }\n    return range !== null && range !== void 0 ? range : null;\n  }\n  static createUnknown(element, mouseColumn, position) {\n    return {type:0, element, mouseColumn, position, range:this._deduceRage(position)};\n  }\n  static createTextarea(element, mouseColumn) {\n    return {type:1, element, mouseColumn, position:null, range:null};\n  }\n  static createMargin(type, element, mouseColumn, position, range, detail) {\n    return {type, element, mouseColumn, position, range, detail};\n  }\n  static createViewZone(type, element, mouseColumn, position, detail) {\n    return {type, element, mouseColumn, position, range:this._deduceRage(position), detail};\n  }\n  static createContentText(element, mouseColumn, position, range, detail) {\n    return {type:6, element, mouseColumn, position, range:this._deduceRage(position, range), detail};\n  }\n  static createContentEmpty(element, mouseColumn, position, detail) {\n    return {type:7, element, mouseColumn, position, range:this._deduceRage(position), detail};\n  }\n  static createContentWidget(element, mouseColumn, detail) {\n    return {type:9, element, mouseColumn, position:null, range:null, detail};\n  }\n  static createScrollbar(element, mouseColumn, position) {\n    return {type:11, element, mouseColumn, position, range:this._deduceRage(position)};\n  }\n  static createOverlayWidget(element, mouseColumn, detail) {\n    return {type:12, element, mouseColumn, position:null, range:null, detail};\n  }\n  static createOutsideEditor(mouseColumn, position, outsidePosition, outsideDistance) {\n    return {type:13, element:null, mouseColumn, position, range:this._deduceRage(position), outsidePosition, outsideDistance};\n  }\n  static _typeToString(type) {\n    if (type === 1) {\n      return \"TEXTAREA\";\n    }\n    if (type === 2) {\n      return \"GUTTER_GLYPH_MARGIN\";\n    }\n    if (type === 3) {\n      return \"GUTTER_LINE_NUMBERS\";\n    }\n    if (type === 4) {\n      return \"GUTTER_LINE_DECORATIONS\";\n    }\n    if (type === 5) {\n      return \"GUTTER_VIEW_ZONE\";\n    }\n    if (type === 6) {\n      return \"CONTENT_TEXT\";\n    }\n    if (type === 7) {\n      return \"CONTENT_EMPTY\";\n    }\n    if (type === 8) {\n      return \"CONTENT_VIEW_ZONE\";\n    }\n    if (type === 9) {\n      return \"CONTENT_WIDGET\";\n    }\n    if (type === 10) {\n      return \"OVERVIEW_RULER\";\n    }\n    if (type === 11) {\n      return \"SCROLLBAR\";\n    }\n    if (type === 12) {\n      return \"OVERLAY_WIDGET\";\n    }\n    return \"UNKNOWN\";\n  }\n  static toString(target) {\n    return this._typeToString(target.type) + \": \" + target.position + \" - \" + target.range + \" - \" + JSON.stringify(target.detail);\n  }\n}\nclass ElementPath {\n  static isTextArea(path) {\n    return path.length === 2 && path[0] === 3 && path[1] === 6;\n  }\n  static isChildOfViewLines(path) {\n    return path.length >= 4 && path[0] === 3 && path[3] === 7;\n  }\n  static isStrictChildOfViewLines(path) {\n    return path.length > 4 && path[0] === 3 && path[3] === 7;\n  }\n  static isChildOfScrollableElement(path) {\n    return path.length >= 2 && path[0] === 3 && path[1] === 5;\n  }\n  static isChildOfMinimap(path) {\n    return path.length >= 2 && path[0] === 3 && path[1] === 8;\n  }\n  static isChildOfContentWidgets(path) {\n    return path.length >= 4 && path[0] === 3 && path[3] === 1;\n  }\n  static isChildOfOverflowGuard(path) {\n    return path.length >= 1 && path[0] === 3;\n  }\n  static isChildOfOverflowingContentWidgets(path) {\n    return path.length >= 1 && path[0] === 2;\n  }\n  static isChildOfOverlayWidgets(path) {\n    return path.length >= 2 && path[0] === 3 && path[1] === 4;\n  }\n}\nclass HitTestContext {\n  constructor(context, viewHelper, lastRenderData) {\n    this.viewModel = context.viewModel;\n    const options = context.configuration.options;\n    this.layoutInfo = options.get(143);\n    this.viewDomNode = viewHelper.viewDomNode;\n    this.lineHeight = options.get(66);\n    this.stickyTabStops = options.get(115);\n    this.typicalHalfwidthCharacterWidth = options.get(50).typicalHalfwidthCharacterWidth;\n    this.lastRenderData = lastRenderData;\n    this._context = context;\n    this._viewHelper = viewHelper;\n  }\n  getZoneAtCoord(mouseVerticalOffset) {\n    return HitTestContext.getZoneAtCoord(this._context, mouseVerticalOffset);\n  }\n  static getZoneAtCoord(context, mouseVerticalOffset) {\n    const viewZoneWhitespace = context.viewLayout.getWhitespaceAtVerticalOffset(mouseVerticalOffset);\n    if (viewZoneWhitespace) {\n      const viewZoneMiddle = viewZoneWhitespace.verticalOffset + viewZoneWhitespace.height / 2;\n      const lineCount = context.viewModel.getLineCount();\n      let positionBefore = null;\n      let position;\n      let positionAfter = null;\n      if (viewZoneWhitespace.afterLineNumber !== lineCount) {\n        positionAfter = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(viewZoneWhitespace.afterLineNumber + 1, 1);\n      }\n      if (viewZoneWhitespace.afterLineNumber > 0) {\n        positionBefore = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(viewZoneWhitespace.afterLineNumber, context.viewModel.getLineMaxColumn(viewZoneWhitespace.afterLineNumber));\n      }\n      if (positionAfter === null) {\n        position = positionBefore;\n      } else if (positionBefore === null) {\n        position = positionAfter;\n      } else if (mouseVerticalOffset < viewZoneMiddle) {\n        position = positionBefore;\n      } else {\n        position = positionAfter;\n      }\n      return {viewZoneId:viewZoneWhitespace.id, afterLineNumber:viewZoneWhitespace.afterLineNumber, positionBefore:positionBefore, positionAfter:positionAfter, position:position};\n    }\n    return null;\n  }\n  getFullLineRangeAtCoord(mouseVerticalOffset) {\n    if (this._context.viewLayout.isAfterLines(mouseVerticalOffset)) {\n      const lineNumber = this._context.viewModel.getLineCount();\n      const maxLineColumn = this._context.viewModel.getLineMaxColumn(lineNumber);\n      return {range:new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(lineNumber, maxLineColumn, lineNumber, maxLineColumn), isAfterLines:true};\n    }\n    const lineNumber = this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset);\n    const maxLineColumn = this._context.viewModel.getLineMaxColumn(lineNumber);\n    return {range:new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(lineNumber, 1, lineNumber, maxLineColumn), isAfterLines:false};\n  }\n  getLineNumberAtVerticalOffset(mouseVerticalOffset) {\n    return this._context.viewLayout.getLineNumberAtVerticalOffset(mouseVerticalOffset);\n  }\n  isAfterLines(mouseVerticalOffset) {\n    return this._context.viewLayout.isAfterLines(mouseVerticalOffset);\n  }\n  isInTopPadding(mouseVerticalOffset) {\n    return this._context.viewLayout.isInTopPadding(mouseVerticalOffset);\n  }\n  isInBottomPadding(mouseVerticalOffset) {\n    return this._context.viewLayout.isInBottomPadding(mouseVerticalOffset);\n  }\n  getVerticalOffsetForLineNumber(lineNumber) {\n    return this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber);\n  }\n  findAttribute(element, attr) {\n    return HitTestContext._findAttribute(element, attr, this._viewHelper.viewDomNode);\n  }\n  static _findAttribute(element, attr, stopAt) {\n    while (element && element !== element.ownerDocument.body) {\n      if (element.hasAttribute && element.hasAttribute(attr)) {\n        return element.getAttribute(attr);\n      }\n      if (element === stopAt) {\n        return null;\n      }\n      element = element.parentNode;\n    }\n    return null;\n  }\n  getLineWidth(lineNumber) {\n    return this._viewHelper.getLineWidth(lineNumber);\n  }\n  visibleRangeForPosition(lineNumber, column) {\n    return this._viewHelper.visibleRangeForPosition(lineNumber, column);\n  }\n  getPositionFromDOMInfo(spanNode, offset) {\n    return this._viewHelper.getPositionFromDOMInfo(spanNode, offset);\n  }\n  getCurrentScrollTop() {\n    return this._context.viewLayout.getCurrentScrollTop();\n  }\n  getCurrentScrollLeft() {\n    return this._context.viewLayout.getCurrentScrollLeft();\n  }\n}\nclass BareHitTestRequest {\n  constructor(ctx, editorPos, pos, relativePos) {\n    this.editorPos = editorPos;\n    this.pos = pos;\n    this.relativePos = relativePos;\n    this.mouseVerticalOffset = Math.max(0, ctx.getCurrentScrollTop() + this.relativePos.y);\n    this.mouseContentHorizontalOffset = ctx.getCurrentScrollLeft() + this.relativePos.x - ctx.layoutInfo.contentLeft;\n    this.isInMarginArea = this.relativePos.x < ctx.layoutInfo.contentLeft && this.relativePos.x >= ctx.layoutInfo.glyphMarginLeft;\n    this.isInContentArea = !this.isInMarginArea;\n    this.mouseColumn = Math.max(0, MouseTargetFactory._getMouseColumn(this.mouseContentHorizontalOffset, ctx.typicalHalfwidthCharacterWidth));\n  }\n}\nclass HitTestRequest extends BareHitTestRequest {\n  constructor(ctx, editorPos, pos, relativePos, target) {\n    super(ctx, editorPos, pos, relativePos);\n    this._ctx = ctx;\n    if (target) {\n      this.target = target;\n      this.targetPath = require$_DOT__DOT__SLASH_view_SLASH_viewPart_DOT_js.PartFingerprints.collect(target, ctx.viewDomNode);\n    } else {\n      this.target = null;\n      this.targetPath = new Uint8Array(0);\n    }\n  }\n  toString() {\n    return `pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\\n\\ttarget: ${this.target ? this.target.outerHTML : null}`;\n  }\n  _getMouseColumn(position = null) {\n    if (position && position.column < this._ctx.viewModel.getLineMaxColumn(position.lineNumber)) {\n      return require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_cursorColumns_DOT_js.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(position.lineNumber), position.column, this._ctx.viewModel.model.getOptions().tabSize) + 1;\n    }\n    return this.mouseColumn;\n  }\n  fulfillUnknown(position = null) {\n    return MouseTarget.createUnknown(this.target, this._getMouseColumn(position), position);\n  }\n  fulfillTextarea() {\n    return MouseTarget.createTextarea(this.target, this._getMouseColumn());\n  }\n  fulfillMargin(type, position, range, detail) {\n    return MouseTarget.createMargin(type, this.target, this._getMouseColumn(position), position, range, detail);\n  }\n  fulfillViewZone(type, position, detail) {\n    return MouseTarget.createViewZone(type, this.target, this._getMouseColumn(position), position, detail);\n  }\n  fulfillContentText(position, range, detail) {\n    return MouseTarget.createContentText(this.target, this._getMouseColumn(position), position, range, detail);\n  }\n  fulfillContentEmpty(position, detail) {\n    return MouseTarget.createContentEmpty(this.target, this._getMouseColumn(position), position, detail);\n  }\n  fulfillContentWidget(detail) {\n    return MouseTarget.createContentWidget(this.target, this._getMouseColumn(), detail);\n  }\n  fulfillScrollbar(position) {\n    return MouseTarget.createScrollbar(this.target, this._getMouseColumn(position), position);\n  }\n  fulfillOverlayWidget(detail) {\n    return MouseTarget.createOverlayWidget(this.target, this._getMouseColumn(), detail);\n  }\n  withTarget(target) {\n    return new HitTestRequest(this._ctx, this.editorPos, this.pos, this.relativePos, target);\n  }\n}\nconst EMPTY_CONTENT_AFTER_LINES = {isAfterLines:true};\nfunction createEmptyContentDataInLines(horizontalDistanceToText) {\n  return {isAfterLines:false, horizontalDistanceToText:horizontalDistanceToText};\n}\nclass MouseTargetFactory {\n  constructor(context, viewHelper) {\n    this._context = context;\n    this._viewHelper = viewHelper;\n  }\n  mouseTargetIsWidget(e) {\n    const t = e.target;\n    const path = require$_DOT__DOT__SLASH_view_SLASH_viewPart_DOT_js.PartFingerprints.collect(t, this._viewHelper.viewDomNode);\n    if (ElementPath.isChildOfContentWidgets(path) || ElementPath.isChildOfOverflowingContentWidgets(path)) {\n      return true;\n    }\n    if (ElementPath.isChildOfOverlayWidgets(path)) {\n      return true;\n    }\n    return false;\n  }\n  createMouseTarget(lastRenderData, editorPos, pos, relativePos, target) {\n    const ctx = new HitTestContext(this._context, this._viewHelper, lastRenderData);\n    const request = new HitTestRequest(ctx, editorPos, pos, relativePos, target);\n    try {\n      const r = MouseTargetFactory._createMouseTarget(ctx, request, false);\n      if (r.type === 6) {\n        if (ctx.stickyTabStops && r.position !== null) {\n          const position = MouseTargetFactory._snapToSoftTabBoundary(r.position, ctx.viewModel);\n          const range = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range.fromPositions(position, position).plusRange(r.range);\n          return request.fulfillContentText(position, range, r.detail);\n        }\n      }\n      return r;\n    } catch (err) {\n      return request.fulfillUnknown();\n    }\n  }\n  static _createMouseTarget(ctx, request, domHitTestExecuted) {\n    if (request.target === null) {\n      if (domHitTestExecuted) {\n        return request.fulfillUnknown();\n      }\n      const hitTestResult = MouseTargetFactory._doHitTest(ctx, request);\n      if (hitTestResult.type === 1) {\n        return MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx, request, hitTestResult.spanNode, hitTestResult.position, hitTestResult.injectedText);\n      }\n      return this._createMouseTarget(ctx, request.withTarget(hitTestResult.hitTarget), true);\n    }\n    const resolvedRequest = request;\n    let result = null;\n    if (!ElementPath.isChildOfOverflowGuard(request.targetPath) && !ElementPath.isChildOfOverflowingContentWidgets(request.targetPath)) {\n      result = result || request.fulfillUnknown();\n    }\n    result = result || MouseTargetFactory._hitTestContentWidget(ctx, resolvedRequest);\n    result = result || MouseTargetFactory._hitTestOverlayWidget(ctx, resolvedRequest);\n    result = result || MouseTargetFactory._hitTestMinimap(ctx, resolvedRequest);\n    result = result || MouseTargetFactory._hitTestScrollbarSlider(ctx, resolvedRequest);\n    result = result || MouseTargetFactory._hitTestViewZone(ctx, resolvedRequest);\n    result = result || MouseTargetFactory._hitTestMargin(ctx, resolvedRequest);\n    result = result || MouseTargetFactory._hitTestViewCursor(ctx, resolvedRequest);\n    result = result || MouseTargetFactory._hitTestTextArea(ctx, resolvedRequest);\n    result = result || MouseTargetFactory._hitTestViewLines(ctx, resolvedRequest, domHitTestExecuted);\n    result = result || MouseTargetFactory._hitTestScrollbar(ctx, resolvedRequest);\n    return result || request.fulfillUnknown();\n  }\n  static _hitTestContentWidget(ctx, request) {\n    if (ElementPath.isChildOfContentWidgets(request.targetPath) || ElementPath.isChildOfOverflowingContentWidgets(request.targetPath)) {\n      const widgetId = ctx.findAttribute(request.target, \"widgetId\");\n      if (widgetId) {\n        return request.fulfillContentWidget(widgetId);\n      } else {\n        return request.fulfillUnknown();\n      }\n    }\n    return null;\n  }\n  static _hitTestOverlayWidget(ctx, request) {\n    if (ElementPath.isChildOfOverlayWidgets(request.targetPath)) {\n      const widgetId = ctx.findAttribute(request.target, \"widgetId\");\n      if (widgetId) {\n        return request.fulfillOverlayWidget(widgetId);\n      } else {\n        return request.fulfillUnknown();\n      }\n    }\n    return null;\n  }\n  static _hitTestViewCursor(ctx, request) {\n    if (request.target) {\n      const lastViewCursorsRenderData = ctx.lastRenderData.lastViewCursorsRenderData;\n      for (const d of lastViewCursorsRenderData) {\n        if (request.target === d.domNode) {\n          return request.fulfillContentText(d.position, null, {mightBeForeignElement:false, injectedText:null});\n        }\n      }\n    }\n    if (request.isInContentArea) {\n      const lastViewCursorsRenderData = ctx.lastRenderData.lastViewCursorsRenderData;\n      const mouseContentHorizontalOffset = request.mouseContentHorizontalOffset;\n      const mouseVerticalOffset = request.mouseVerticalOffset;\n      for (const d of lastViewCursorsRenderData) {\n        if (mouseContentHorizontalOffset < d.contentLeft) {\n          continue;\n        }\n        if (mouseContentHorizontalOffset > d.contentLeft + d.width) {\n          continue;\n        }\n        const cursorVerticalOffset = ctx.getVerticalOffsetForLineNumber(d.position.lineNumber);\n        if (cursorVerticalOffset <= mouseVerticalOffset && mouseVerticalOffset <= cursorVerticalOffset + d.height) {\n          return request.fulfillContentText(d.position, null, {mightBeForeignElement:false, injectedText:null});\n        }\n      }\n    }\n    return null;\n  }\n  static _hitTestViewZone(ctx, request) {\n    const viewZoneData = ctx.getZoneAtCoord(request.mouseVerticalOffset);\n    if (viewZoneData) {\n      const mouseTargetType = request.isInContentArea ? 8 : 5;\n      return request.fulfillViewZone(mouseTargetType, viewZoneData.position, viewZoneData);\n    }\n    return null;\n  }\n  static _hitTestTextArea(ctx, request) {\n    if (ElementPath.isTextArea(request.targetPath)) {\n      if (ctx.lastRenderData.lastTextareaPosition) {\n        return request.fulfillContentText(ctx.lastRenderData.lastTextareaPosition, null, {mightBeForeignElement:false, injectedText:null});\n      }\n      return request.fulfillTextarea();\n    }\n    return null;\n  }\n  static _hitTestMargin(ctx, request) {\n    if (request.isInMarginArea) {\n      const res = ctx.getFullLineRangeAtCoord(request.mouseVerticalOffset);\n      const pos = res.range.getStartPosition();\n      let offset = Math.abs(request.relativePos.x);\n      const detail = {isAfterLines:res.isAfterLines, glyphMarginLeft:ctx.layoutInfo.glyphMarginLeft, glyphMarginWidth:ctx.layoutInfo.glyphMarginWidth, lineNumbersWidth:ctx.layoutInfo.lineNumbersWidth, offsetX:offset};\n      offset -= ctx.layoutInfo.glyphMarginLeft;\n      if (offset <= ctx.layoutInfo.glyphMarginWidth) {\n        return request.fulfillMargin(2, pos, res.range, detail);\n      }\n      offset -= ctx.layoutInfo.glyphMarginWidth;\n      if (offset <= ctx.layoutInfo.lineNumbersWidth) {\n        return request.fulfillMargin(3, pos, res.range, detail);\n      }\n      offset -= ctx.layoutInfo.lineNumbersWidth;\n      return request.fulfillMargin(4, pos, res.range, detail);\n    }\n    return null;\n  }\n  static _hitTestViewLines(ctx, request, domHitTestExecuted) {\n    if (!ElementPath.isChildOfViewLines(request.targetPath)) {\n      return null;\n    }\n    if (ctx.isInTopPadding(request.mouseVerticalOffset)) {\n      return request.fulfillContentEmpty(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(1, 1), EMPTY_CONTENT_AFTER_LINES);\n    }\n    if (ctx.isAfterLines(request.mouseVerticalOffset) || ctx.isInBottomPadding(request.mouseVerticalOffset)) {\n      const lineCount = ctx.viewModel.getLineCount();\n      const maxLineColumn = ctx.viewModel.getLineMaxColumn(lineCount);\n      return request.fulfillContentEmpty(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineCount, maxLineColumn), EMPTY_CONTENT_AFTER_LINES);\n    }\n    if (domHitTestExecuted) {\n      if (ElementPath.isStrictChildOfViewLines(request.targetPath)) {\n        const lineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n        if (ctx.viewModel.getLineLength(lineNumber) === 0) {\n          const lineWidth = ctx.getLineWidth(lineNumber);\n          const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n          return request.fulfillContentEmpty(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, 1), detail);\n        }\n        const lineWidth = ctx.getLineWidth(lineNumber);\n        if (request.mouseContentHorizontalOffset >= lineWidth) {\n          const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n          const pos = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, ctx.viewModel.getLineMaxColumn(lineNumber));\n          return request.fulfillContentEmpty(pos, detail);\n        }\n      }\n      return request.fulfillUnknown();\n    }\n    const hitTestResult = MouseTargetFactory._doHitTest(ctx, request);\n    if (hitTestResult.type === 1) {\n      return MouseTargetFactory.createMouseTargetFromHitTestPosition(ctx, request, hitTestResult.spanNode, hitTestResult.position, hitTestResult.injectedText);\n    }\n    return this._createMouseTarget(ctx, request.withTarget(hitTestResult.hitTarget), true);\n  }\n  static _hitTestMinimap(ctx, request) {\n    if (ElementPath.isChildOfMinimap(request.targetPath)) {\n      const possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n      const maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n      return request.fulfillScrollbar(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(possibleLineNumber, maxColumn));\n    }\n    return null;\n  }\n  static _hitTestScrollbarSlider(ctx, request) {\n    if (ElementPath.isChildOfScrollableElement(request.targetPath)) {\n      if (request.target && request.target.nodeType === 1) {\n        const className = request.target.className;\n        if (className && /\\b(slider|scrollbar)\\b/.test(className)) {\n          const possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n          const maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n          return request.fulfillScrollbar(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(possibleLineNumber, maxColumn));\n        }\n      }\n    }\n    return null;\n  }\n  static _hitTestScrollbar(ctx, request) {\n    if (ElementPath.isChildOfScrollableElement(request.targetPath)) {\n      const possibleLineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n      const maxColumn = ctx.viewModel.getLineMaxColumn(possibleLineNumber);\n      return request.fulfillScrollbar(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(possibleLineNumber, maxColumn));\n    }\n    return null;\n  }\n  getMouseColumn(relativePos) {\n    const options = this._context.configuration.options;\n    const layoutInfo = options.get(143);\n    const mouseContentHorizontalOffset = this._context.viewLayout.getCurrentScrollLeft() + relativePos.x - layoutInfo.contentLeft;\n    return MouseTargetFactory._getMouseColumn(mouseContentHorizontalOffset, options.get(50).typicalHalfwidthCharacterWidth);\n  }\n  static _getMouseColumn(mouseContentHorizontalOffset, typicalHalfwidthCharacterWidth) {\n    if (mouseContentHorizontalOffset < 0) {\n      return 1;\n    }\n    const chars = Math.round(mouseContentHorizontalOffset / typicalHalfwidthCharacterWidth);\n    return chars + 1;\n  }\n  static createMouseTargetFromHitTestPosition(ctx, request, spanNode, pos, injectedText) {\n    const lineNumber = pos.lineNumber;\n    const column = pos.column;\n    const lineWidth = ctx.getLineWidth(lineNumber);\n    if (request.mouseContentHorizontalOffset > lineWidth) {\n      const detail = createEmptyContentDataInLines(request.mouseContentHorizontalOffset - lineWidth);\n      return request.fulfillContentEmpty(pos, detail);\n    }\n    const visibleRange = ctx.visibleRangeForPosition(lineNumber, column);\n    if (!visibleRange) {\n      return request.fulfillUnknown(pos);\n    }\n    const columnHorizontalOffset = visibleRange.left;\n    if (Math.abs(request.mouseContentHorizontalOffset - columnHorizontalOffset) < 1) {\n      return request.fulfillContentText(pos, null, {mightBeForeignElement:!!injectedText, injectedText});\n    }\n    const points = [];\n    points.push({offset:visibleRange.left, column:column});\n    if (column > 1) {\n      const visibleRange = ctx.visibleRangeForPosition(lineNumber, column - 1);\n      if (visibleRange) {\n        points.push({offset:visibleRange.left, column:column - 1});\n      }\n    }\n    const lineMaxColumn = ctx.viewModel.getLineMaxColumn(lineNumber);\n    if (column < lineMaxColumn) {\n      const visibleRange = ctx.visibleRangeForPosition(lineNumber, column + 1);\n      if (visibleRange) {\n        points.push({offset:visibleRange.left, column:column + 1});\n      }\n    }\n    points.sort((a, b) => a.offset - b.offset);\n    const mouseCoordinates = request.pos.toClientCoordinates(dom.getWindow(ctx.viewDomNode));\n    const spanNodeClientRect = spanNode.getBoundingClientRect();\n    const mouseIsOverSpanNode = spanNodeClientRect.left <= mouseCoordinates.clientX && mouseCoordinates.clientX <= spanNodeClientRect.right;\n    let rng = null;\n    for (let i = 1; i < points.length; i++) {\n      const prev = points[i - 1];\n      const curr = points[i];\n      if (prev.offset <= request.mouseContentHorizontalOffset && request.mouseContentHorizontalOffset <= curr.offset) {\n        rng = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(lineNumber, prev.column, lineNumber, curr.column);\n        const prevDelta = Math.abs(prev.offset - request.mouseContentHorizontalOffset);\n        const nextDelta = Math.abs(curr.offset - request.mouseContentHorizontalOffset);\n        pos = prevDelta < nextDelta ? new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, prev.column) : new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, curr.column);\n        break;\n      }\n    }\n    return request.fulfillContentText(pos, rng, {mightBeForeignElement:!mouseIsOverSpanNode || !!injectedText, injectedText});\n  }\n  static _doHitTestWithCaretRangeFromPoint(ctx, request) {\n    const lineNumber = ctx.getLineNumberAtVerticalOffset(request.mouseVerticalOffset);\n    const lineStartVerticalOffset = ctx.getVerticalOffsetForLineNumber(lineNumber);\n    const lineEndVerticalOffset = lineStartVerticalOffset + ctx.lineHeight;\n    const isBelowLastLine = lineNumber === ctx.viewModel.getLineCount() && request.mouseVerticalOffset > lineEndVerticalOffset;\n    if (!isBelowLastLine) {\n      const lineCenteredVerticalOffset = Math.floor((lineStartVerticalOffset + lineEndVerticalOffset) / 2);\n      let adjustedPageY = request.pos.y + (lineCenteredVerticalOffset - request.mouseVerticalOffset);\n      if (adjustedPageY <= request.editorPos.y) {\n        adjustedPageY = request.editorPos.y + 1;\n      }\n      if (adjustedPageY >= request.editorPos.y + request.editorPos.height) {\n        adjustedPageY = request.editorPos.y + request.editorPos.height - 1;\n      }\n      const adjustedPage = new require$_DOT__DOT__SLASH_editorDom_DOT_js.PageCoordinates(request.pos.x, adjustedPageY);\n      const r = this._actualDoHitTestWithCaretRangeFromPoint(ctx, adjustedPage.toClientCoordinates(dom.getWindow(ctx.viewDomNode)));\n      if (r.type === 1) {\n        return r;\n      }\n    }\n    return this._actualDoHitTestWithCaretRangeFromPoint(ctx, request.pos.toClientCoordinates(dom.getWindow(ctx.viewDomNode)));\n  }\n  static _actualDoHitTestWithCaretRangeFromPoint(ctx, coords) {\n    const shadowRoot = dom.getShadowRoot(ctx.viewDomNode);\n    let range;\n    if (shadowRoot) {\n      if (typeof shadowRoot.caretRangeFromPoint === \"undefined\") {\n        range = shadowCaretRangeFromPoint(shadowRoot, coords.clientX, coords.clientY);\n      } else {\n        range = shadowRoot.caretRangeFromPoint(coords.clientX, coords.clientY);\n      }\n    } else {\n      range = ctx.viewDomNode.ownerDocument.caretRangeFromPoint(coords.clientX, coords.clientY);\n    }\n    if (!range || !range.startContainer) {\n      return new UnknownHitTestResult();\n    }\n    const startContainer = range.startContainer;\n    if (startContainer.nodeType === startContainer.TEXT_NODE) {\n      const parent1 = startContainer.parentNode;\n      const parent2 = parent1 ? parent1.parentNode : null;\n      const parent3 = parent2 ? parent2.parentNode : null;\n      const parent3ClassName = parent3 && parent3.nodeType === parent3.ELEMENT_NODE ? parent3.className : null;\n      if (parent3ClassName === require$_DOT__DOT__SLASH_viewParts_SLASH_lines_SLASH_viewLine_DOT_js.ViewLine.CLASS_NAME) {\n        return HitTestResult.createFromDOMInfo(ctx, parent1, range.startOffset);\n      } else {\n        return new UnknownHitTestResult(startContainer.parentNode);\n      }\n    } else if (startContainer.nodeType === startContainer.ELEMENT_NODE) {\n      const parent1 = startContainer.parentNode;\n      const parent2 = parent1 ? parent1.parentNode : null;\n      const parent2ClassName = parent2 && parent2.nodeType === parent2.ELEMENT_NODE ? parent2.className : null;\n      if (parent2ClassName === require$_DOT__DOT__SLASH_viewParts_SLASH_lines_SLASH_viewLine_DOT_js.ViewLine.CLASS_NAME) {\n        return HitTestResult.createFromDOMInfo(ctx, startContainer, startContainer.textContent.length);\n      } else {\n        return new UnknownHitTestResult(startContainer);\n      }\n    }\n    return new UnknownHitTestResult();\n  }\n  static _doHitTestWithCaretPositionFromPoint(ctx, coords) {\n    const hitResult = ctx.viewDomNode.ownerDocument.caretPositionFromPoint(coords.clientX, coords.clientY);\n    if (hitResult.offsetNode.nodeType === hitResult.offsetNode.TEXT_NODE) {\n      const parent1 = hitResult.offsetNode.parentNode;\n      const parent2 = parent1 ? parent1.parentNode : null;\n      const parent3 = parent2 ? parent2.parentNode : null;\n      const parent3ClassName = parent3 && parent3.nodeType === parent3.ELEMENT_NODE ? parent3.className : null;\n      if (parent3ClassName === require$_DOT__DOT__SLASH_viewParts_SLASH_lines_SLASH_viewLine_DOT_js.ViewLine.CLASS_NAME) {\n        return HitTestResult.createFromDOMInfo(ctx, hitResult.offsetNode.parentNode, hitResult.offset);\n      } else {\n        return new UnknownHitTestResult(hitResult.offsetNode.parentNode);\n      }\n    }\n    if (hitResult.offsetNode.nodeType === hitResult.offsetNode.ELEMENT_NODE) {\n      const parent1 = hitResult.offsetNode.parentNode;\n      const parent1ClassName = parent1 && parent1.nodeType === parent1.ELEMENT_NODE ? parent1.className : null;\n      const parent2 = parent1 ? parent1.parentNode : null;\n      const parent2ClassName = parent2 && parent2.nodeType === parent2.ELEMENT_NODE ? parent2.className : null;\n      if (parent1ClassName === require$_DOT__DOT__SLASH_viewParts_SLASH_lines_SLASH_viewLine_DOT_js.ViewLine.CLASS_NAME) {\n        const tokenSpan = hitResult.offsetNode.childNodes[Math.min(hitResult.offset, hitResult.offsetNode.childNodes.length - 1)];\n        if (tokenSpan) {\n          return HitTestResult.createFromDOMInfo(ctx, tokenSpan, 0);\n        }\n      } else if (parent2ClassName === require$_DOT__DOT__SLASH_viewParts_SLASH_lines_SLASH_viewLine_DOT_js.ViewLine.CLASS_NAME) {\n        return HitTestResult.createFromDOMInfo(ctx, hitResult.offsetNode, 0);\n      }\n    }\n    return new UnknownHitTestResult(hitResult.offsetNode);\n  }\n  static _snapToSoftTabBoundary(position, viewModel) {\n    const lineContent = viewModel.getLineContent(position.lineNumber);\n    const {tabSize} = viewModel.model.getOptions();\n    const newPosition = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_cursor_SLASH_cursorAtomicMoveOperations_DOT_js.AtomicTabMoveOperations.atomicPosition(lineContent, position.column - 1, tabSize, 2);\n    if (newPosition !== -1) {\n      return new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(position.lineNumber, newPosition + 1);\n    }\n    return position;\n  }\n  static _doHitTest(ctx, request) {\n    let result = new UnknownHitTestResult();\n    if (typeof ctx.viewDomNode.ownerDocument.caretRangeFromPoint === \"function\") {\n      result = this._doHitTestWithCaretRangeFromPoint(ctx, request);\n    } else if (ctx.viewDomNode.ownerDocument.caretPositionFromPoint) {\n      result = this._doHitTestWithCaretPositionFromPoint(ctx, request.pos.toClientCoordinates(dom.getWindow(ctx.viewDomNode)));\n    }\n    if (result.type === 1) {\n      const injectedText = ctx.viewModel.getInjectedTextAt(result.position);\n      const normalizedPosition = ctx.viewModel.normalizePosition(result.position, 2);\n      if (injectedText || !normalizedPosition.equals(result.position)) {\n        result = new ContentHitTestResult(normalizedPosition, result.spanNode, injectedText);\n      }\n    }\n    return result;\n  }\n}\nfunction shadowCaretRangeFromPoint(shadowRoot, x, y) {\n  const range = document.createRange();\n  let el = shadowRoot.elementFromPoint(x, y);\n  if (el !== null) {\n    while (el && el.firstChild && el.firstChild.nodeType !== el.firstChild.TEXT_NODE && el.lastChild && el.lastChild.firstChild) {\n      el = el.lastChild;\n    }\n    const rect = el.getBoundingClientRect();\n    const elWindow = dom.getWindow(el);\n    const fontStyle = elWindow.getComputedStyle(el, null).getPropertyValue(\"font-style\");\n    const fontVariant = elWindow.getComputedStyle(el, null).getPropertyValue(\"font-variant\");\n    const fontWeight = elWindow.getComputedStyle(el, null).getPropertyValue(\"font-weight\");\n    const fontSize = elWindow.getComputedStyle(el, null).getPropertyValue(\"font-size\");\n    const lineHeight = elWindow.getComputedStyle(el, null).getPropertyValue(\"line-height\");\n    const fontFamily = elWindow.getComputedStyle(el, null).getPropertyValue(\"font-family\");\n    const font = `${fontStyle} ${fontVariant} ${fontWeight} ${fontSize}/${lineHeight} ${fontFamily}`;\n    const text = el.innerText;\n    let pixelCursor = rect.left;\n    let offset = 0;\n    let step;\n    if (x > rect.left + rect.width) {\n      offset = text.length;\n    } else {\n      const charWidthReader = CharWidthReader.getInstance();\n      for (let i = 0; i < text.length + 1; i++) {\n        step = charWidthReader.getCharWidth(text.charAt(i), font) / 2;\n        pixelCursor += step;\n        if (x < pixelCursor) {\n          offset = i;\n          break;\n        }\n        pixelCursor += step;\n      }\n    }\n    range.setStart(el.firstChild, offset);\n    range.setEnd(el.firstChild, offset);\n  }\n  return range;\n}\nclass CharWidthReader {\n  static getInstance() {\n    if (!CharWidthReader._INSTANCE) {\n      CharWidthReader._INSTANCE = new CharWidthReader();\n    }\n    return CharWidthReader._INSTANCE;\n  }\n  constructor() {\n    this._cache = {};\n    this._canvas = document.createElement(\"canvas\");\n  }\n  getCharWidth(char, font) {\n    const cacheKey = char + font;\n    if (this._cache[cacheKey]) {\n      return this._cache[cacheKey];\n    }\n    const context = this._canvas.getContext(\"2d\");\n    context.font = font;\n    const metrics = context.measureText(char);\n    const width = metrics.width;\n    this._cache[cacheKey] = width;\n    return width;\n  }\n}\nCharWidthReader._INSTANCE = null;\n\n};"],
"names":["shadow$provide","require","module","exports","createEmptyContentDataInLines","horizontalDistanceToText","isAfterLines","Object","defineProperties","__esModule","enumerable","value","HitTestContext","get","MouseTarget","MouseTargetFactory","PointerHandlerLastRenderData","require$_DOT__DOT__SLASH_editorDom_DOT_js","require$_DOT__DOT__SLASH_view_SLASH_viewPart_DOT_js","require$_DOT__DOT__SLASH_viewParts_SLASH_lines_SLASH_viewLine_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_cursorColumns_DOT_js","dom","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_cursor_SLASH_cursorAtomicMoveOperations_DOT_js","UnknownHitTestResult","constructor","hitTarget","type","ContentHitTestResult","position","spanNode","injectedText","HitTestResult","createFromDOMInfo","ctx","offset","getPositionFromDOMInfo","lastViewCursorsRenderData","lastTextareaPosition","_deduceRage","range","Range","lineNumber","column","createUnknown","element","mouseColumn","createTextarea","createMargin","detail","createViewZone","createContentText","createContentEmpty","createContentWidget","createScrollbar","createOverlayWidget","createOutsideEditor","outsidePosition","outsideDistance","_typeToString","toString","target","JSON","stringify","ElementPath","isTextArea","path","length","isChildOfViewLines","isStrictChildOfViewLines","isChildOfScrollableElement","isChildOfMinimap","isChildOfContentWidgets","isChildOfOverflowGuard","isChildOfOverflowingContentWidgets","isChildOfOverlayWidgets","context","viewHelper","lastRenderData","viewModel","options","configuration","layoutInfo","viewDomNode","lineHeight","stickyTabStops","typicalHalfwidthCharacterWidth","_context","_viewHelper","getZoneAtCoord","mouseVerticalOffset","viewZoneWhitespace","viewLayout","getWhitespaceAtVerticalOffset","viewZoneMiddle","verticalOffset","height","lineCount","getLineCount","positionBefore","positionAfter","afterLineNumber","Position","getLineMaxColumn","viewZoneId","id","getFullLineRangeAtCoord","maxLineColumn","getLineNumberAtVerticalOffset","isInTopPadding","isInBottomPadding","getVerticalOffsetForLineNumber","findAttribute","attr","_findAttribute","stopAt","ownerDocument","body","hasAttribute","getAttribute","parentNode","getLineWidth","visibleRangeForPosition","getCurrentScrollTop","getCurrentScrollLeft","BareHitTestRequest","editorPos","pos","relativePos","Math","max","y","mouseContentHorizontalOffset","x","contentLeft","isInMarginArea","glyphMarginLeft","isInContentArea","_getMouseColumn","HitTestRequest","_ctx","targetPath","PartFingerprints","collect","Uint8Array","outerHTML","CursorColumns","visibleColumnFromColumn","getLineContent","model","getOptions","tabSize","fulfillUnknown","fulfillTextarea","fulfillMargin","fulfillViewZone","fulfillContentText","fulfillContentEmpty","fulfillContentWidget","fulfillScrollbar","fulfillOverlayWidget","withTarget","EMPTY_CONTENT_AFTER_LINES","mouseTargetIsWidget","e","createMouseTarget","request","r","_createMouseTarget","_snapToSoftTabBoundary","fromPositions","plusRange","err","domHitTestExecuted","hitTestResult","_doHitTest","createMouseTargetFromHitTestPosition","result","_hitTestContentWidget","_hitTestOverlayWidget","_hitTestMinimap","_hitTestScrollbarSlider","_hitTestViewZone","_hitTestMargin","_hitTestViewCursor","_hitTestTextArea","_hitTestViewLines","_hitTestScrollbar","widgetId","d","domNode","mightBeForeignElement","width","cursorVerticalOffset","viewZoneData","mouseTargetType","res","getStartPosition","abs","glyphMarginWidth","lineNumbersWidth","offsetX","getLineLength","lineWidth","possibleLineNumber","maxColumn","nodeType","className","test","getMouseColumn","round","chars","visibleRange","left","points","push","lineMaxColumn","sort","a","b","mouseCoordinates","toClientCoordinates","getWindow","spanNodeClientRect","getBoundingClientRect","mouseIsOverSpanNode","clientX","right","rng","i","prev","curr","prevDelta","nextDelta","_doHitTestWithCaretRangeFromPoint","lineStartVerticalOffset","lineEndVerticalOffset","adjustedPageY","floor","lineCenteredVerticalOffset","adjustedPage","PageCoordinates","_actualDoHitTestWithCaretRangeFromPoint","coords","shadowRoot","getShadowRoot","caretRangeFromPoint","clientY","document","createRange","el","elementFromPoint","firstChild","TEXT_NODE","lastChild","rect","elWindow","fontStyle","getComputedStyle","getPropertyValue","fontVariant","fontWeight","fontSize","fontFamily","font","text","innerText","pixelCursor","charWidthReader","CharWidthReader","getInstance","step","getCharWidth","charAt","setStart","setEnd","startContainer","parent3","parent2","parent1","parent3ClassName","ELEMENT_NODE","ViewLine","CLASS_NAME","startOffset","parent2ClassName","textContent","_doHitTestWithCaretPositionFromPoint","hitResult","caretPositionFromPoint","offsetNode","parent1ClassName","tokenSpan","childNodes","min","lineContent","newPosition","AtomicTabMoveOperations","atomicPosition","getInjectedTextAt","normalizedPosition","normalizePosition","equals","_INSTANCE","_cache","_canvas","createElement","char","cacheKey","getContext","measureText","metrics"]
}
