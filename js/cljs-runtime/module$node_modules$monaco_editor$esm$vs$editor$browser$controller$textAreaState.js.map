{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$controller$textAreaState.js",
"lineCount":114,
"mappings":"AAAAA,cAAA,CAAA,gFAAA,GAAqG,QAAQ,CAACC,OAAD,EAASC,MAAT,EAAgBC,OAAhB,CAAyB;AACtIC,QAAOC,CAAAA,gBAAP,CAAwBF,OAAxB,EAAiC,CAACG,WAAW,CAACC,WAAW,CAAA,CAAZ,EAAkBC,MAAM,CAAA,CAAxB,CAAZ,EAA2CC,0BAA0B,CAACF,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AACrI,WAAOD,yBAAP;AADqI,GAAjC,CAArE,EAE7BE,cAAc,CAACJ,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AACjD,WAAOC,aAAP;AADiD,GAAjC,CAFe,EAI7BC,kBAAkB,CAACL,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AACrD,WAIwBE,CAAAA,CAJxB;AADqD,GAAjC,CAJW,CAAjC,CAAA;AAOA,MAAIC,UAAUZ,OAAA,CAAQ,8DAAR,CAAd,EACIa,iFAAiFb,OAAA,CAAQ,mEAAR,CADrF;AAGA,OAAMU,cAAN;AACEI,eAAW,CAACP,KAAD,EAAQQ,cAAR,EAAwBC,YAAxB,EAAsCC,SAAtC,EAAiDC,2BAAjD,CAA8E;AACvF,UAAKX,CAAAA,KAAL,GAAaA,KAAb;AACA,UAAKQ,CAAAA,cAAL,GAAsBA,cAAtB;AACA,UAAKC,CAAAA,YAAL,GAAoBA,YAApB;AACA,UAAKC,CAAAA,SAAL,GAAiBA,SAAjB;AACA,UAAKC,CAAAA,2BAAL,GAAmCA,2BAAnC;AALuF;AAOzFC,YAAQ,EAAG;AACT,aAAQ,MAAK,IAAKZ,CAAAA,KAAV,sBAAqC,IAAKQ,CAAAA,cAA1C,mBAA2E,IAAKC,CAAAA,YAAhF,GAAR;AADS;AAGJI,2BAAgB,CAACC,QAAD,EAAWC,aAAX,CAA0B;AAC/C,YAAMf,QAAQc,QAASE,CAAAA,QAAT,EAAd,EACMR,iBAAiBM,QAASG,CAAAA,iBAAT,EADvB;AAEMR,cAAAA,GAAeK,QAASI,CAAAA,eAAT,EAAfT;AACN,UAAIE,8BAA8BQ,IAAAA,EAAlC;AACA,UAAIJ,aAAJ,CAAmB;AACjB,cAAMK,4BAA4BpB,KAAMqB,CAAAA,SAAN,CAAgB,CAAhB,EAAmBb,cAAnB,CAAlC,EACMc,oCAAoCP,aAAcf,CAAAA,KAAMqB,CAAAA,SAApB,CAA8B,CAA9B,EAAiCN,aAAcP,CAAAA,cAA/C,CAD1C;AAEIY,iCAAJ,KAAkCE,iCAAlC,KACEX,2BADF,GACgCI,aAAcJ,CAAAA,2BAD9C;AAHiB;AAOnB,aAAO,IAAIR,aAAJ,CAAkBH,KAAlB,EAAyBQ,cAAzB,EAAyCC,QAAzC,EAAuD,IAAvD,EAA6DE,2BAA7D,CAAP;AAZ+C;AAcjDY,qBAAiB,EAAG;AAClB,aAAI,IAAKf,CAAAA,cAAT,KAA4B,IAAKR,CAAAA,KAAMwB,CAAAA,MAAvC,GACS,IADT,GAGO,IAAIrB,aAAJ,CAAkB,IAAKH,CAAAA,KAAvB,EAA8B,IAAKA,CAAAA,KAAMwB,CAAAA,MAAzC,EAAiD,IAAKxB,CAAAA,KAAMwB,CAAAA,MAA5D,EAAoE,IAApE,EAA0EL,IAAAA,EAA1E,CAHP;AADkB;AAMpBM,mBAAe,CAACC,MAAD,EAASZ,QAAT,EAAmBa,MAAnB,CAA2B;AAIxCb,cAASc,CAAAA,QAAT,CAAkBF,MAAlB,EAA0B,IAAK1B,CAAAA,KAA/B,CAAA;AACI2B,YAAJ,IACEb,QAASe,CAAAA,iBAAT,CAA2BH,MAA3B,EAAmC,IAAKlB,CAAAA,cAAxC,EAAwD,IAAKC,CAAAA,YAA7D,CADF;AALwC;AAS1CqB,wBAAoB,CAACC,MAAD,CAAS;AAAA,UACvBC,EADuB,EACnBC,EADmB,EACfC,EADe,EACXC,EADW,EACPC,EADO,EACHC,EADG,EACKC,EADL;AAE3B,UAAIP,MAAJ,IAAc,IAAKvB,CAAAA,cAAnB,CAAmC;AAC3B+B,YAAAA,KAAM,IAAKvC,CAAAA,KAAMqB,CAAAA,SAAX,CAAqBU,MAArB,EAA6B,IAAKvB,CAAAA,cAAlC,CAAN+B;AACN,eAAO,IAAKC,CAAAA,2BAAL,CAAiC,CAACP,EAAD,GAAM,CAACD,EAAD,GAAM,IAAKtB,CAAAA,SAAX,MAA0B,IAA1B,IAAkCsB,EAAlC,KAAyC,IAAK,EAA9C,GAAkD,IAAK,EAAvD,GAA2DA,EAAGS,CAAAA,gBAAH,EAAjE,MAA4F,IAA5F,IAAoGR,EAApG,KAA2G,IAAK,EAAhH,GAAoHA,EAApH,GAAyH,IAA1J,EAAgKM,EAAhK,EAAqK,CAAC,CAAtK,CAAP;AAFiC;AAInC,UAAIR,MAAJ,IAAc,IAAKtB,CAAAA,YAAnB;AAEE,eADM8B,EACC,GADK,IAAKvC,CAAAA,KAAMqB,CAAAA,SAAX,CAAqB,IAAKZ,CAAAA,YAA1B,EAAwCsB,MAAxC,CACL,EAAA,IAAKS,CAAAA,2BAAL,CAAiC,CAACL,EAAD,GAAM,CAACD,EAAD,GAAM,IAAKxB,CAAAA,SAAX,MAA0B,IAA1B,IAAkCwB,EAAlC,KAAyC,IAAK,EAA9C,GAAkD,IAAK,EAAvD,GAA2DA,EAAGQ,CAAAA,cAAH,EAAjE,MAA0F,IAA1F,IAAkGP,EAAlG,KAAyG,IAAK,EAA9G,GAAkHA,EAAlH,GAAuH,IAAxJ,EAA8JI,EAA9J,EAAmK,CAAnK,CAAP;AAFF;AAIMI,QAAAA,GAAO,IAAK3C,CAAAA,KAAMqB,CAAAA,SAAX,CAAqB,IAAKb,CAAAA,cAA1B,EAA0CuB,MAA1C,CAAPY;AACN,UAAIA,EAAKC,CAAAA,OAAL,CAAaC,MAAOC,CAAAA,YAAP,CAAoB,IAApB,CAAb,CAAJ,KAAgD,CAAC,CAAjD;AACE,eAAO,IAAKN,CAAAA,2BAAL,CAAiC,CAACH,EAAD,GAAM,CAACD,EAAD,GAAM,IAAK1B,CAAAA,SAAX,MAA0B,IAA1B,IAAkC0B,EAAlC,KAAyC,IAAK,EAA9C,GAAkD,IAAK,EAAvD,GAA2DA,EAAGK,CAAAA,gBAAH,EAAjE,MAA4F,IAA5F,IAAoGJ,EAApG,KAA2G,IAAK,EAAhH,GAAoHA,EAApH,GAAyH,IAA1J,EAAgKM,EAAhK,EAAsK,CAAtK,CAAP;AADF;AAGMI,YAAAA,GAAO,IAAK/C,CAAAA,KAAMqB,CAAAA,SAAX,CAAqBU,MAArB,EAA6B,IAAKtB,CAAAA,YAAlC,CAAPsC;AACN,aAAO,IAAKP,CAAAA,2BAAL,CAAiC,CAACF,EAAD,GAAM,CAACU,EAAD,GAAM,IAAKtC,CAAAA,SAAX,MAA0B,IAA1B,IAAkCsC,EAAlC,KAAyC,IAAK,EAA9C,GAAkD,IAAK,EAAvD,GAA2DA,EAAGN,CAAAA,cAAH,EAAjE,MAA0F,IAA1F,IAAkGJ,EAAlG,KAAyG,IAAK,EAA9G,GAAkHA,EAAlH,GAAuH,IAAxJ,EAA8JS,MAA9J,EAAoK,CAAC,CAArK,CAAP;AAf2B;AAiB7BP,+BAA2B,CAACS,MAAD,EAASC,SAAT,EAAoBC,MAApB,CAA4B;AACrD,UAAIC,cAAc,CAAlB,EACIC,oBAAoB,CAAC,CADzB;AAEA,WAAA,GAAQA,iBAAR,GAA4BH,SAAUN,CAAAA,OAAV,CAAkB,IAAlB,EAAwBS,iBAAxB,GAA4C,CAA5C,CAA5B,MAAgF,CAAC,CAAjF,CAAA;AACED,mBAAA,EAAA;AADF;AAGA,aAAO,CAACH,MAAD,EAASE,MAAT,GAAkBD,SAAU1B,CAAAA,MAA5B,EAAoC4B,WAApC,CAAP;AANqD;AAQhDE,sBAAW,CAACvC,aAAD,EAAgBwC,YAAhB,EAA8BC,iBAA9B,CAAiD;AACjE,UAAI,CAACzC,aAAL;AACE,eAAO,CAAC0C,KAAK,EAAN,EAAUC,mBAAmB,CAA7B,EAAgCC,mBAAmB,CAAnD,EAAsDC,cAAc,CAApE,CAAP;AADF;AAQMC,uBAAAA,GAAeC,IAAKC,CAAAA,GAAL,CAAS1D,OAAQ2D,CAAAA,kBAAR,CAA2BjD,aAAcf,CAAAA,KAAzC,EAAgDuD,YAAavD,CAAAA,KAA7D,CAAT,EAA8Ee,aAAcP,CAAAA,cAA5F,EAA4G+C,YAAa/C,CAAAA,cAAzH,CAAfqD;AACN,UAAMI,eAAeH,IAAKC,CAAAA,GAAL,CAAS1D,OAAQ6D,CAAAA,kBAAR,CAA2BnD,aAAcf,CAAAA,KAAzC,EAAgDuD,YAAavD,CAAAA,KAA7D,CAAT,EAA8Ee,aAAcf,CAAAA,KAAMwB,CAAAA,MAAlG,GAA2GT,aAAcN,CAAAA,YAAzH,EAAuI8C,YAAavD,CAAAA,KAAMwB,CAAAA,MAA1J,GAAmK+B,YAAa9C,CAAAA,YAAhL,CAArB;AACsBM,mBAAcf,CAAAA,KAAMqB,CAAAA,SAApB,CAA8BwC,iBAA9B,EAA4C9C,aAAcf,CAAAA,KAAMwB,CAAAA,MAAhE,GAAyEyC,YAAzE,CAAA;AAChBE,kBAAAA,GAAeZ,YAAavD,CAAAA,KAAMqB,CAAAA,SAAnB,CAA6BwC,iBAA7B,EAA2CN,YAAavD,CAAAA,KAAMwB,CAAAA,MAA9D,GAAuEyC,YAAvE,CAAfE;AASN,aAN8BZ,YAAa/C,CAAAA,cAM3C,GAN4DqD,iBAM5D,KAL4BN,YAAa9C,CAAAA,YAKzC,GALwDoD,iBAKxD,GAKS,CAACJ,KAAKU,YAAN,EAAoBT,mBAJO3C,aAAcP,CAAAA,cAIrBkD,GAJsCG,iBAI1D,EAAkEF,mBAAmB,CAArF,EAAwFC,cAAc,CAAtG,CALT,GAQO,CAACH,KAAKU,YAAN,EAAoBT,mBAfE3C,aAAcN,CAAAA,YAehBiD,GAf+BG,iBAe/BH,IAhBI3C,aAAcP,CAAAA,cAgBlBkD,GAhBmCG,iBAgBnCH,CAApB,EAAkEC,mBAAmB,CAArF,EAAwFC,cAAc,CAAtG,CARP;AArBiE;AA+B5DQ,wCAA6B,CAACrD,aAAD,EAAgBwC,YAAhB,CAA8B;AAChE,UAAI,CAACxC,aAAL;AACE,eAAO,CAAC0C,KAAK,EAAN,EAAUC,mBAAmB,CAA7B,EAAgCC,mBAAmB,CAAnD,EAAsDC,cAAc,CAApE,CAAP;AADF;AAQA,UAAI7C,aAAcf,CAAAA,KAAlB,KAA4BuD,YAAavD,CAAAA,KAAzC;AACE,eAAO,CAACyD,KAAK,EAAN,EAAUC,mBAAmB,CAA7B,EAAgCC,mBAAmB,CAAnD,EAAsDC,cAAcL,YAAa9C,CAAAA,YAA3BmD,GAA0C7C,aAAcN,CAAAA,YAA9G,CAAP;AADF;AAGA,YAAMoD,eAAeC,IAAKC,CAAAA,GAAL,CAAS1D,OAAQ2D,CAAAA,kBAAR,CAA2BjD,aAAcf,CAAAA,KAAzC,EAAgDuD,YAAavD,CAAAA,KAA7D,CAAT,EAA8Ee,aAAcN,CAAAA,YAA5F,CAArB;AACA,UAAMwD,eAAeH,IAAKC,CAAAA,GAAL,CAAS1D,OAAQ6D,CAAAA,kBAAR,CAA2BnD,aAAcf,CAAAA,KAAzC,EAAgDuD,YAAavD,CAAAA,KAA7D,CAAT,EAA8Ee,aAAcf,CAAAA,KAAMwB,CAAAA,MAAlG,GAA2GT,aAAcN,CAAAA,YAAzH,CAArB;AACA,YAAM4D,gBAAgBtD,aAAcf,CAAAA,KAAMqB,CAAAA,SAApB,CAA8BwC,YAA9B,EAA4C9C,aAAcf,CAAAA,KAAMwB,CAAAA,MAAhE,GAAyEyC,YAAzE,CAAtB;AACME,kBAAAA,GAAeZ,YAAavD,CAAAA,KAAMqB,CAAAA,SAAnB,CAA6BwC,YAA7B,EAA2CN,YAAavD,CAAAA,KAAMwB,CAAAA,MAA9D,GAAuEyC,YAAvE,CAAfE;AAEAG,mBAAAA,GAAuBvD,aAAcN,CAAAA,YAArC6D,GAAoDT,YAApDS;AAON,aAAO,CAACb,KAAKU,YAAN,EAAoBT,mBAAmBY,aAAvC,EAA6DX,mBAAmBU,aAAc7C,CAAAA,MAAjCmC,GAA0CW,aAAvG,EAA6HV,cALxGL,YAAa9C,CAAAA,YAK2FmD,GAL5EC,YAK4ED,GAAoCO,YAAa3C,CAAAA,MAA9K,CAAP;AAxBgE;AAhGpE;AA2HArB,eAAcoE,CAAAA,KAAd,GAAsB,IAAIpE,aAAJ,CAAkB,EAAlB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,IAA5B,EAAkCgB,IAAAA,EAAlC,CAAtB;AACA,OAAMlB,0BAAN;AACSuE,yBAAc,CAACC,UAAD,EAAaC,YAAb,CAA2B;AAC9C,aAAOZ,IAAKa,CAAAA,KAAL,EAAYF,UAAZ,GAAyB,CAAzB,IAA8BC,YAA9B,CAAP;AAD8C;AAGzCE,2BAAgB,CAACC,IAAD,EAAOH,YAAP,CAAqB;AAC3BG,UAAT9C,IAAgB2C,YAAhB3C;AAGN,aAAO,IAAIzB,8EAA+EwE,CAAAA,KAAnF,CAFiB/C,IAEjB,GAF0B,CAE1B,EAA0G,CAA1G,EADeA,IACf,GADwB2C,YACxB,GAA6H,CAA7H,EAAgI,CAAhI,CAAP;AAJ0C;AAMrCK,8BAAmB,CAACC,KAAD,EAAQtE,SAAR,EAAmBgE,YAAnB,EAAiCO,YAAjC,CAA+C;AAEvE,UAAMC,qBAAqBjF,yBAA0BuE,CAAAA,cAA1B,CAAyC9D,SAAUyE,CAAAA,eAAnD,EAAoET,YAApE,CAA3B,EACMU,0BAA0BnF,yBAA0B2E,CAAAA,gBAA1B,CAA2CM,kBAA3C,EAA+DR,YAA/D,CADhC;AAEA,YAAMW,mBAAmBpF,yBAA0BuE,CAAAA,cAA1B,CAAyC9D,SAAU4E,CAAAA,aAAnD,EAAkEZ,YAAlE,CAAzB,EACMa,wBAAwBtF,yBAA0B2E,CAAAA,gBAA1B,CAA2CS,gBAA3C,EAA6DX,YAA7D,CAD9B;AAEIc,kBAAAA,GAAeJ,uBAAwBK,CAAAA,eAAxB,CAAwC,IAAInF,8EAA+EwE,CAAAA,KAAnF,CAAyF,CAAzF,EAA4F,CAA5F,EAA+FpE,SAAUyE,CAAAA,eAAzG,EAA0HzE,SAAUgF,CAAAA,WAApI,CAAxC,CAAfF;AACJ,UAAIP,YAAJ,IAAoBD,KAAMW,CAAAA,qBAAN,CAA4BH,YAA5B,EAA0C,CAA1C,CAApB,GANoBI,GAMpB,CAAgF;AAC9E,YAAMC,eAAeb,KAAMc,CAAAA,cAAN,CAAqBN,YAAa9C,CAAAA,cAAb,EAArB,EAAoD,CAPvDkD,GAOG,CAArB;AACAJ,oBAAA,GAAelF,8EAA+EwE,CAAAA,KAAMiB,CAAAA,aAArF,CAAmGF,YAAnG,EAAiHL,YAAa9C,CAAAA,cAAb,EAAjH,CAAf;AAF8E;AAI1EsD,kBAAAA,GAAUhB,KAAMiB,CAAAA,eAAN,CAAsBT,YAAtB,EAAoC,CAApC,CAAVQ;AACN,UAAME,WAAWlB,KAAMmB,CAAAA,YAAN,EAAjB,EACMC,oBAAoBpB,KAAMqB,CAAAA,gBAAN,CAAuBH,QAAvB,CAD1B;AAEII,cAAAA,GAAgBf,qBAAsBE,CAAAA,eAAtB,CAAsC,IAAInF,8EAA+EwE,CAAAA,KAAnF,CAAyFpE,SAAU4E,CAAAA,aAAnG,EAAkH5E,SAAU6F,CAAAA,SAA5H,EAAuIL,QAAvI,EAAiJE,iBAAjJ,CAAtC,CAAhBE;AACArB,kBAAJ,IAAoBD,KAAMW,CAAAA,qBAAN,CAA4BW,QAA5B,EAA2C,CAA3C,CAApB,GAdoBV,GAcpB,KACQY,iBACN,GADoBxB,KAAMc,CAAAA,cAAN,CAAqBQ,QAAc7D,CAAAA,gBAAd,EAArB,EAfFmD,GAeE,CACpB,EAAAU,QAAA,GAAgBhG,8EAA+EwE,CAAAA,KAAMiB,CAAAA,aAArF,CAAmGO,QAAc7D,CAAAA,gBAAd,EAAnG,EAAqI+D,iBAArI,CAFlB;AAIMC,cAAAA,GAAWzB,KAAMiB,CAAAA,eAAN,CAAsBK,QAAtB,EAAqC,CAArC,CAAXG;AAEFvB,wBAAJ,KAA2BG,gBAA3B,IAA+CH,kBAA/C,GAAoE,CAApE,KAA0EG,gBAA1E,GACE5B,KADF,GACSuB,KAAMiB,CAAAA,eAAN,CAAsBvF,SAAtB,EAAiC,CAAjC,CADT,IAGQgG,kBAEN,GAFwBtB,uBAAwBK,CAAAA,eAAxB,CAAwC/E,SAAxC,CAExB,EADMiG,uBACN,GADwBpB,qBAAsBE,CAAAA,eAAtB,CAAsC/E,SAAtC,CACxB,EAAA+C,KAAA,GAAOuB,KAAMiB,CAAAA,eAAN,CAAsBS,kBAAtB,EAAuC,CAAvC,CAAP,GAAmD7D,MAAOC,CAAAA,YAAP,CAAoB,IAApB,CAAnD,GAA+EkC,KAAMiB,CAAAA,eAAN,CAAsBU,uBAAtB,EAAuC,CAAvC,CALjF,CAAA;AAOI1B,kBAAJ,IAAoBxB,KAAKjC,CAAAA,MAAzB,GAAkC,GAAlC,KACEiC,KADF,GACSA,KAAKpC,CAAAA,SAAL,CAAe,CAAf,EA5BWuE,GA4BX,CADT,GAC0C/C,MAAOC,CAAAA,YAAP,CAAoB,IAApB,CAD1C,GACsEW,KAAKpC,CAAAA,SAAL,CAAeoC,KAAKjC,CAAAA,MAApB,GA5BlDoE,GA4BkD,EAA0CnC,KAAKjC,CAAAA,MAA/C,CADtE;AAGA,aAAO,IAAIrB,aAAJ,CAAkB6F,YAAlB,GAA4BvC,KAA5B,GAAmCgD,QAAnC,EAA6CT,YAAQxE,CAAAA,MAArD,EAA6DwE,YAAQxE,CAAAA,MAArE,GAA8EiC,KAAKjC,CAAAA,MAAnF,EAA2Fd,SAA3F,EAAsG8E,YAAaF,CAAAA,aAAnH,GAAmIE,YAAaL,CAAAA,eAAhJ,CAAP;AA/BuE;AAV3E;AAvIsI,CAAtI;;",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/controller/textAreaState.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$controller$textAreaState\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, PagedScreenReaderStrategy:{enumerable:true, get:function() {\n  return PagedScreenReaderStrategy;\n}}, TextAreaState:{enumerable:true, get:function() {\n  return TextAreaState;\n}}, _debugComposition:{enumerable:true, get:function() {\n  return _debugComposition;\n}}});\nvar strings = require(\"../../../base/common/strings.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js = require(\"../../common/core/range.js\");\nconst _debugComposition = false;\nclass TextAreaState {\n  constructor(value, selectionStart, selectionEnd, selection, newlineCountBeforeSelection) {\n    this.value = value;\n    this.selectionStart = selectionStart;\n    this.selectionEnd = selectionEnd;\n    this.selection = selection;\n    this.newlineCountBeforeSelection = newlineCountBeforeSelection;\n  }\n  toString() {\n    return `[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`;\n  }\n  static readFromTextArea(textArea, previousState) {\n    const value = textArea.getValue();\n    const selectionStart = textArea.getSelectionStart();\n    const selectionEnd = textArea.getSelectionEnd();\n    let newlineCountBeforeSelection = undefined;\n    if (previousState) {\n      const valueBeforeSelectionStart = value.substring(0, selectionStart);\n      const previousValueBeforeSelectionStart = previousState.value.substring(0, previousState.selectionStart);\n      if (valueBeforeSelectionStart === previousValueBeforeSelectionStart) {\n        newlineCountBeforeSelection = previousState.newlineCountBeforeSelection;\n      }\n    }\n    return new TextAreaState(value, selectionStart, selectionEnd, null, newlineCountBeforeSelection);\n  }\n  collapseSelection() {\n    if (this.selectionStart === this.value.length) {\n      return this;\n    }\n    return new TextAreaState(this.value, this.value.length, this.value.length, null, undefined);\n  }\n  writeToTextArea(reason, textArea, select) {\n    if (_debugComposition) {\n      console.log(`writeToTextArea ${reason}: ${this.toString()}`);\n    }\n    textArea.setValue(reason, this.value);\n    if (select) {\n      textArea.setSelectionRange(reason, this.selectionStart, this.selectionEnd);\n    }\n  }\n  deduceEditorPosition(offset) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    if (offset <= this.selectionStart) {\n      const str = this.value.substring(offset, this.selectionStart);\n      return this._finishDeduceEditorPosition((_b = (_a = this.selection) === null || _a === void 0 ? void 0 : _a.getStartPosition()) !== null && _b !== void 0 ? _b : null, str, -1);\n    }\n    if (offset >= this.selectionEnd) {\n      const str = this.value.substring(this.selectionEnd, offset);\n      return this._finishDeduceEditorPosition((_d = (_c = this.selection) === null || _c === void 0 ? void 0 : _c.getEndPosition()) !== null && _d !== void 0 ? _d : null, str, 1);\n    }\n    const str1 = this.value.substring(this.selectionStart, offset);\n    if (str1.indexOf(String.fromCharCode(8230)) === -1) {\n      return this._finishDeduceEditorPosition((_f = (_e = this.selection) === null || _e === void 0 ? void 0 : _e.getStartPosition()) !== null && _f !== void 0 ? _f : null, str1, 1);\n    }\n    const str2 = this.value.substring(offset, this.selectionEnd);\n    return this._finishDeduceEditorPosition((_h = (_g = this.selection) === null || _g === void 0 ? void 0 : _g.getEndPosition()) !== null && _h !== void 0 ? _h : null, str2, -1);\n  }\n  _finishDeduceEditorPosition(anchor, deltaText, signum) {\n    let lineFeedCnt = 0;\n    let lastLineFeedIndex = -1;\n    while ((lastLineFeedIndex = deltaText.indexOf(\"\\n\", lastLineFeedIndex + 1)) !== -1) {\n      lineFeedCnt++;\n    }\n    return [anchor, signum * deltaText.length, lineFeedCnt];\n  }\n  static deduceInput(previousState, currentState, couldBeEmojiInput) {\n    if (!previousState) {\n      return {text:\"\", replacePrevCharCnt:0, replaceNextCharCnt:0, positionDelta:0};\n    }\n    if (_debugComposition) {\n      console.log(\"------------------------deduceInput\");\n      console.log(`PREVIOUS STATE: ${previousState.toString()}`);\n      console.log(`CURRENT STATE: ${currentState.toString()}`);\n    }\n    const prefixLength = Math.min(strings.commonPrefixLength(previousState.value, currentState.value), previousState.selectionStart, currentState.selectionStart);\n    const suffixLength = Math.min(strings.commonSuffixLength(previousState.value, currentState.value), previousState.value.length - previousState.selectionEnd, currentState.value.length - currentState.selectionEnd);\n    const previousValue = previousState.value.substring(prefixLength, previousState.value.length - suffixLength);\n    const currentValue = currentState.value.substring(prefixLength, currentState.value.length - suffixLength);\n    const previousSelectionStart = previousState.selectionStart - prefixLength;\n    const previousSelectionEnd = previousState.selectionEnd - prefixLength;\n    const currentSelectionStart = currentState.selectionStart - prefixLength;\n    const currentSelectionEnd = currentState.selectionEnd - prefixLength;\n    if (_debugComposition) {\n      console.log(`AFTER DIFFING PREVIOUS STATE: <${previousValue}>, selectionStart: ${previousSelectionStart}, selectionEnd: ${previousSelectionEnd}`);\n      console.log(`AFTER DIFFING CURRENT STATE: <${currentValue}>, selectionStart: ${currentSelectionStart}, selectionEnd: ${currentSelectionEnd}`);\n    }\n    if (currentSelectionStart === currentSelectionEnd) {\n      const replacePreviousCharacters = previousState.selectionStart - prefixLength;\n      if (_debugComposition) {\n        console.log(`REMOVE PREVIOUS: ${replacePreviousCharacters} chars`);\n      }\n      return {text:currentValue, replacePrevCharCnt:replacePreviousCharacters, replaceNextCharCnt:0, positionDelta:0};\n    }\n    const replacePreviousCharacters = previousSelectionEnd - previousSelectionStart;\n    return {text:currentValue, replacePrevCharCnt:replacePreviousCharacters, replaceNextCharCnt:0, positionDelta:0};\n  }\n  static deduceAndroidCompositionInput(previousState, currentState) {\n    if (!previousState) {\n      return {text:\"\", replacePrevCharCnt:0, replaceNextCharCnt:0, positionDelta:0};\n    }\n    if (_debugComposition) {\n      console.log(\"------------------------deduceAndroidCompositionInput\");\n      console.log(`PREVIOUS STATE: ${previousState.toString()}`);\n      console.log(`CURRENT STATE: ${currentState.toString()}`);\n    }\n    if (previousState.value === currentState.value) {\n      return {text:\"\", replacePrevCharCnt:0, replaceNextCharCnt:0, positionDelta:currentState.selectionEnd - previousState.selectionEnd};\n    }\n    const prefixLength = Math.min(strings.commonPrefixLength(previousState.value, currentState.value), previousState.selectionEnd);\n    const suffixLength = Math.min(strings.commonSuffixLength(previousState.value, currentState.value), previousState.value.length - previousState.selectionEnd);\n    const previousValue = previousState.value.substring(prefixLength, previousState.value.length - suffixLength);\n    const currentValue = currentState.value.substring(prefixLength, currentState.value.length - suffixLength);\n    const previousSelectionStart = previousState.selectionStart - prefixLength;\n    const previousSelectionEnd = previousState.selectionEnd - prefixLength;\n    const currentSelectionStart = currentState.selectionStart - prefixLength;\n    const currentSelectionEnd = currentState.selectionEnd - prefixLength;\n    if (_debugComposition) {\n      console.log(`AFTER DIFFING PREVIOUS STATE: <${previousValue}>, selectionStart: ${previousSelectionStart}, selectionEnd: ${previousSelectionEnd}`);\n      console.log(`AFTER DIFFING CURRENT STATE: <${currentValue}>, selectionStart: ${currentSelectionStart}, selectionEnd: ${currentSelectionEnd}`);\n    }\n    return {text:currentValue, replacePrevCharCnt:previousSelectionEnd, replaceNextCharCnt:previousValue.length - previousSelectionEnd, positionDelta:currentSelectionEnd - currentValue.length};\n  }\n}\nTextAreaState.EMPTY = new TextAreaState(\"\", 0, 0, null, undefined);\nclass PagedScreenReaderStrategy {\n  static _getPageOfLine(lineNumber, linesPerPage) {\n    return Math.floor((lineNumber - 1) / linesPerPage);\n  }\n  static _getRangeForPage(page, linesPerPage) {\n    const offset = page * linesPerPage;\n    const startLineNumber = offset + 1;\n    const endLineNumber = offset + linesPerPage;\n    return new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(startLineNumber, 1, endLineNumber + 1, 1);\n  }\n  static fromEditorSelection(model, selection, linesPerPage, trimLongText) {\n    const LIMIT_CHARS = 500;\n    const selectionStartPage = PagedScreenReaderStrategy._getPageOfLine(selection.startLineNumber, linesPerPage);\n    const selectionStartPageRange = PagedScreenReaderStrategy._getRangeForPage(selectionStartPage, linesPerPage);\n    const selectionEndPage = PagedScreenReaderStrategy._getPageOfLine(selection.endLineNumber, linesPerPage);\n    const selectionEndPageRange = PagedScreenReaderStrategy._getRangeForPage(selectionEndPage, linesPerPage);\n    let pretextRange = selectionStartPageRange.intersectRanges(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(1, 1, selection.startLineNumber, selection.startColumn));\n    if (trimLongText && model.getValueLengthInRange(pretextRange, 1) > LIMIT_CHARS) {\n      const pretextStart = model.modifyPosition(pretextRange.getEndPosition(), -LIMIT_CHARS);\n      pretextRange = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range.fromPositions(pretextStart, pretextRange.getEndPosition());\n    }\n    const pretext = model.getValueInRange(pretextRange, 1);\n    const lastLine = model.getLineCount();\n    const lastLineMaxColumn = model.getLineMaxColumn(lastLine);\n    let posttextRange = selectionEndPageRange.intersectRanges(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(selection.endLineNumber, selection.endColumn, lastLine, lastLineMaxColumn));\n    if (trimLongText && model.getValueLengthInRange(posttextRange, 1) > LIMIT_CHARS) {\n      const posttextEnd = model.modifyPosition(posttextRange.getStartPosition(), LIMIT_CHARS);\n      posttextRange = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range.fromPositions(posttextRange.getStartPosition(), posttextEnd);\n    }\n    const posttext = model.getValueInRange(posttextRange, 1);\n    let text;\n    if (selectionStartPage === selectionEndPage || selectionStartPage + 1 === selectionEndPage) {\n      text = model.getValueInRange(selection, 1);\n    } else {\n      const selectionRange1 = selectionStartPageRange.intersectRanges(selection);\n      const selectionRange2 = selectionEndPageRange.intersectRanges(selection);\n      text = model.getValueInRange(selectionRange1, 1) + String.fromCharCode(8230) + model.getValueInRange(selectionRange2, 1);\n    }\n    if (trimLongText && text.length > 2 * LIMIT_CHARS) {\n      text = text.substring(0, LIMIT_CHARS) + String.fromCharCode(8230) + text.substring(text.length - LIMIT_CHARS, text.length);\n    }\n    return new TextAreaState(pretext + text + posttext, pretext.length, pretext.length + text.length, selection, pretextRange.endLineNumber - pretextRange.startLineNumber);\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","PagedScreenReaderStrategy","get","TextAreaState","_debugComposition","strings","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js","constructor","selectionStart","selectionEnd","selection","newlineCountBeforeSelection","toString","readFromTextArea","textArea","previousState","getValue","getSelectionStart","getSelectionEnd","undefined","valueBeforeSelectionStart","substring","previousValueBeforeSelectionStart","collapseSelection","length","writeToTextArea","reason","select","setValue","setSelectionRange","deduceEditorPosition","offset","_a","_b","_c","_d","_e","_f","_h","str","_finishDeduceEditorPosition","getStartPosition","getEndPosition","str1","indexOf","String","fromCharCode","str2","_g","anchor","deltaText","signum","lineFeedCnt","lastLineFeedIndex","deduceInput","currentState","couldBeEmojiInput","text","replacePrevCharCnt","replaceNextCharCnt","positionDelta","prefixLength","Math","min","commonPrefixLength","suffixLength","commonSuffixLength","currentValue","deduceAndroidCompositionInput","previousValue","previousSelectionEnd","EMPTY","_getPageOfLine","lineNumber","linesPerPage","floor","_getRangeForPage","page","Range","fromEditorSelection","model","trimLongText","selectionStartPage","startLineNumber","selectionStartPageRange","selectionEndPage","endLineNumber","selectionEndPageRange","pretextRange","intersectRanges","startColumn","getValueLengthInRange","LIMIT_CHARS","pretextStart","modifyPosition","fromPositions","pretext","getValueInRange","lastLine","getLineCount","lastLineMaxColumn","getLineMaxColumn","posttextRange","endColumn","posttextEnd","posttext","selectionRange1","selectionRange2"]
}
