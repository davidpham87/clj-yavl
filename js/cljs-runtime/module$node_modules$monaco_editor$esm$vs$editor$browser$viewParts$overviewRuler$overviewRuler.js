shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$overviewRuler$overviewRuler = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, OverviewRuler:{enumerable:!0, get:function() {
    return OverviewRuler;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$fastDomNode"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_SLASH_overviewZoneManager_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$overviewZoneManager");
  require = require("module$node_modules$monaco_editor$esm$vs$editor$common$viewEventHandler");
  class OverviewRuler extends require.ViewEventHandler {
    constructor(context, cssClassName) {
      super();
      this._context = context;
      context = this._context.configuration.options;
      this._domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement("canvas"));
      this._domNode.setClassName(cssClassName);
      this._domNode.setPosition("absolute");
      this._domNode.setLayerHinting(!0);
      this._domNode.setContain("strict");
      this._zoneManager = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_SLASH_overviewZoneManager_DOT_js.OverviewZoneManager(lineNumber => this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber));
      this._zoneManager.setDOMWidth(0);
      this._zoneManager.setDOMHeight(0);
      this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight());
      this._zoneManager.setLineHeight(context.get(66));
      this._zoneManager.setPixelRatio(context.get(141));
      this._context.addEventHandler(this);
    }
    dispose() {
      this._context.removeEventHandler(this);
      super.dispose();
    }
    onConfigurationChanged(e) {
      const options = this._context.configuration.options;
      e.hasChanged(66) && (this._zoneManager.setLineHeight(options.get(66)), this._render());
      e.hasChanged(141) && (this._zoneManager.setPixelRatio(options.get(141)), this._domNode.setWidth(this._zoneManager.getDOMWidth()), this._domNode.setHeight(this._zoneManager.getDOMHeight()), this._domNode.domNode.width = this._zoneManager.getCanvasWidth(), this._domNode.domNode.height = this._zoneManager.getCanvasHeight(), this._render());
      return !0;
    }
    onFlushed(e) {
      this._render();
      return !0;
    }
    onScrollChanged(e) {
      e.scrollHeightChanged && (this._zoneManager.setOuterHeight(e.scrollHeight), this._render());
      return !0;
    }
    onZonesChanged(e) {
      this._render();
      return !0;
    }
    getDomNode() {
      return this._domNode.domNode;
    }
    setLayout(position) {
      this._domNode.setTop(position.top);
      this._domNode.setRight(position.right);
      let hasChanged = !1;
      hasChanged = this._zoneManager.setDOMWidth(position.width) || hasChanged;
      if (hasChanged = this._zoneManager.setDOMHeight(position.height) || hasChanged) {
        this._domNode.setWidth(this._zoneManager.getDOMWidth()), this._domNode.setHeight(this._zoneManager.getDOMHeight()), this._domNode.domNode.width = this._zoneManager.getCanvasWidth(), this._domNode.domNode.height = this._zoneManager.getCanvasHeight(), this._render();
      }
    }
    setZones(zones) {
      this._zoneManager.setZones(zones);
      this._render();
    }
    _render() {
      if (this._zoneManager.getOuterHeight() === 0) {
        return !1;
      }
      const width = this._zoneManager.getCanvasWidth(), height = this._zoneManager.getCanvasHeight(), colorZones = this._zoneManager.resolveColorZones(), id2Color = this._zoneManager.getId2Color(), ctx = this._domNode.domNode.getContext("2d");
      ctx.clearRect(0, 0, width, height);
      colorZones.length > 0 && this._renderOneLane(ctx, colorZones, id2Color, width);
      return !0;
    }
    _renderOneLane(ctx, colorZones, id2Color, width) {
      let currentColorId = 0, currentFrom = 0, currentTo = 0;
      for (const zone of colorZones) {
        colorZones = zone.colorId;
        const zoneFrom = zone.from, zoneTo = zone.to;
        colorZones !== currentColorId ? (ctx.fillRect(0, currentFrom, width, currentTo - currentFrom), currentColorId = colorZones, ctx.fillStyle = id2Color[currentColorId], currentFrom = zoneFrom, currentTo = zoneTo) : currentTo >= zoneFrom ? currentTo = Math.max(currentTo, zoneTo) : (ctx.fillRect(0, currentFrom, width, currentTo - currentFrom), currentFrom = zoneFrom, currentTo = zoneTo);
      }
      ctx.fillRect(0, currentFrom, width, currentTo - currentFrom);
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$overviewRuler$overviewRuler.js.map
