shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$renderLines = function(require, module, exports) {
  function renderLines(source, options, decorations, domNode) {
    (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js.applyFontInfo)(domNode, options.fontInfo);
    const hasCharChanges = decorations.length > 0, sb = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_stringBuilder_DOT_js.StringBuilder(10000);
    let maxCharsPerLine = 0, renderedLineCount = 0;
    const viewLineCounts = [];
    for (let lineIndex = 0; lineIndex < source.lineTokens.length; lineIndex++) {
      const lineTokens = source.lineTokens[lineIndex], lineBreakData = source.lineBreakData[lineIndex], actualDecorations = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewLayout_SLASH_lineDecorations_DOT_js.LineDecoration.filter(decorations, lineIndex + 1, 1, Number.MAX_SAFE_INTEGER);
      if (lineBreakData) {
        let lastBreakOffset = 0;
        for (const breakOffset of lineBreakData.breakOffsets) {
          const viewLineTokens = lineTokens.sliceAndInflate(lastBreakOffset, breakOffset, 0);
          maxCharsPerLine = Math.max(maxCharsPerLine, renderOriginalLine(renderedLineCount, viewLineTokens, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewLayout_SLASH_lineDecorations_DOT_js.LineDecoration.extractWrapped(actualDecorations, lastBreakOffset, breakOffset), hasCharChanges, source.mightContainNonBasicASCII, source.mightContainRTL, options, sb));
          renderedLineCount++;
          lastBreakOffset = breakOffset;
        }
        viewLineCounts.push(lineBreakData.breakOffsets.length);
      } else {
        viewLineCounts.push(1), maxCharsPerLine = Math.max(maxCharsPerLine, renderOriginalLine(renderedLineCount, lineTokens, actualDecorations, hasCharChanges, source.mightContainNonBasicASCII, source.mightContainRTL, options, sb)), renderedLineCount++;
      }
    }
    maxCharsPerLine += options.scrollBeyondLastColumn;
    source = sb.build();
    source = ttPolicy ? ttPolicy.createHTML(source) : source;
    domNode.innerHTML = source;
    return {heightInLines:renderedLineCount, minWidthInPx:maxCharsPerLine * options.typicalHalfwidthCharacterWidth, viewLineCounts};
  }
  function renderOriginalLine(viewLineIdx, lineTokens, decorations, hasCharChanges, mightContainNonBasicASCII, mightContainRTL, options, sb) {
    sb.appendString('\x3cdiv class\x3d"view-line');
    hasCharChanges || sb.appendString(" char-delete");
    sb.appendString('" style\x3d"top:');
    sb.appendString(String(viewLineIdx * options.lineHeight));
    sb.appendString('px;width:1000000px;"\x3e');
    viewLineIdx = lineTokens.getLineContent();
    mightContainNonBasicASCII = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_DOT_js.ViewLineRenderingData.isBasicASCII(viewLineIdx, mightContainNonBasicASCII);
    mightContainRTL = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_DOT_js.ViewLineRenderingData.containsRTL(viewLineIdx, mightContainNonBasicASCII, mightContainRTL);
    lineTokens = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewLayout_SLASH_viewLineRenderer_DOT_js.renderViewLine)(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewLayout_SLASH_viewLineRenderer_DOT_js.RenderLineInput(options.fontInfo.isMonospace && !options.disableMonospaceOptimizations, options.fontInfo.canUseHalfwidthRightwardsArrow, viewLineIdx, !1, mightContainNonBasicASCII, mightContainRTL, 0, lineTokens, decorations, options.tabSize, 
    0, options.fontInfo.spaceWidth, options.fontInfo.middotWidth, options.fontInfo.wsmiddotWidth, options.stopRenderingLineAfter, options.renderWhitespace, options.renderControlCharacters, options.fontLigatures !== require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.EditorFontLigatures.OFF, null), sb);
    sb.appendString("\x3c/div\x3e");
    return lineTokens.characterMapping.getHorizontalOffset(lineTokens.characterMapping.length);
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, LineSource:{enumerable:!0, get:function() {
    return LineSource;
  }}, RenderOptions:{enumerable:!0, get:function() {
    return RenderOptions;
  }}, renderLines:{enumerable:!0, get:function() {
    return renderLines;
  }}});
  module = require("module$node_modules$monaco_editor$esm$vs$base$browser$trustedTypes");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$config$domFontInfo"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$config$editorOptions"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_stringBuilder_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$stringBuilder"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewLayout_SLASH_lineDecorations_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$viewLayout$lineDecorations"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewLayout_SLASH_viewLineRenderer_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$viewLayout$viewLineRenderer"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$editor$common$viewModel");
  const ttPolicy = (0,module.createTrustedTypesPolicy)("diffEditorWidget", {createHTML:value => value});
  class LineSource {
    constructor(lineTokens, lineBreakData, mightContainNonBasicASCII, mightContainRTL) {
      this.lineTokens = lineTokens;
      this.lineBreakData = lineBreakData;
      this.mightContainNonBasicASCII = mightContainNonBasicASCII;
      this.mightContainRTL = mightContainRTL;
    }
  }
  class RenderOptions {
    static fromEditor(editor) {
      var _a;
      const modifiedEditorOptions = editor.getOptions(), fontInfo = modifiedEditorOptions.get(50), layoutInfo = modifiedEditorOptions.get(143);
      return new RenderOptions(((_a = editor.getModel()) === null || _a === void 0 ? void 0 : _a.getOptions().tabSize) || 0, fontInfo, modifiedEditorOptions.get(33), fontInfo.typicalHalfwidthCharacterWidth, modifiedEditorOptions.get(103), modifiedEditorOptions.get(66), layoutInfo.decorationsWidth, modifiedEditorOptions.get(116), modifiedEditorOptions.get(98), modifiedEditorOptions.get(93), modifiedEditorOptions.get(51));
    }
    constructor(tabSize, fontInfo, disableMonospaceOptimizations, typicalHalfwidthCharacterWidth, scrollBeyondLastColumn, lineHeight, lineDecorationsWidth, stopRenderingLineAfter, renderWhitespace, renderControlCharacters, fontLigatures) {
      this.tabSize = tabSize;
      this.fontInfo = fontInfo;
      this.disableMonospaceOptimizations = disableMonospaceOptimizations;
      this.typicalHalfwidthCharacterWidth = typicalHalfwidthCharacterWidth;
      this.scrollBeyondLastColumn = scrollBeyondLastColumn;
      this.lineHeight = lineHeight;
      this.lineDecorationsWidth = lineDecorationsWidth;
      this.stopRenderingLineAfter = stopRenderingLineAfter;
      this.renderWhitespace = renderWhitespace;
      this.renderControlCharacters = renderControlCharacters;
      this.fontLigatures = fontLigatures;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$renderLines.js.map
