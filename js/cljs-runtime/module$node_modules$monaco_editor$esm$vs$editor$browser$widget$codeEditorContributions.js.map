{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$widget$codeEditorContributions.js",
"lineCount":98,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/widget/codeEditorContributions.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$widget$codeEditorContributions\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, CodeEditorContributions:{enumerable:true, get:function() {\n  return CodeEditorContributions;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require(\"../../../base/browser/dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js = require(\"../../../base/common/errors.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../base/common/lifecycle.js\");\nclass CodeEditorContributions extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  constructor() {\n    super();\n    this._editor = null;\n    this._instantiationService = null;\n    this._instances = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableMap());\n    this._pending = new Map();\n    this._finishedInstantiation = [];\n    this._finishedInstantiation[0] = false;\n    this._finishedInstantiation[1] = false;\n    this._finishedInstantiation[2] = false;\n    this._finishedInstantiation[3] = false;\n  }\n  initialize(editor, contributions, instantiationService) {\n    this._editor = editor;\n    this._instantiationService = instantiationService;\n    for (const desc of contributions) {\n      if (this._pending.has(desc.id)) {\n        (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${desc.id}`));\n        continue;\n      }\n      this._pending.set(desc.id, desc);\n    }\n    this._instantiateSome(0);\n    this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.runWhenWindowIdle)((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getWindow)(this._editor.getDomNode()), () => {\n      this._instantiateSome(1);\n    }));\n    this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.runWhenWindowIdle)((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getWindow)(this._editor.getDomNode()), () => {\n      this._instantiateSome(2);\n    }));\n    this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.runWhenWindowIdle)((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getWindow)(this._editor.getDomNode()), () => {\n      this._instantiateSome(3);\n    }, 5000));\n  }\n  saveViewState() {\n    const contributionsState = {};\n    for (const [id, contribution] of this._instances) {\n      if (typeof contribution.saveViewState === \"function\") {\n        contributionsState[id] = contribution.saveViewState();\n      }\n    }\n    return contributionsState;\n  }\n  restoreViewState(contributionsState) {\n    for (const [id, contribution] of this._instances) {\n      if (typeof contribution.restoreViewState === \"function\") {\n        contribution.restoreViewState(contributionsState[id]);\n      }\n    }\n  }\n  get(id) {\n    this._instantiateById(id);\n    return this._instances.get(id) || null;\n  }\n  onBeforeInteractionEvent() {\n    this._instantiateSome(2);\n  }\n  onAfterModelAttached() {\n    var _a;\n    this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.runWhenWindowIdle)((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getWindow)((_a = this._editor) === null || _a === void 0 ? void 0 : _a.getDomNode()), () => {\n      this._instantiateSome(1);\n    }, 50));\n  }\n  _instantiateSome(instantiation) {\n    if (this._finishedInstantiation[instantiation]) {\n      return;\n    }\n    this._finishedInstantiation[instantiation] = true;\n    const contribs = this._findPendingContributionsByInstantiation(instantiation);\n    for (const contrib of contribs) {\n      this._instantiateById(contrib.id);\n    }\n  }\n  _findPendingContributionsByInstantiation(instantiation) {\n    const result = [];\n    for (const [, desc] of this._pending) {\n      if (desc.instantiation === instantiation) {\n        result.push(desc);\n      }\n    }\n    return result;\n  }\n  _instantiateById(id) {\n    const desc = this._pending.get(id);\n    if (!desc) {\n      return;\n    }\n    this._pending.delete(id);\n    if (!this._instantiationService || !this._editor) {\n      throw new Error(`Cannot instantiate contributions before being initialized!`);\n    }\n    try {\n      const instance = this._instantiationService.createInstance(desc.ctor, this._editor);\n      this._instances.set(desc.id, instance);\n      if (typeof instance.restoreViewState === \"function\" && desc.instantiation !== 0) {\n        console.warn(`Editor contribution '${desc.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`);\n      }\n    } catch (err) {\n      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.onUnexpectedError)(err);\n    }\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","CodeEditorContributions","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","Disposable","constructor","_instantiationService","_editor","_instances","_register","DisposableMap","_pending","Map","_finishedInstantiation","initialize","editor","contributions","instantiationService","desc","has","id","onUnexpectedError","Error","set","_instantiateSome","runWhenWindowIdle","getWindow","getDomNode","saveViewState","contributionsState","contribution","restoreViewState","_instantiateById","onBeforeInteractionEvent","onAfterModelAttached","_a","instantiation","contribs","_findPendingContributionsByInstantiation","contrib","result","push","delete","instance","createInstance","ctor","console","warn","err"]
}
