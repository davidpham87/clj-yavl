shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$lineAlignment = function(require, module, exports) {
  function computeRangeAlignment(originalEditor, modifiedEditor, diffs, originalEditorAlignmentViewZones, modifiedEditorAlignmentViewZones, innerHunkAlignment) {
    function handleAlignmentsOutsideOfDiffs(untilOriginalLineNumberExclusive, untilModifiedLineNumberExclusive) {
      for (;;) {
        let origNext = originalLineHeightOverrides.peek(), modNext = modifiedLineHeightOverrides.peek();
        origNext && origNext.lineNumber >= untilOriginalLineNumberExclusive && (origNext = void 0);
        modNext && modNext.lineNumber >= untilModifiedLineNumberExclusive && (modNext = void 0);
        if (!origNext && !modNext) {
          break;
        }
        const distOrig = origNext ? origNext.lineNumber - lastOriginalLineNumber : Number.MAX_VALUE, distNext = modNext ? modNext.lineNumber - lastModifiedLineNumber : Number.MAX_VALUE;
        distOrig < distNext ? (originalLineHeightOverrides.dequeue(), modNext = {lineNumber:origNext.lineNumber - lastOriginalLineNumber + lastModifiedLineNumber, heightInPx:0}) : distOrig > distNext ? (modifiedLineHeightOverrides.dequeue(), origNext = {lineNumber:modNext.lineNumber - lastModifiedLineNumber + lastOriginalLineNumber, heightInPx:0}) : (originalLineHeightOverrides.dequeue(), modifiedLineHeightOverrides.dequeue());
        result.push({originalRange:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.ofLength(origNext.lineNumber, 1), modifiedRange:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.ofLength(modNext.lineNumber, 1), originalHeightInPx:origLineHeight + origNext.heightInPx, modifiedHeightInPx:modLineHeight + modNext.heightInPx, diff:void 0});
      }
    }
    const originalLineHeightOverrides = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.ArrayQueue(getAdditionalLineHeights(originalEditor, originalEditorAlignmentViewZones)), modifiedLineHeightOverrides = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.ArrayQueue(getAdditionalLineHeights(modifiedEditor, modifiedEditorAlignmentViewZones)), origLineHeight = originalEditor.getOption(66), 
    modLineHeight = modifiedEditor.getOption(66), result = [];
    let lastOriginalLineNumber = 0, lastModifiedLineNumber = 0;
    for (const m of diffs) {
      modifiedEditor = m.lineRangeMapping;
      handleAlignmentsOutsideOfDiffs(modifiedEditor.original.startLineNumber, modifiedEditor.modified.startLineNumber);
      let first = !0, lastModLineNumber = modifiedEditor.modified.startLineNumber, lastOrigLineNumber = modifiedEditor.original.startLineNumber;
      function emitAlignment(origLineNumberExclusive, modLineNumberExclusive) {
        var _a, _b, _c, _d;
        if (!(origLineNumberExclusive < lastOrigLineNumber || modLineNumberExclusive < lastModLineNumber)) {
          if (first) {
            first = !1;
          } else if (origLineNumberExclusive === lastOrigLineNumber || modLineNumberExclusive === lastModLineNumber) {
            return;
          }
          var originalRange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange(lastOrigLineNumber, origLineNumberExclusive), modifiedRange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange(lastModLineNumber, modLineNumberExclusive);
          if (!originalRange.isEmpty || !modifiedRange.isEmpty) {
            var originalAdditionalHeight = (_b = (_a = originalLineHeightOverrides.takeWhile(v => v.lineNumber < origLineNumberExclusive)) === null || _a === void 0 ? void 0 : _a.reduce((p, c) => p + c.heightInPx, 0)) !== null && _b !== void 0 ? _b : 0;
            _a = (_d = (_c = modifiedLineHeightOverrides.takeWhile(v => v.lineNumber < modLineNumberExclusive)) === null || _c === void 0 ? void 0 : _c.reduce((p, c) => p + c.heightInPx, 0)) !== null && _d !== void 0 ? _d : 0;
            result.push({originalRange, modifiedRange, originalHeightInPx:originalRange.length * origLineHeight + originalAdditionalHeight, modifiedHeightInPx:modifiedRange.length * modLineHeight + _a, diff:m.lineRangeMapping});
            lastOrigLineNumber = origLineNumberExclusive;
            lastModLineNumber = modLineNumberExclusive;
          }
        }
      }
      if (innerHunkAlignment) {
        for (const i of modifiedEditor.innerChanges || []) {
          i.originalRange.startColumn > 1 && i.modifiedRange.startColumn > 1 && emitAlignment(i.originalRange.startLineNumber, i.modifiedRange.startLineNumber), i.originalRange.endColumn < originalEditor.getModel().getLineMaxColumn(i.originalRange.endLineNumber) && emitAlignment(i.originalRange.endLineNumber, i.modifiedRange.endLineNumber);
        }
      }
      emitAlignment(modifiedEditor.original.endLineNumberExclusive, modifiedEditor.modified.endLineNumberExclusive);
      lastOriginalLineNumber = modifiedEditor.original.endLineNumberExclusive;
      lastModifiedLineNumber = modifiedEditor.modified.endLineNumberExclusive;
    }
    handleAlignmentsOutsideOfDiffs(Number.MAX_VALUE, Number.MAX_VALUE);
    return result;
  }
  function getAdditionalLineHeights(editor, viewZonesToIgnore) {
    const viewZoneHeights = [], wrappingZoneHeights = [];
    var hasWrapping = editor.getOption(144).wrappingColumn !== -1;
    const coordinatesConverter = editor._getViewModel().coordinatesConverter, editorLineHeight = editor.getOption(66);
    if (hasWrapping) {
      for (hasWrapping = 1; hasWrapping <= editor.getModel().getLineCount(); hasWrapping++) {
        const lineCount = coordinatesConverter.getModelLineViewLineCount(hasWrapping);
        lineCount > 1 && wrappingZoneHeights.push({lineNumber:hasWrapping, heightInPx:editorLineHeight * (lineCount - 1)});
      }
    }
    for (const w of editor.getWhitespaces()) {
      viewZonesToIgnore.has(w.id) || (editor = w.afterLineNumber === 0 ? 0 : coordinatesConverter.convertViewPositionToModelPosition(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(w.afterLineNumber, 1)).lineNumber, viewZoneHeights.push({lineNumber:editor, heightInPx:w.height}));
    }
    return (0,require$_DOT__SLASH_utils_DOT_js.joinCombine)(viewZoneHeights, wrappingZoneHeights, v => v.lineNumber, (v1, v2) => ({lineNumber:v1.lineNumber, heightInPx:v1.heightInPx + v2.heightInPx}));
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ViewZoneManager:{enumerable:!0, get:function() {
    return ViewZoneManager;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$arrays"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$async"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_codicons_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$codicons"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$common$observable"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$themables"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$types"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$editor$browser$config$domFontInfo"), require$_DOT__SLASH_decorations_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$decorations"), require$_DOT__SLASH_diffEditorViewModel_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$diffEditorViewModel"), require$_DOT__SLASH_inlineDiffDeletedCodeMargin_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$inlineDiffDeletedCodeMargin"), 
  require$_DOT__SLASH_renderLines_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$renderLines"), require$_DOT__SLASH_utils_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$utils"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$lineRange"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$editor$common$core$position"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$viewModel");
  module = require("module$node_modules$monaco_editor$esm$vs$platform$clipboard$common$clipboardService");
  require = require("module$node_modules$monaco_editor$esm$vs$platform$contextview$browser$contextView");
  exports = this && this.__param || function(paramIndex, decorator) {
    return function(target, key) {
      decorator(target, key, paramIndex);
    };
  };
  let ViewZoneManager = class extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    constructor(_targetWindow, _editors, _diffModel, _options, _diffEditorWidget, _canIgnoreViewZoneUpdateEvent, _origViewZonesToIgnore, _modViewZonesToIgnore, _clipboardService, _contextMenuService) {
      function createFakeLinesDiv() {
        const r = document.createElement("div");
        r.className = "diagonal-fill";
        return r;
      }
      super();
      this._targetWindow = _targetWindow;
      this._editors = _editors;
      this._diffModel = _diffModel;
      this._options = _options;
      this._diffEditorWidget = _diffEditorWidget;
      this._canIgnoreViewZoneUpdateEvent = _canIgnoreViewZoneUpdateEvent;
      this._origViewZonesToIgnore = _origViewZonesToIgnore;
      this._modViewZonesToIgnore = _modViewZonesToIgnore;
      this._clipboardService = _clipboardService;
      this._contextMenuService = _contextMenuService;
      this._originalTopPadding = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, 0);
      this._originalScrollOffset = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, 0);
      this._originalScrollOffsetAnimated = (0,require$_DOT__SLASH_utils_DOT_js.animatedObservable)(this._targetWindow, this._originalScrollOffset, this._store);
      this._modifiedTopPadding = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, 0);
      this._modifiedScrollOffset = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, 0);
      this._modifiedScrollOffsetAnimated = (0,require$_DOT__SLASH_utils_DOT_js.animatedObservable)(this._targetWindow, this._modifiedScrollOffset, this._store);
      const state = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)("invalidateAlignmentsState", 0), updateImmediately = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => {
        state.set(state.get() + 1, void 0);
      }, 0));
      this._register(this._editors.original.onDidChangeViewZones(_args => {
        this._canIgnoreViewZoneUpdateEvent() || updateImmediately.schedule();
      }));
      this._register(this._editors.modified.onDidChangeViewZones(_args => {
        this._canIgnoreViewZoneUpdateEvent() || updateImmediately.schedule();
      }));
      this._register(this._editors.original.onDidChangeConfiguration(args => {
        (args.hasChanged(144) || args.hasChanged(66)) && updateImmediately.schedule();
      }));
      this._register(this._editors.modified.onDidChangeConfiguration(args => {
        (args.hasChanged(144) || args.hasChanged(66)) && updateImmediately.schedule();
      }));
      const originalModelTokenizationCompleted = this._diffModel.map(m => m ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(m.model.original.onDidChangeTokens, () => m.model.original.tokenization.backgroundTokenizationState === 2) : void 0).map((m, reader) => m === null || m === void 0 ? void 0 : m.read(reader)), alignments = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(reader => 
      {
        const diffModel = this._diffModel.read(reader), diff = diffModel === null || diffModel === void 0 ? void 0 : diffModel.diff.read(reader);
        if (!diffModel || !diff) {
          return null;
        }
        state.read(reader);
        reader = this._options.renderSideBySide.read(reader);
        return computeRangeAlignment(this._editors.original, this._editors.modified, diff.mappings, this._origViewZonesToIgnore, this._modViewZonesToIgnore, reader);
      }), alignmentsSyncedMovedText = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(reader => {
        var _a;
        const syncedMovedText = (_a = this._diffModel.read(reader)) === null || _a === void 0 ? void 0 : _a.movedTextToCompare.read(reader);
        if (!syncedMovedText) {
          return null;
        }
        state.read(reader);
        reader = syncedMovedText.changes.map(c => new require$_DOT__SLASH_diffEditorViewModel_DOT_js.DiffMapping(c));
        return computeRangeAlignment(this._editors.original, this._editors.modified, reader, this._origViewZonesToIgnore, this._modViewZonesToIgnore, !0);
      }), alignmentViewZonesDisposables = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore());
      this.viewZones = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derivedWithStore)(this, (reader, store) => {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        alignmentViewZonesDisposables.clear();
        var alignmentsVal = alignments.read(reader) || [];
        const origViewZones = [], modViewZones = [];
        var modifiedTopPaddingVal = this._modifiedTopPadding.read(reader);
        modifiedTopPaddingVal > 0 && modViewZones.push({afterLineNumber:0, domNode:document.createElement("div"), heightInPx:modifiedTopPaddingVal, showInHiddenAreas:!0, suppressMouseDown:!0});
        modifiedTopPaddingVal = this._originalTopPadding.read(reader);
        modifiedTopPaddingVal > 0 && origViewZones.push({afterLineNumber:0, domNode:document.createElement("div"), heightInPx:modifiedTopPaddingVal, showInHiddenAreas:!0, suppressMouseDown:!0});
        var deletedCodeLineBreaksComputer = (modifiedTopPaddingVal = this._options.renderSideBySide.read(reader)) ? void 0 : (_a = this._editors.modified._getViewModel()) === null || _a === void 0 ? void 0 : _a.createLineBreaksComputer();
        if (deletedCodeLineBreaksComputer) {
          for (var a$jscomp$0 of alignmentsVal) {
            if (a$jscomp$0.diff) {
              for (_a = a$jscomp$0.originalRange.startLineNumber; _a < a$jscomp$0.originalRange.endLineNumberExclusive; _a++) {
                deletedCodeLineBreaksComputer === null || deletedCodeLineBreaksComputer === void 0 || deletedCodeLineBreaksComputer.addRequest(this._editors.original.getModel().getLineContent(_a), null, null);
              }
            }
          }
        }
        const lineBreakData = (_b = deletedCodeLineBreaksComputer === null || deletedCodeLineBreaksComputer === void 0 ? void 0 : deletedCodeLineBreaksComputer.finalize()) !== null && _b !== void 0 ? _b : [];
        let lineBreakDataIdx = 0;
        a$jscomp$0 = this._editors.modified.getOption(66);
        _b = (_c = this._diffModel.read(reader)) === null || _c === void 0 ? void 0 : _c.movedTextToCompare.read(reader);
        _c = (_e = (_d = this._editors.original.getModel()) === null || _d === void 0 ? void 0 : _d.mightContainNonBasicASCII()) !== null && _e !== void 0 ? _e : !1;
        _d = (_g = (_f = this._editors.original.getModel()) === null || _f === void 0 ? void 0 : _f.mightContainRTL()) !== null && _g !== void 0 ? _g : !1;
        _f = require$_DOT__SLASH_renderLines_DOT_js.RenderOptions.fromEditor(this._editors.modified);
        for (const a of alignmentsVal) {
          if (a.diff && !modifiedTopPaddingVal) {
            if (!a.originalRange.isEmpty) {
              originalModelTokenizationCompleted.read(reader);
              alignmentsVal = document.createElement("div");
              alignmentsVal.classList.add("view-lines", "line-delete", "monaco-mouse-cursor-text");
              _g = new require$_DOT__SLASH_renderLines_DOT_js.LineSource(a.originalRange.mapToLineArray(l => this._editors.original.getModel().tokenization.getLineTokens(l)), a.originalRange.mapToLineArray(_ => lineBreakData[lineBreakDataIdx++]), _c, _d);
              _e = [];
              for (const i of a.diff.innerChanges || []) {
                _e.push(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_DOT_js.InlineDecoration(i.originalRange.delta(-(a.diff.original.startLineNumber - 1)), require$_DOT__SLASH_decorations_DOT_js.diffDeleteDecoration.className, 0));
              }
              _g = (0,require$_DOT__SLASH_renderLines_DOT_js.renderLines)(_g, _f, _e, alignmentsVal);
              _e = document.createElement("div");
              _e.className = "inline-deleted-margin-view-zone";
              (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js.applyFontInfo)(_e, _f.fontInfo);
              if (this._options.renderIndicators.read(reader)) {
                for (_a = 0; _a < _g.heightInLines; _a++) {
                  deletedCodeLineBreaksComputer = document.createElement("div"), deletedCodeLineBreaksComputer.className = `delete-sign ${require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js.ThemeIcon.asClassName(require$_DOT__SLASH_decorations_DOT_js.diffRemoveIcon)}`, deletedCodeLineBreaksComputer.setAttribute("style", `position:absolute;top:${_a * a$jscomp$0}px;width:${_f.lineDecorationsWidth}px;height:${a$jscomp$0}px;right:0;`), 
                  _e.appendChild(deletedCodeLineBreaksComputer);
                }
              }
              let zoneId = void 0;
              alignmentViewZonesDisposables.add(new require$_DOT__SLASH_inlineDiffDeletedCodeMargin_DOT_js.InlineDiffDeletedCodeMargin(() => (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js.assertIsDefined)(zoneId), _e, this._editors.modified, a.diff, this._diffEditorWidget, _g.viewLineCounts, this._editors.original.getModel(), this._contextMenuService, this._clipboardService));
              for (_a = 0; _a < _g.viewLineCounts.length; _a++) {
                deletedCodeLineBreaksComputer = _g.viewLineCounts[_a], deletedCodeLineBreaksComputer > 1 && origViewZones.push({afterLineNumber:a.originalRange.startLineNumber + _a, domNode:createFakeLinesDiv(), heightInPx:(deletedCodeLineBreaksComputer - 1) * a$jscomp$0, showInHiddenAreas:!0, suppressMouseDown:!0});
              }
              modViewZones.push({afterLineNumber:a.modifiedRange.startLineNumber - 1, domNode:alignmentsVal, heightInPx:_g.heightInLines * a$jscomp$0, minWidthInPx:_g.minWidthInPx, marginDomNode:_e, setZoneId(id) {
                zoneId = id;
              }, showInHiddenAreas:!0, suppressMouseDown:!0});
            }
            alignmentsVal = document.createElement("div");
            alignmentsVal.className = "gutter-delete";
            origViewZones.push({afterLineNumber:a.originalRange.endLineNumberExclusive - 1, domNode:createFakeLinesDiv(), heightInPx:a.modifiedHeightInPx, marginDomNode:alignmentsVal, showInHiddenAreas:!0, suppressMouseDown:!0});
          } else {
            if (alignmentsVal = a.modifiedHeightInPx - a.originalHeightInPx, alignmentsVal > 0) {
              (_b === null || _b === void 0 ? 0 : _b.lineRangeMapping.original.delta(-1).deltaLength(2).contains(a.originalRange.endLineNumberExclusive - 1)) || origViewZones.push({afterLineNumber:a.originalRange.endLineNumberExclusive - 1, domNode:createFakeLinesDiv(), heightInPx:alignmentsVal, showInHiddenAreas:!0, suppressMouseDown:!0});
            } else {
              if (_b === null || _b === void 0 || !_b.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(a.modifiedRange.endLineNumberExclusive - 1)) {
                function createViewZoneMarginArrow() {
                  const arrow = document.createElement("div");
                  arrow.className = "arrow-revert-change " + require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js.ThemeIcon.asClassName(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_codicons_DOT_js.Codicon.arrowRight);
                  store.add((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(arrow, "mousedown", e => e.stopPropagation()));
                  store.add((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(arrow, "click", e => {
                    e.stopPropagation();
                    _diffEditorWidget.revert(a.diff);
                  }));
                  return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.$)("div", {}, arrow);
                }
                _g = void 0;
                a.diff && a.diff.modified.isEmpty && this._options.shouldRenderRevertArrows.read(reader) && (_g = createViewZoneMarginArrow());
                modViewZones.push({afterLineNumber:a.modifiedRange.endLineNumberExclusive - 1, domNode:createFakeLinesDiv(), heightInPx:-alignmentsVal, marginDomNode:_g, showInHiddenAreas:!0, suppressMouseDown:!0});
              }
            }
          }
        }
        for (const a of (_h = alignmentsSyncedMovedText.read(reader)) !== null && _h !== void 0 ? _h : []) {
          (_b === null || _b === void 0 ? 0 : _b.lineRangeMapping.original.intersect(a.originalRange)) && (_b === null || _b === void 0 ? 0 : _b.lineRangeMapping.modified.intersect(a.modifiedRange)) && (reader = a.modifiedHeightInPx - a.originalHeightInPx, reader > 0 ? origViewZones.push({afterLineNumber:a.originalRange.endLineNumberExclusive - 1, domNode:createFakeLinesDiv(), heightInPx:reader, showInHiddenAreas:!0, suppressMouseDown:!0}) : modViewZones.push({afterLineNumber:a.modifiedRange.endLineNumberExclusive - 
          1, domNode:createFakeLinesDiv(), heightInPx:-reader, showInHiddenAreas:!0, suppressMouseDown:!0}));
        }
        return {orig:origViewZones, mod:modViewZones};
      });
      let ignoreChange = !1;
      this._register(this._editors.original.onDidScrollChange(e => {
        e.scrollLeftChanged && !ignoreChange && (ignoreChange = !0, this._editors.modified.setScrollLeft(e.scrollLeft), ignoreChange = !1);
      }));
      this._register(this._editors.modified.onDidScrollChange(e => {
        e.scrollLeftChanged && !ignoreChange && (ignoreChange = !0, this._editors.original.setScrollLeft(e.scrollLeft), ignoreChange = !1);
      }));
      this._originalScrollTop = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(this._editors.original.onDidScrollChange, () => this._editors.original.getScrollTop());
      this._modifiedScrollTop = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(this._editors.modified.onDidScrollChange, () => this._editors.modified.getScrollTop());
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.autorun)(reader => {
        reader = this._originalScrollTop.read(reader) - (this._originalScrollOffsetAnimated.get() - this._modifiedScrollOffsetAnimated.read(reader)) - (this._originalTopPadding.get() - this._modifiedTopPadding.read(reader));
        reader !== this._editors.modified.getScrollTop() && this._editors.modified.setScrollTop(reader, 1);
      }));
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.autorun)(reader => {
        reader = this._modifiedScrollTop.read(reader) - (this._modifiedScrollOffsetAnimated.get() - this._originalScrollOffsetAnimated.read(reader)) - (this._modifiedTopPadding.get() - this._originalTopPadding.read(reader));
        reader !== this._editors.original.getScrollTop() && this._editors.original.setScrollTop(reader, 1);
      }));
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.autorun)(reader => {
        var _a;
        const m = (_a = this._diffModel.read(reader)) === null || _a === void 0 ? void 0 : _a.movedTextToCompare.read(reader);
        reader = 0;
        m && (reader = this._editors.original.getTopForLineNumber(m.lineRangeMapping.original.startLineNumber, !0) - this._originalTopPadding.get(), reader = this._editors.modified.getTopForLineNumber(m.lineRangeMapping.modified.startLineNumber, !0) - this._modifiedTopPadding.get() - reader);
        reader > 0 ? (this._modifiedTopPadding.set(0, void 0), this._originalTopPadding.set(reader, void 0)) : reader < 0 ? (this._modifiedTopPadding.set(-reader, void 0), this._originalTopPadding.set(0, void 0)) : setTimeout(() => {
          this._modifiedTopPadding.set(0, void 0);
          this._originalTopPadding.set(0, void 0);
        }, 400);
        this._editors.modified.hasTextFocus() ? this._originalScrollOffset.set(this._modifiedScrollOffset.get() - reader, void 0, !0) : this._modifiedScrollOffset.set(this._originalScrollOffset.get() + reader, void 0, !0);
      }));
    }
  };
  ViewZoneManager = (this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  })([exports(8, module.IClipboardService), exports(9, require.IContextMenuService)], ViewZoneManager);
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$lineAlignment.js.map
