shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$electricCharacter = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, BracketElectricCharacterSupport:{enumerable:!0, get:function() {
    return BracketElectricCharacterSupport;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$arrays"), require$_DOT__DOT__SLASH_supports_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports"), require$_DOT__SLASH_richEditBrackets_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$richEditBrackets");
  class BracketElectricCharacterSupport {
    constructor(richEditBrackets) {
      this._richEditBrackets = richEditBrackets;
    }
    getElectricCharacters() {
      const result = [];
      if (this._richEditBrackets) {
        for (const bracket of this._richEditBrackets.brackets) {
          for (const close of bracket.close) {
            const lastChar = close.charAt(close.length - 1);
            result.push(lastChar);
          }
        }
      }
      return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.distinct)(result);
    }
    onElectricCharacter(character, context, column) {
      if (!this._richEditBrackets || this._richEditBrackets.brackets.length === 0) {
        return null;
      }
      var tokenIndex = context.findTokenIndexAtOffset(column - 1);
      if ((0,require$_DOT__DOT__SLASH_supports_DOT_js.ignoreBracketsInToken)(context.getStandardTokenType(tokenIndex))) {
        return null;
      }
      tokenIndex = this._richEditBrackets.reversedRegex;
      character = context.getLineContent().substring(0, column - 1) + character;
      column = require$_DOT__SLASH_richEditBrackets_DOT_js.BracketsUtils.findPrevBracketInRange(tokenIndex, 1, character, 0, character.length);
      if (!column) {
        return null;
      }
      character = character.substring(column.startColumn - 1, column.endColumn - 1).toLowerCase();
      if (this._richEditBrackets.textIsOpenBracket[character]) {
        return null;
      }
      context = context.getActualLineContentBefore(column.startColumn - 1);
      return /^\s*$/.test(context) ? {matchOpenBracket:character} : null;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$electricCharacter.js.map
