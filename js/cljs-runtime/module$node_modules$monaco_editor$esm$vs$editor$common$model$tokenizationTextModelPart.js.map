{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$model$tokenizationTextModelPart.js",
"lineCount":341,
"mappings":"AAAAA,cAAA,CAAA,sFAAA,GAA2G,QAAQ,CAACC,OAAD,EAASC,MAAT,EAAgBC,OAAhB,CAAyB;AAC5IC,QAAOC,CAAAA,gBAAP,CAAwBF,OAAxB,EAAiC,CAACG,WAAW,CAACC,WAAW,CAAA,CAAZ,EAAkBC,MAAM,CAAA,CAAxB,CAAZ,EAA2CC,0BAA0B,CAACF,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AACrI,WAAOD,yBAAP;AADqI,GAAjC,CAArE,CAAjC,CAAA;AAGA,MAAIE,mGAAmGV,OAAA,CAAQ,6DAAR,CAAvG,EACIW,kGAAkGX,OAAA,CAAQ,4DAAR,CADtG,EAEIY,mGAAmGZ,OAAA,CAAQ,6DAAR,CAFvG;AAGIa,oGAAkGb,OAAA,CAAQ,4DAAR,CAHtG,EAIIc,sGAAsGd,OAAA,CAAQ,gEAAR,CAJ1G,EAKIe,wDAAwDf,OAAA,CAAQ,wEAAR,CAL5D,EAMIgB;AAAuDhB,SAAA,CAAQ,uEAAR,CAN3D,EAOIiB,sDAAsDjB,OAAA,CAAQ,sEAAR,CAP1D,EAQIkB,wDAAwDlB,OAAA,CAAQ,wEAAR,CAR5D,EASImB,4CAA4CnB,OAAA,CAAQ,kEAAR,CAThD;AAUIoB,QAAAA,GAA2CpB,OAAA,CAAQ,4EAAR,CAA3CoB;AACJ,MAAIC,6CAA6CrB,OAAA,CAAQ,8EAAR,CAAjD,EACIsB,gFAAgFtB,OAAA,CAAQ,gGAAR,CADpF,EAEIuB,qEAAqEvB,OAAA,CAAQ,qFAAR,CAFzE,EAGIwB;AAAiExB,SAAA,CAAQ,iFAAR,CAHrE;AAIA,OAAMQ,0BAAN,QAAwCY,OAAyCK,CAAAA,aAAjF;AACEC,eAAW,CAACC,gBAAD,EAAmBC,6BAAnB,EAAkDC,UAAlD,EAA8DC,0BAA9D,EAA0FC,WAA1F,EAAuGC,cAAvG,CAAuH;AAChI,WAAA,EAAA;AACA,UAAKL,CAAAA,gBAAL,GAAwBA,gBAAxB;AACA,UAAKC,CAAAA,6BAAL,GAAqCA,6BAArC;AACA,UAAKC,CAAAA,UAAL,GAAkBA,UAAlB;AACA,UAAKC,CAAAA,0BAAL,GAAkCA,0BAAlC;AACA,UAAKC,CAAAA,WAAL,GAAmBA,WAAnB;AACA,UAAKC,CAAAA,cAAL,GAAsBA,cAAtB;AACA,UAAKC,CAAAA,eAAL,GAAuB,IAAIT,8DAA+DU,CAAAA,iBAAnE,CAAqF,IAAKP,CAAAA,gBAAiBQ,CAAAA,eAA3G,CAAvB;AACA,UAAKC,CAAAA,oBAAL,GAA4B,IAAKC,CAAAA,SAAL,CAAe,IAAIxB,+FAAgGyB,CAAAA,OAApG,EAAf,CAA5B;AACA,UAAKC,CAAAA,mBAAL,GAA2B,IAAKH,CAAAA,oBAAqBI,CAAAA,KAArD;AACA,UAAKC,CAAAA,iCAAL,GAAyC,IAAKJ,CAAAA,SAAL,CAAe,IAAIxB,+FAAgGyB,CAAAA,OAApG,EAAf,CAAzC;AACA,UAAKI,CAAAA,gCAAL,GAAwC,IAAKD,CAAAA,iCAAkCD,CAAAA,KAA/E;AACA,UAAKG,CAAAA,kBAAL,GAA0B,IAAKN,CAAAA,SAAL,CAAe,IAAIxB,+FAAgGyB,CAAAA,OAApG,EAAf,CAA1B;AACA,UAAKM,CAAAA,iBAAL,GAAyB,IAAKD,CAAAA,kBAAmBH,CAAAA,KAAjD;AACA,UAAKK,CAAAA,aAAL,GAAqB,IAAKR,CAAAA,SAAL,CAAe,IAAIS,aAAJ,CAAkB,IAAKnB,CAAAA,gBAAiBQ,CAAAA,eAAxC,EAAyD,IAAKN,CAAAA,UAA9D,EAA0E,EAAA,IAAME,IAAKA,CAAAA,WAArF,EAAkG,IAAKC,CAAAA,cAAvG,CAAf,CAArB;AACA,UAAKK,CAAAA,SAAL,CAAe,IAAKT,CAAAA,6BAA8BmB,CAAAA,WAAnC,CAA+CC,CAAA,IAAK;AAC7DA,SAAEC,CAAAA,OAAF,CAAU,IAAKlB,CAAAA,WAAf,CAAJ,IACE,IAAKU,CAAAA,iCAAkCS,CAAAA,IAAvC,CAA4C,EAA5C,CADF;AADiE,OAApD,CAAf,CAAA;AAKA,UAAKb,CAAAA,SAAL,CAAe,IAAKQ,CAAAA,aAAcD,CAAAA,iBAAnB,CAAqCI,CAAA,IAAK;AACvD,YAAKG,CAAAA,4BAAL,CAAkCH,CAAlC,CAAA;AADuD,OAA1C,CAAf,CAAA;AAGA,UAAKX,CAAAA,SAAL,CAAe,IAAKQ,CAAAA,aAAcO,CAAAA,sCAAnB,CAA0DJ,CAAA,IAAK;AAC5E,YAAKlB,CAAAA,0BAA2BuB,CAAAA,0CAAhC,EAAA;AAD4E,OAA/D,CAAf,CAAA;AAxBgI;AA4BlIC,0BAAsB,CAACN,CAAD,CAAI;AACxB,UAAIA,CAAEO,CAAAA,OAAN;AACE,YAAKtB,CAAAA,eAAgBuB,CAAAA,KAArB,EAAA;AADF,YAEO,KAAI,CAACR,CAAES,CAAAA,WAAP;AACL,aAAK,MAAMC,CAAX,IAAgBV,CAAEW,CAAAA,OAAlB,CAA2B;AACzB,gBAAM,CAACC,QAAD,EAAWC,eAAX,EAA4BC,cAA5B,CAAA,GAA8C,GAAG/C,qDAAsDgD,CAAAA,QAAzD,EAAmEL,CAAEM,CAAAA,IAArE,CAApD;AACA,cAAK/B,CAAAA,eAAgBgC,CAAAA,UAArB,CAAgCP,CAAEQ,CAAAA,KAAlC,EAAyCN,QAAzC,EAAmDC,eAAnD,EAAoEC,cAApE,EAAoFJ,CAAEM,CAAAA,IAAKG,CAAAA,MAAP,GAAgB,CAAhB,GAAoBT,CAAEM,CAAAA,IAAKI,CAAAA,UAAP,CAAkB,CAAlB,CAApB,GAA2C,CAA/H,CAAA;AAFyB;AADtB;AAMP,UAAKvB,CAAAA,aAAcS,CAAAA,sBAAnB,CAA0CN,CAA1C,CAAA;AATwB;AAW1BqB,2BAAuB,EAAG;AACxB,UAAKxB,CAAAA,aAAcwB,CAAAA,uBAAnB,EAAA;AADwB;AAG1BC,iBAAa,CAACC,UAAD,CAAa;AACxB,UAAKC,CAAAA,kBAAL,CAAwBD,UAAxB,CAAA;AACA,YAAME,kBAAkB,IAAK5B,CAAAA,aAAcyB,CAAAA,aAAnB,CAAiCC,UAAjC,CAAxB;AACA,aAAO,IAAKtC,CAAAA,eAAgByC,CAAAA,eAArB,CAAqCH,UAArC,EAAiDE,eAAjD,CAAP;AAHwB;AAK1BtB,gCAA4B,CAACH,CAAD,CAAI;AACzB,UAAKnB,CAAAA,UAAW8C,CAAAA,YAAhB,EAAL,KACE,IAAK7C,CAAAA,0BAA2B8C,CAAAA,qBAAhC,CAAsD5B,CAAtD,CACA,EAAA,IAAKL,CAAAA,kBAAmBO,CAAAA,IAAxB,CAA6BF,CAA7B,CAFF;AAD8B;AAMhCwB,sBAAkB,CAACD,UAAD,CAAa;AAC7B,UAAIA,UAAJ,GAAiB,CAAjB,IAAsBA,UAAtB,GAAmC,IAAK1C,CAAAA,UAAWgD,CAAAA,YAAhB,EAAnC;AACE,cAAM,IAAIjE,gGAAiGkE,CAAAA,kBAArG,CAAwH,8BAAxH,CAAN;AADF;AAD6B;AAK3B,iBAAY,EAAA;AACd,aAAO,IAAKjC,CAAAA,aAAckC,CAAAA,SAA1B;AADc;AAGhBC,qBAAiB,EAAG;AAClB,UAAKnC,CAAAA,aAAcmC,CAAAA,iBAAnB,EAAA;AADkB;AAGhB,mCAA8B,EAAA;AAChC,aAAO,IAAKnC,CAAAA,aAAcoC,CAAAA,2BAA1B;AADgC;AAGlCC,qBAAiB,CAACX,UAAD,CAAa;AAC5B,UAAKC,CAAAA,kBAAL,CAAwBD,UAAxB,CAAA;AACA,UAAK1B,CAAAA,aAAcqC,CAAAA,iBAAnB,CAAqCX,UAArC,CAAA;AAF4B;AAI9BY,qBAAiB,CAACZ,UAAD,CAAa;AAC5B,UAAKC,CAAAA,kBAAL,CAAwBD,UAAxB,CAAA;AACA,aAAO,IAAK1B,CAAAA,aAAcsC,CAAAA,iBAAnB,CAAqCZ,UAArC,CAAP;AAF4B;AAI9Ba,mBAAe,CAACb,UAAD,CAAa;AAC1B,UAAKC,CAAAA,kBAAL,CAAwBD,UAAxB,CAAA;AACA,UAAK1B,CAAAA,aAAcuC,CAAAA,eAAnB,CAAmCb,UAAnC,CAAA;AAF0B;AAI5Bc,oCAAgC,CAACd,UAAD,EAAae,MAAb,EAAqBC,SAArB,CAAgC;AAC9D,aAAO,IAAK1C,CAAAA,aAAcwC,CAAAA,gCAAnB,CAAoDd,UAApD,EAAgEe,MAAhE,EAAwEC,SAAxE,CAAP;AAD8D;AAGhEC,wBAAoB,CAACC,QAAD,EAAWtB,MAAX,EAAmBuB,OAAnB,CAA4B;AAC9C,aAAO,IAAK7C,CAAAA,aAAc2C,CAAAA,oBAAnB,CAAwCC,QAAxC,EAAkDtB,MAAlD,EAA0DuB,OAA1D,CAAP;AAD8C;AAGhDC,qBAAiB,CAACC,MAAD,EAASC,UAAT,CAAqB;AACpC,UAAK5D,CAAAA,eAAgB6D,CAAAA,GAArB,CAAyBF,MAAzB,EAAiCC,UAAjC,CAAA;AACA,UAAK1C,CAAAA,4BAAL,CAAkC,CAAC4C,sBAAsBH,MAAtBG,KAAiC,IAAlC,EAAwCC,OAAO,CAAC,CAACC,eAAe,CAAhB,EAAmBC,aAAa,IAAKrE,CAAAA,UAAWgD,CAAAA,YAAhB,EAAhC,CAAD,CAA/C,CAAlC,CAAA;AAFoC;AAItCsB,6BAAyB,EAAG;AAC1B,aAAO,IAAKlE,CAAAA,eAAgB4D,CAAAA,UAArB,EAAP;AAD0B;AAG5BO,yBAAqB,EAAG;AACtB,aAAO,CAAC,IAAKnE,CAAAA,eAAgBoE,CAAAA,OAArB,EAAR;AADsB;AAGxBC,4BAAwB,CAACpC,KAAD,EAAQ0B,MAAR,CAAgB;AAClC,UAAKO,CAAAA,yBAAL,EAAJ,KAGMI,KACN,GADqB,IAAK1E,CAAAA,UAAW2E,CAAAA,aAAhB,CAA8B,IAAKvE,CAAAA,eAAgBwE,CAAAA,UAArB,CAAgCvC,KAAhC,EAAuC0B,MAAvC,CAA9B,CACrB,EAAA,IAAKzC,CAAAA,4BAAL,CAAkC,CAAC4C,sBAAsB,CAAA,CAAvB,EAA6BC,OAAO,CAAC,CAACC,eAAeM,KAAaG,CAAAA,eAA7B,EAA8CR,aAAaK,KAAaI,CAAAA,aAAxE,CAAD,CAApC,CAAlC,CAJA;AADsC;AAOxCC,qBAAiB,CAACC,SAAD,CAAY;AAC3B,UAAKC,CAAAA,iBAAL,EAAA;AACA,UAAMrB,WAAW,IAAK5D,CAAAA,UAAWkF,CAAAA,gBAAhB,CAAiCF,SAAjC,CAAjB;AACA,YAAMG,cAAc,IAAKnF,CAAAA,UAAWoF,CAAAA,cAAhB,CAA+BxB,QAASlB,CAAAA,UAAxC,CAApB,EACM2C,aAAa,IAAK5C,CAAAA,aAAL,CAAmBmB,QAASlB,CAAAA,UAA5B,CADnB,EAEM4C,aAAaD,UAAWE,CAAAA,sBAAX,CAAkC3B,QAASH,CAAAA,MAA3C,GAAoD,CAApD,CAFnB,EAGM,CAAC+B,aAAD,EAAgBC,WAAhB,CAAA,GAA+B9G,yBAA0B+G,CAAAA,uBAA1B,CAAkDL,UAAlD,EAA8DC,UAA9D,CAHrC,EAIMK,kBAAkB,GAAGtG,qDAAsDuG,CAAAA,aAAzD,EAAwEhC,QAASH,CAAAA,MAAjF,EAAyF,IAAKoC,CAAAA,wBAAL,CAA8BR,UAAWS,CAAAA,aAAX,CAAyBR,UAAzB,CAA9B,CAAoES,CAAAA,iBAApE,EAAzF;AAAkLZ,iBAAYa,CAAAA,SAAZ,CAAsBR,aAAtB,EAAqCC,WAArC,CAAlL,EAAqOD,aAArO,CAJxB;AAKA,UAAIG,eAAJ,IAAuBA,eAAgBM,CAAAA,WAAvC,IAAsDjB,SAAUvB,CAAAA,MAAhE,IAA0EuB,SAAUvB,CAAAA,MAApF,IAA8FkC,eAAgBO,CAAAA,SAA9G;AACE,eAAOP,eAAP;AADF;AAGA,UAAIL,UAAJ,GAAiB,CAAjB,IAAsBE,aAAtB,KAAwC5B,QAASH,CAAAA,MAAjD,GAA0D,CAA1D,CAA6D;AAC3D,cAAM,CAAC0C,aAAD,EAAgBC,WAAhB,CAAA,GAA+BzH,yBAA0B+G,CAAAA,uBAA1B,CAAkDL,UAAlD,EAA8DC,UAA9D,GAA2E,CAA3E,CAArC;AAEA,aADMe,QACN,GADuB,GAAGhH,qDAAsDuG,CAAAA,aAAzD,EAAwEhC,QAASH,CAAAA,MAAjF,EAAyF,IAAKoC,CAAAA,wBAAL,CAA8BR,UAAWS,CAAAA,aAAX,CAAyBR,UAAzB,GAAsC,CAAtC,CAA9B,CAAwES,CAAAA,iBAAxE,EAAzF,EAAsLZ,WAAYa,CAAAA,SAAZ,CAAsBG,aAAtB,EAAqCC,WAArC,CAAtL,EAAyOD,aAAzO,CACvB,KAAsBE,QAAeJ,CAAAA,WAArC,IAAoDjB,SAAUvB,CAAAA,MAA9D,IAAwEuB,SAAUvB,CAAAA,MAAlF,IAA4F4C,QAAeH,CAAAA,SAA3G;AACE,iBAAOG,QAAP;AADF;AAH2D;AAO7D,aAAO,IAAP;AAlB2B;AAoB7BR,4BAAwB,CAACS,UAAD,CAAa;AACnC,aAAO,IAAKvG,CAAAA,6BAA8B8F,CAAAA,wBAAnC,CAA4DS,UAA5D,CAAP;AADmC;AAG9BZ,kCAAuB,CAACL,UAAD,EAAaC,UAAb,CAAyB;AACrD,YAAMgB,aAAajB,UAAWS,CAAAA,aAAX,CAAyBR,UAAzB,CAAnB;AACA,UAAIiB,cAAc,CAAlB;AACA,WAAK,IAAIC,aAAIlB,UAAb,EAAyBkB,UAAzB,IAA8B,CAA9B,IAAmCnB,UAAWS,CAAAA,aAAX,CAAyBU,UAAzB,CAAnC,KAAmEF,UAAnE,EAA+EE,UAAA,EAA/E;AACED,mBAAA,GAAclB,UAAWoB,CAAAA,cAAX,CAA0BD,UAA1B,CAAd;AADF;AAGIE,gBAAAA,GAAYrB,UAAWD,CAAAA,cAAX,EAA4B9C,CAAAA,MAAxCoE;AACJ,WAAK,IAAIF,IAAIlB,UAAR,EAAoBqB,aAAatB,UAAWuB,CAAAA,QAAX,EAAtC,EAA6DJ,CAA7D,GAAiEG,UAAjE,IAA+EtB,UAAWS,CAAAA,aAAX,CAAyBU,CAAzB,CAA/E,KAA+GF,UAA/G,EAA2HE,CAAA,EAA3H;AACEE,kBAAA,GAAYrB,UAAWwB,CAAAA,YAAX,CAAwBL,CAAxB,CAAZ;AADF;AAGA,aAAO,CAACD,WAAD,EAAcG,UAAd,CAAP;AAVqD;AAYvDI,wBAAoB,CAAClD,QAAD,CAAW;AAC7B,YAAMmD,iBAAiB,IAAKhC,CAAAA,iBAAL,CAAuBnB,QAAvB,CAAvB;AACA,aAAKmD,cAAL,GAGO,CAACC,KAAKD,cAAeC,CAAAA,IAAKC,CAAAA,MAApB,CAA2B,CAA3B,EAA8BrD,QAASH,CAAAA,MAAvC,GAAgDsD,cAAed,CAAAA,WAA/D,CAAN,EAAmFA,YAAYc,cAAed,CAAAA,WAA9G,EAA2HC,UAAUtC,QAASH,CAAAA,MAA9I,CAHP,GACS,CAACuD,KAAK,EAAN,EAAUf,YAAYrC,QAASH,CAAAA,MAA/B,EAAuCyC,UAAUtC,QAASH,CAAAA,MAA1D,CADT;AAF6B;AAO/BqC,iBAAa,EAAG;AACd,aAAO,IAAK5F,CAAAA,WAAZ;AADc;AAGhBgH,2BAAuB,CAACxE,UAAD,EAAae,MAAb,CAAqB;AACpCG,gBAAAA,GAAW,IAAK5D,CAAAA,UAAWkF,CAAAA,gBAAhB,CAAiC,IAAI9F,mDAAoD+H,CAAAA,QAAxD,CAAiEzE,UAAjE,EAA6Ee,MAA7E,CAAjC,CAAXG;AACAyB,YAAAA,GAAa,IAAK5C,CAAAA,aAAL,CAAmBmB,UAASlB,CAAAA,UAA5B,CAAb2C;AACN,aAAOA,MAAWS,CAAAA,aAAX,CAAyBT,MAAWE,CAAAA,sBAAX,CAAkC3B,UAASH,CAAAA,MAA3C,GAAoD,CAApD,CAAzB,CAAP;AAH0C;AAK5C2D,iBAAa,CAACd,UAAD,EAAae,MAAA,GAAS,KAAtB,CAA6B;AACpC,UAAKnH,CAAAA,WAAT,KAAyBoG,UAAzB,KAGMnF,MAKN,GALU,CAACmG,YAAY,IAAKpH,CAAAA,WAAlB,EAA+BqH,YAAYjB,UAA3C,EAAuDe,MAAvD,CAKV,EAJA,IAAKnH,CAAAA,WAIL,GAJmBoG,UAInB,EAHA,IAAKrG,CAAAA,0BAA2BuH,CAAAA,uBAAhC,CAAwDrG,MAAxD,CAGA,EAFA,IAAKH,CAAAA,aAAcmC,CAAAA,iBAAnB,EAEA,EADA,IAAK5C,CAAAA,oBAAqBc,CAAAA,IAA1B,CAA+BF,MAA/B,CACA,EAAA,IAAKP,CAAAA,iCAAkCS,CAAAA,IAAvC,CAA4C,EAA5C,CARA;AADwC;AAzJ5C;AAqKA,OAAMJ,cAAN,QAA4BhC,oGAAoGwI,CAAAA,UAAhI;AACM,mCAA8B,EAAA;AAChC,aAAO,IAAKC,CAAAA,4BAAZ;AADgC;AAGlC7H,eAAW,CAAC8H,gBAAD,EAAmB3H,UAAnB,EAA+B8F,aAA/B,EAA8C8B,aAA9C,CAA6D;AACtE,WAAA,EAAA;AACA,UAAKD,CAAAA,gBAAL,GAAwBA,gBAAxB;AACA,UAAK3H,CAAAA,UAAL,GAAkBA,UAAlB;AACA,UAAK8F,CAAAA,aAAL,GAAqBA,aAArB;AAEA,UAAK+B,CAAAA,2BAAL,GADA,IAAKC,CAAAA,UACL,GADkB,IAClB;AACA,UAAKC,CAAAA,oBAAL,GAA4B,IAAKvH,CAAAA,SAAL,CAAe,IAAIvB,mGAAoG+I,CAAAA,iBAAxG,EAAf,CAA5B;AACA,UAAKC,CAAAA,OAAL,GAAe,IAAIvI,kEAAmEwI,CAAAA,qBAAvE,CAA6F,IAAKP,CAAAA,gBAAlG,CAAf;AACA,UAAKQ,CAAAA,yBAAL,GAAiC,IAAK3H,CAAAA,SAAL,CAAe,IAAIvB,mGAAoG+I,CAAAA,iBAAxG,EAAf,CAAjC;AACA,UAAKN,CAAAA,4BAAL,GAAoC,CAApC;AACA,UAAKU,CAAAA,uCAAL,GAA+C,IAAK5H,CAAAA,SAAL,CAAe,IAAIxB,+FAAgGyB,CAAAA,OAApG,EAAf,CAA/C;AACA,UAAKc,CAAAA,sCAAL,GAA8C,IAAK6G,CAAAA,uCAAwCzH,CAAAA,KAA3F;AACA,UAAKG,CAAAA,kBAAL,GAA0B,IAAKN,CAAAA,SAAL,CAAe,IAAIxB,+FAAgGyB,CAAAA,OAApG,EAAf,CAA1B;AACA,UAAKM,CAAAA,iBAAL,GAAyB,IAAKD,CAAAA,kBAAmBH,CAAAA,KAAjD;AACA,UAAK0H,CAAAA,mBAAL,GAA2B,IAAK7H,CAAAA,SAAL,CAAe,IAAIvB,mGAAoGqJ,CAAAA,aAAxG,EAAf,CAA3B;AACA,UAAK9H,CAAAA,SAAL,CAAelB,yCAA0CiJ,CAAAA,oBAAqBrH,CAAAA,WAA/D,CAA2EC,CAAA,IAAK;AAC7F,cAAMmF,aAAa,IAAKR,CAAAA,aAAL,EAAnB;AACI3E,SAAEqH,CAAAA,gBAAiBC,CAAAA,OAAnB,CAA2BnC,UAA3B,CAAJ,KAA+C,CAAC,CAAhD,IAGA,IAAKnD,CAAAA,iBAAL,EAHA;AAF6F,OAAhF,CAAf,CAAA;AAOA,UAAKA,CAAAA,iBAAL,EAAA;AACA,UAAK3C,CAAAA,SAAL,CAAeoH,aAAcc,CAAAA,wBAAd,CAAuC,CAAC,CAACC,IAAD,EAAOC,KAAP,CAAD,CAAA,IAAmB;AACvE,YAAIA,KAAJ,CAAW;AACT,cAAIC,WAAW,IAAKR,CAAAA,mBAAoBzJ,CAAAA,GAAzB,CAA6B+J,IAA7B,CAAf;AACKE,kBAAL,KACEA,QACA,GADW,IAAIC,mBAAJ,CAAwB,EAAA,IAAM,IAAKC,CAAAA,aAAL,CAAmBF,QAASG,CAAAA,UAA5B,CAA9B,CACX,EAAA,IAAKX,CAAAA,mBAAoBpE,CAAAA,GAAzB,CAA6B0E,IAA7B,EAAmCE,QAAnC,CAFF;AAIAA,kBAASI,CAAAA,iBAAT,CAA2BL,KAA3B,CAAA;AANS,SAAX;AAQE,cAAKP,CAAAA,mBAAoBa,CAAAA,gBAAzB,CAA0CP,IAA1C,CAAA;AARF;AADuE,OAA1D,CAAf,CAAA;AAxBsE;AAqCxExF,qBAAiB,CAACgG,oBAAA,GAAuB,CAAA,CAAxB,CAA8B;AAC7C,UAAIC,EAAJ;AACA,UAAKnB,CAAAA,OAAQtG,CAAAA,KAAb,EAAA;AACA,OAACyH,EAAD,GAAM,IAAKC,CAAAA,sBAAX,MAAuC,IAAvC,IAA+CD,EAA/C,KAAsD,IAAK,EAA3D,IAAwEA,EAAGzH,CAAAA,KAAH,EAAxE;AACI,UAAK2H,CAAAA,sBAAT,KACE,IAAKA,CAAAA,sBADP,GACgC,IAAI9J,0CAA2C+J,CAAAA,8BAA/C,CAA8E,IAAKvJ,CAAAA,UAAWgD,CAAAA,YAAhB,EAA9E,CADhC;AAGImG,0BAAJ,IACE,IAAKrI,CAAAA,kBAAmBO,CAAAA,IAAxB,CAA6B,CAAC6C,sBAAsB,CAAA,CAAvB,EAA8BC,OAAO,CAAC,CAACC,eAAe,CAAhB,EAAmBC,aAAa,IAAKrE,CAAAA,UAAWgD,CAAAA,YAAhB,EAAhC,CAAD,CAArC,CAA7B,CADF;AAoBA,YAAM,CAACwG,mBAAD,EAAsBC,YAAtB,CAAA,GAjByBC,CAAA,EAAAA,IAAM;AACnC,YAAI,IAAK1J,CAAAA,UAAW2J,CAAAA,yBAAhB,EAAJ;AACE,iBAAO,CAAC,IAAD,EAAO,IAAP,CAAP;AADF;AAGA,cAAMH,sBAAsBlK,yCAA0CiJ,CAAAA,oBAAqB3J,CAAAA,GAA/D,CAAmE,IAAKkH,CAAAA,aAAL,EAAnE,CAA5B;AACA,YAAI,CAAC0D,mBAAL;AACE,iBAAO,CAAC,IAAD,EAAO,IAAP,CAAP;AADF;AAGA,YAAIC,YAAJ;AACA,WAAI;AACFA,sBAAA,GAAeD,mBAAoBI,CAAAA,eAApB,EAAf;AADE,SAEF,QAAOzI,CAAP,CAAU;AAEV,iBADA,GAAGpC,gGAAiG8K,CAAAA,iBAApG,EAAuH1I,CAAvH,CACO,EAAA,CAAC,IAAD,EAAO,IAAP,CAAP;AAFU;AAIZ,eAAO,CAACqI,mBAAD,EAAsBC,YAAtB,CAAP;AAfmC,OAANC,CAiBa,EAA5C;AAEE,UAAK5B,CAAAA,UAAL,GADE0B,mBAAJ,IAA2BC,YAA3B,GACoB,IAAIjK,0CAA2CsK,CAAAA,mCAA/C,CAAmF,IAAK9J,CAAAA,UAAWgD,CAAAA,YAAhB,EAAnF,EAAmHwG,mBAAnH,EAAwI,IAAKxJ,CAAAA,UAA7I,EAAyJ,IAAK2H,CAAAA,gBAA9J,CADpB,GAGoB,IAFlB;AAIF,UAAKI,CAAAA,oBAAqBgC,CAAAA,KAA1B,EAAA;AACA,UAAKlC,CAAAA,2BAAL,GAAmC,IAAnC;AACI,UAAKC,CAAAA,UAAT,KACQkC,oBA0BN,GA1BU,CAACC,UAAUlG,MAAAkG,IAAU;AAC7B,YAAKA,CAAAA,SAAL,CAAelG,MAAf,CAAA;AAD6B,OAArB,EAEPmG,+BAA+B,EAAAA,IAAM;AAClC,YAAKxC,CAAAA,4BAAT,KAA0C,CAA1C,KAIA,IAAKA,CAAAA,4BACL,GAFiByC,CAEjB,EAAA,IAAK/B,CAAAA,uCAAwC/G,CAAAA,IAA7C,EALA;AADsC,OAF9B,EASP+I,YAAY,CAAC1H,UAAD,EAAakG,KAAb,CAAAwB,IAAuB;AACpC,YAAIhB,EAAJ;AACA,YAAK,IAAKtB,CAAAA,UAAV,CAAA;AAGA,cAAMuC,iCAAiC,IAAKvC,CAAAA,UAAWwC,CAAAA,KAAMC,CAAAA,iCAAtB,EAAvC;AACIF,wCAAJ,KAAuC,IAAvC,IAA+C3H,UAA/C,IAA6D2H,8BAA7D,MACGjB,EADH,GACQ,IAAKtB,CAAAA,UADb,MAC6B,IAD7B,IACqCsB,EADrC,KAC4C,IAAK,EADjD,IAC8DA,EAAGkB,CAAAA,KAAMF,CAAAA,WAAT,CAAqB1H,UAArB,EAAiCkG,KAAjC,CAD9D;AAJA;AAFoC,OAT5B,CA0BV,EAPIY,mBAOJ,IAP2BA,mBAAoBgB,CAAAA,yBAO/C,IAP4E,CAAChB,mBAAoBiB,CAAAA,yCAOjG,KANE,IAAK1C,CAAAA,oBAAqBrJ,CAAAA,KAM5B,GANoC8K,mBAAoBgB,CAAAA,yBAApB,CAA8C,IAAKxK,CAAAA,UAAnD,EAA+DgK,oBAA/D,CAMpC,GAJK,IAAKjC,CAAAA,oBAAqBrJ,CAAAA,KAI/B,KAHE,IAAKqJ,CAAAA,oBAAqBrJ,CAAAA,KAC1B,GADkC,IAAKmJ,CAAAA,2BACvC,GADqE,IAAIrI,0CAA2CkL,CAAAA,0BAA/C,CAA0E,IAAK5C,CAAAA,UAA/E,EAA2FkC,oBAA3F,CACrE,EAAA,IAAKnC,CAAAA,2BAA4B8C,CAAAA,aAAjC,EAEF;AAAA,OAAKnB,mBAAA,KAAwB,IAAxB,IAAgCA,mBAAhC,KAAwD,IAAK,EAA7D,GAAiE,CAAjE,GAA0EA,mBAAoBiB,CAAAA,yCAAnG,KAAiJjB,mBAAoBgB,CAAAA,yBAArK,IACE,IAAKnB,CAAAA,sBAGL,GAH8B,IAAI3J,kEAAmEwI,CAAAA,qBAAvE,CAA6F,IAAKP,CAAAA,gBAAlG,CAG9B,EAFA,IAAK2B,CAAAA,sBAEL,GAF8B,IAAI9J,0CAA2C+J,CAAAA,8BAA/C,CAA8E,IAAKvJ,CAAAA,UAAWgD,CAAAA,YAAhB,EAA9E,CAE9B,EADA,IAAKmF,CAAAA,yBAA0B4B,CAAAA,KAA/B,EACA;AAAA,UAAK5B,CAAAA,yBAA0BzJ,CAAAA,KAA/B,GAAuC8K,mBAAoBgB,CAAAA,yBAApB,CAA8C,IAAKxK,CAAAA,UAAnD,EAA+D,CAACiK,UAAUlG,MAAAkG,IAAU;AACzH,YAAIb,EAAJ;AACA,SAACA,EAAD,GAAM,IAAKC,CAAAA,sBAAX,MAAuC,IAAvC,IAA+CD,EAA/C,KAAsD,IAAK,EAA3D,IAAwEA,EAAGwB,CAAAA,kBAAH,CAAsB7G,MAAtB,EAA8B,IAAK/D,CAAAA,UAAnC,CAAxE;AAFyH,OAArB,EAGnGkK,8BAA8B,EAAG;OAHkE,EAInGE,YAAY,CAAC1H,UAAD,EAAakG,KAAb,CAAAwB,IAAuB;AACpC,YAAIhB,EAAJ;AACA,SAACA,EAAD,GAAM,IAAKE,CAAAA,sBAAX,MAAuC,IAAvC,IAA+CF,EAA/C,KAAsD,IAAK,EAA3D,IAAwEA,EAAGgB,CAAAA,WAAH,CAAe1H,UAAf,EAA2BkG,KAA3B,CAAxE;AAFoC,OAJgE,CAA/D,CAJzC,KAcE,IAAKU,CAAAA,sBACL,GAFA,IAAKD,CAAAA,sBAEL,GAF8BwB,IAAAA,EAE9B,EAAA,IAAK1C,CAAAA,yBAA0BzJ,CAAAA,KAA/B,GAAuCmM,IAAAA,EAfzC,CA3BF;AA6CA,UAAKC,CAAAA,2BAAL,EAAA;AAhF6C;AAkF/CtI,2BAAuB,EAAG;AACxB,UAAI4G,EAAJ;AACA,OAACA,EAAD,GAAM,IAAKvB,CAAAA,2BAAX,MAA4C,IAA5C,IAAoDuB,EAApD,KAA2D,IAAK,EAAhE,IAA6EA,EAAGuB,CAAAA,aAAH,EAA7E;AAFwB;AAI1BlJ,0BAAsB,CAACN,CAAD,CAAI;AAAA,UACpBiI,EADoB,EAChB2B,EADgB,EACZC,EADY;AAExB,UAAI7J,CAAEO,CAAAA,OAAN;AACE,YAAKyB,CAAAA,iBAAL,CAAuB,CAAA,CAAvB,CAAA;AADF,YAEO,KAAI,CAAChC,CAAES,CAAAA,WAAP,CAAoB;AACzB,aAAK,MAAMC,CAAX,IAAgBV,CAAEW,CAAAA,OAAlB,CAA2B;AACzB,gBAAM,CAACC,QAAD,EAAWC,eAAX,CAAA,GAA8B,GAAG9C,qDAAsDgD,CAAAA,QAAzD,EAAmEL,CAAEM,CAAAA,IAArE,CAApC;AACA,cAAK8F,CAAAA,OAAQ7F,CAAAA,UAAb,CAAwBP,CAAEQ,CAAAA,KAA1B,EAAiCN,QAAjC,EAA2CC,eAA3C,CAAA;AACA,WAACoH,EAAD,GAAM,IAAKC,CAAAA,sBAAX,MAAuC,IAAvC,IAA+CD,EAA/C,KAAsD,IAAK,EAA3D,IAAwEA,EAAGhH,CAAAA,UAAH,CAAcP,CAAEQ,CAAAA,KAAhB,EAAuBN,QAAvB,EAAiCC,eAAjC,CAAxE;AAHyB;AAK3B,SAAC+I,EAAD,GAAM,IAAKzB,CAAAA,sBAAX,MAAuC,IAAvC,IAA+CyB,EAA/C,KAAsD,IAAK,EAA3D,IAAwEA,EAAGE,CAAAA,aAAH,CAAiB9J,CAAEW,CAAAA,OAAnB,CAAxE;AACI,YAAKgG,CAAAA,UAAT,IACE,IAAKA,CAAAA,UAAWwC,CAAAA,KAAMW,CAAAA,aAAtB,CAAoC9J,CAAEW,CAAAA,OAAtC,CADF;AAGA,SAACkJ,EAAD,GAAM,IAAKnD,CAAAA,2BAAX,MAA4C,IAA5C,IAAoDmD,EAApD,KAA2D,IAAK,EAAhE,IAA6EA,EAAGL,CAAAA,aAAH,EAA7E;AAVyB;AAJH;AAiB1BV,aAAS,CAAClG,MAAD,CAAS;AAChB,OAAM,CAAC,QAAAjC,MAAD,CAAN,GAAkB,IAAKmG,CAAAA,OAAQ2C,CAAAA,kBAAb,CAAgC7G,MAAhC,EAAwC,IAAK/D,CAAAA,UAA7C,CAAlB;AACI8B,YAAQQ,CAAAA,MAAZ,GAAqB,CAArB,IACE,IAAKxB,CAAAA,kBAAmBO,CAAAA,IAAxB,CAA6B,CAAC6C,sBAAsB,CAAA,CAAvB,EAA8BC,OAAOrC,MAArC,CAA7B,CADF;AAGA,aAAO,CAACA,QAAQA,MAAT,CAAP;AALgB;AAOlBgJ,+BAA2B,EAAG;AAC5B,YAAM3G,SAAShF,oDAAqD+L,CAAAA,SAAUC,CAAAA,QAA/D,CAAwE,CAAC,GAAG,IAAK9C,CAAAA,mBAAT,CAA8B+C,CAAAA,GAA9B,CAAkC,CAAC,CAAA,EAAIC,CAAJ,CAAD,CAAA,IAAYA,CAAErC,CAAAA,UAAhD,CAAxE,CAAf;AACA,UAAKD,CAAAA,aAAL,CAAmB5E,MAAnB,CAAA;AAF4B;AAI9B4E,iBAAa,CAAC5E,MAAD,CAAS;AACpB,WAAK,MAAM9B,KAAX,IAAoB8B,MAApB;AACE,YAAKmH,CAAAA,YAAL,CAAkBjJ,KAAMwC,CAAAA,eAAxB,EAAyCxC,KAAMkJ,CAAAA,sBAA/C,GAAwE,CAAxE,CAAA;AADF;AADoB;AAKtBD,gBAAY,CAACzG,eAAD,EAAkBC,aAAlB,CAAiC;AAAA,UACvCsE,EADuC,EACnC2B,EADmC;AAE3C,UAAK,IAAKjD,CAAAA,UAAV,CAAA;AAGAjD,uBAAA,GAAkB2G,IAAKC,CAAAA,GAAL,CAAS,CAAT,EAAYD,IAAKE,CAAAA,GAAL,CAAS,IAAK1L,CAAAA,UAAWgD,CAAAA,YAAhB,EAAT,EAAyC6B,eAAzC,CAAZ,CAAlB;AACAC,qBAAA,GAAgB0G,IAAKE,CAAAA,GAAL,CAAS,IAAK1L,CAAAA,UAAWgD,CAAAA,YAAhB,EAAT,EAAyC8B,aAAzC,CAAhB;AACA,YAAM6G,UAAU,IAAIlM,6EAA8EmM,CAAAA,gCAAlF,EAAhB;AACA,SAAM,CAAC,gBAAAC,eAAD,CAAN,GAA0B,IAAK/D,CAAAA,UAAWgE,CAAAA,qBAAhB,CAAsCH,OAAtC,EAA+C9G,eAA/C,EAAgEC,aAAhE,CAA1B;AACMiH,eAAAA,GAAgB,IAAK9B,CAAAA,SAAL,CAAe0B,OAAQK,CAAAA,QAAR,EAAf,CAAhBD;AACN,YAAIF,eAAJ;AACE,eAAK,MAAMhK,CAAX,IAAgBkK,OAAcjK,CAAAA,OAA9B;AACE,aAACsH,EAAD,GAAM,IAAKrB,CAAAA,oBAAqBrJ,CAAAA,KAAhC,MAA2C,IAA3C,IAAmD0K,EAAnD,KAA0D,IAAK,EAA/D,IAA4EA,EAAG6C,CAAAA,aAAH,CAAiBpK,CAAEuC,CAAAA,cAAnB,EAAmCvC,CAAEwC,CAAAA,YAArC,GAAoD,CAApD,CAA5E;AADF;AADF;AAKA,SAAC0G,EAAD,GAAM,IAAKlD,CAAAA,2BAAX,MAA4C,IAA5C,IAAoDkD,EAApD,KAA2D,IAAK,EAAhE,IAA6EA,EAAGmB,CAAAA,aAAH,EAA7E;AAbA;AAF2C;AAiB7C7I,qBAAiB,CAACX,UAAD,CAAa;AAAA,UACxB0G,EADwB,EACpB2B,EADoB;AAE5B,YAAMY,UAAU,IAAIlM,6EAA8EmM,CAAAA,gCAAlF,EAAhB;AACA,OAACxC,EAAD,GAAM,IAAKtB,CAAAA,UAAX,MAA2B,IAA3B,IAAmCsB,EAAnC,KAA0C,IAAK,EAA/C,IAA4DA,EAAG+C,CAAAA,qBAAH,CAAyBR,OAAzB,EAAkCjJ,UAAlC,CAA5D;AACA,UAAKuH,CAAAA,SAAL,CAAe0B,OAAQK,CAAAA,QAAR,EAAf,CAAA;AACA,OAACjB,EAAD,GAAM,IAAKlD,CAAAA,2BAAX,MAA4C,IAA5C,IAAoDkD,EAApD,KAA2D,IAAK,EAAhE,IAA6EA,EAAGmB,CAAAA,aAAH,EAA7E;AAL4B;AAO9B5I,qBAAiB,CAACZ,UAAD,CAAa;AAC5B,aAAK,IAAKoF,CAAAA,UAAV,GAGO,IAAKA,CAAAA,UAAWxE,CAAAA,iBAAhB,CAAkCZ,UAAlC,CAHP,GACS,CAAA,CADT;AAD4B;AAM9Ba,mBAAe,CAACb,UAAD,CAAa;AACtB,UAAKY,CAAAA,iBAAL,CAAuBZ,UAAvB,CAAJ,IACE,IAAKW,CAAAA,iBAAL,CAAuBX,UAAvB,CADF;AAD0B;AAK5BD,iBAAa,CAACC,UAAD,CAAa;AACxB,UAAI0G,EAAJ,EACMgD,WAAW,IAAKpM,CAAAA,UAAWoF,CAAAA,cAAhB,CAA+B1C,UAA/B,CADjB;AAEA,YAAM2J,SAAS,IAAKpE,CAAAA,OAAQqE,CAAAA,SAAb,CAAuB,IAAKtM,CAAAA,UAAW8F,CAAAA,aAAhB,EAAvB,EAAwDpD,UAAxD,GAAqE,CAArE,EAAwE0J,QAAxE,CAAf;AACI,UAAK/C,CAAAA,sBAAT,IAAmC,IAAKC,CAAAA,sBAAxC,IAAkE,IAAKxB,CAAAA,UAAvE,IACM,IAAKwB,CAAAA,sBAAuBiD,CAAAA,sCAA5B,EADN,GAC6E7J,UAD7E,IAC2F,IAAKoF,CAAAA,UAAWwC,CAAAA,KAAMiC,CAAAA,sCAAtB,EAD3F,GAC4J7J,UAD5J,KAEU8J,QACN,GADyB,IAAKnD,CAAAA,sBAAuBiD,CAAAA,SAA5B,CAAsC,IAAKtM,CAAAA,UAAW8F,CAAAA,aAAhB,EAAtC,EAAuEpD,UAAvE,GAAoF,CAApF,EAAuF0J,QAAvF,CACzB,EAAI,CAACC,MAAOI,CAAAA,MAAP,CAAcD,QAAd,CAAL,KAAyC,CAACpD,EAAD,GAAM,IAAKjB,CAAAA,yBAA0BzJ,CAAAA,KAArC,MAAgD,IAAhD,IAAwD0K,EAAxD,KAA+D,IAAK,EAApE,GAAwE,CAAxE,GAAiFA,EAAGsD,CAAAA,uBAA7H,KACE,IAAKvE,CAAAA,yBAA0BzJ,CAAAA,KAAMgO,CAAAA,uBAArC,CAA6DhK,UAA7D,CAJN;AAQA,aAAO2J,MAAP;AAZwB;AAc1B7I,oCAAgC,CAACd,UAAD,EAAae,MAAb,EAAqBC,SAArB,CAAgC;AAC9D,UAAI,CAAC,IAAKoE,CAAAA,UAAV;AACE,eAAO,CAAP;AADF;AAGMlE,gBAAAA,GAAW,IAAK5D,CAAAA,UAAWkF,CAAAA,gBAAhB,CAAiC,IAAI9F,mDAAoD+H,CAAAA,QAAxD,CAAiEzE,UAAjE,EAA6Ee,MAA7E,CAAjC,CAAXG;AACN,UAAKP,CAAAA,iBAAL,CAAuBO,UAASlB,CAAAA,UAAhC,CAAA;AACA,aAAO,IAAKoF,CAAAA,UAAWtE,CAAAA,gCAAhB,CAAiDI,UAAjD,EAA2DF,SAA3D,CAAP;AAN8D;AAQhEC,wBAAoB,CAACC,QAAD,EAAWtB,MAAX,EAAmBuB,OAAnB,CAA4B;AAC9C,UAAI,CAAC,IAAKiE,CAAAA,UAAV;AACE,eAAO,IAAP;AADF;AAGM6E,cAAAA,GAAoB,IAAK3M,CAAAA,UAAWkF,CAAAA,gBAAhB,CAAiCtB,QAAjC,CAApB+I;AACN,UAAKtJ,CAAAA,iBAAL,CAAuBsJ,QAAkBjK,CAAAA,UAAzC,CAAA;AACA,aAAO,IAAKoF,CAAAA,UAAWnE,CAAAA,oBAAhB,CAAqCgJ,QAArC,EAAwDrK,MAAxD,EAAgEuB,OAAhE,CAAP;AAN8C;AAQ5C,iBAAY,EAAA;AACd,aAAO,IAAKoE,CAAAA,OAAQ/E,CAAAA,SAApB;AADc;AAjOlB;AAqOA,OAAM4F,oBAAN,QAAkC7J,oGAAoGwI,CAAAA,UAAtI;AACM,kBAAa,EAAA;AACf,aAAO,IAAKmF,CAAAA,WAAZ;AADe;AAGjB/M,eAAW,CAACgN,cAAD,CAAiB;AAC1B,WAAA,EAAA;AACA,UAAKA,CAAAA,cAAL,GAAsBA,cAAtB;AACA,UAAKC,CAAAA,MAAL,GAAc,IAAKtM,CAAAA,SAAL,CAAe,IAAI1B,+FAAgGiO,CAAAA,gBAApG,CAAqH,EAAA,IAAM,IAAKC,CAAAA,MAAL,EAA3H,EAA0I,EAA1I,CAAf,CAAd;AACA,UAAKC,CAAAA,mBAAL,GAA2B,EAA3B;AACA,UAAKL,CAAAA,WAAL,GAAmB,EAAnB;AAL0B;AAO5BI,UAAM,EAAG;AACH,SAAGnO,gGAAiG4N,CAAAA,MAApG,EAA4G,IAAKQ,CAAAA,mBAAjH,EAAsI,IAAKL,CAAAA,WAA3I,EAAwJ,CAACM,CAAD,EAAIlD,CAAJ,CAAA,IAAUkD,CAAET,CAAAA,MAAF,CAASzC,CAAT,CAAlK,CAAJ,KAGA,IAAKiD,CAAAA,mBACL,GAD2B,IAAKL,CAAAA,WAChC,EAAA,IAAKC,CAAAA,cAAL,EAJA;AADO;AAOT5D,qBAAiB,CAACL,KAAD,CAAQ;AACvB,UAAKgE,CAAAA,WAAL,GAAmBhE,KAAMuE,CAAAA,iBAAzB;AACIvE,WAAMwE,CAAAA,UAAV,IACE,IAAKN,CAAAA,MAAOO,CAAAA,MAAZ,EACA,EAAA,IAAKL,CAAAA,MAAL,EAFF,IAIE,IAAKF,CAAAA,MAAOQ,CAAAA,QAAZ,EAJF;AAFuB;AAlB3B;AA7Z4I,CAA5I;;",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/model/tokenizationTextModelPart.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$model$tokenizationTextModelPart\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, TokenizationTextModelPart:{enumerable:true, get:function() {\n  return TokenizationTextModelPart;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require(\"../../../base/common/arrays.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require(\"../../../base/common/async.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js = require(\"../../../base/common/errors.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require(\"../../../base/common/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../base/common/lifecycle.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_eolCounter_DOT_js = require(\"../core/eolCounter.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js = require(\"../core/lineRange.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js = require(\"../core/position.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_wordHelper_DOT_js = require(\"../core/wordHelper.js\");\nvar require$_DOT__DOT__SLASH_languages_DOT_js = require(\"../languages.js\");\nvar require$_DOT__SLASH_textModelPart_DOT_js = require(\"./textModelPart.js\");\nvar require$_DOT__SLASH_textModelTokens_DOT_js = require(\"./textModelTokens.js\");\nvar require$_DOT__DOT__SLASH_tokens_SLASH_contiguousMultilineTokensBuilder_DOT_js = require(\"../tokens/contiguousMultilineTokensBuilder.js\");\nvar require$_DOT__DOT__SLASH_tokens_SLASH_contiguousTokensStore_DOT_js = require(\"../tokens/contiguousTokensStore.js\");\nvar require$_DOT__DOT__SLASH_tokens_SLASH_sparseTokensStore_DOT_js = require(\"../tokens/sparseTokensStore.js\");\nclass TokenizationTextModelPart extends require$_DOT__SLASH_textModelPart_DOT_js.TextModelPart {\n  constructor(_languageService, _languageConfigurationService, _textModel, _bracketPairsTextModelPart, _languageId, _attachedViews) {\n    super();\n    this._languageService = _languageService;\n    this._languageConfigurationService = _languageConfigurationService;\n    this._textModel = _textModel;\n    this._bracketPairsTextModelPart = _bracketPairsTextModelPart;\n    this._languageId = _languageId;\n    this._attachedViews = _attachedViews;\n    this._semanticTokens = new require$_DOT__DOT__SLASH_tokens_SLASH_sparseTokensStore_DOT_js.SparseTokensStore(this._languageService.languageIdCodec);\n    this._onDidChangeLanguage = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onDidChangeLanguage = this._onDidChangeLanguage.event;\n    this._onDidChangeLanguageConfiguration = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onDidChangeLanguageConfiguration = this._onDidChangeLanguageConfiguration.event;\n    this._onDidChangeTokens = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onDidChangeTokens = this._onDidChangeTokens.event;\n    this.grammarTokens = this._register(new GrammarTokens(this._languageService.languageIdCodec, this._textModel, () => this._languageId, this._attachedViews));\n    this._register(this._languageConfigurationService.onDidChange(e => {\n      if (e.affects(this._languageId)) {\n        this._onDidChangeLanguageConfiguration.fire({});\n      }\n    }));\n    this._register(this.grammarTokens.onDidChangeTokens(e => {\n      this._emitModelTokensChangedEvent(e);\n    }));\n    this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(e => {\n      this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState();\n    }));\n  }\n  handleDidChangeContent(e) {\n    if (e.isFlush) {\n      this._semanticTokens.flush();\n    } else if (!e.isEolChange) {\n      for (const c of e.changes) {\n        const [eolCount, firstLineLength, lastLineLength] = (0,require$_DOT__DOT__SLASH_core_SLASH_eolCounter_DOT_js.countEOL)(c.text);\n        this._semanticTokens.acceptEdit(c.range, eolCount, firstLineLength, lastLineLength, c.text.length > 0 ? c.text.charCodeAt(0) : 0);\n      }\n    }\n    this.grammarTokens.handleDidChangeContent(e);\n  }\n  handleDidChangeAttached() {\n    this.grammarTokens.handleDidChangeAttached();\n  }\n  getLineTokens(lineNumber) {\n    this.validateLineNumber(lineNumber);\n    const syntacticTokens = this.grammarTokens.getLineTokens(lineNumber);\n    return this._semanticTokens.addSparseTokens(lineNumber, syntacticTokens);\n  }\n  _emitModelTokensChangedEvent(e) {\n    if (!this._textModel._isDisposing()) {\n      this._bracketPairsTextModelPart.handleDidChangeTokens(e);\n      this._onDidChangeTokens.fire(e);\n    }\n  }\n  validateLineNumber(lineNumber) {\n    if (lineNumber < 1 || lineNumber > this._textModel.getLineCount()) {\n      throw new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.BugIndicatingError(\"Illegal value for lineNumber\");\n    }\n  }\n  get hasTokens() {\n    return this.grammarTokens.hasTokens;\n  }\n  resetTokenization() {\n    this.grammarTokens.resetTokenization();\n  }\n  get backgroundTokenizationState() {\n    return this.grammarTokens.backgroundTokenizationState;\n  }\n  forceTokenization(lineNumber) {\n    this.validateLineNumber(lineNumber);\n    this.grammarTokens.forceTokenization(lineNumber);\n  }\n  isCheapToTokenize(lineNumber) {\n    this.validateLineNumber(lineNumber);\n    return this.grammarTokens.isCheapToTokenize(lineNumber);\n  }\n  tokenizeIfCheap(lineNumber) {\n    this.validateLineNumber(lineNumber);\n    this.grammarTokens.tokenizeIfCheap(lineNumber);\n  }\n  getTokenTypeIfInsertingCharacter(lineNumber, column, character) {\n    return this.grammarTokens.getTokenTypeIfInsertingCharacter(lineNumber, column, character);\n  }\n  tokenizeLineWithEdit(position, length, newText) {\n    return this.grammarTokens.tokenizeLineWithEdit(position, length, newText);\n  }\n  setSemanticTokens(tokens, isComplete) {\n    this._semanticTokens.set(tokens, isComplete);\n    this._emitModelTokensChangedEvent({semanticTokensApplied:tokens !== null, ranges:[{fromLineNumber:1, toLineNumber:this._textModel.getLineCount()}],});\n  }\n  hasCompleteSemanticTokens() {\n    return this._semanticTokens.isComplete();\n  }\n  hasSomeSemanticTokens() {\n    return !this._semanticTokens.isEmpty();\n  }\n  setPartialSemanticTokens(range, tokens) {\n    if (this.hasCompleteSemanticTokens()) {\n      return;\n    }\n    const changedRange = this._textModel.validateRange(this._semanticTokens.setPartial(range, tokens));\n    this._emitModelTokensChangedEvent({semanticTokensApplied:true, ranges:[{fromLineNumber:changedRange.startLineNumber, toLineNumber:changedRange.endLineNumber,},],});\n  }\n  getWordAtPosition(_position) {\n    this.assertNotDisposed();\n    const position = this._textModel.validatePosition(_position);\n    const lineContent = this._textModel.getLineContent(position.lineNumber);\n    const lineTokens = this.getLineTokens(position.lineNumber);\n    const tokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n    const [rbStartOffset, rbEndOffset] = TokenizationTextModelPart._findLanguageBoundaries(lineTokens, tokenIndex);\n    const rightBiasedWord = (0,require$_DOT__DOT__SLASH_core_SLASH_wordHelper_DOT_js.getWordAtText)(position.column, this.getLanguageConfiguration(lineTokens.getLanguageId(tokenIndex)).getWordDefinition(), lineContent.substring(rbStartOffset, rbEndOffset), rbStartOffset);\n    if (rightBiasedWord && rightBiasedWord.startColumn <= _position.column && _position.column <= rightBiasedWord.endColumn) {\n      return rightBiasedWord;\n    }\n    if (tokenIndex > 0 && rbStartOffset === position.column - 1) {\n      const [lbStartOffset, lbEndOffset] = TokenizationTextModelPart._findLanguageBoundaries(lineTokens, tokenIndex - 1);\n      const leftBiasedWord = (0,require$_DOT__DOT__SLASH_core_SLASH_wordHelper_DOT_js.getWordAtText)(position.column, this.getLanguageConfiguration(lineTokens.getLanguageId(tokenIndex - 1)).getWordDefinition(), lineContent.substring(lbStartOffset, lbEndOffset), lbStartOffset);\n      if (leftBiasedWord && leftBiasedWord.startColumn <= _position.column && _position.column <= leftBiasedWord.endColumn) {\n        return leftBiasedWord;\n      }\n    }\n    return null;\n  }\n  getLanguageConfiguration(languageId) {\n    return this._languageConfigurationService.getLanguageConfiguration(languageId);\n  }\n  static _findLanguageBoundaries(lineTokens, tokenIndex) {\n    const languageId = lineTokens.getLanguageId(tokenIndex);\n    let startOffset = 0;\n    for (let i = tokenIndex; i >= 0 && lineTokens.getLanguageId(i) === languageId; i--) {\n      startOffset = lineTokens.getStartOffset(i);\n    }\n    let endOffset = lineTokens.getLineContent().length;\n    for (let i = tokenIndex, tokenCount = lineTokens.getCount(); i < tokenCount && lineTokens.getLanguageId(i) === languageId; i++) {\n      endOffset = lineTokens.getEndOffset(i);\n    }\n    return [startOffset, endOffset];\n  }\n  getWordUntilPosition(position) {\n    const wordAtPosition = this.getWordAtPosition(position);\n    if (!wordAtPosition) {\n      return {word:\"\", startColumn:position.column, endColumn:position.column,};\n    }\n    return {word:wordAtPosition.word.substr(0, position.column - wordAtPosition.startColumn), startColumn:wordAtPosition.startColumn, endColumn:position.column,};\n  }\n  getLanguageId() {\n    return this._languageId;\n  }\n  getLanguageIdAtPosition(lineNumber, column) {\n    const position = this._textModel.validatePosition(new require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position(lineNumber, column));\n    const lineTokens = this.getLineTokens(position.lineNumber);\n    return lineTokens.getLanguageId(lineTokens.findTokenIndexAtOffset(position.column - 1));\n  }\n  setLanguageId(languageId, source = \"api\") {\n    if (this._languageId === languageId) {\n      return;\n    }\n    const e = {oldLanguage:this._languageId, newLanguage:languageId, source};\n    this._languageId = languageId;\n    this._bracketPairsTextModelPart.handleDidChangeLanguage(e);\n    this.grammarTokens.resetTokenization();\n    this._onDidChangeLanguage.fire(e);\n    this._onDidChangeLanguageConfiguration.fire({});\n  }\n}\nclass GrammarTokens extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  get backgroundTokenizationState() {\n    return this._backgroundTokenizationState;\n  }\n  constructor(_languageIdCodec, _textModel, getLanguageId, attachedViews) {\n    super();\n    this._languageIdCodec = _languageIdCodec;\n    this._textModel = _textModel;\n    this.getLanguageId = getLanguageId;\n    this._tokenizer = null;\n    this._defaultBackgroundTokenizer = null;\n    this._backgroundTokenizer = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.MutableDisposable());\n    this._tokens = new require$_DOT__DOT__SLASH_tokens_SLASH_contiguousTokensStore_DOT_js.ContiguousTokensStore(this._languageIdCodec);\n    this._debugBackgroundTokenizer = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.MutableDisposable());\n    this._backgroundTokenizationState = 1;\n    this._onDidChangeBackgroundTokenizationState = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onDidChangeBackgroundTokenizationState = this._onDidChangeBackgroundTokenizationState.event;\n    this._onDidChangeTokens = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onDidChangeTokens = this._onDidChangeTokens.event;\n    this._attachedViewStates = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableMap());\n    this._register(require$_DOT__DOT__SLASH_languages_DOT_js.TokenizationRegistry.onDidChange(e => {\n      const languageId = this.getLanguageId();\n      if (e.changedLanguages.indexOf(languageId) === -1) {\n        return;\n      }\n      this.resetTokenization();\n    }));\n    this.resetTokenization();\n    this._register(attachedViews.onDidChangeVisibleRanges(({view, state}) => {\n      if (state) {\n        let existing = this._attachedViewStates.get(view);\n        if (!existing) {\n          existing = new AttachedViewHandler(() => this.refreshRanges(existing.lineRanges));\n          this._attachedViewStates.set(view, existing);\n        }\n        existing.handleStateChange(state);\n      } else {\n        this._attachedViewStates.deleteAndDispose(view);\n      }\n    }));\n  }\n  resetTokenization(fireTokenChangeEvent = true) {\n    var _a;\n    this._tokens.flush();\n    (_a = this._debugBackgroundTokens) === null || _a === void 0 ? void 0 : _a.flush();\n    if (this._debugBackgroundStates) {\n      this._debugBackgroundStates = new require$_DOT__SLASH_textModelTokens_DOT_js.TrackingTokenizationStateStore(this._textModel.getLineCount());\n    }\n    if (fireTokenChangeEvent) {\n      this._onDidChangeTokens.fire({semanticTokensApplied:false, ranges:[{fromLineNumber:1, toLineNumber:this._textModel.getLineCount(),},],});\n    }\n    const initializeTokenization = () => {\n      if (this._textModel.isTooLargeForTokenization()) {\n        return [null, null];\n      }\n      const tokenizationSupport = require$_DOT__DOT__SLASH_languages_DOT_js.TokenizationRegistry.get(this.getLanguageId());\n      if (!tokenizationSupport) {\n        return [null, null];\n      }\n      let initialState;\n      try {\n        initialState = tokenizationSupport.getInitialState();\n      } catch (e) {\n        (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.onUnexpectedError)(e);\n        return [null, null];\n      }\n      return [tokenizationSupport, initialState];\n    };\n    const [tokenizationSupport, initialState] = initializeTokenization();\n    if (tokenizationSupport && initialState) {\n      this._tokenizer = new require$_DOT__SLASH_textModelTokens_DOT_js.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(), tokenizationSupport, this._textModel, this._languageIdCodec);\n    } else {\n      this._tokenizer = null;\n    }\n    this._backgroundTokenizer.clear();\n    this._defaultBackgroundTokenizer = null;\n    if (this._tokenizer) {\n      const b = {setTokens:tokens => {\n        this.setTokens(tokens);\n      }, backgroundTokenizationFinished:() => {\n        if (this._backgroundTokenizationState === 2) {\n          return;\n        }\n        const newState = 2;\n        this._backgroundTokenizationState = newState;\n        this._onDidChangeBackgroundTokenizationState.fire();\n      }, setEndState:(lineNumber, state) => {\n        var _a;\n        if (!this._tokenizer) {\n          return;\n        }\n        const firstInvalidEndStateLineNumber = this._tokenizer.store.getFirstInvalidEndStateLineNumber();\n        if (firstInvalidEndStateLineNumber !== null && lineNumber >= firstInvalidEndStateLineNumber) {\n          (_a = this._tokenizer) === null || _a === void 0 ? void 0 : _a.store.setEndState(lineNumber, state);\n        }\n      },};\n      if (tokenizationSupport && tokenizationSupport.createBackgroundTokenizer && !tokenizationSupport.backgroundTokenizerShouldOnlyVerifyTokens) {\n        this._backgroundTokenizer.value = tokenizationSupport.createBackgroundTokenizer(this._textModel, b);\n      }\n      if (!this._backgroundTokenizer.value) {\n        this._backgroundTokenizer.value = this._defaultBackgroundTokenizer = new require$_DOT__SLASH_textModelTokens_DOT_js.DefaultBackgroundTokenizer(this._tokenizer, b);\n        this._defaultBackgroundTokenizer.handleChanges();\n      }\n      if ((tokenizationSupport === null || tokenizationSupport === void 0 ? void 0 : tokenizationSupport.backgroundTokenizerShouldOnlyVerifyTokens) && tokenizationSupport.createBackgroundTokenizer) {\n        this._debugBackgroundTokens = new require$_DOT__DOT__SLASH_tokens_SLASH_contiguousTokensStore_DOT_js.ContiguousTokensStore(this._languageIdCodec);\n        this._debugBackgroundStates = new require$_DOT__SLASH_textModelTokens_DOT_js.TrackingTokenizationStateStore(this._textModel.getLineCount());\n        this._debugBackgroundTokenizer.clear();\n        this._debugBackgroundTokenizer.value = tokenizationSupport.createBackgroundTokenizer(this._textModel, {setTokens:tokens => {\n          var _a;\n          (_a = this._debugBackgroundTokens) === null || _a === void 0 ? void 0 : _a.setMultilineTokens(tokens, this._textModel);\n        }, backgroundTokenizationFinished() {\n        }, setEndState:(lineNumber, state) => {\n          var _a;\n          (_a = this._debugBackgroundStates) === null || _a === void 0 ? void 0 : _a.setEndState(lineNumber, state);\n        },});\n      } else {\n        this._debugBackgroundTokens = undefined;\n        this._debugBackgroundStates = undefined;\n        this._debugBackgroundTokenizer.value = undefined;\n      }\n    }\n    this.refreshAllVisibleLineTokens();\n  }\n  handleDidChangeAttached() {\n    var _a;\n    (_a = this._defaultBackgroundTokenizer) === null || _a === void 0 ? void 0 : _a.handleChanges();\n  }\n  handleDidChangeContent(e) {\n    var _a, _b, _c;\n    if (e.isFlush) {\n      this.resetTokenization(false);\n    } else if (!e.isEolChange) {\n      for (const c of e.changes) {\n        const [eolCount, firstLineLength] = (0,require$_DOT__DOT__SLASH_core_SLASH_eolCounter_DOT_js.countEOL)(c.text);\n        this._tokens.acceptEdit(c.range, eolCount, firstLineLength);\n        (_a = this._debugBackgroundTokens) === null || _a === void 0 ? void 0 : _a.acceptEdit(c.range, eolCount, firstLineLength);\n      }\n      (_b = this._debugBackgroundStates) === null || _b === void 0 ? void 0 : _b.acceptChanges(e.changes);\n      if (this._tokenizer) {\n        this._tokenizer.store.acceptChanges(e.changes);\n      }\n      (_c = this._defaultBackgroundTokenizer) === null || _c === void 0 ? void 0 : _c.handleChanges();\n    }\n  }\n  setTokens(tokens) {\n    const {changes} = this._tokens.setMultilineTokens(tokens, this._textModel);\n    if (changes.length > 0) {\n      this._onDidChangeTokens.fire({semanticTokensApplied:false, ranges:changes,});\n    }\n    return {changes:changes};\n  }\n  refreshAllVisibleLineTokens() {\n    const ranges = require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js.LineRange.joinMany([...this._attachedViewStates].map(([_, s]) => s.lineRanges));\n    this.refreshRanges(ranges);\n  }\n  refreshRanges(ranges) {\n    for (const range of ranges) {\n      this.refreshRange(range.startLineNumber, range.endLineNumberExclusive - 1);\n    }\n  }\n  refreshRange(startLineNumber, endLineNumber) {\n    var _a, _b;\n    if (!this._tokenizer) {\n      return;\n    }\n    startLineNumber = Math.max(1, Math.min(this._textModel.getLineCount(), startLineNumber));\n    endLineNumber = Math.min(this._textModel.getLineCount(), endLineNumber);\n    const builder = new require$_DOT__DOT__SLASH_tokens_SLASH_contiguousMultilineTokensBuilder_DOT_js.ContiguousMultilineTokensBuilder();\n    const {heuristicTokens} = this._tokenizer.tokenizeHeuristically(builder, startLineNumber, endLineNumber);\n    const changedTokens = this.setTokens(builder.finalize());\n    if (heuristicTokens) {\n      for (const c of changedTokens.changes) {\n        (_a = this._backgroundTokenizer.value) === null || _a === void 0 ? void 0 : _a.requestTokens(c.fromLineNumber, c.toLineNumber + 1);\n      }\n    }\n    (_b = this._defaultBackgroundTokenizer) === null || _b === void 0 ? void 0 : _b.checkFinished();\n  }\n  forceTokenization(lineNumber) {\n    var _a, _b;\n    const builder = new require$_DOT__DOT__SLASH_tokens_SLASH_contiguousMultilineTokensBuilder_DOT_js.ContiguousMultilineTokensBuilder();\n    (_a = this._tokenizer) === null || _a === void 0 ? void 0 : _a.updateTokensUntilLine(builder, lineNumber);\n    this.setTokens(builder.finalize());\n    (_b = this._defaultBackgroundTokenizer) === null || _b === void 0 ? void 0 : _b.checkFinished();\n  }\n  isCheapToTokenize(lineNumber) {\n    if (!this._tokenizer) {\n      return true;\n    }\n    return this._tokenizer.isCheapToTokenize(lineNumber);\n  }\n  tokenizeIfCheap(lineNumber) {\n    if (this.isCheapToTokenize(lineNumber)) {\n      this.forceTokenization(lineNumber);\n    }\n  }\n  getLineTokens(lineNumber) {\n    var _a;\n    const lineText = this._textModel.getLineContent(lineNumber);\n    const result = this._tokens.getTokens(this._textModel.getLanguageId(), lineNumber - 1, lineText);\n    if (this._debugBackgroundTokens && this._debugBackgroundStates && this._tokenizer) {\n      if (this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax() > lineNumber && this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax() > lineNumber) {\n        const backgroundResult = this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(), lineNumber - 1, lineText);\n        if (!result.equals(backgroundResult) && ((_a = this._debugBackgroundTokenizer.value) === null || _a === void 0 ? void 0 : _a.reportMismatchingTokens)) {\n          this._debugBackgroundTokenizer.value.reportMismatchingTokens(lineNumber);\n        }\n      }\n    }\n    return result;\n  }\n  getTokenTypeIfInsertingCharacter(lineNumber, column, character) {\n    if (!this._tokenizer) {\n      return 0;\n    }\n    const position = this._textModel.validatePosition(new require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position(lineNumber, column));\n    this.forceTokenization(position.lineNumber);\n    return this._tokenizer.getTokenTypeIfInsertingCharacter(position, character);\n  }\n  tokenizeLineWithEdit(position, length, newText) {\n    if (!this._tokenizer) {\n      return null;\n    }\n    const validatedPosition = this._textModel.validatePosition(position);\n    this.forceTokenization(validatedPosition.lineNumber);\n    return this._tokenizer.tokenizeLineWithEdit(validatedPosition, length, newText);\n  }\n  get hasTokens() {\n    return this._tokens.hasTokens;\n  }\n}\nclass AttachedViewHandler extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  get lineRanges() {\n    return this._lineRanges;\n  }\n  constructor(_refreshTokens) {\n    super();\n    this._refreshTokens = _refreshTokens;\n    this.runner = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => this.update(), 50));\n    this._computedLineRanges = [];\n    this._lineRanges = [];\n  }\n  update() {\n    if ((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.equals)(this._computedLineRanges, this._lineRanges, (a, b) => a.equals(b))) {\n      return;\n    }\n    this._computedLineRanges = this._lineRanges;\n    this._refreshTokens();\n  }\n  handleStateChange(state) {\n    this._lineRanges = state.visibleLineRanges;\n    if (state.stabilized) {\n      this.runner.cancel();\n      this.update();\n    } else {\n      this.runner.schedule();\n    }\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","TokenizationTextModelPart","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_eolCounter_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_wordHelper_DOT_js","require$_DOT__DOT__SLASH_languages_DOT_js","require$_DOT__SLASH_textModelPart_DOT_js","require$_DOT__SLASH_textModelTokens_DOT_js","require$_DOT__DOT__SLASH_tokens_SLASH_contiguousMultilineTokensBuilder_DOT_js","require$_DOT__DOT__SLASH_tokens_SLASH_contiguousTokensStore_DOT_js","require$_DOT__DOT__SLASH_tokens_SLASH_sparseTokensStore_DOT_js","TextModelPart","constructor","_languageService","_languageConfigurationService","_textModel","_bracketPairsTextModelPart","_languageId","_attachedViews","_semanticTokens","SparseTokensStore","languageIdCodec","_onDidChangeLanguage","_register","Emitter","onDidChangeLanguage","event","_onDidChangeLanguageConfiguration","onDidChangeLanguageConfiguration","_onDidChangeTokens","onDidChangeTokens","grammarTokens","GrammarTokens","onDidChange","e","affects","fire","_emitModelTokensChangedEvent","onDidChangeBackgroundTokenizationState","handleDidChangeBackgroundTokenizationState","handleDidChangeContent","isFlush","flush","isEolChange","c","changes","eolCount","firstLineLength","lastLineLength","countEOL","text","acceptEdit","range","length","charCodeAt","handleDidChangeAttached","getLineTokens","lineNumber","validateLineNumber","syntacticTokens","addSparseTokens","_isDisposing","handleDidChangeTokens","getLineCount","BugIndicatingError","hasTokens","resetTokenization","backgroundTokenizationState","forceTokenization","isCheapToTokenize","tokenizeIfCheap","getTokenTypeIfInsertingCharacter","column","character","tokenizeLineWithEdit","position","newText","setSemanticTokens","tokens","isComplete","set","semanticTokensApplied","ranges","fromLineNumber","toLineNumber","hasCompleteSemanticTokens","hasSomeSemanticTokens","isEmpty","setPartialSemanticTokens","changedRange","validateRange","setPartial","startLineNumber","endLineNumber","getWordAtPosition","_position","assertNotDisposed","validatePosition","lineContent","getLineContent","lineTokens","tokenIndex","findTokenIndexAtOffset","rbStartOffset","rbEndOffset","_findLanguageBoundaries","rightBiasedWord","getWordAtText","getLanguageConfiguration","getLanguageId","getWordDefinition","substring","startColumn","endColumn","lbStartOffset","lbEndOffset","leftBiasedWord","languageId","startOffset","i","getStartOffset","endOffset","tokenCount","getCount","getEndOffset","getWordUntilPosition","wordAtPosition","word","substr","getLanguageIdAtPosition","Position","setLanguageId","source","oldLanguage","newLanguage","handleDidChangeLanguage","Disposable","_backgroundTokenizationState","_languageIdCodec","attachedViews","_defaultBackgroundTokenizer","_tokenizer","_backgroundTokenizer","MutableDisposable","_tokens","ContiguousTokensStore","_debugBackgroundTokenizer","_onDidChangeBackgroundTokenizationState","_attachedViewStates","DisposableMap","TokenizationRegistry","changedLanguages","indexOf","onDidChangeVisibleRanges","view","state","existing","AttachedViewHandler","refreshRanges","lineRanges","handleStateChange","deleteAndDispose","fireTokenChangeEvent","_a","_debugBackgroundTokens","_debugBackgroundStates","TrackingTokenizationStateStore","tokenizationSupport","initialState","initializeTokenization","isTooLargeForTokenization","getInitialState","onUnexpectedError","TokenizerWithStateStoreAndTextModel","clear","b","setTokens","backgroundTokenizationFinished","newState","setEndState","firstInvalidEndStateLineNumber","store","getFirstInvalidEndStateLineNumber","createBackgroundTokenizer","backgroundTokenizerShouldOnlyVerifyTokens","DefaultBackgroundTokenizer","handleChanges","setMultilineTokens","undefined","refreshAllVisibleLineTokens","_b","_c","acceptChanges","LineRange","joinMany","map","s","refreshRange","endLineNumberExclusive","Math","max","min","builder","ContiguousMultilineTokensBuilder","heuristicTokens","tokenizeHeuristically","changedTokens","finalize","requestTokens","checkFinished","updateTokensUntilLine","lineText","result","getTokens","getFirstInvalidEndStateLineNumberOrMax","backgroundResult","equals","reportMismatchingTokens","validatedPosition","_lineRanges","_refreshTokens","runner","RunOnceScheduler","update","_computedLineRanges","a","visibleLineRanges","stabilized","cancel","schedule"]
}
