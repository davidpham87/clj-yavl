shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$model$indentationGuesser = function(require, module, exports) {
  function spacesDiff(a, aLength, b, bLength, result) {
    result.spacesDiff = 0;
    result.looksLikeAlignment = !1;
    var i;
    for (i = 0; i < aLength && i < bLength; i++) {
      var aCharCode = a.charCodeAt(i), bCharCode = b.charCodeAt(i);
      if (aCharCode !== bCharCode) {
        break;
      }
    }
    bCharCode = aCharCode = 0;
    for (var j = i; j < aLength; j++) {
      a.charCodeAt(j) === 32 ? aCharCode++ : bCharCode++;
    }
    for (j = aLength = 0; i < bLength; i++) {
      b.charCodeAt(i) === 32 ? aLength++ : j++;
    }
    aCharCode > 0 && bCharCode > 0 || aLength > 0 && j > 0 || (bLength = Math.abs(bCharCode - j), i = Math.abs(aCharCode - aLength), bLength === 0 ? (result.spacesDiff = i, i > 0 && 0 <= aLength - 1 && aLength - 1 < a.length && aLength < b.length && b.charCodeAt(aLength) !== 32 && a.charCodeAt(aLength - 1) === 32 && a.charCodeAt(a.length - 1) === 44 && (result.looksLikeAlignment = !0)) : i % bLength === 0 && (result.spacesDiff = i / bLength));
  }
  function guessIndentation(source, defaultTabSize, defaultInsertSpaces) {
    const linesCount = Math.min(source.getLineCount(), 10000);
    let linesIndentedWithTabsCount = 0, linesIndentedWithSpacesCount = 0;
    var previousLineText = "";
    let previousLineIndentation = 0;
    const ALLOWED_TAB_SIZE_GUESSES = [2, 4, 6, 8, 3, 5, 7], spacesDiffCount = [0, 0, 0, 0, 0, 0, 0, 0, 0], tmp = new SpacesDiffResult();
    for (let lineNumber = 1; lineNumber <= linesCount; lineNumber++) {
      var currentLineLength = source.getLineLength(lineNumber);
      const currentLineText = source.getLineContent(lineNumber), useCurrentLineText = currentLineLength <= 65536;
      let currentLineHasContent = !1, currentLineIndentation = 0, currentLineSpacesCount = 0, currentLineTabsCount = 0;
      for (let j = 0, lenJ = currentLineLength; j < lenJ; j++) {
        if (currentLineLength = useCurrentLineText ? currentLineText.charCodeAt(j) : source.getLineCharCode(lineNumber, j), currentLineLength === 9) {
          currentLineTabsCount++;
        } else if (currentLineLength === 32) {
          currentLineSpacesCount++;
        } else {
          currentLineHasContent = !0;
          currentLineIndentation = j;
          break;
        }
      }
      currentLineHasContent && (currentLineTabsCount > 0 ? linesIndentedWithTabsCount++ : currentLineSpacesCount > 1 && linesIndentedWithSpacesCount++, spacesDiff(previousLineText, previousLineIndentation, currentLineText, currentLineIndentation, tmp), !tmp.looksLikeAlignment || defaultInsertSpaces && defaultTabSize === tmp.spacesDiff) && (previousLineText = tmp.spacesDiff, previousLineText <= 8 && spacesDiffCount[previousLineText]++, previousLineText = currentLineText, previousLineIndentation = 
      currentLineIndentation);
    }
    source = defaultInsertSpaces;
    linesIndentedWithTabsCount !== linesIndentedWithSpacesCount && (source = linesIndentedWithTabsCount < linesIndentedWithSpacesCount);
    let tabSize = defaultTabSize;
    if (source) {
      let tabSizeScore = source ? 0 : 0.1 * linesCount;
      ALLOWED_TAB_SIZE_GUESSES.forEach(possibleTabSize => {
        const possibleTabSizeScore = spacesDiffCount[possibleTabSize];
        possibleTabSizeScore > tabSizeScore && (tabSizeScore = possibleTabSizeScore, tabSize = possibleTabSize);
      });
      tabSize === 4 && spacesDiffCount[4] > 0 && spacesDiffCount[2] > 0 && spacesDiffCount[2] >= spacesDiffCount[4] / 2 && (tabSize = 2);
    }
    return {insertSpaces:source, tabSize};
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, guessIndentation:{enumerable:!0, get:function() {
    return guessIndentation;
  }}});
  class SpacesDiffResult {
    constructor() {
      this.spacesDiff = 0;
      this.looksLikeAlignment = !1;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$model$indentationGuesser.js.map
