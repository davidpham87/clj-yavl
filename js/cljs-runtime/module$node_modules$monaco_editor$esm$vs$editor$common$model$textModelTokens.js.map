{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$model$textModelTokens.js",
"lineCount":302,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/model/textModelTokens.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$model$textModelTokens\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, DefaultBackgroundTokenizer:{enumerable:true, get:function() {\n  return DefaultBackgroundTokenizer;\n}}, RangePriorityQueueImpl:{enumerable:true, get:function() {\n  return RangePriorityQueueImpl;\n}}, TokenizationStateStore:{enumerable:true, get:function() {\n  return TokenizationStateStore;\n}}, TokenizerWithStateStore:{enumerable:true, get:function() {\n  return TokenizerWithStateStore;\n}}, TokenizerWithStateStoreAndTextModel:{enumerable:true, get:function() {\n  return TokenizerWithStateStoreAndTextModel;\n}}, TrackingTokenizationStateStore:{enumerable:true, get:function() {\n  return TrackingTokenizationStateStore;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require(\"../../../base/common/async.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js = require(\"../../../base/common/errors.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js = require(\"../../../base/common/platform.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_stopwatch_DOT_js = require(\"../../../base/common/stopwatch.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_eolCounter_DOT_js = require(\"../core/eolCounter.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js = require(\"../core/lineRange.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js = require(\"../core/offsetRange.js\");\nvar require$_DOT__DOT__SLASH_languages_SLASH_nullTokenize_DOT_js = require(\"../languages/nullTokenize.js\");\nvar require$_DOT__SLASH_fixedArray_DOT_js = require(\"./fixedArray.js\");\nvar require$_DOT__DOT__SLASH_tokens_SLASH_contiguousMultilineTokensBuilder_DOT_js = require(\"../tokens/contiguousMultilineTokensBuilder.js\");\nvar require$_DOT__DOT__SLASH_tokens_SLASH_lineTokens_DOT_js = require(\"../tokens/lineTokens.js\");\nclass TokenizerWithStateStore {\n  constructor(lineCount, tokenizationSupport) {\n    this.tokenizationSupport = tokenizationSupport;\n    this.initialState = this.tokenizationSupport.getInitialState();\n    this.store = new TrackingTokenizationStateStore(lineCount);\n  }\n  getStartState(lineNumber) {\n    return this.store.getStartState(lineNumber, this.initialState);\n  }\n  getFirstInvalidLine() {\n    return this.store.getFirstInvalidLine(this.initialState);\n  }\n}\nclass TokenizerWithStateStoreAndTextModel extends TokenizerWithStateStore {\n  constructor(lineCount, tokenizationSupport, _textModel, _languageIdCodec) {\n    super(lineCount, tokenizationSupport);\n    this._textModel = _textModel;\n    this._languageIdCodec = _languageIdCodec;\n  }\n  updateTokensUntilLine(builder, lineNumber) {\n    const languageId = this._textModel.getLanguageId();\n    while (true) {\n      const lineToTokenize = this.getFirstInvalidLine();\n      if (!lineToTokenize || lineToTokenize.lineNumber > lineNumber) {\n        break;\n      }\n      const text = this._textModel.getLineContent(lineToTokenize.lineNumber);\n      const r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, text, true, lineToTokenize.startState);\n      builder.add(lineToTokenize.lineNumber, r.tokens);\n      this.store.setEndState(lineToTokenize.lineNumber, r.endState);\n    }\n  }\n  getTokenTypeIfInsertingCharacter(position, character) {\n    const lineStartState = this.getStartState(position.lineNumber);\n    if (!lineStartState) {\n      return 0;\n    }\n    const languageId = this._textModel.getLanguageId();\n    const lineContent = this._textModel.getLineContent(position.lineNumber);\n    const text = lineContent.substring(0, position.column - 1) + character + lineContent.substring(position.column - 1);\n    const r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, text, true, lineStartState);\n    const lineTokens = new require$_DOT__DOT__SLASH_tokens_SLASH_lineTokens_DOT_js.LineTokens(r.tokens, text, this._languageIdCodec);\n    if (lineTokens.getCount() === 0) {\n      return 0;\n    }\n    const tokenIndex = lineTokens.findTokenIndexAtOffset(position.column - 1);\n    return lineTokens.getStandardTokenType(tokenIndex);\n  }\n  tokenizeLineWithEdit(position, length, newText) {\n    const lineNumber = position.lineNumber;\n    const column = position.column;\n    const lineStartState = this.getStartState(lineNumber);\n    if (!lineStartState) {\n      return null;\n    }\n    const curLineContent = this._textModel.getLineContent(lineNumber);\n    const newLineContent = curLineContent.substring(0, column - 1) + newText + curLineContent.substring(column - 1 + length);\n    const languageId = this._textModel.getLanguageIdAtPosition(lineNumber, 0);\n    const result = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, newLineContent, true, lineStartState);\n    const lineTokens = new require$_DOT__DOT__SLASH_tokens_SLASH_lineTokens_DOT_js.LineTokens(result.tokens, newLineContent, this._languageIdCodec);\n    return lineTokens;\n  }\n  isCheapToTokenize(lineNumber) {\n    const firstInvalidLineNumber = this.store.getFirstInvalidEndStateLineNumberOrMax();\n    if (lineNumber < firstInvalidLineNumber) {\n      return true;\n    }\n    if (lineNumber === firstInvalidLineNumber && this._textModel.getLineLength(lineNumber) < 2048) {\n      return true;\n    }\n    return false;\n  }\n  tokenizeHeuristically(builder, startLineNumber, endLineNumber) {\n    if (endLineNumber <= this.store.getFirstInvalidEndStateLineNumberOrMax()) {\n      return {heuristicTokens:false};\n    }\n    if (startLineNumber <= this.store.getFirstInvalidEndStateLineNumberOrMax()) {\n      this.updateTokensUntilLine(builder, endLineNumber);\n      return {heuristicTokens:false};\n    }\n    let state = this.guessStartState(startLineNumber);\n    const languageId = this._textModel.getLanguageId();\n    for (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n      const text = this._textModel.getLineContent(lineNumber);\n      const r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, text, true, state);\n      builder.add(lineNumber, r.tokens);\n      state = r.endState;\n    }\n    return {heuristicTokens:true};\n  }\n  guessStartState(lineNumber) {\n    let nonWhitespaceColumn = this._textModel.getLineFirstNonWhitespaceColumn(lineNumber);\n    const likelyRelevantLines = [];\n    let initialState = null;\n    for (let i = lineNumber - 1; nonWhitespaceColumn > 1 && i >= 1; i--) {\n      const newNonWhitespaceIndex = this._textModel.getLineFirstNonWhitespaceColumn(i);\n      if (newNonWhitespaceIndex === 0) {\n        continue;\n      }\n      if (newNonWhitespaceIndex < nonWhitespaceColumn) {\n        likelyRelevantLines.push(this._textModel.getLineContent(i));\n        nonWhitespaceColumn = newNonWhitespaceIndex;\n        initialState = this.getStartState(i);\n        if (initialState) {\n          break;\n        }\n      }\n    }\n    if (!initialState) {\n      initialState = this.tokenizationSupport.getInitialState();\n    }\n    likelyRelevantLines.reverse();\n    const languageId = this._textModel.getLanguageId();\n    let state = initialState;\n    for (const line of likelyRelevantLines) {\n      const r = safeTokenize(this._languageIdCodec, languageId, this.tokenizationSupport, line, false, state);\n      state = r.endState;\n    }\n    return state;\n  }\n}\nclass TrackingTokenizationStateStore {\n  constructor(lineCount) {\n    this.lineCount = lineCount;\n    this._tokenizationStateStore = new TokenizationStateStore();\n    this._invalidEndStatesLineNumbers = new RangePriorityQueueImpl();\n    this._invalidEndStatesLineNumbers.addRange(new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(1, lineCount + 1));\n  }\n  getEndState(lineNumber) {\n    return this._tokenizationStateStore.getEndState(lineNumber);\n  }\n  setEndState(lineNumber, state) {\n    if (!state) {\n      throw new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.BugIndicatingError(\"Cannot set null/undefined state\");\n    }\n    this._invalidEndStatesLineNumbers.delete(lineNumber);\n    const r = this._tokenizationStateStore.setEndState(lineNumber, state);\n    if (r && lineNumber < this.lineCount) {\n      this._invalidEndStatesLineNumbers.addRange(new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(lineNumber + 1, lineNumber + 2));\n    }\n    return r;\n  }\n  acceptChange(range, newLineCount) {\n    this.lineCount += newLineCount - range.length;\n    this._tokenizationStateStore.acceptChange(range, newLineCount);\n    this._invalidEndStatesLineNumbers.addRangeAndResize(new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(range.startLineNumber, range.endLineNumberExclusive), newLineCount);\n  }\n  acceptChanges(changes) {\n    for (const c of changes) {\n      const [eolCount] = (0,require$_DOT__DOT__SLASH_core_SLASH_eolCounter_DOT_js.countEOL)(c.text);\n      this.acceptChange(new require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js.LineRange(c.range.startLineNumber, c.range.endLineNumber + 1), eolCount + 1);\n    }\n  }\n  invalidateEndStateRange(range) {\n    this._invalidEndStatesLineNumbers.addRange(new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(range.startLineNumber, range.endLineNumberExclusive));\n  }\n  getFirstInvalidEndStateLineNumber() {\n    return this._invalidEndStatesLineNumbers.min;\n  }\n  getFirstInvalidEndStateLineNumberOrMax() {\n    return this.getFirstInvalidEndStateLineNumber() || Number.MAX_SAFE_INTEGER;\n  }\n  allStatesValid() {\n    return this._invalidEndStatesLineNumbers.min === null;\n  }\n  getStartState(lineNumber, initialState) {\n    if (lineNumber === 1) {\n      return initialState;\n    }\n    return this.getEndState(lineNumber - 1);\n  }\n  getFirstInvalidLine(initialState) {\n    const lineNumber = this.getFirstInvalidEndStateLineNumber();\n    if (lineNumber === null) {\n      return null;\n    }\n    const startState = this.getStartState(lineNumber, initialState);\n    if (!startState) {\n      throw new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.BugIndicatingError(\"Start state must be defined\");\n    }\n    return {lineNumber, startState};\n  }\n}\nclass TokenizationStateStore {\n  constructor() {\n    this._lineEndStates = new require$_DOT__SLASH_fixedArray_DOT_js.FixedArray(null);\n  }\n  getEndState(lineNumber) {\n    return this._lineEndStates.get(lineNumber);\n  }\n  setEndState(lineNumber, state) {\n    const oldState = this._lineEndStates.get(lineNumber);\n    if (oldState && oldState.equals(state)) {\n      return false;\n    }\n    this._lineEndStates.set(lineNumber, state);\n    return true;\n  }\n  acceptChange(range, newLineCount) {\n    let length = range.length;\n    if (newLineCount > 0 && length > 0) {\n      length--;\n      newLineCount--;\n    }\n    this._lineEndStates.replace(range.startLineNumber, length, newLineCount);\n  }\n}\nclass RangePriorityQueueImpl {\n  constructor() {\n    this._ranges = [];\n  }\n  get min() {\n    if (this._ranges.length === 0) {\n      return null;\n    }\n    return this._ranges[0].start;\n  }\n  delete(value) {\n    const idx = this._ranges.findIndex(r => r.contains(value));\n    if (idx !== -1) {\n      const range = this._ranges[idx];\n      if (range.start === value) {\n        if (range.endExclusive === value + 1) {\n          this._ranges.splice(idx, 1);\n        } else {\n          this._ranges[idx] = new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(value + 1, range.endExclusive);\n        }\n      } else {\n        if (range.endExclusive === value + 1) {\n          this._ranges[idx] = new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(range.start, value);\n        } else {\n          this._ranges.splice(idx, 1, new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(range.start, value), new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(value + 1, range.endExclusive));\n        }\n      }\n    }\n  }\n  addRange(range) {\n    require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange.addRange(range, this._ranges);\n  }\n  addRangeAndResize(range, newLength) {\n    let idxFirstMightBeIntersecting = 0;\n    while (!(idxFirstMightBeIntersecting >= this._ranges.length || range.start <= this._ranges[idxFirstMightBeIntersecting].endExclusive)) {\n      idxFirstMightBeIntersecting++;\n    }\n    let idxFirstIsAfter = idxFirstMightBeIntersecting;\n    while (!(idxFirstIsAfter >= this._ranges.length || range.endExclusive < this._ranges[idxFirstIsAfter].start)) {\n      idxFirstIsAfter++;\n    }\n    const delta = newLength - range.length;\n    for (let i = idxFirstIsAfter; i < this._ranges.length; i++) {\n      this._ranges[i] = this._ranges[i].delta(delta);\n    }\n    if (idxFirstMightBeIntersecting === idxFirstIsAfter) {\n      const newRange = new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(range.start, range.start + newLength);\n      if (!newRange.isEmpty) {\n        this._ranges.splice(idxFirstMightBeIntersecting, 0, newRange);\n      }\n    } else {\n      const start = Math.min(range.start, this._ranges[idxFirstMightBeIntersecting].start);\n      const endEx = Math.max(range.endExclusive, this._ranges[idxFirstIsAfter - 1].endExclusive);\n      const newRange = new require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(start, endEx + delta);\n      if (!newRange.isEmpty) {\n        this._ranges.splice(idxFirstMightBeIntersecting, idxFirstIsAfter - idxFirstMightBeIntersecting, newRange);\n      } else {\n        this._ranges.splice(idxFirstMightBeIntersecting, idxFirstIsAfter - idxFirstMightBeIntersecting);\n      }\n    }\n  }\n  toString() {\n    return this._ranges.map(r => r.toString()).join(\" + \");\n  }\n}\nfunction safeTokenize(languageIdCodec, languageId, tokenizationSupport, text, hasEOL, state) {\n  let r = null;\n  if (tokenizationSupport) {\n    try {\n      r = tokenizationSupport.tokenizeEncoded(text, hasEOL, state.clone());\n    } catch (e) {\n      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.onUnexpectedError)(e);\n    }\n  }\n  if (!r) {\n    r = (0,require$_DOT__DOT__SLASH_languages_SLASH_nullTokenize_DOT_js.nullTokenizeEncoded)(languageIdCodec.encodeLanguageId(languageId), state);\n  }\n  require$_DOT__DOT__SLASH_tokens_SLASH_lineTokens_DOT_js.LineTokens.convertToEndOffset(r.tokens, text.length);\n  return r;\n}\nclass DefaultBackgroundTokenizer {\n  constructor(_tokenizerWithStateStore, _backgroundTokenStore) {\n    this._tokenizerWithStateStore = _tokenizerWithStateStore;\n    this._backgroundTokenStore = _backgroundTokenStore;\n    this._isDisposed = false;\n    this._isScheduled = false;\n  }\n  dispose() {\n    this._isDisposed = true;\n  }\n  handleChanges() {\n    this._beginBackgroundTokenization();\n  }\n  _beginBackgroundTokenization() {\n    if (this._isScheduled || !this._tokenizerWithStateStore._textModel.isAttachedToEditor() || !this._hasLinesToTokenize()) {\n      return;\n    }\n    this._isScheduled = true;\n    (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.runWhenGlobalIdle)(deadline => {\n      this._isScheduled = false;\n      this._backgroundTokenizeWithDeadline(deadline);\n    });\n  }\n  _backgroundTokenizeWithDeadline(deadline) {\n    const endTime = Date.now() + deadline.timeRemaining();\n    const execute = () => {\n      if (this._isDisposed || !this._tokenizerWithStateStore._textModel.isAttachedToEditor() || !this._hasLinesToTokenize()) {\n        return;\n      }\n      this._backgroundTokenizeForAtLeast1ms();\n      if (Date.now() < endTime) {\n        (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js.setTimeout0)(execute);\n      } else {\n        this._beginBackgroundTokenization();\n      }\n    };\n    execute();\n  }\n  _backgroundTokenizeForAtLeast1ms() {\n    const lineCount = this._tokenizerWithStateStore._textModel.getLineCount();\n    const builder = new require$_DOT__DOT__SLASH_tokens_SLASH_contiguousMultilineTokensBuilder_DOT_js.ContiguousMultilineTokensBuilder();\n    const sw = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_stopwatch_DOT_js.StopWatch.create(false);\n    do {\n      if (sw.elapsed() > 1) {\n        break;\n      }\n      const tokenizedLineNumber = this._tokenizeOneInvalidLine(builder);\n      if (tokenizedLineNumber >= lineCount) {\n        break;\n      }\n    } while (this._hasLinesToTokenize());\n    this._backgroundTokenStore.setTokens(builder.finalize());\n    this.checkFinished();\n  }\n  _hasLinesToTokenize() {\n    if (!this._tokenizerWithStateStore) {\n      return false;\n    }\n    return !this._tokenizerWithStateStore.store.allStatesValid();\n  }\n  _tokenizeOneInvalidLine(builder) {\n    var _a;\n    const firstInvalidLine = (_a = this._tokenizerWithStateStore) === null || _a === void 0 ? void 0 : _a.getFirstInvalidLine();\n    if (!firstInvalidLine) {\n      return this._tokenizerWithStateStore._textModel.getLineCount() + 1;\n    }\n    this._tokenizerWithStateStore.updateTokensUntilLine(builder, firstInvalidLine.lineNumber);\n    return firstInvalidLine.lineNumber;\n  }\n  checkFinished() {\n    if (this._isDisposed) {\n      return;\n    }\n    if (this._tokenizerWithStateStore.store.allStatesValid()) {\n      this._backgroundTokenStore.backgroundTokenizationFinished();\n    }\n  }\n  requestTokens(startLineNumber, endLineNumberExclusive) {\n    this._tokenizerWithStateStore.store.invalidateEndStateRange(new require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js.LineRange(startLineNumber, endLineNumberExclusive));\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","safeTokenize","languageIdCodec","languageId","tokenizationSupport","text","hasEOL","state","r","tokenizeEncoded","clone","e","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js","onUnexpectedError","require$_DOT__DOT__SLASH_languages_SLASH_nullTokenize_DOT_js","nullTokenizeEncoded","encodeLanguageId","require$_DOT__DOT__SLASH_tokens_SLASH_lineTokens_DOT_js","LineTokens","convertToEndOffset","tokens","length","Object","defineProperties","__esModule","enumerable","value","DefaultBackgroundTokenizer","get","RangePriorityQueueImpl","TokenizationStateStore","TokenizerWithStateStore","TokenizerWithStateStoreAndTextModel","TrackingTokenizationStateStore","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_stopwatch_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_eolCounter_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js","require$_DOT__SLASH_fixedArray_DOT_js","require$_DOT__DOT__SLASH_tokens_SLASH_contiguousMultilineTokensBuilder_DOT_js","constructor","lineCount","initialState","getInitialState","store","getStartState","lineNumber","getFirstInvalidLine","_textModel","_languageIdCodec","updateTokensUntilLine","builder","getLanguageId","lineToTokenize","getLineContent","startState","add","setEndState","endState","getTokenTypeIfInsertingCharacter","position","character","lineStartState","lineContent","substring","column","lineTokens","getCount","tokenIndex","findTokenIndexAtOffset","getStandardTokenType","tokenizeLineWithEdit","newText","curLineContent","newLineContent","getLanguageIdAtPosition","result","isCheapToTokenize","firstInvalidLineNumber","getFirstInvalidEndStateLineNumberOrMax","getLineLength","tokenizeHeuristically","startLineNumber","endLineNumber","heuristicTokens","guessStartState","nonWhitespaceColumn","getLineFirstNonWhitespaceColumn","likelyRelevantLines","i","newNonWhitespaceIndex","push","reverse","line","_tokenizationStateStore","_invalidEndStatesLineNumbers","addRange","OffsetRange","getEndState","BugIndicatingError","delete","acceptChange","range","newLineCount","addRangeAndResize","endLineNumberExclusive","acceptChanges","changes","c","eolCount","countEOL","LineRange","invalidateEndStateRange","getFirstInvalidEndStateLineNumber","min","Number","MAX_SAFE_INTEGER","allStatesValid","_lineEndStates","FixedArray","oldState","equals","set","replace","_ranges","start","idx","findIndex","contains","endExclusive","splice","newLength","idxFirstMightBeIntersecting","idxFirstIsAfter","delta","newRange","isEmpty","Math","max","endEx","toString","map","join","_tokenizerWithStateStore","_backgroundTokenStore","_isScheduled","_isDisposed","dispose","handleChanges","_beginBackgroundTokenization","isAttachedToEditor","_hasLinesToTokenize","runWhenGlobalIdle","deadline","_backgroundTokenizeWithDeadline","endTime","Date","now","timeRemaining","execute","_backgroundTokenizeForAtLeast1ms","setTimeout0","getLineCount","ContiguousMultilineTokensBuilder","sw","StopWatch","create","elapsed","_tokenizeOneInvalidLine","tokenizedLineNumber","setTokens","finalize","checkFinished","_a","firstInvalidLine","backgroundTokenizationFinished","requestTokens"]
}
