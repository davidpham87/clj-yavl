shadow$provide.module$node_modules$monaco_editor$esm$vs$base$browser$ui$scrollbar$abstractScrollbar = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, AbstractScrollbar:{enumerable:!0, get:function() {
    return AbstractScrollbar;
  }}});
  var dom = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_fastDomNode_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$fastDomNode"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_globalPointerMoveMonitor_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$globalPointerMoveMonitor"), require$_DOT__SLASH_scrollbarArrow_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$scrollbar$scrollbarArrow"), 
  require$_DOT__SLASH_scrollbarVisibilityController_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$scrollbar$scrollbarVisibilityController");
  module = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$widget");
  var platform = require("module$node_modules$monaco_editor$esm$vs$base$common$platform");
  class AbstractScrollbar extends module.Widget {
    constructor(opts) {
      super();
      this._lazyRender = opts.lazyRender;
      this._host = opts.host;
      this._scrollable = opts.scrollable;
      this._scrollByPage = opts.scrollByPage;
      this._scrollbarState = opts.scrollbarState;
      this._visibilityController = this._register(new require$_DOT__SLASH_scrollbarVisibilityController_DOT_js.ScrollbarVisibilityController(opts.visibility, "visible scrollbar " + opts.extraScrollbarClassName, "invisible scrollbar " + opts.extraScrollbarClassName));
      this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded());
      this._pointerMoveMonitor = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_globalPointerMoveMonitor_DOT_js.GlobalPointerMoveMonitor());
      this._shouldRender = !0;
      this.domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement("div"));
      this.domNode.setAttribute("role", "presentation");
      this.domNode.setAttribute("aria-hidden", "true");
      this._visibilityController.setDomNode(this.domNode);
      this.domNode.setPosition("absolute");
      this._register(dom.addDisposableListener(this.domNode.domNode, dom.EventType.POINTER_DOWN, e => this._domNodePointerDown(e)));
    }
    _createArrow(opts) {
      opts = this._register(new require$_DOT__SLASH_scrollbarArrow_DOT_js.ScrollbarArrow(opts));
      this.domNode.domNode.appendChild(opts.bgDomNode);
      this.domNode.domNode.appendChild(opts.domNode);
    }
    _createSlider(top, left, width, height) {
      this.slider = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement("div"));
      this.slider.setClassName("slider");
      this.slider.setPosition("absolute");
      this.slider.setTop(top);
      this.slider.setLeft(left);
      typeof width === "number" && this.slider.setWidth(width);
      typeof height === "number" && this.slider.setHeight(height);
      this.slider.setLayerHinting(!0);
      this.slider.setContain("strict");
      this.domNode.domNode.appendChild(this.slider.domNode);
      this._register(dom.addDisposableListener(this.slider.domNode, dom.EventType.POINTER_DOWN, e => {
        e.button === 0 && (e.preventDefault(), this._sliderPointerDown(e));
      }));
      this.onclick(this.slider.domNode, e => {
        e.leftButton && e.stopPropagation();
      });
    }
    _onElementSize(visibleSize) {
      this._scrollbarState.setVisibleSize(visibleSize) && (this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()), this._shouldRender = !0, this._lazyRender || this.render());
      return this._shouldRender;
    }
    _onElementScrollSize(elementScrollSize) {
      this._scrollbarState.setScrollSize(elementScrollSize) && (this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()), this._shouldRender = !0, this._lazyRender || this.render());
      return this._shouldRender;
    }
    _onElementScrollPosition(elementScrollPosition) {
      this._scrollbarState.setScrollPosition(elementScrollPosition) && (this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()), this._shouldRender = !0, this._lazyRender || this.render());
      return this._shouldRender;
    }
    beginReveal() {
      this._visibilityController.setShouldBeVisible(!0);
    }
    beginHide() {
      this._visibilityController.setShouldBeVisible(!1);
    }
    render() {
      this._shouldRender && (this._shouldRender = !1, this._renderDomNode(this._scrollbarState.getRectangleLargeSize(), this._scrollbarState.getRectangleSmallSize()), this._updateSlider(this._scrollbarState.getSliderSize(), this._scrollbarState.getArrowSize() + this._scrollbarState.getSliderPosition()));
    }
    _domNodePointerDown(e) {
      e.target === this.domNode.domNode && this._onPointerDown(e);
    }
    delegatePointerDown(e) {
      var domTop = this.domNode.domNode.getClientRects()[0].top;
      const sliderStart = domTop + this._scrollbarState.getSliderPosition();
      domTop = domTop + this._scrollbarState.getSliderPosition() + this._scrollbarState.getSliderSize();
      const pointerPos = this._sliderPointerPosition(e);
      sliderStart <= pointerPos && pointerPos <= domTop ? e.button === 0 && (e.preventDefault(), this._sliderPointerDown(e)) : this._onPointerDown(e);
    }
    _onPointerDown(e) {
      if (e.target === this.domNode.domNode && typeof e.offsetX === "number" && typeof e.offsetY === "number") {
        var offsetX = e.offsetX;
        var offsetY = e.offsetY;
      } else {
        offsetY = dom.getDomNodePagePosition(this.domNode.domNode), offsetX = e.pageX - offsetY.left, offsetY = e.pageY - offsetY.top;
      }
      offsetX = this._pointerDownRelativePosition(offsetX, offsetY);
      this._setDesiredScrollPositionNow(this._scrollByPage ? this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(offsetX) : this._scrollbarState.getDesiredScrollPositionFromOffset(offsetX));
      e.button === 0 && (e.preventDefault(), this._sliderPointerDown(e));
    }
    _sliderPointerDown(e) {
      if (e.target && e.target instanceof Element) {
        var initialPointerPosition = this._sliderPointerPosition(e), initialPointerOrthogonalPosition = this._sliderOrthogonalPointerPosition(e), initialScrollbarState = this._scrollbarState.clone();
        this.slider.toggleClassName("active", !0);
        this._pointerMoveMonitor.startMonitoring(e.target, e.pointerId, e.buttons, pointerMoveData => {
          var pointerOrthogonalPosition = this._sliderOrthogonalPointerPosition(pointerMoveData);
          pointerOrthogonalPosition = Math.abs(pointerOrthogonalPosition - initialPointerOrthogonalPosition);
          platform.isWindows && pointerOrthogonalPosition > 140 ? this._setDesiredScrollPositionNow(initialScrollbarState.getScrollPosition()) : (pointerMoveData = this._sliderPointerPosition(pointerMoveData) - initialPointerPosition, this._setDesiredScrollPositionNow(initialScrollbarState.getDesiredScrollPositionFromDelta(pointerMoveData)));
        }, () => {
          this.slider.toggleClassName("active", !1);
          this._host.onDragEnd();
        });
        this._host.onDragStart();
      }
    }
    _setDesiredScrollPositionNow(_desiredScrollPosition) {
      const desiredScrollPosition = {};
      this.writeScrollPosition(desiredScrollPosition, _desiredScrollPosition);
      this._scrollable.setScrollPositionNow(desiredScrollPosition);
    }
    updateScrollbarSize(scrollbarSize) {
      this._updateScrollbarSize(scrollbarSize);
      this._scrollbarState.setScrollbarSize(scrollbarSize);
      this._shouldRender = !0;
      this._lazyRender || this.render();
    }
    isNeeded() {
      return this._scrollbarState.isNeeded();
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$browser$ui$scrollbar$abstractScrollbar.js.map
