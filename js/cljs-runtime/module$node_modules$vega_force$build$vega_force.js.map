{
"version":3,
"file":"module$node_modules$vega_force$build$vega_force.js",
"lineCount":925,
"mappings":"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",
"sources":["node_modules/vega-force/build/vega-force.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_force$build$vega_force\"] = function(require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-dataflow'), require('vega-util')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-dataflow', 'vega-util'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.vega = global.vega || {}, global.vega.transforms = {}), global.vega, global.vega));\n})(this, (function (exports, vegaDataflow, vegaUtil) { 'use strict';\n\n  function forceCenter (x, y) {\n    var nodes,\n      strength = 1;\n    if (x == null) x = 0;\n    if (y == null) y = 0;\n    function force() {\n      var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n      for (i = 0; i < n; ++i) {\n        node = nodes[i], sx += node.x, sy += node.y;\n      }\n      for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n        node = nodes[i], node.x -= sx, node.y -= sy;\n      }\n    }\n    force.initialize = function (_) {\n      nodes = _;\n    };\n    force.x = function (_) {\n      return arguments.length ? (x = +_, force) : x;\n    };\n    force.y = function (_) {\n      return arguments.length ? (y = +_, force) : y;\n    };\n    force.strength = function (_) {\n      return arguments.length ? (strength = +_, force) : strength;\n    };\n    return force;\n  }\n\n  function tree_add (d) {\n    const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n    return add(this.cover(x, y), x, y, d);\n  }\n  function add(tree, x, y, d) {\n    if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n    var parent,\n      node = tree._root,\n      leaf = {\n        data: d\n      },\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n    // If the tree is empty, initialize the root as a leaf.\n    if (!node) return tree._root = leaf, tree;\n\n    // Find the existing leaf for the new point, or add it.\n    while (node.length) {\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n      if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n    }\n\n    // Is the new point is exactly coincident with the existing point?\n    xp = +tree._x.call(null, node.data);\n    yp = +tree._y.call(null, node.data);\n    if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n    // Otherwise, split the leaf node until the old and new point are separated.\n    do {\n      parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n    } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | xp >= xm));\n    return parent[j] = node, parent[i] = leaf, tree;\n  }\n  function addAll(data) {\n    var d,\n      i,\n      n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n    // Compute the points and their extent.\n    for (i = 0; i < n; ++i) {\n      if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n      xz[i] = x;\n      yz[i] = y;\n      if (x < x0) x0 = x;\n      if (x > x1) x1 = x;\n      if (y < y0) y0 = y;\n      if (y > y1) y1 = y;\n    }\n\n    // If there were no (valid) points, abort.\n    if (x0 > x1 || y0 > y1) return this;\n\n    // Expand the tree to cover the new points.\n    this.cover(x0, y0).cover(x1, y1);\n\n    // Add the new points.\n    for (i = 0; i < n; ++i) {\n      add(this, xz[i], yz[i], data[i]);\n    }\n    return this;\n  }\n\n  function tree_cover (x, y) {\n    if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n    var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n    // If the quadtree has no extent, initialize them.\n    // Integer extent are necessary so that if we later double the extent,\n    // the existing quadrant boundaries don\u2019t change due to floating point error!\n    if (isNaN(x0)) {\n      x1 = (x0 = Math.floor(x)) + 1;\n      y1 = (y0 = Math.floor(y)) + 1;\n    }\n\n    // Otherwise, double repeatedly to cover.\n    else {\n      var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n      while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n        i = (y < y0) << 1 | x < x0;\n        parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n        switch (i) {\n          case 0:\n            x1 = x0 + z, y1 = y0 + z;\n            break;\n          case 1:\n            x0 = x1 - z, y1 = y0 + z;\n            break;\n          case 2:\n            x1 = x0 + z, y0 = y1 - z;\n            break;\n          case 3:\n            x0 = x1 - z, y0 = y1 - z;\n            break;\n        }\n      }\n      if (this._root && this._root.length) this._root = node;\n    }\n    this._x0 = x0;\n    this._y0 = y0;\n    this._x1 = x1;\n    this._y1 = y1;\n    return this;\n  }\n\n  function tree_data () {\n    var data = [];\n    this.visit(function (node) {\n      if (!node.length) do data.push(node.data); while (node = node.next);\n    });\n    return data;\n  }\n\n  function tree_extent (_) {\n    return arguments.length ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1]) : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n  }\n\n  function Quad (node, x0, y0, x1, y1) {\n    this.node = node;\n    this.x0 = x0;\n    this.y0 = y0;\n    this.x1 = x1;\n    this.y1 = y1;\n  }\n\n  function tree_find (x, y, radius) {\n    var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n    if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n    if (radius == null) radius = Infinity;else {\n      x0 = x - radius, y0 = y - radius;\n      x3 = x + radius, y3 = y + radius;\n      radius *= radius;\n    }\n    while (q = quads.pop()) {\n      // Stop searching if this quadrant can\u2019t contain a closer node.\n      if (!(node = q.node) || (x1 = q.x0) > x3 || (y1 = q.y0) > y3 || (x2 = q.x1) < x0 || (y2 = q.y1) < y0) continue;\n\n      // Bisect the current quadrant.\n      if (node.length) {\n        var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n        quads.push(new Quad(node[3], xm, ym, x2, y2), new Quad(node[2], x1, ym, xm, y2), new Quad(node[1], xm, y1, x2, ym), new Quad(node[0], x1, y1, xm, ym));\n\n        // Visit the closest quadrant first.\n        if (i = (y >= ym) << 1 | x >= xm) {\n          q = quads[quads.length - 1];\n          quads[quads.length - 1] = quads[quads.length - 1 - i];\n          quads[quads.length - 1 - i] = q;\n        }\n      }\n\n      // Visit this point. (Visiting coincident points isn\u2019t necessary!)\n      else {\n        var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n        if (d2 < radius) {\n          var d = Math.sqrt(radius = d2);\n          x0 = x - d, y0 = y - d;\n          x3 = x + d, y3 = y + d;\n          data = node.data;\n        }\n      }\n    }\n    return data;\n  }\n\n  function tree_remove (d) {\n    if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n    var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n    // If the tree is empty, initialize the root as a leaf.\n    if (!node) return this;\n\n    // Find the leaf node for the point.\n    // While descending, also retain the deepest parent with a non-removed sibling.\n    if (node.length) while (true) {\n      if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm;else x1 = xm;\n      if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym;else y1 = ym;\n      if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n      if (!node.length) break;\n      if (parent[i + 1 & 3] || parent[i + 2 & 3] || parent[i + 3 & 3]) retainer = parent, j = i;\n    }\n\n    // Find the point to remove.\n    while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n    if (next = node.next) delete node.next;\n\n    // If there are multiple coincident points, remove just the point.\n    if (previous) return next ? previous.next = next : delete previous.next, this;\n\n    // If this is the root point, remove it.\n    if (!parent) return this._root = next, this;\n\n    // Remove this leaf.\n    next ? parent[i] = next : delete parent[i];\n\n    // If the parent now contains exactly one leaf, collapse superfluous parents.\n    if ((node = parent[0] || parent[1] || parent[2] || parent[3]) && node === (parent[3] || parent[2] || parent[1] || parent[0]) && !node.length) {\n      if (retainer) retainer[j] = node;else this._root = node;\n    }\n    return this;\n  }\n  function removeAll(data) {\n    for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n    return this;\n  }\n\n  function tree_root () {\n    return this._root;\n  }\n\n  function tree_size () {\n    var size = 0;\n    this.visit(function (node) {\n      if (!node.length) do ++size; while (node = node.next);\n    });\n    return size;\n  }\n\n  function tree_visit (callback) {\n    var quads = [],\n      q,\n      node = this._root,\n      child,\n      x0,\n      y0,\n      x1,\n      y1;\n    if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n    while (q = quads.pop()) {\n      if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n        var xm = (x0 + x1) / 2,\n          ym = (y0 + y1) / 2;\n        if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n        if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n        if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n        if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      }\n    }\n    return this;\n  }\n\n  function tree_visitAfter (callback) {\n    var quads = [],\n      next = [],\n      q;\n    if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n    while (q = quads.pop()) {\n      var node = q.node;\n      if (node.length) {\n        var child,\n          x0 = q.x0,\n          y0 = q.y0,\n          x1 = q.x1,\n          y1 = q.y1,\n          xm = (x0 + x1) / 2,\n          ym = (y0 + y1) / 2;\n        if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n        if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n        if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n        if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      }\n      next.push(q);\n    }\n    while (q = next.pop()) {\n      callback(q.node, q.x0, q.y0, q.x1, q.y1);\n    }\n    return this;\n  }\n\n  function defaultX(d) {\n    return d[0];\n  }\n  function tree_x (_) {\n    return arguments.length ? (this._x = _, this) : this._x;\n  }\n\n  function defaultY(d) {\n    return d[1];\n  }\n  function tree_y (_) {\n    return arguments.length ? (this._y = _, this) : this._y;\n  }\n\n  function quadtree(nodes, x, y) {\n    var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n    return nodes == null ? tree : tree.addAll(nodes);\n  }\n  function Quadtree(x, y, x0, y0, x1, y1) {\n    this._x = x;\n    this._y = y;\n    this._x0 = x0;\n    this._y0 = y0;\n    this._x1 = x1;\n    this._y1 = y1;\n    this._root = undefined;\n  }\n  function leaf_copy(leaf) {\n    var copy = {\n        data: leaf.data\n      },\n      next = copy;\n    while (leaf = leaf.next) next = next.next = {\n      data: leaf.data\n    };\n    return copy;\n  }\n  var treeProto = quadtree.prototype = Quadtree.prototype;\n  treeProto.copy = function () {\n    var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n    if (!node) return copy;\n    if (!node.length) return copy._root = leaf_copy(node), copy;\n    nodes = [{\n      source: node,\n      target: copy._root = new Array(4)\n    }];\n    while (node = nodes.pop()) {\n      for (var i = 0; i < 4; ++i) {\n        if (child = node.source[i]) {\n          if (child.length) nodes.push({\n            source: child,\n            target: node.target[i] = new Array(4)\n          });else node.target[i] = leaf_copy(child);\n        }\n      }\n    }\n    return copy;\n  };\n  treeProto.add = tree_add;\n  treeProto.addAll = addAll;\n  treeProto.cover = tree_cover;\n  treeProto.data = tree_data;\n  treeProto.extent = tree_extent;\n  treeProto.find = tree_find;\n  treeProto.remove = tree_remove;\n  treeProto.removeAll = removeAll;\n  treeProto.root = tree_root;\n  treeProto.size = tree_size;\n  treeProto.visit = tree_visit;\n  treeProto.visitAfter = tree_visitAfter;\n  treeProto.x = tree_x;\n  treeProto.y = tree_y;\n\n  function constant (x) {\n    return function () {\n      return x;\n    };\n  }\n\n  function jiggle (random) {\n    return (random() - 0.5) * 1e-6;\n  }\n\n  function x$1(d) {\n    return d.x + d.vx;\n  }\n  function y$1(d) {\n    return d.y + d.vy;\n  }\n  function forceCollide (radius) {\n    var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n    if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n    function force() {\n      var i,\n        n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n      for (var k = 0; k < iterations; ++k) {\n        tree = quadtree(nodes, x$1, y$1).visitAfter(prepare);\n        for (i = 0; i < n; ++i) {\n          node = nodes[i];\n          ri = radii[node.index], ri2 = ri * ri;\n          xi = node.x + node.vx;\n          yi = node.y + node.vy;\n          tree.visit(apply);\n        }\n      }\n      function apply(quad, x0, y0, x1, y1) {\n        var data = quad.data,\n          rj = quad.r,\n          r = ri + rj;\n        if (data) {\n          if (data.index > node.index) {\n            var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n            if (l < r * r) {\n              if (x === 0) x = jiggle(random), l += x * x;\n              if (y === 0) y = jiggle(random), l += y * y;\n              l = (r - (l = Math.sqrt(l))) / l * strength;\n              node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n              node.vy += (y *= l) * r;\n              data.vx -= x * (r = 1 - r);\n              data.vy -= y * r;\n            }\n          }\n          return;\n        }\n        return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n      }\n    }\n    function prepare(quad) {\n      if (quad.data) return quad.r = radii[quad.data.index];\n      for (var i = quad.r = 0; i < 4; ++i) {\n        if (quad[i] && quad[i].r > quad.r) {\n          quad.r = quad[i].r;\n        }\n      }\n    }\n    function initialize() {\n      if (!nodes) return;\n      var i,\n        n = nodes.length,\n        node;\n      radii = new Array(n);\n      for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n    }\n    force.initialize = function (_nodes, _random) {\n      nodes = _nodes;\n      random = _random;\n      initialize();\n    };\n    force.iterations = function (_) {\n      return arguments.length ? (iterations = +_, force) : iterations;\n    };\n    force.strength = function (_) {\n      return arguments.length ? (strength = +_, force) : strength;\n    };\n    force.radius = function (_) {\n      return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n    };\n    return force;\n  }\n\n  function index(d) {\n    return d.index;\n  }\n  function find(nodeById, nodeId) {\n    var node = nodeById.get(nodeId);\n    if (!node) throw new Error(\"node not found: \" + nodeId);\n    return node;\n  }\n  function forceLink (links) {\n    var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n    if (links == null) links = [];\n    function defaultStrength(link) {\n      return 1 / Math.min(count[link.source.index], count[link.target.index]);\n    }\n    function force(alpha) {\n      for (var k = 0, n = links.length; k < iterations; ++k) {\n        for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n          link = links[i], source = link.source, target = link.target;\n          x = target.x + target.vx - source.x - source.vx || jiggle(random);\n          y = target.y + target.vy - source.y - source.vy || jiggle(random);\n          l = Math.sqrt(x * x + y * y);\n          l = (l - distances[i]) / l * alpha * strengths[i];\n          x *= l, y *= l;\n          target.vx -= x * (b = bias[i]);\n          target.vy -= y * b;\n          source.vx += x * (b = 1 - b);\n          source.vy += y * b;\n        }\n      }\n    }\n    function initialize() {\n      if (!nodes) return;\n      var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n      for (i = 0, count = new Array(n); i < m; ++i) {\n        link = links[i], link.index = i;\n        if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n        if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n        count[link.source.index] = (count[link.source.index] || 0) + 1;\n        count[link.target.index] = (count[link.target.index] || 0) + 1;\n      }\n      for (i = 0, bias = new Array(m); i < m; ++i) {\n        link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n      }\n      strengths = new Array(m), initializeStrength();\n      distances = new Array(m), initializeDistance();\n    }\n    function initializeStrength() {\n      if (!nodes) return;\n      for (var i = 0, n = links.length; i < n; ++i) {\n        strengths[i] = +strength(links[i], i, links);\n      }\n    }\n    function initializeDistance() {\n      if (!nodes) return;\n      for (var i = 0, n = links.length; i < n; ++i) {\n        distances[i] = +distance(links[i], i, links);\n      }\n    }\n    force.initialize = function (_nodes, _random) {\n      nodes = _nodes;\n      random = _random;\n      initialize();\n    };\n    force.links = function (_) {\n      return arguments.length ? (links = _, initialize(), force) : links;\n    };\n    force.id = function (_) {\n      return arguments.length ? (id = _, force) : id;\n    };\n    force.iterations = function (_) {\n      return arguments.length ? (iterations = +_, force) : iterations;\n    };\n    force.strength = function (_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n    };\n    force.distance = function (_) {\n      return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n    };\n    return force;\n  }\n\n  var noop = {\n    value: () => {}\n  };\n  function dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n      if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n      _[t] = [];\n    }\n    return new Dispatch(_);\n  }\n  function Dispatch(_) {\n    this._ = _;\n  }\n  function parseTypenames(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function (t) {\n      var name = \"\",\n        i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n      return {\n        type: t,\n        name: name\n      };\n    });\n  }\n  Dispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function (typename, callback) {\n      var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n      // If no callback was specified, return the callback of the given type and name.\n      if (arguments.length < 2) {\n        while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n        return;\n      }\n\n      // If a type was specified, set the callback for the given type and name.\n      // Otherwise, if a null callback was specified, remove callbacks of the given name.\n      if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      while (++i < n) {\n        if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n      }\n      return this;\n    },\n    copy: function () {\n      var copy = {},\n        _ = this._;\n      for (var t in _) copy[t] = _[t].slice();\n      return new Dispatch(copy);\n    },\n    call: function (type, that) {\n      if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    },\n    apply: function (type, that, args) {\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    }\n  };\n  function get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n      if ((c = type[i]).name === name) {\n        return c.value;\n      }\n    }\n  }\n  function set(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n      if (type[i].name === name) {\n        type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n        break;\n      }\n    }\n    if (callback != null) type.push({\n      name: name,\n      value: callback\n    });\n    return type;\n  }\n\n  var frame = 0,\n    // is an animation frame pending?\n    timeout = 0,\n    // is a timeout pending?\n    interval = 0,\n    // are any timers active?\n    pokeDelay = 1000,\n    // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function (f) {\n      setTimeout(f, 17);\n    };\n  function now() {\n    return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n  }\n  function clearNow() {\n    clockNow = 0;\n  }\n  function Timer() {\n    this._call = this._time = this._next = null;\n  }\n  Timer.prototype = timer.prototype = {\n    constructor: Timer,\n    restart: function (callback, delay, time) {\n      if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n      time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n      if (!this._next && taskTail !== this) {\n        if (taskTail) taskTail._next = this;else taskHead = this;\n        taskTail = this;\n      }\n      this._call = callback;\n      this._time = time;\n      sleep();\n    },\n    stop: function () {\n      if (this._call) {\n        this._call = null;\n        this._time = Infinity;\n        sleep();\n      }\n    }\n  };\n  function timer(callback, delay, time) {\n    var t = new Timer();\n    t.restart(callback, delay, time);\n    return t;\n  }\n  function timerFlush() {\n    now(); // Get the current time, if not already set.\n    ++frame; // Pretend we\u2019ve set an alarm, if we haven\u2019t already.\n    var t = taskHead,\n      e;\n    while (t) {\n      if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n      t = t._next;\n    }\n    --frame;\n  }\n  function wake() {\n    clockNow = (clockLast = clock.now()) + clockSkew;\n    frame = timeout = 0;\n    try {\n      timerFlush();\n    } finally {\n      frame = 0;\n      nap();\n      clockNow = 0;\n    }\n  }\n  function poke() {\n    var now = clock.now(),\n      delay = now - clockLast;\n    if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n  }\n  function nap() {\n    var t0,\n      t1 = taskHead,\n      t2,\n      time = Infinity;\n    while (t1) {\n      if (t1._call) {\n        if (time > t1._time) time = t1._time;\n        t0 = t1, t1 = t1._next;\n      } else {\n        t2 = t1._next, t1._next = null;\n        t1 = t0 ? t0._next = t2 : taskHead = t2;\n      }\n    }\n    taskTail = t0;\n    sleep(time);\n  }\n  function sleep(time) {\n    if (frame) return; // Soonest alarm already set, or will be.\n    if (timeout) timeout = clearTimeout(timeout);\n    var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n    if (delay > 24) {\n      if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n      if (interval) interval = clearInterval(interval);\n    } else {\n      if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n      frame = 1, setFrame(wake);\n    }\n  }\n\n  // https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\n  const a = 1664525;\n  const c = 1013904223;\n  const m = 4294967296; // 2^32\n\n  function lcg () {\n    let s = 1;\n    return () => (s = (a * s + c) % m) / m;\n  }\n\n  function x(d) {\n    return d.x;\n  }\n  function y(d) {\n    return d.y;\n  }\n  var initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n  function forceSimulation (nodes) {\n    var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n    if (nodes == null) nodes = [];\n    function step() {\n      tick();\n      event.call(\"tick\", simulation);\n      if (alpha < alphaMin) {\n        stepper.stop();\n        event.call(\"end\", simulation);\n      }\n    }\n    function tick(iterations) {\n      var i,\n        n = nodes.length,\n        node;\n      if (iterations === undefined) iterations = 1;\n      for (var k = 0; k < iterations; ++k) {\n        alpha += (alphaTarget - alpha) * alphaDecay;\n        forces.forEach(function (force) {\n          force(alpha);\n        });\n        for (i = 0; i < n; ++i) {\n          node = nodes[i];\n          if (node.fx == null) node.x += node.vx *= velocityDecay;else node.x = node.fx, node.vx = 0;\n          if (node.fy == null) node.y += node.vy *= velocityDecay;else node.y = node.fy, node.vy = 0;\n        }\n      }\n      return simulation;\n    }\n    function initializeNodes() {\n      for (var i = 0, n = nodes.length, node; i < n; ++i) {\n        node = nodes[i], node.index = i;\n        if (node.fx != null) node.x = node.fx;\n        if (node.fy != null) node.y = node.fy;\n        if (isNaN(node.x) || isNaN(node.y)) {\n          var radius = initialRadius * Math.sqrt(0.5 + i),\n            angle = i * initialAngle;\n          node.x = radius * Math.cos(angle);\n          node.y = radius * Math.sin(angle);\n        }\n        if (isNaN(node.vx) || isNaN(node.vy)) {\n          node.vx = node.vy = 0;\n        }\n      }\n    }\n    function initializeForce(force) {\n      if (force.initialize) force.initialize(nodes, random);\n      return force;\n    }\n    initializeNodes();\n    return simulation = {\n      tick: tick,\n      restart: function () {\n        return stepper.restart(step), simulation;\n      },\n      stop: function () {\n        return stepper.stop(), simulation;\n      },\n      nodes: function (_) {\n        return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n      },\n      alpha: function (_) {\n        return arguments.length ? (alpha = +_, simulation) : alpha;\n      },\n      alphaMin: function (_) {\n        return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n      },\n      alphaDecay: function (_) {\n        return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n      },\n      alphaTarget: function (_) {\n        return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n      },\n      velocityDecay: function (_) {\n        return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n      },\n      randomSource: function (_) {\n        return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n      },\n      force: function (name, _) {\n        return arguments.length > 1 ? (_ == null ? forces.delete(name) : forces.set(name, initializeForce(_)), simulation) : forces.get(name);\n      },\n      find: function (x, y, radius) {\n        var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n        if (radius == null) radius = Infinity;else radius *= radius;\n        for (i = 0; i < n; ++i) {\n          node = nodes[i];\n          dx = x - node.x;\n          dy = y - node.y;\n          d2 = dx * dx + dy * dy;\n          if (d2 < radius) closest = node, radius = d2;\n        }\n        return closest;\n      },\n      on: function (name, _) {\n        return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n      }\n    };\n  }\n\n  function forceManyBody () {\n    var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n    function force(_) {\n      var i,\n        n = nodes.length,\n        tree = quadtree(nodes, x, y).visitAfter(accumulate);\n      for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n    }\n    function initialize() {\n      if (!nodes) return;\n      var i,\n        n = nodes.length,\n        node;\n      strengths = new Array(n);\n      for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n    }\n    function accumulate(quad) {\n      var strength = 0,\n        q,\n        c,\n        weight = 0,\n        x,\n        y,\n        i;\n\n      // For internal nodes, accumulate forces from child quadrants.\n      if (quad.length) {\n        for (x = y = i = 0; i < 4; ++i) {\n          if ((q = quad[i]) && (c = Math.abs(q.value))) {\n            strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n          }\n        }\n        quad.x = x / weight;\n        quad.y = y / weight;\n      }\n\n      // For leaf nodes, accumulate forces from coincident quadrants.\n      else {\n        q = quad;\n        q.x = q.data.x;\n        q.y = q.data.y;\n        do strength += strengths[q.data.index]; while (q = q.next);\n      }\n      quad.value = strength;\n    }\n    function apply(quad, x1, _, x2) {\n      if (!quad.value) return true;\n      var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n      // Apply the Barnes-Hut approximation if possible.\n      // Limit forces for very close nodes; randomize direction if coincident.\n      if (w * w / theta2 < l) {\n        if (l < distanceMax2) {\n          if (x === 0) x = jiggle(random), l += x * x;\n          if (y === 0) y = jiggle(random), l += y * y;\n          if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n          node.vx += x * quad.value * alpha / l;\n          node.vy += y * quad.value * alpha / l;\n        }\n        return true;\n      }\n\n      // Otherwise, process points directly.\n      else if (quad.length || l >= distanceMax2) return;\n\n      // Limit forces for very close nodes; randomize direction if coincident.\n      if (quad.data !== node || quad.next) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n      }\n      do if (quad.data !== node) {\n        w = strengths[quad.data.index] * alpha / l;\n        node.vx += x * w;\n        node.vy += y * w;\n      } while (quad = quad.next);\n    }\n    force.initialize = function (_nodes, _random) {\n      nodes = _nodes;\n      random = _random;\n      initialize();\n    };\n    force.strength = function (_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n    };\n    force.distanceMin = function (_) {\n      return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n    };\n    force.distanceMax = function (_) {\n      return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n    };\n    force.theta = function (_) {\n      return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n    };\n    return force;\n  }\n\n  function forceX (x) {\n    var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n    if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n    function force(alpha) {\n      for (var i = 0, n = nodes.length, node; i < n; ++i) {\n        node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n      }\n    }\n    function initialize() {\n      if (!nodes) return;\n      var i,\n        n = nodes.length;\n      strengths = new Array(n);\n      xz = new Array(n);\n      for (i = 0; i < n; ++i) {\n        strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n      }\n    }\n    force.initialize = function (_) {\n      nodes = _;\n      initialize();\n    };\n    force.strength = function (_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n    };\n    force.x = function (_) {\n      return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n    };\n    return force;\n  }\n\n  function forceY (y) {\n    var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n    if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n    function force(alpha) {\n      for (var i = 0, n = nodes.length, node; i < n; ++i) {\n        node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n      }\n    }\n    function initialize() {\n      if (!nodes) return;\n      var i,\n        n = nodes.length;\n      strengths = new Array(n);\n      yz = new Array(n);\n      for (i = 0; i < n; ++i) {\n        strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n      }\n    }\n    force.initialize = function (_) {\n      nodes = _;\n      initialize();\n    };\n    force.strength = function (_) {\n      return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n    };\n    force.y = function (_) {\n      return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n    };\n    return force;\n  }\n\n  const ForceMap = {\n    center: forceCenter,\n    collide: forceCollide,\n    nbody: forceManyBody,\n    link: forceLink,\n    x: forceX,\n    y: forceY\n  };\n  const Forces = 'forces',\n    ForceParams = ['alpha', 'alphaMin', 'alphaTarget', 'velocityDecay', 'forces'],\n    ForceConfig = ['static', 'iterations'],\n    ForceOutput = ['x', 'y', 'vx', 'vy'];\n\n  /**\n   * Force simulation layout.\n   * @constructor\n   * @param {object} params - The parameters for this operator.\n   * @param {Array<object>} params.forces - The forces to apply.\n   */\n  function Force(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n  Force.Definition = {\n    'type': 'Force',\n    'metadata': {\n      'modifies': true\n    },\n    'params': [{\n      'name': 'static',\n      'type': 'boolean',\n      'default': false\n    }, {\n      'name': 'restart',\n      'type': 'boolean',\n      'default': false\n    }, {\n      'name': 'iterations',\n      'type': 'number',\n      'default': 300\n    }, {\n      'name': 'alpha',\n      'type': 'number',\n      'default': 1\n    }, {\n      'name': 'alphaMin',\n      'type': 'number',\n      'default': 0.001\n    }, {\n      'name': 'alphaTarget',\n      'type': 'number',\n      'default': 0\n    }, {\n      'name': 'velocityDecay',\n      'type': 'number',\n      'default': 0.4\n    }, {\n      'name': 'forces',\n      'type': 'param',\n      'array': true,\n      'params': [{\n        'key': {\n          'force': 'center'\n        },\n        'params': [{\n          'name': 'x',\n          'type': 'number',\n          'default': 0\n        }, {\n          'name': 'y',\n          'type': 'number',\n          'default': 0\n        }]\n      }, {\n        'key': {\n          'force': 'collide'\n        },\n        'params': [{\n          'name': 'radius',\n          'type': 'number',\n          'expr': true\n        }, {\n          'name': 'strength',\n          'type': 'number',\n          'default': 0.7\n        }, {\n          'name': 'iterations',\n          'type': 'number',\n          'default': 1\n        }]\n      }, {\n        'key': {\n          'force': 'nbody'\n        },\n        'params': [{\n          'name': 'strength',\n          'type': 'number',\n          'default': -30,\n          'expr': true\n        }, {\n          'name': 'theta',\n          'type': 'number',\n          'default': 0.9\n        }, {\n          'name': 'distanceMin',\n          'type': 'number',\n          'default': 1\n        }, {\n          'name': 'distanceMax',\n          'type': 'number'\n        }]\n      }, {\n        'key': {\n          'force': 'link'\n        },\n        'params': [{\n          'name': 'links',\n          'type': 'data'\n        }, {\n          'name': 'id',\n          'type': 'field'\n        }, {\n          'name': 'distance',\n          'type': 'number',\n          'default': 30,\n          'expr': true\n        }, {\n          'name': 'strength',\n          'type': 'number',\n          'expr': true\n        }, {\n          'name': 'iterations',\n          'type': 'number',\n          'default': 1\n        }]\n      }, {\n        'key': {\n          'force': 'x'\n        },\n        'params': [{\n          'name': 'strength',\n          'type': 'number',\n          'default': 0.1\n        }, {\n          'name': 'x',\n          'type': 'field'\n        }]\n      }, {\n        'key': {\n          'force': 'y'\n        },\n        'params': [{\n          'name': 'strength',\n          'type': 'number',\n          'default': 0.1\n        }, {\n          'name': 'y',\n          'type': 'field'\n        }]\n      }]\n    }, {\n      'name': 'as',\n      'type': 'string',\n      'array': true,\n      'modify': false,\n      'default': ForceOutput\n    }]\n  };\n  vegaUtil.inherits(Force, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      var sim = this.value,\n        change = pulse.changed(pulse.ADD_REM),\n        params = _.modified(ForceParams),\n        iters = _.iterations || 300;\n\n      // configure simulation\n      if (!sim) {\n        this.value = sim = simulation(pulse.source, _);\n        sim.on('tick', rerun(pulse.dataflow, this));\n        if (!_.static) {\n          change = true;\n          sim.tick(); // ensure we run on init\n        }\n        pulse.modifies('index');\n      } else {\n        if (change) {\n          pulse.modifies('index');\n          sim.nodes(pulse.source);\n        }\n        if (params || pulse.changed(pulse.MOD)) {\n          setup(sim, _, 0, pulse);\n        }\n      }\n\n      // run simulation\n      if (params || change || _.modified(ForceConfig) || pulse.changed() && _.restart) {\n        sim.alpha(Math.max(sim.alpha(), _.alpha || 1)).alphaDecay(1 - Math.pow(sim.alphaMin(), 1 / iters));\n        if (_.static) {\n          for (sim.stop(); --iters >= 0;) sim.tick();\n        } else {\n          if (sim.stopped()) sim.restart();\n          if (!change) return pulse.StopPropagation; // defer to sim ticks\n        }\n      }\n      return this.finish(_, pulse);\n    },\n    finish(_, pulse) {\n      const dataflow = pulse.dataflow;\n\n      // inspect dependencies, touch link source data\n      for (let args = this._argops, j = 0, m = args.length, arg; j < m; ++j) {\n        arg = args[j];\n        if (arg.name !== Forces || arg.op._argval.force !== 'link') {\n          continue;\n        }\n        for (var ops = arg.op._argops, i = 0, n = ops.length, op; i < n; ++i) {\n          if (ops[i].name === 'links' && (op = ops[i].op.source)) {\n            dataflow.pulse(op, dataflow.changeset().reflow());\n            break;\n          }\n        }\n      }\n\n      // reflow all nodes\n      return pulse.reflow(_.modified()).modifies(ForceOutput);\n    }\n  });\n  function rerun(df, op) {\n    return () => df.touch(op).run();\n  }\n  function simulation(nodes, _) {\n    const sim = forceSimulation(nodes),\n      stop = sim.stop,\n      restart = sim.restart;\n    let stopped = false;\n    sim.stopped = () => stopped;\n    sim.restart = () => (stopped = false, restart());\n    sim.stop = () => (stopped = true, stop());\n    return setup(sim, _, true).on('end', () => stopped = true);\n  }\n  function setup(sim, _, init, pulse) {\n    var f = vegaUtil.array(_.forces),\n      i,\n      n,\n      p,\n      name;\n    for (i = 0, n = ForceParams.length; i < n; ++i) {\n      p = ForceParams[i];\n      if (p !== Forces && _.modified(p)) sim[p](_[p]);\n    }\n    for (i = 0, n = f.length; i < n; ++i) {\n      name = Forces + i;\n      p = init || _.modified(Forces, i) ? getForce(f[i]) : pulse && modified(f[i], pulse) ? sim.force(name) : null;\n      if (p) sim.force(name, p);\n    }\n    for (n = sim.numForces || 0; i < n; ++i) {\n      sim.force(Forces + i, null); // remove\n    }\n    sim.numForces = f.length;\n    return sim;\n  }\n  function modified(f, pulse) {\n    var k, v;\n    for (k in f) {\n      if (vegaUtil.isFunction(v = f[k]) && pulse.modified(vegaUtil.accessorFields(v))) return 1;\n    }\n    return 0;\n  }\n  function getForce(_) {\n    var f, p;\n    if (!vegaUtil.hasOwnProperty(ForceMap, _.force)) {\n      vegaUtil.error('Unrecognized force: ' + _.force);\n    }\n    f = ForceMap[_.force]();\n    for (p in _) {\n      if (vegaUtil.isFunction(f[p])) setForceParam(f[p], _[p], _);\n    }\n    return f;\n  }\n  function setForceParam(f, v, _) {\n    f(vegaUtil.isFunction(v) ? d => v(d, _) : v);\n  }\n\n  exports.force = Force;\n\n}));\n\n};"],
"names":["shadow$provide","require","module","exports","global","factory","define","amd","globalThis","self","vega","transforms","vegaDataflow","vegaUtil","add","tree","x","y","d","isNaN","parent","node","_root","leaf","data","x0","_x0","y0","_y0","x1","_x1","y1","_y1","xm","ym","right","bottom","i","length","xp","_x","call","yp","_y","next","Array","j","Quad","defaultX","defaultY","quadtree","nodes","Quadtree","NaN","addAll","undefined","leaf_copy","copy","constant","x$1","vx","y$1","vy","index","find","nodeById","nodeId","get","Error","dispatch","n","arguments","_","t","test","Dispatch","parseTypenames","typenames","types","trim","split","map","name","indexOf","slice","hasOwnProperty","type","set","callback","noop","concat","push","value","clearNow","clockNow","Timer","_call","_time","_next","timer","delay","time","restart","wake","clockLast","clock","now","clockSkew","frame","timeout","setFrame","taskHead","e","t1","Infinity","t0","t2","taskTail","sleep","poke","pokeDelay","clearTimeout","setTimeout","interval","clearInterval","setInterval","lcg","s","a","c","m","forceSimulation","step","tick","event","simulation","alpha","alphaMin","stepper","stop","iterations","k","alphaTarget","alphaDecay","forces","forEach","force","fx","velocityDecay","fy","initializeNodes","radius","initialRadius","Math","sqrt","angle","initialAngle","cos","sin","initializeForce","initialize","random","pow","Map","randomSource","delete","dx","dy","d2","closest","on","Force","params","Transform","rerun","df","op","touch","run","sim","stopped","sim.stopped","sim.restart","sim.stop","setup","init","pulse","f","array","ForceParams","p","Forces","modified","ForceMap","error","isFunction","setForceParam","v","accessorFields","numForces","treeProto","prototype","treeProto.copy","child","source","target","pop","tree_add","cover","xz","yz","tree_cover","floor","z","tree_data","visit","extent","tree_extent","tree_find","x2","y2","x3","y3","quads","q","remove","tree_remove","previous","retainer","removeAll","root","tree_root","size","tree_size","tree_visit","visitAfter","tree_visitAfter","tree_x","tree_y","constructor","typename","T","that","args","apply","performance","Date","window","requestAnimationFrame","bind","TypeError","PI","center","forceCenter","sx","sy","strength","force.initialize","force.x","force.y","force.strength","collide","forceCollide","quad","rj","r","ri","xi","yi","l","ri2","prepare","radii","_nodes","_random","force.iterations","force.radius","nbody","forceManyBody","accumulate","strengths","weight","abs","w","theta2","distanceMax2","distanceMin2","distanceMin","force.distanceMin","distanceMax","force.distanceMax","theta","force.theta","link","forceLink","links","distances","b","bias","id","count","initializeStrength","initializeDistance","distance","defaultStrength","min","force.links","force.id","force.distance","forceX","forceY","ForceConfig","ForceOutput","Definition","inherits","transform","change","changed","ADD_REM","iters","modifies","MOD","dataflow","static","max","StopPropagation","finish","_argops","arg","_argval","ops","changeset","reflow"]
}
