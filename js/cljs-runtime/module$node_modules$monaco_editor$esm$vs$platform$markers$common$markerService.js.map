{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$platform$markers$common$markerService.js",
"lineCount":194,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/platform/markers/common/markerService.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$platform$markers$common$markerService\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, MarkerService:{enumerable:true, get:function() {\n  return MarkerService;\n}}, unsupportedSchemas:{enumerable:true, get:function() {\n  return unsupportedSchemas;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require(\"../../../base/common/arrays.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require(\"../../../base/common/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js = require(\"../../../base/common/iterator.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_map_DOT_js = require(\"../../../base/common/map.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js = require(\"../../../base/common/network.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_uri_DOT_js = require(\"../../../base/common/uri.js\");\nvar require$_DOT__SLASH_markers_DOT_js = require(\"./markers.js\");\nconst unsupportedSchemas = new Set([require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js.Schemas.inMemory, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js.Schemas.vscodeSourceControl, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js.Schemas.walkThrough, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js.Schemas.walkThroughSnippet]);\nclass DoubleResourceMap {\n  constructor() {\n    this._byResource = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_map_DOT_js.ResourceMap();\n    this._byOwner = new Map();\n  }\n  set(resource, owner, value) {\n    let ownerMap = this._byResource.get(resource);\n    if (!ownerMap) {\n      ownerMap = new Map();\n      this._byResource.set(resource, ownerMap);\n    }\n    ownerMap.set(owner, value);\n    let resourceMap = this._byOwner.get(owner);\n    if (!resourceMap) {\n      resourceMap = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_map_DOT_js.ResourceMap();\n      this._byOwner.set(owner, resourceMap);\n    }\n    resourceMap.set(resource, value);\n  }\n  get(resource, owner) {\n    const ownerMap = this._byResource.get(resource);\n    return ownerMap === null || ownerMap === void 0 ? void 0 : ownerMap.get(owner);\n  }\n  delete(resource, owner) {\n    let removedA = false;\n    let removedB = false;\n    const ownerMap = this._byResource.get(resource);\n    if (ownerMap) {\n      removedA = ownerMap.delete(owner);\n    }\n    const resourceMap = this._byOwner.get(owner);\n    if (resourceMap) {\n      removedB = resourceMap.delete(resource);\n    }\n    if (removedA !== removedB) {\n      throw new Error(\"illegal state\");\n    }\n    return removedA && removedB;\n  }\n  values(key) {\n    var _a, _b, _c, _d;\n    if (typeof key === \"string\") {\n      return (_b = (_a = this._byOwner.get(key)) === null || _a === void 0 ? void 0 : _a.values()) !== null && _b !== void 0 ? _b : require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js.Iterable.empty();\n    }\n    if (require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_uri_DOT_js.URI.isUri(key)) {\n      return (_d = (_c = this._byResource.get(key)) === null || _c === void 0 ? void 0 : _c.values()) !== null && _d !== void 0 ? _d : require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js.Iterable.empty();\n    }\n    return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js.Iterable.map(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js.Iterable.concat(...this._byOwner.values()), map => map[1]);\n  }\n}\nclass MarkerStats {\n  constructor(service) {\n    this.errors = 0;\n    this.infos = 0;\n    this.warnings = 0;\n    this.unknowns = 0;\n    this._data = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_map_DOT_js.ResourceMap();\n    this._service = service;\n    this._subscription = service.onMarkerChanged(this._update, this);\n  }\n  dispose() {\n    this._subscription.dispose();\n  }\n  _update(resources) {\n    for (const resource of resources) {\n      const oldStats = this._data.get(resource);\n      if (oldStats) {\n        this._substract(oldStats);\n      }\n      const newStats = this._resourceStats(resource);\n      this._add(newStats);\n      this._data.set(resource, newStats);\n    }\n  }\n  _resourceStats(resource) {\n    const result = {errors:0, warnings:0, infos:0, unknowns:0};\n    if (unsupportedSchemas.has(resource.scheme)) {\n      return result;\n    }\n    for (const {severity} of this._service.read({resource})) {\n      if (severity === require$_DOT__SLASH_markers_DOT_js.MarkerSeverity.Error) {\n        result.errors += 1;\n      } else if (severity === require$_DOT__SLASH_markers_DOT_js.MarkerSeverity.Warning) {\n        result.warnings += 1;\n      } else if (severity === require$_DOT__SLASH_markers_DOT_js.MarkerSeverity.Info) {\n        result.infos += 1;\n      } else {\n        result.unknowns += 1;\n      }\n    }\n    return result;\n  }\n  _substract(op) {\n    this.errors -= op.errors;\n    this.warnings -= op.warnings;\n    this.infos -= op.infos;\n    this.unknowns -= op.unknowns;\n  }\n  _add(op) {\n    this.errors += op.errors;\n    this.warnings += op.warnings;\n    this.infos += op.infos;\n    this.unknowns += op.unknowns;\n  }\n}\nclass MarkerService {\n  constructor() {\n    this._onMarkerChanged = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.DebounceEmitter({delay:0, merge:MarkerService._merge});\n    this.onMarkerChanged = this._onMarkerChanged.event;\n    this._data = new DoubleResourceMap();\n    this._stats = new MarkerStats(this);\n  }\n  dispose() {\n    this._stats.dispose();\n    this._onMarkerChanged.dispose();\n  }\n  remove(owner, resources) {\n    for (const resource of resources || []) {\n      this.changeOne(owner, resource, []);\n    }\n  }\n  changeOne(owner, resource, markerData) {\n    if ((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.isFalsyOrEmpty)(markerData)) {\n      const removed = this._data.delete(resource, owner);\n      if (removed) {\n        this._onMarkerChanged.fire([resource]);\n      }\n    } else {\n      const markers = [];\n      for (const data of markerData) {\n        const marker = MarkerService._toMarker(owner, resource, data);\n        if (marker) {\n          markers.push(marker);\n        }\n      }\n      this._data.set(resource, owner, markers);\n      this._onMarkerChanged.fire([resource]);\n    }\n  }\n  static _toMarker(owner, resource, data) {\n    let {code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags} = data;\n    if (!message) {\n      return undefined;\n    }\n    startLineNumber = startLineNumber > 0 ? startLineNumber : 1;\n    startColumn = startColumn > 0 ? startColumn : 1;\n    endLineNumber = endLineNumber >= startLineNumber ? endLineNumber : startLineNumber;\n    endColumn = endColumn > 0 ? endColumn : startColumn;\n    return {resource, owner, code, severity, message, source, startLineNumber, startColumn, endLineNumber, endColumn, relatedInformation, tags,};\n  }\n  changeAll(owner, data) {\n    const changes = [];\n    const existing = this._data.values(owner);\n    if (existing) {\n      for (const data of existing) {\n        const first = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js.Iterable.first(data);\n        if (first) {\n          changes.push(first.resource);\n          this._data.delete(first.resource, owner);\n        }\n      }\n    }\n    if ((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.isNonEmptyArray)(data)) {\n      const groups = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_map_DOT_js.ResourceMap();\n      for (const {resource, marker:markerData} of data) {\n        const marker = MarkerService._toMarker(owner, resource, markerData);\n        if (!marker) {\n          continue;\n        }\n        const array = groups.get(resource);\n        if (!array) {\n          groups.set(resource, [marker]);\n          changes.push(resource);\n        } else {\n          array.push(marker);\n        }\n      }\n      for (const [resource, value] of groups) {\n        this._data.set(resource, owner, value);\n      }\n    }\n    if (changes.length > 0) {\n      this._onMarkerChanged.fire(changes);\n    }\n  }\n  read(filter = Object.create(null)) {\n    let {owner, resource, severities, take} = filter;\n    if (!take || take < 0) {\n      take = -1;\n    }\n    if (owner && resource) {\n      const data = this._data.get(resource, owner);\n      if (!data) {\n        return [];\n      } else {\n        const result = [];\n        for (const marker of data) {\n          if (MarkerService._accept(marker, severities)) {\n            const newLen = result.push(marker);\n            if (take > 0 && newLen === take) {\n              break;\n            }\n          }\n        }\n        return result;\n      }\n    } else if (!owner && !resource) {\n      const result = [];\n      for (const markers of this._data.values()) {\n        for (const data of markers) {\n          if (MarkerService._accept(data, severities)) {\n            const newLen = result.push(data);\n            if (take > 0 && newLen === take) {\n              return result;\n            }\n          }\n        }\n      }\n      return result;\n    } else {\n      const iterable = this._data.values(resource !== null && resource !== void 0 ? resource : owner);\n      const result = [];\n      for (const markers of iterable) {\n        for (const data of markers) {\n          if (MarkerService._accept(data, severities)) {\n            const newLen = result.push(data);\n            if (take > 0 && newLen === take) {\n              return result;\n            }\n          }\n        }\n      }\n      return result;\n    }\n  }\n  static _accept(marker, severities) {\n    return severities === undefined || (severities & marker.severity) === marker.severity;\n  }\n  static _merge(all) {\n    const set = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_map_DOT_js.ResourceMap();\n    for (const array of all) {\n      for (const item of array) {\n        set.set(item, true);\n      }\n    }\n    return Array.from(set.keys());\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","MarkerService","get","unsupportedSchemas","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_map_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_uri_DOT_js","require$_DOT__SLASH_markers_DOT_js","Set","Schemas","inMemory","vscodeSourceControl","walkThrough","walkThroughSnippet","DoubleResourceMap","constructor","_byResource","ResourceMap","_byOwner","Map","set","resource","owner","ownerMap","resourceMap","delete","removedA","removedB","Error","values","key","_a","_b","_c","_d","Iterable","empty","URI","isUri","map","concat","MarkerStats","service","unknowns","warnings","infos","errors","_data","_service","_subscription","onMarkerChanged","_update","dispose","resources","oldStats","_substract","newStats","_resourceStats","_add","result","has","scheme","severity","read","MarkerSeverity","Warning","Info","op","_onMarkerChanged","DebounceEmitter","delay","merge","_merge","event","_stats","remove","changeOne","markerData","isFalsyOrEmpty","removed","fire","markers","data","marker","_toMarker","push","code","message","source","startLineNumber","startColumn","endLineNumber","endColumn","relatedInformation","tags","changeAll","changes","existing","first","isNonEmptyArray","groups","array","length","filter","create","severities","take","_accept","newLen","iterable","undefined","all","item","Array","from","keys"]
}
