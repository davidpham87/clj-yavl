shadow$provide.module$node_modules$monaco_editor$esm$vs$base$common$network = function(require, module, exports) {
  function matchesScheme(target, scheme) {
    return require$_DOT__SLASH_uri_DOT_js.URI.isUri(target) ? (0,require$_DOT__SLASH_strings_DOT_js.equalsIgnoreCase)(target.scheme, scheme) : (0,require$_DOT__SLASH_strings_DOT_js.startsWithIgnoreCase)(target, scheme + ":");
  }
  function matchesSomeScheme(target, ...schemes) {
    return schemes.some(scheme => matchesScheme(target, scheme));
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, COI:{enumerable:!0, get:function() {
    return COI;
  }}, FileAccess:{enumerable:!0, get:function() {
    return FileAccess;
  }}, RemoteAuthorities:{enumerable:!0, get:function() {
    return RemoteAuthorities;
  }}, Schemas:{enumerable:!0, get:function() {
    return Schemas;
  }}, VSCODE_AUTHORITY:{enumerable:!0, get:function() {
    return "vscode-app";
  }}, connectionTokenQueryName:{enumerable:!0, get:function() {
    return "tkn";
  }}, matchesScheme:{enumerable:!0, get:function() {
    return matchesScheme;
  }}, matchesSomeScheme:{enumerable:!0, get:function() {
    return matchesSomeScheme;
  }}});
  var errors = require("module$node_modules$monaco_editor$esm$vs$base$common$errors"), platform = require("module$node_modules$monaco_editor$esm$vs$base$common$platform"), require$_DOT__SLASH_strings_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$strings"), require$_DOT__SLASH_uri_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$uri"), Schemas;
  (function(Schemas) {
    Schemas.inMemory = "inmemory";
    Schemas.vscode = "vscode";
    Schemas.internal = "private";
    Schemas.walkThrough = "walkThrough";
    Schemas.walkThroughSnippet = "walkThroughSnippet";
    Schemas.http = "http";
    Schemas.https = "https";
    Schemas.file = "file";
    Schemas.mailto = "mailto";
    Schemas.untitled = "untitled";
    Schemas.data = "data";
    Schemas.command = "command";
    Schemas.vscodeRemote = "vscode-remote";
    Schemas.vscodeRemoteResource = "vscode-remote-resource";
    Schemas.vscodeManagedRemoteResource = "vscode-managed-remote-resource";
    Schemas.vscodeUserData = "vscode-userdata";
    Schemas.vscodeCustomEditor = "vscode-custom-editor";
    Schemas.vscodeNotebookCell = "vscode-notebook-cell";
    Schemas.vscodeNotebookCellMetadata = "vscode-notebook-cell-metadata";
    Schemas.vscodeNotebookCellOutput = "vscode-notebook-cell-output";
    Schemas.vscodeInteractiveInput = "vscode-interactive-input";
    Schemas.vscodeSettings = "vscode-settings";
    Schemas.vscodeWorkspaceTrust = "vscode-workspace-trust";
    Schemas.vscodeTerminal = "vscode-terminal";
    Schemas.vscodeChatSesssion = "vscode-chat-editor";
    Schemas.webviewPanel = "webview-panel";
    Schemas.vscodeWebview = "vscode-webview";
    Schemas.extension = "extension";
    Schemas.vscodeFileResource = "vscode-file";
    Schemas.tmp = "tmp";
    Schemas.vsls = "vsls";
    Schemas.vscodeSourceControl = "vscode-scm";
  })(Schemas ||= {});
  class RemoteAuthoritiesImpl {
    constructor() {
      this._hosts = Object.create(null);
      this._ports = Object.create(null);
      this._connectionTokens = Object.create(null);
      this._preferredWebSchema = "http";
      this._delegate = null;
      this._remoteResourcesPath = `/${Schemas.vscodeRemoteResource}`;
    }
    setPreferredWebSchema(schema) {
      this._preferredWebSchema = schema;
    }
    rewrite(uri) {
      if (this._delegate) {
        try {
          return this._delegate(uri);
        } catch (err) {
          return errors.onUnexpectedError(err), uri;
        }
      }
      var authority = uri.authority;
      let host = this._hosts[authority];
      host && host.indexOf(":") !== -1 && host.indexOf("[") === -1 && (host = `[${host}]`);
      const port = this._ports[authority];
      authority = this._connectionTokens[authority];
      uri = `path=${encodeURIComponent(uri.path)}`;
      typeof authority === "string" && (uri += `&${"tkn"}=${encodeURIComponent(authority)}`);
      return require$_DOT__SLASH_uri_DOT_js.URI.from({scheme:platform.isWeb ? this._preferredWebSchema : Schemas.vscodeRemoteResource, authority:`${host}:${port}`, path:this._remoteResourcesPath, query:uri});
    }
  }
  const RemoteAuthorities = new RemoteAuthoritiesImpl();
  class FileAccessImpl {
    uriToBrowserUri(uri) {
      return uri.scheme === Schemas.vscodeRemote ? RemoteAuthorities.rewrite(uri) : uri.scheme !== Schemas.file || !platform.isNative && platform.webWorkerOrigin !== `${Schemas.vscodeFileResource}://${FileAccessImpl.FALLBACK_AUTHORITY}` ? uri : uri.with({scheme:Schemas.vscodeFileResource, authority:uri.authority || FileAccessImpl.FALLBACK_AUTHORITY, query:null, fragment:null});
    }
  }
  FileAccessImpl.FALLBACK_AUTHORITY = "vscode-app";
  const FileAccess = new FileAccessImpl();
  var COI;
  (function(COI) {
    const coiHeaders = new Map([["1", {"Cross-Origin-Opener-Policy":"same-origin"}], ["2", {"Cross-Origin-Embedder-Policy":"require-corp"}], ["3", {"Cross-Origin-Opener-Policy":"same-origin", "Cross-Origin-Embedder-Policy":"require-corp"}]]);
    COI.CoopAndCoep = Object.freeze(coiHeaders.get("3"));
    COI.getHeadersFromQuery = function(url) {
      let params;
      typeof url === "string" ? params = (new URL(url)).searchParams : url instanceof URL ? params = url.searchParams : require$_DOT__SLASH_uri_DOT_js.URI.isUri(url) && (params = (new URL(url.toString(!0))).searchParams);
      if (url = params === null || params === void 0 ? void 0 : params.get("vscode-coi")) {
        return coiHeaders.get(url);
      }
    };
    COI.addSearchParam = function(urlOrSearch, coop, coep) {
      globalThis.crossOriginIsolated && (coop = coop && coep ? "3" : coep ? "2" : "1", urlOrSearch instanceof URLSearchParams ? urlOrSearch.set("vscode-coi", coop) : urlOrSearch["vscode-coi"] = coop);
    };
  })(COI ||= {});
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$common$network.js.map
