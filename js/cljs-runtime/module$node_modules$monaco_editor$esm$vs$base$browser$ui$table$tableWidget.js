shadow$provide.module$node_modules$monaco_editor$esm$vs$base$browser$ui$table$tableWidget = function(require, module, exports) {
  function asListVirtualDelegate(delegate) {
    return {getHeight(row) {
      return delegate.getHeight(row);
    }, getTemplateId() {
      return TableListRenderer.TemplateId;
    }};
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, Table:{enumerable:!0, get:function() {
    return Table;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH_list_SLASH_listWidget_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$list$listWidget"), require$_DOT__DOT__SLASH_splitview_SLASH_splitview_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$splitview$splitview"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$common$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$table$table_css");
  class TableListRenderer {
    constructor(columns, renderers, getColumnSize) {
      this.columns = columns;
      this.getColumnSize = getColumnSize;
      this.templateId = TableListRenderer.TemplateId;
      this.renderedTemplates = new Set();
      renderers = new Map(renderers.map(r => [r.templateId, r]));
      this.renderers = [];
      for (const column of columns) {
        columns = renderers.get(column.templateId);
        if (!columns) {
          throw Error(`Table cell renderer for template id ${column.templateId} not found.`);
        }
        this.renderers.push(columns);
      }
    }
    renderTemplate(container) {
      const rowContainer = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.append)(container, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.$)(".monaco-table-tr")), cellContainers = [], cellTemplateData = [];
      for (let i = 0; i < this.columns.length; i++) {
        const renderer = this.renderers[i], cellContainer = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.append)(rowContainer, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.$)(".monaco-table-td", {"data-col-index":i}));
        cellContainer.style.width = `${this.getColumnSize(i)}px`;
        cellContainers.push(cellContainer);
        cellTemplateData.push(renderer.renderTemplate(cellContainer));
      }
      container = {container, cellContainers, cellTemplateData};
      this.renderedTemplates.add(container);
      return container;
    }
    renderElement(element, index, templateData, height) {
      for (let i = 0; i < this.columns.length; i++) {
        const cell = this.columns[i].project(element);
        this.renderers[i].renderElement(cell, index, templateData.cellTemplateData[i], height);
      }
    }
    disposeElement(element, index, templateData, height) {
      for (let i = 0; i < this.columns.length; i++) {
        const renderer = this.renderers[i];
        if (renderer.disposeElement) {
          const cell = this.columns[i].project(element);
          renderer.disposeElement(cell, index, templateData.cellTemplateData[i], height);
        }
      }
    }
    disposeTemplate(templateData) {
      for (let i = 0; i < this.columns.length; i++) {
        this.renderers[i].disposeTemplate(templateData.cellTemplateData[i]);
      }
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.clearNode)(templateData.container);
      this.renderedTemplates.delete(templateData);
    }
    layoutColumn(index, size) {
      for (const {cellContainers} of this.renderedTemplates) {
        cellContainers[index].style.width = `${size}px`;
      }
    }
  }
  TableListRenderer.TemplateId = "row";
  class ColumnHeader {
    get minimumSize() {
      var _a;
      return (_a = this.column.minimumWidth) !== null && _a !== void 0 ? _a : 120;
    }
    get maximumSize() {
      var _a;
      return (_a = this.column.maximumWidth) !== null && _a !== void 0 ? _a : Number.POSITIVE_INFINITY;
    }
    get onDidChange() {
      var _a;
      return (_a = this.column.onDidChangeWidthConstraints) !== null && _a !== void 0 ? _a : require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Event.None;
    }
    constructor(column, index) {
      this.column = column;
      this.index = index;
      this._onDidLayout = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onDidLayout = this._onDidLayout.event;
      this.element = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.$)(".monaco-table-th", {"data-col-index":index, title:column.tooltip}, column.label);
    }
    layout(size) {
      this._onDidLayout.fire([this.index, size]);
    }
  }
  class Table {
    get onDidChangeFocus() {
      return this.list.onDidChangeFocus;
    }
    get onDidChangeSelection() {
      return this.list.onDidChangeSelection;
    }
    get onDidScroll() {
      return this.list.onDidScroll;
    }
    get onMouseDblClick() {
      return this.list.onMouseDblClick;
    }
    get onPointer() {
      return this.list.onPointer;
    }
    get onDidFocus() {
      return this.list.onDidFocus;
    }
    get scrollTop() {
      return this.list.scrollTop;
    }
    set scrollTop(scrollTop) {
      this.list.scrollTop = scrollTop;
    }
    get scrollHeight() {
      return this.list.scrollHeight;
    }
    get renderHeight() {
      return this.list.renderHeight;
    }
    get onDidDispose() {
      return this.list.onDidDispose;
    }
    constructor(user, container, virtualDelegate, columns, renderers, _options) {
      this.virtualDelegate = virtualDelegate;
      this.domId = `table_id_${++Table.InstanceCount}`;
      this.disposables = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();
      this.cachedHeight = this.cachedWidth = 0;
      this.domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.append)(container, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.$)(`.monaco-table.${this.domId}`));
      container = columns.map((c, i) => new ColumnHeader(c, i));
      const descriptor = {size:container.reduce((a, b) => a + b.column.weight, 0), views:container.map(view => ({size:view.column.weight, view}))};
      this.splitview = this.disposables.add(new require$_DOT__DOT__SLASH_splitview_SLASH_splitview_DOT_js.SplitView(this.domNode, {orientation:1, scrollbarVisibility:2, getSashOrthogonalSize:() => this.cachedHeight, descriptor}));
      this.splitview.el.style.height = `${virtualDelegate.headerRowHeight}px`;
      this.splitview.el.style.lineHeight = `${virtualDelegate.headerRowHeight}px`;
      const renderer = new TableListRenderer(columns, renderers, i => this.splitview.getViewSize(i));
      this.list = this.disposables.add(new require$_DOT__DOT__SLASH_list_SLASH_listWidget_DOT_js.List(user, this.domNode, asListVirtualDelegate(virtualDelegate), [renderer], _options));
      require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Event.any(...container.map(h => h.onDidLayout))(([index, size]) => renderer.layoutColumn(index, size), null, this.disposables);
      this.splitview.onDidSashReset(index => {
        const totalWeight = columns.reduce((r, c) => r + c.weight, 0);
        this.splitview.resizeView(index, columns[index].weight / totalWeight * this.cachedWidth);
      }, null, this.disposables);
      this.styleElement = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.createStyleSheet)(this.domNode);
      this.style(require$_DOT__DOT__SLASH_list_SLASH_listWidget_DOT_js.unthemedListStyles);
    }
    updateOptions(options) {
      this.list.updateOptions(options);
    }
    splice(start, deleteCount, elements = []) {
      this.list.splice(start, deleteCount, elements);
    }
    getHTMLElement() {
      return this.domNode;
    }
    style(styles) {
      const content = [];
      content.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight + 1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`);
      this.styleElement.textContent = content.join("\n");
      this.list.style(styles);
    }
    getSelectedElements() {
      return this.list.getSelectedElements();
    }
    getSelection() {
      return this.list.getSelection();
    }
    getFocus() {
      return this.list.getFocus();
    }
    dispose() {
      this.disposables.dispose();
    }
  }
  Table.InstanceCount = 0;
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$browser$ui$table$tableWidget.js.map
