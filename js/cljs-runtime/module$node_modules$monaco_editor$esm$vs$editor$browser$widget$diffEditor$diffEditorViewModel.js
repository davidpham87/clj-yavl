shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$diffEditorViewModel = function(require, module, exports) {
  function normalizeDocumentDiff(diff, original, modified) {
    return {changes:diff.changes.map(c => new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_diff_SLASH_rangeMapping_DOT_js.DetailedLineRangeMapping(c.original, c.modified, c.innerChanges ? c.innerChanges.map(i => {
      let originalRange = i.originalRange;
      i = i.modifiedRange;
      (originalRange.endColumn !== 1 || i.endColumn !== 1) && originalRange.endColumn === original.getLineMaxColumn(originalRange.endLineNumber) && i.endColumn === modified.getLineMaxColumn(i.endLineNumber) && originalRange.endLineNumber < original.getLineCount() && i.endLineNumber < modified.getLineCount() && (originalRange = originalRange.setEndPosition(originalRange.endLineNumber + 1, 1), i = i.setEndPosition(i.endLineNumber + 1, 1));
      return new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_diff_SLASH_rangeMapping_DOT_js.RangeMapping(originalRange, i);
    }) : void 0)), moves:diff.moves, identical:diff.identical, quitEarly:diff.quitEarly};
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, DiffEditorViewModel:{enumerable:!0, get:function() {
    return DiffEditorViewModel;
  }}, DiffMapping:{enumerable:!0, get:function() {
    return DiffMapping;
  }}, DiffState:{enumerable:!0, get:function() {
    return DiffState;
  }}, UnchangedRegion:{enumerable:!0, get:function() {
    return UnchangedRegion;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$async"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_cancellation_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$cancellation"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$observable");
  module = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$diffProviderFactoryService");
  var require$_DOT__SLASH_utils_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$utils"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$lineRange"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_diff_SLASH_defaultLinesDiffComputer_SLASH_defaultLinesDiffComputer_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$defaultLinesDiffComputer"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_diff_SLASH_rangeMapping_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$diff$rangeMapping"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_bracketPairsTextModelPart_SLASH_bracketPairsTree_SLASH_beforeEditPositionMapper_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$bracketPairsTree$beforeEditPositionMapper"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_bracketPairsTextModelPart_SLASH_bracketPairsTree_SLASH_combineTextEditInfos_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$bracketPairsTree$combineTextEditInfos"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_diff_SLASH_defaultLinesDiffComputer_SLASH_heuristicSequenceOptimizations_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$heuristicSequenceOptimizations");
  let DiffEditorViewModel = class extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    setActiveMovedText(movedText) {
      this._activeMovedText.set(movedText, void 0);
    }
    constructor(model, _options, _diffProviderFactoryService) {
      super();
      this.model = model;
      this._options = _options;
      this._diffProviderFactoryService = _diffProviderFactoryService;
      this.isDiffUpToDate = this._isDiffUpToDate = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, !1);
      this.diff = this._diff = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, void 0);
      this._unchangedRegions = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, {regions:[], originalDecorationIds:[], modifiedDecorationIds:[]});
      this.unchangedRegions = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(this, r => {
        if (this._options.hideUnchangedRegions.read(r)) {
          return this._unchangedRegions.read(r).regions;
        }
        (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.transaction)(tx => {
          for (const r of this._unchangedRegions.get().regions) {
            r.collapseAll(tx);
          }
        });
        return [];
      });
      this.movedTextToCompare = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, void 0);
      this._activeMovedText = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, void 0);
      this._hoveredMovedText = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, void 0);
      this.activeMovedText = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(this, r => {
        var _a, _b;
        return (_b = (_a = this.movedTextToCompare.read(r)) !== null && _a !== void 0 ? _a : this._hoveredMovedText.read(r)) !== null && _b !== void 0 ? _b : this._activeMovedText.read(r);
      });
      this._cancellationTokenSource = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_cancellation_DOT_js.CancellationTokenSource();
      this._diffProvider = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(this, reader => {
        reader = this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(reader)});
        const onChangeSignal = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableSignalFromEvent)("onDidChange", reader.onDidChange);
        return {diffProvider:reader, onChangeSignal};
      });
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.toDisposable)(() => this._cancellationTokenSource.cancel()));
      const contentChangedSignal = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableSignal)("contentChangedSignal"), debouncer = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => contentChangedSignal.trigger(void 0), 200)), updateUnchangedRegions = (result, tx, reader) => {
        result = UnchangedRegion.fromDiffs(result.changes, model.original.getLineCount(), model.modified.getLineCount(), this._options.hideUnchangedRegionsMinimumLineCount.read(reader), this._options.hideUnchangedRegionsContextLineCount.read(reader));
        reader = this._unchangedRegions.get();
        const lastUnchangedRegionsOrigRanges = reader.originalDecorationIds.map(id => model.original.getDecorationRange(id)).map(r => r ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.fromRange(r) : void 0), lastUnchangedRegionsModRanges = reader.modifiedDecorationIds.map(id => model.modified.getDecorationRange(id)).map(r => r ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.fromRange(r) : 
        void 0), originalDecorationIds = model.original.deltaDecorations(reader.originalDecorationIds, result.map(r => ({range:r.originalUnchangedRange.toInclusiveRange(), options:{description:"unchanged"}}))), modifiedDecorationIds = model.modified.deltaDecorations(reader.modifiedDecorationIds, result.map(r => ({range:r.modifiedUnchangedRange.toInclusiveRange(), options:{description:"unchanged"}})));
        for (const r of result) {
          for (let i = 0; i < reader.regions.length; i++) {
            if (lastUnchangedRegionsOrigRanges[i] && r.originalUnchangedRange.intersectsStrict(lastUnchangedRegionsOrigRanges[i]) && lastUnchangedRegionsModRanges[i] && r.modifiedUnchangedRange.intersectsStrict(lastUnchangedRegionsModRanges[i])) {
              r.setHiddenModifiedRange(reader.regions[i].getHiddenModifiedRange(void 0), tx);
              break;
            }
          }
        }
        this._unchangedRegions.set({regions:result, originalDecorationIds, modifiedDecorationIds}, tx);
      };
      this._register(model.modified.onDidChangeContent(e => {
        this._diff.get() && require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_bracketPairsTextModelPart_SLASH_bracketPairsTree_SLASH_beforeEditPositionMapper_DOT_js.TextEditInfo.fromModelContentChanges(e.changes);
        this._isDiffUpToDate.set(!1, void 0);
        debouncer.schedule();
      }));
      this._register(model.original.onDidChangeContent(e => {
        this._diff.get() && require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_bracketPairsTextModelPart_SLASH_bracketPairsTree_SLASH_beforeEditPositionMapper_DOT_js.TextEditInfo.fromModelContentChanges(e.changes);
        this._isDiffUpToDate.set(!1, void 0);
        debouncer.schedule();
      }));
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.autorunWithStore)(async(reader, store) => {
        this._options.hideUnchangedRegionsMinimumLineCount.read(reader);
        this._options.hideUnchangedRegionsContextLineCount.read(reader);
        debouncer.cancel();
        contentChangedSignal.read(reader);
        const documentDiffProvider = this._diffProvider.read(reader);
        documentDiffProvider.onChangeSignal.read(reader);
        (0,require$_DOT__SLASH_utils_DOT_js.readHotReloadableExport)(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_diff_SLASH_defaultLinesDiffComputer_SLASH_defaultLinesDiffComputer_DOT_js.DefaultLinesDiffComputer, reader);
        (0,require$_DOT__SLASH_utils_DOT_js.readHotReloadableExport)(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_diff_SLASH_defaultLinesDiffComputer_SLASH_heuristicSequenceOptimizations_DOT_js.optimizeSequenceDiffs, reader);
        this._isDiffUpToDate.set(!1, void 0);
        let originalTextEditInfos = [];
        store.add(model.original.onDidChangeContent(e => {
          e = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_bracketPairsTextModelPart_SLASH_bracketPairsTree_SLASH_beforeEditPositionMapper_DOT_js.TextEditInfo.fromModelContentChanges(e.changes);
          originalTextEditInfos = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_bracketPairsTextModelPart_SLASH_bracketPairsTree_SLASH_combineTextEditInfos_DOT_js.combineTextEditInfos)(originalTextEditInfos, e);
        }));
        let modifiedTextEditInfos = [];
        store.add(model.modified.onDidChangeContent(e => {
          e = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_bracketPairsTextModelPart_SLASH_bracketPairsTree_SLASH_beforeEditPositionMapper_DOT_js.TextEditInfo.fromModelContentChanges(e.changes);
          modifiedTextEditInfos = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_bracketPairsTextModelPart_SLASH_bracketPairsTree_SLASH_combineTextEditInfos_DOT_js.combineTextEditInfos)(modifiedTextEditInfos, e);
        }));
        let result = await documentDiffProvider.diffProvider.computeDiff(model.original, model.modified, {ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(reader), maxComputationTimeMs:this._options.maxComputationTimeMs.read(reader), computeMoves:this._options.showMoves.read(reader)}, this._cancellationTokenSource.token);
        this._cancellationTokenSource.token.isCancellationRequested || (result = normalizeDocumentDiff(result, model.original, model.modified), (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.transaction)(tx => {
          updateUnchangedRegions(result, tx);
          this._lastDiff = result;
          const state = DiffState.fromDiffResult(result);
          this._diff.set(state, tx);
          this._isDiffUpToDate.set(!0, tx);
          const currentSyncedMovedText = this.movedTextToCompare.get();
          this.movedTextToCompare.set(currentSyncedMovedText ? this._lastDiff.moves.find(m => m.lineRangeMapping.modified.intersect(currentSyncedMovedText.lineRangeMapping.modified)) : void 0, tx);
        }));
      }));
    }
    ensureModifiedLineIsVisible(lineNumber, tx) {
      var _a;
      if (((_a = this.diff.get()) === null || _a === void 0 ? void 0 : _a.mappings.length) !== 0) {
        _a = this._unchangedRegions.get().regions;
        for (const r of _a) {
          if (r.getHiddenModifiedRange(void 0).contains(lineNumber)) {
            r.showModifiedLine(lineNumber, tx);
            break;
          }
        }
      }
    }
    ensureOriginalLineIsVisible(lineNumber, tx) {
      var _a;
      if (((_a = this.diff.get()) === null || _a === void 0 ? void 0 : _a.mappings.length) !== 0) {
        _a = this._unchangedRegions.get().regions;
        for (const r of _a) {
          if (r.getHiddenOriginalRange(void 0).contains(lineNumber)) {
            r.showOriginalLine(lineNumber, tx);
            break;
          }
        }
      }
    }
    async waitForDiff() {
      await (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.waitForState)(this.isDiffUpToDate, s => s);
    }
    serializeState() {
      return {collapsedRegions:this._unchangedRegions.get().regions.map(r => ({range:r.getHiddenModifiedRange(void 0).serialize()}))};
    }
    restoreSerializedState(state) {
      const ranges = state.collapsedRegions.map(r => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.deserialize(r.range)), regions = this._unchangedRegions.get();
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.transaction)(tx => {
        for (const r of regions.regions) {
          for (const range of ranges) {
            if (r.modifiedUnchangedRange.intersect(range)) {
              r.setHiddenModifiedRange(range, tx);
              break;
            }
          }
        }
      });
    }
  };
  DiffEditorViewModel = (this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  })([(this && this.__param || function(paramIndex, decorator) {
    return function(target, key) {
      decorator(target, key, paramIndex);
    };
  })(2, module.IDiffProviderFactoryService)], DiffEditorViewModel);
  class DiffState {
    static fromDiffResult(result) {
      return new DiffState(result.changes.map(c => new DiffMapping(c)), result.moves || [], result.identical, result.quitEarly);
    }
    constructor(mappings, movedTexts, identical, quitEarly) {
      this.mappings = mappings;
      this.movedTexts = movedTexts;
      this.identical = identical;
      this.quitEarly = quitEarly;
    }
  }
  class DiffMapping {
    constructor(lineRangeMapping) {
      this.lineRangeMapping = lineRangeMapping;
    }
  }
  class UnchangedRegion {
    static fromDiffs(changes, originalLineCount, modifiedLineCount, minHiddenLineCount, minContext) {
      var inversedMappings = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_diff_SLASH_rangeMapping_DOT_js.DetailedLineRangeMapping.inverse(changes, originalLineCount, modifiedLineCount);
      changes = [];
      for (const mapping of inversedMappings) {
        inversedMappings = mapping.original.startLineNumber;
        let modStart = mapping.modified.startLineNumber, length = mapping.original.length;
        const atStart = inversedMappings === 1 && modStart === 1, atEnd = inversedMappings + length === originalLineCount + 1 && modStart + length === modifiedLineCount + 1;
        (atStart || atEnd) && length >= minContext + minHiddenLineCount ? (atStart && !atEnd && (length -= minContext), atEnd && !atStart && (inversedMappings += minContext, modStart += minContext, length -= minContext), changes.push(new UnchangedRegion(inversedMappings, modStart, length, 0, 0))) : length >= minContext * 2 + minHiddenLineCount && (inversedMappings += minContext, modStart += minContext, length -= minContext * 2, changes.push(new UnchangedRegion(inversedMappings, modStart, length, 
        0, 0)));
      }
      return changes;
    }
    get originalUnchangedRange() {
      return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.ofLength(this.originalLineNumber, this.lineCount);
    }
    get modifiedUnchangedRange() {
      return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.ofLength(this.modifiedLineNumber, this.lineCount);
    }
    constructor(originalLineNumber, modifiedLineNumber, lineCount, visibleLineCountTop, visibleLineCountBottom) {
      this.originalLineNumber = originalLineNumber;
      this.modifiedLineNumber = modifiedLineNumber;
      this.lineCount = lineCount;
      this.visibleLineCountTop = this._visibleLineCountTop = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, 0);
      this.visibleLineCountBottom = this._visibleLineCountBottom = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, 0);
      this._shouldHideControls = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(this, reader => this.visibleLineCountTop.read(reader) + this.visibleLineCountBottom.read(reader) === this.lineCount && !this.isDragged.read(reader));
      this.isDragged = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableValue)(this, void 0);
      this._visibleLineCountTop.set(visibleLineCountTop, void 0);
      this._visibleLineCountBottom.set(visibleLineCountBottom, void 0);
    }
    shouldHideControls(reader) {
      return this._shouldHideControls.read(reader);
    }
    getHiddenOriginalRange(reader) {
      return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.ofLength(this.originalLineNumber + this._visibleLineCountTop.read(reader), this.lineCount - this._visibleLineCountTop.read(reader) - this._visibleLineCountBottom.read(reader));
    }
    getHiddenModifiedRange(reader) {
      return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_lineRange_DOT_js.LineRange.ofLength(this.modifiedLineNumber + this._visibleLineCountTop.read(reader), this.lineCount - this._visibleLineCountTop.read(reader) - this._visibleLineCountBottom.read(reader));
    }
    setHiddenModifiedRange(range, tx) {
      this.setState(range.startLineNumber - this.modifiedLineNumber, this.modifiedLineNumber + this.lineCount - range.endLineNumberExclusive, tx);
    }
    getMaxVisibleLineCountTop() {
      return this.lineCount - this._visibleLineCountBottom.get();
    }
    getMaxVisibleLineCountBottom() {
      return this.lineCount - this._visibleLineCountTop.get();
    }
    showMoreAbove(count = 10, tx) {
      const maxVisibleLineCountTop = this.getMaxVisibleLineCountTop();
      this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get() + count, maxVisibleLineCountTop), tx);
    }
    showMoreBelow(count = 10, tx) {
      const maxVisibleLineCountBottom = this.lineCount - this._visibleLineCountTop.get();
      this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get() + count, maxVisibleLineCountBottom), tx);
    }
    showAll(tx) {
      this._visibleLineCountBottom.set(this.lineCount - this._visibleLineCountTop.get(), tx);
    }
    showModifiedLine(lineNumber, tx) {
      const top = lineNumber + 1 - (this.modifiedLineNumber + this._visibleLineCountTop.get());
      lineNumber = this.modifiedLineNumber - this._visibleLineCountBottom.get() + this.lineCount - lineNumber;
      top < lineNumber ? this._visibleLineCountTop.set(this._visibleLineCountTop.get() + top, tx) : this._visibleLineCountBottom.set(this._visibleLineCountBottom.get() + lineNumber, tx);
    }
    showOriginalLine(lineNumber, tx) {
      const top = lineNumber - this.originalLineNumber;
      lineNumber = this.originalLineNumber + this.lineCount - lineNumber;
      top < lineNumber ? this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get() + lineNumber - top, this.getMaxVisibleLineCountTop()), tx) : this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get() + top - lineNumber, this.getMaxVisibleLineCountBottom()), tx);
    }
    collapseAll(tx) {
      this._visibleLineCountTop.set(0, tx);
      this._visibleLineCountBottom.set(0, tx);
    }
    setState(visibleLineCountTop, visibleLineCountBottom, tx) {
      visibleLineCountTop = Math.max(Math.min(visibleLineCountTop, this.lineCount), 0);
      visibleLineCountBottom = Math.max(Math.min(visibleLineCountBottom, this.lineCount - visibleLineCountTop), 0);
      this._visibleLineCountTop.set(visibleLineCountTop, tx);
      this._visibleLineCountBottom.set(visibleLineCountBottom, tx);
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$diffEditorViewModel.js.map
