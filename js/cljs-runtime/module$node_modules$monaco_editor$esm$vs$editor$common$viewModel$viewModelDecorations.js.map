{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$viewModelDecorations.js",
"lineCount":127,
"mappings":"AAAAA,cAAA,CAAA,qFAAA,GAA0G,QAAQ,CAACC,OAAD,EAASC,MAAT,EAAgBC,OAAhB,CAAyB;AA2H3IC,UAASA,yBAAwB,CAACC,KAAD,EAAQC,UAAR,CAAoB;AAInD,WAHIA,UAAWC,CAAAA,OAAQC,CAAAA,mBAGvB,IAH8CC,0BAAA,CAA2BJ,KAA3B,EAAkCC,UAAlC,CAG9C,IAAIA,UAAWC,CAAAA,OAAQG,CAAAA,kBAAvB,IAA6CC,yBAAA,CAA0BN,KAA1B,EAAiCC,UAAjC,CAA7C,GACS,CAAA,CADT,GAGO,CAAA,CAHP;AAJmD;AASrDG,UAASA,2BAA0B,CAACJ,KAAD,EAAQC,UAAR,CAAoB;AACrD,WAAOM,iBAAA,CAAkBP,KAAlB,EAAyBC,UAAWO,CAAAA,KAApC,EAA2CC,SAAA,IAAaA,SAAb,KAA2B,CAAtE,CAAP;AADqD;AAGvDH,UAASA,0BAAyB,CAACN,KAAD,EAAQC,UAAR,CAAoB;AACpD,WAAOM,iBAAA,CAAkBP,KAAlB,EAAyBC,UAAWO,CAAAA,KAApC,EAA2CC,SAAA,IAAaA,SAAb,KAA2B,CAAtE,CAAP;AADoD;AAGtDF,UAASA,kBAAiB,CAACP,KAAD,EAAQQ,KAAR,EAAeE,QAAf,CAAyB;AACjD,SAAK,IAAIC,aAAaH,KAAMI,CAAAA,eAA5B,EAA6CD,UAA7C,IAA2DH,KAAMK,CAAAA,aAAjE,EAAgFF,UAAA,EAAhF,CAA8F;AAC5F,YAAMG,aAAad,KAAMe,CAAAA,YAAaC,CAAAA,aAAnB,CAAiCL,UAAjC,CAAnB,EAEMM,YAAYN,UAAZM,KAA2BT,KAAMK,CAAAA,aAFvC;AAGA,UAAIK,WAFgBP,UAEL,KAFoBH,KAAMI,CAAAA,eAE1B,GAAcE,UAAWK,CAAAA,sBAAX,CAAkCX,KAAMY,CAAAA,WAAxC,GAAsD,CAAtD,CAAd,GAAyE,CAAxF;AACA,WAAA,EAAOF,QAAP,GAAkBJ,UAAWO,CAAAA,QAAX,EAAlB,IACMJ,EAAAA,SAAAA,IACkBH,UAAWQ,CAAAA,cAAXC,CAA0BL,QAA1BK,CADlBN,GAEgBT,KAAMgB,CAAAA,SAFtBP,GAEkC,CAFlCA,CADN,CAAA,CAAyC;AAQvC,YAAI,CADmBP,QAAAe,CAASX,UAAWY,CAAAA,oBAAX,CAAgCR,QAAhC,CAATO,CACvB;AACE,iBAAO,CAAA,CAAP;AADF;AAGAP,gBAAA,EAAA;AAXuC;AALmD;AAmB9F,WAAO,CAAA,CAAP;AApBiD;AAzInDS,QAAOC,CAAAA,gBAAP,CAAwB9B,OAAxB,EAAiC,CAAC+B,WAAW,CAACC,WAAW,CAAA,CAAZ,EAAkBC,MAAM,CAAA,CAAxB,CAAZ,EAA2CC,qBAAqB,CAACF,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AAChI,WAAOD,oBAAP;AADgI,GAAjC,CAAhE,EAE7B5B,2BAA2B,CAAC0B,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AAC9D,WAAO7B,0BAAP;AAD8D,GAAjC,CAFE,EAI7BE,0BAA0B,CAACwB,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AAC7D,WAAO3B,yBAAP;AAD6D,GAAjC,CAJG,EAM7BP,yBAAyB,CAAC+B,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AAC5D,WAAOlC,wBAAP;AAD4D,GAAjC,CANI,CAAjC,CAAA;AASA,MAAImC,sDAAsDtC,OAAA,CAAQ,sEAAR,CAA1D,EACIuC,mDAAmDvC,OAAA,CAAQ,mEAAR,CADvD,EAEIwC,4CAA4CxC,OAAA,CAAQ,kEAAR,CAFhD,EAGIyC,6DAA6DzC,OAAA,CAAQ,6EAAR,CAHjE;AAIA,OAAMoC,qBAAN;AACEM,eAAW,CAACC,QAAD,EAAWvC,KAAX,EAAkBwC,aAAlB,EAAiCC,eAAjC,EAAkDC,oBAAlD,CAAwE;AACjF,UAAKH,CAAAA,QAAL,GAAgBA,QAAhB;AACA,UAAKvC,CAAAA,KAAL,GAAaA,KAAb;AACA,UAAKwC,CAAAA,aAAL,GAAqBA,aAArB;AACA,UAAKG,CAAAA,gBAAL,GAAwBF,eAAxB;AACA,UAAKG,CAAAA,qBAAL,GAA6BF,oBAA7B;AACA,UAAKG,CAAAA,iBAAL,GAAyBlB,MAAOmB,CAAAA,MAAP,CAAc,IAAd,CAAzB;AAEA,UAAKC,CAAAA,wCAAL,GADA,IAAKC,CAAAA,+BACL,GADuC,IACvC;AARiF;AAUnFC,wCAAoC,EAAG;AAErC,UAAKF,CAAAA,wCAAL,GADA,IAAKC,CAAAA,+BACL,GADuC,IACvC;AAFqC;AAIvCE,WAAO,EAAG;AACR,UAAKL,CAAAA,iBAAL,GAAyBlB,MAAOmB,CAAAA,MAAP,CAAc,IAAd,CAAzB;AACA,UAAKG,CAAAA,oCAAL,EAAA;AAFQ;AAIVE,SAAK,EAAG;AACN,UAAKN,CAAAA,iBAAL,GAAyBlB,MAAOmB,CAAAA,MAAP,CAAc,IAAd,CAAzB;AACA,UAAKG,CAAAA,oCAAL,EAAA;AAFM;AAIRG,6BAAyB,EAAG;AAC1B,UAAKP,CAAAA,iBAAL,GAAyBlB,MAAOmB,CAAAA,MAAP,CAAc,IAAd,CAAzB;AACA,UAAKG,CAAAA,oCAAL,EAAA;AAF0B;AAI5BI,wBAAoB,EAAG;AACrB,UAAKR,CAAAA,iBAAL,GAAyBlB,MAAOmB,CAAAA,MAAP,CAAc,IAAd,CAAzB;AACA,UAAKG,CAAAA,oCAAL,EAAA;AAFqB;AAIvBK,mCAA+B,CAACC,eAAD,CAAkB;AAC/C,YAAMC,KAAKD,eAAgBC,CAAAA,EAA3B;AACA,UAAIC,IAAI,IAAKZ,CAAAA,iBAAL,CAAuBW,EAAvB,CAAR;AACA,UAAI,CAACC,CAAL,CAAQ;AACAC,SAAAA,GAAaH,eAAgB/C,CAAAA,KAA7BkD;AACAxD,uBAAAA,GAAUqD,eAAgBrD,CAAAA,OAA1BA;AAEN,YAAIA,eAAQyD,CAAAA,WAAZ,CAAyB;AACvB,gBAAMC,QAAQ,IAAKhB,CAAAA,qBAAsBiB,CAAAA,kCAA3B,CAA8D,IAAI3B,mDAAoD4B,CAAAA,QAAxD,CAAiEJ,CAAW9C,CAAAA,eAA5E,EAA6F,CAA7F,CAA9D,EAA+J,CAA/J,EAAkK,CAAA,CAAlK,EAAyK,CAAA,CAAzK,CAAd;AACMmD,WAAAA,GAAM,IAAKnB,CAAAA,qBAAsBiB,CAAAA,kCAA3B,CAA8D,IAAI3B,mDAAoD4B,CAAAA,QAAxD,CAAiEJ,CAAW7C,CAAAA,aAA5E,EAA2F,IAAKb,CAAAA,KAAMgE,CAAAA,gBAAX,CAA4BN,CAAW7C,CAAAA,aAAvC,CAA3F,CAA9D,EAAiN,CAAjN,CAANkD;AACNE,WAAA,GAAY,IAAI9B,gDAAiD+B,CAAAA,KAArD,CAA2DN,KAAMjD,CAAAA,UAAjE,EAA6EiD,KAAMO,CAAAA,MAAnF,EAA2FJ,CAAIpD,CAAAA,UAA/F,EAA2GoD,CAAII,CAAAA,MAA/G,CAAZ;AAHuB,SAAzB;AAKEF,WAAA,GAAY,IAAKrB,CAAAA,qBAAsBwB,CAAAA,4BAA3B,CAAwDV,CAAxD,EAAoE,CAApE,CAAZ;AALF;AAOAD,SAAA,GAAI,IAAIrB,yCAA0CiC,CAAAA,mBAA9C,CAAkEJ,CAAlE,EAA6E/D,eAA7E,CAAJ;AACA,YAAK2C,CAAAA,iBAAL,CAAuBW,EAAvB,CAAA,GAA6BC,CAA7B;AAZM;AAcR,aAAOA,CAAP;AAjB+C;AAmBjDa,gCAA4B,CAAC9D,KAAD,CAAQ;AAClC,aAAO,IAAK+D,CAAAA,sBAAL,CAA4B/D,KAA5B,EAAmC,CAAA,CAAnC,EAAyC,CAAA,CAAzC,CAAgDgE,CAAAA,WAAvD;AADkC;AAGpCC,8BAA0B,CAACR,SAAD,CAAY;AACpC,UAAIS,eAAe,IAAK1B,CAAAA,+BAApB0B,KAAwD,IAA5D;AACAA,kBAAA,GAAeA,YAAf,IAA+BT,SAAUU,CAAAA,WAAV,CAAsB,IAAK5B,CAAAA,wCAA3B,CAA/B;AACK2B,kBAAL,KACE,IAAK1B,CAAAA,+BACL,GADuC,IAAKuB,CAAAA,sBAAL,CAA4BN,SAA5B,EAAuC,CAAA,CAAvC,EAA8C,CAAA,CAA9C,CACvC,EAAA,IAAKlB,CAAAA,wCAAL,GAAgDkB,SAFlD;AAIA,aAAO,IAAKjB,CAAAA,+BAAZ;AAPoC;AAStC4B,8BAA0B,CAACjE,UAAD,EAAakE,sBAAA,GAAyB,CAAA,CAAtC,EAA6CC,qBAAA,GAAwB,CAAA,CAArE,CAA4E;AAC9FtE,gBAAAA,GAAQ,IAAI2B,gDAAiD+B,CAAAA,KAArD,CAA2DvD,UAA3D,EAAuE,IAAKgC,CAAAA,gBAAiBoC,CAAAA,oBAAtB,CAA2CpE,UAA3C,CAAvE,EAA+HA,UAA/H,EAA2I,IAAKgC,CAAAA,gBAAiBqC,CAAAA,oBAAtB,CAA2CrE,UAA3C,CAA3I,CAARH;AACN,aAAO,IAAK+D,CAAAA,sBAAL,CAA4B/D,UAA5B,EAAmCqE,sBAAnC,EAA2DC,qBAA3D,CAAkFG,CAAAA,iBAAlF,CAAoG,CAApG,CAAP;AAFoG;AAItGV,0BAAsB,CAACN,SAAD,EAAYY,sBAAZ,EAAoCC,qBAApC,CAA2D;AACzEI,4BAAAA,GAAmB,IAAKvC,CAAAA,gBAAiBwC,CAAAA,qBAAtB,CAA4ClB,SAA5C,EAAuD,IAAK1B,CAAAA,QAA5D,EAAsE,GAAGF,0DAA2D+C,CAAAA,2BAA9D,EAA2F,IAAK5C,CAAAA,aAActC,CAAAA,OAA9G,CAAtE,EAA8L2E,sBAA9L,EAAsNC,qBAAtN,CAAnBI;AACAtE,2BAAAA,GAAkBqD,SAAUrD,CAAAA,eAA5BA;AACAC,eAAAA,GAAgBoD,SAAUpD,CAAAA,aAA1BA;AACN,YAAMwE,wBAAwB,EAA9B;AACA,UAAIC,2BAA2B,CAA/B;AACA,YAAML,oBAAoB,EAA1B;AACA,WAAK,IAAIM,IAAI3E,qBAAb,EAA8B2E,CAA9B,IAAmC1E,SAAnC,EAAkD0E,CAAA,EAAlD;AACEN,yBAAA,CAAkBM,CAAlB,GAAsB3E,qBAAtB,CAAA,GAAyC,EAAzC;AADF;AAGA,WAAK,IAAI4E,IAAI,CAAR,EAAWC,MAAMP,sBAAiBQ,CAAAA,MAAvC,EAA+CF,CAA/C,GAAmDC,GAAnD,EAAwDD,CAAA,EAAxD,CAA6D;AAC3D,YAAMjC,kBAAkB2B,sBAAA,CAAiBM,CAAjB,CAAxB;AACMG,SAAAA,GAAoBpC,eAAgBrD,CAAAA,OAApCyF;AACN,YAAK5F,wBAAA,CAAyB,IAAKC,CAAAA,KAA9B,EAAqCuD,eAArC,CAAL,CAAA;AAGA,cAAMqC,sBAAsB,IAAKtC,CAAAA,+BAAL,CAAqCC,eAArC,CAA5B;AACMU,yBAAAA,GAAY2B,mBAAoBpF,CAAAA,KAAhCyD;AACNoB,+BAAA,CAAsBC,wBAAA,EAAtB,CAAA,GAAoDM,mBAApD;AACA,cAAID,CAAkBE,CAAAA,eAAtB,CAAuC;AAC/BC,+BAAAA,GAAmB,IAAI1D,yCAA0C2D,CAAAA,gBAA9C,CAA+D9B,eAA/D,EAA0E0B,CAAkBE,CAAAA,eAA5F,EAA6GF,CAAkBK,CAAAA,mCAAlB,GAAwD,CAAxD,GAA4D,CAAzK,CAAnBF;AACN,gBAAMG,6BAA6BC,IAAKC,CAAAA,GAAL,CAASvF,qBAAT,EAA0BqD,eAAUrD,CAAAA,eAApC,CAAnC;AACA,kBAAMwF,2BAA2BF,IAAKG,CAAAA,GAAL,CAASxF,SAAT,EAAwBoD,eAAUpD,CAAAA,aAAlC,CAAjC;AACA,iBAAA,EAAyC0E,0BAAzC,IAA8Ca,wBAA9C,EAAwEb,0BAAA,EAAxE;AACEN,+BAAA,CAAkBM,0BAAlB,GAAsB3E,qBAAtB,CAAuC0F,CAAAA,IAAvC,CAA4CR,mBAA5C,CAAA;AADF;AAJqC;AAQnCH,WAAkBY,CAAAA,sBAAtB,IACM3F,qBADN,IACyBqD,eAAUrD,CAAAA,eADnC,IACsDqD,eAAUrD,CAAAA,eADhE,IACmFC,SADnF,KAEUiF,mBACN,GADyB,IAAI1D,yCAA0C2D,CAAAA,gBAA9C,CAA+D,IAAI5D,gDAAiD+B,CAAAA,KAArD,CAA2DD,eAAUrD,CAAAA,eAArE,EAAsFqD,eAAU7C,CAAAA,WAAhG,EAA6G6C,eAAUrD,CAAAA,eAAvH,EAAwIqD,eAAU7C,CAAAA,WAAlJ,CAA/D,EAA+NuE,CAAkBY,CAAAA,sBAAjP,EAAyQ,CAAzQ,CACzB,EAAAtB,iBAAA,CAAkBhB,eAAUrD,CAAAA,eAA5B,GAA8CA,qBAA9C,CAA+D0F,CAAAA,IAA/D,CAAoER,mBAApE,CAHJ;AAMIH,WAAkBa,CAAAA,qBAAtB,IACM5F,qBADN,IACyBqD,eAAUpD,CAAAA,aADnC,IACoDoD,eAAUpD,CAAAA,aAD9D,IAC+EA,SAD/E,KAEUiF,CACN,GADyB,IAAI1D,yCAA0C2D,CAAAA,gBAA9C,CAA+D,IAAI5D,gDAAiD+B,CAAAA,KAArD,CAA2DD,eAAUpD,CAAAA,aAArE,EAAoFoD,eAAUzC,CAAAA,SAA9F,EAAyGyC,eAAUpD,CAAAA,aAAnH,EAAkIoD,eAAUzC,CAAAA,SAA5I,CAA/D,EAAuNmE,CAAkBa,CAAAA,qBAAzO,EAAgQ,CAAhQ,CACzB,EAAAvB,iBAAA,CAAkBhB,eAAUpD,CAAAA,aAA5B,GAA4CD,qBAA5C,CAA6D0F,CAAAA,IAA7D,CAAkER,CAAlE,CAHJ;AApBA;AAH2D;AA8B7D,aAAO,CAACtB,YAAYa,qBAAb,EAAsDJ,iBAAtD,CAAP;AAxC+E;AAlEnF;AAd2I,CAA3I;;",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/viewModel/viewModelDecorations.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$viewModelDecorations\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, ViewModelDecorations:{enumerable:true, get:function() {\n  return ViewModelDecorations;\n}}, isModelDecorationInComment:{enumerable:true, get:function() {\n  return isModelDecorationInComment;\n}}, isModelDecorationInString:{enumerable:true, get:function() {\n  return isModelDecorationInString;\n}}, isModelDecorationVisible:{enumerable:true, get:function() {\n  return isModelDecorationVisible;\n}}});\nvar require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js = require(\"../core/position.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js = require(\"../core/range.js\");\nvar require$_DOT__DOT__SLASH_viewModel_DOT_js = require(\"../viewModel.js\");\nvar require$_DOT__DOT__SLASH_config_SLASH_editorOptions_DOT_js = require(\"../config/editorOptions.js\");\nclass ViewModelDecorations {\n  constructor(editorId, model, configuration, linesCollection, coordinatesConverter) {\n    this.editorId = editorId;\n    this.model = model;\n    this.configuration = configuration;\n    this._linesCollection = linesCollection;\n    this._coordinatesConverter = coordinatesConverter;\n    this._decorationsCache = Object.create(null);\n    this._cachedModelDecorationsResolver = null;\n    this._cachedModelDecorationsResolverViewRange = null;\n  }\n  _clearCachedModelDecorationsResolver() {\n    this._cachedModelDecorationsResolver = null;\n    this._cachedModelDecorationsResolverViewRange = null;\n  }\n  dispose() {\n    this._decorationsCache = Object.create(null);\n    this._clearCachedModelDecorationsResolver();\n  }\n  reset() {\n    this._decorationsCache = Object.create(null);\n    this._clearCachedModelDecorationsResolver();\n  }\n  onModelDecorationsChanged() {\n    this._decorationsCache = Object.create(null);\n    this._clearCachedModelDecorationsResolver();\n  }\n  onLineMappingChanged() {\n    this._decorationsCache = Object.create(null);\n    this._clearCachedModelDecorationsResolver();\n  }\n  _getOrCreateViewModelDecoration(modelDecoration) {\n    const id = modelDecoration.id;\n    let r = this._decorationsCache[id];\n    if (!r) {\n      const modelRange = modelDecoration.range;\n      const options = modelDecoration.options;\n      let viewRange;\n      if (options.isWholeLine) {\n        const start = this._coordinatesConverter.convertModelPositionToViewPosition(new require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position(modelRange.startLineNumber, 1), 0, false, true);\n        const end = this._coordinatesConverter.convertModelPositionToViewPosition(new require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position(modelRange.endLineNumber, this.model.getLineMaxColumn(modelRange.endLineNumber)), 1);\n        viewRange = new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(start.lineNumber, start.column, end.lineNumber, end.column);\n      } else {\n        viewRange = this._coordinatesConverter.convertModelRangeToViewRange(modelRange, 1);\n      }\n      r = new require$_DOT__DOT__SLASH_viewModel_DOT_js.ViewModelDecoration(viewRange, options);\n      this._decorationsCache[id] = r;\n    }\n    return r;\n  }\n  getMinimapDecorationsInRange(range) {\n    return this._getDecorationsInRange(range, true, false).decorations;\n  }\n  getDecorationsViewportData(viewRange) {\n    let cacheIsValid = this._cachedModelDecorationsResolver !== null;\n    cacheIsValid = cacheIsValid && viewRange.equalsRange(this._cachedModelDecorationsResolverViewRange);\n    if (!cacheIsValid) {\n      this._cachedModelDecorationsResolver = this._getDecorationsInRange(viewRange, false, false);\n      this._cachedModelDecorationsResolverViewRange = viewRange;\n    }\n    return this._cachedModelDecorationsResolver;\n  }\n  getInlineDecorationsOnLine(lineNumber, onlyMinimapDecorations = false, onlyMarginDecorations = false) {\n    const range = new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(lineNumber, this._linesCollection.getViewLineMinColumn(lineNumber), lineNumber, this._linesCollection.getViewLineMaxColumn(lineNumber));\n    return this._getDecorationsInRange(range, onlyMinimapDecorations, onlyMarginDecorations).inlineDecorations[0];\n  }\n  _getDecorationsInRange(viewRange, onlyMinimapDecorations, onlyMarginDecorations) {\n    const modelDecorations = this._linesCollection.getDecorationsInRange(viewRange, this.editorId, (0,require$_DOT__DOT__SLASH_config_SLASH_editorOptions_DOT_js.filterValidationDecorations)(this.configuration.options), onlyMinimapDecorations, onlyMarginDecorations);\n    const startLineNumber = viewRange.startLineNumber;\n    const endLineNumber = viewRange.endLineNumber;\n    const decorationsInViewport = [];\n    let decorationsInViewportLen = 0;\n    const inlineDecorations = [];\n    for (let j = startLineNumber; j <= endLineNumber; j++) {\n      inlineDecorations[j - startLineNumber] = [];\n    }\n    for (let i = 0, len = modelDecorations.length; i < len; i++) {\n      const modelDecoration = modelDecorations[i];\n      const decorationOptions = modelDecoration.options;\n      if (!isModelDecorationVisible(this.model, modelDecoration)) {\n        continue;\n      }\n      const viewModelDecoration = this._getOrCreateViewModelDecoration(modelDecoration);\n      const viewRange = viewModelDecoration.range;\n      decorationsInViewport[decorationsInViewportLen++] = viewModelDecoration;\n      if (decorationOptions.inlineClassName) {\n        const inlineDecoration = new require$_DOT__DOT__SLASH_viewModel_DOT_js.InlineDecoration(viewRange, decorationOptions.inlineClassName, decorationOptions.inlineClassNameAffectsLetterSpacing ? 3 : 0);\n        const intersectedStartLineNumber = Math.max(startLineNumber, viewRange.startLineNumber);\n        const intersectedEndLineNumber = Math.min(endLineNumber, viewRange.endLineNumber);\n        for (let j = intersectedStartLineNumber; j <= intersectedEndLineNumber; j++) {\n          inlineDecorations[j - startLineNumber].push(inlineDecoration);\n        }\n      }\n      if (decorationOptions.beforeContentClassName) {\n        if (startLineNumber <= viewRange.startLineNumber && viewRange.startLineNumber <= endLineNumber) {\n          const inlineDecoration = new require$_DOT__DOT__SLASH_viewModel_DOT_js.InlineDecoration(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(viewRange.startLineNumber, viewRange.startColumn, viewRange.startLineNumber, viewRange.startColumn), decorationOptions.beforeContentClassName, 1);\n          inlineDecorations[viewRange.startLineNumber - startLineNumber].push(inlineDecoration);\n        }\n      }\n      if (decorationOptions.afterContentClassName) {\n        if (startLineNumber <= viewRange.endLineNumber && viewRange.endLineNumber <= endLineNumber) {\n          const inlineDecoration = new require$_DOT__DOT__SLASH_viewModel_DOT_js.InlineDecoration(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(viewRange.endLineNumber, viewRange.endColumn, viewRange.endLineNumber, viewRange.endColumn), decorationOptions.afterContentClassName, 2);\n          inlineDecorations[viewRange.endLineNumber - startLineNumber].push(inlineDecoration);\n        }\n      }\n    }\n    return {decorations:decorationsInViewport, inlineDecorations:inlineDecorations};\n  }\n}\nfunction isModelDecorationVisible(model, decoration) {\n  if (decoration.options.hideInCommentTokens && isModelDecorationInComment(model, decoration)) {\n    return false;\n  }\n  if (decoration.options.hideInStringTokens && isModelDecorationInString(model, decoration)) {\n    return false;\n  }\n  return true;\n}\nfunction isModelDecorationInComment(model, decoration) {\n  return testTokensInRange(model, decoration.range, tokenType => tokenType === 1);\n}\nfunction isModelDecorationInString(model, decoration) {\n  return testTokensInRange(model, decoration.range, tokenType => tokenType === 2);\n}\nfunction testTokensInRange(model, range, callback) {\n  for (let lineNumber = range.startLineNumber; lineNumber <= range.endLineNumber; lineNumber++) {\n    const lineTokens = model.tokenization.getLineTokens(lineNumber);\n    const isFirstLine = lineNumber === range.startLineNumber;\n    const isEndLine = lineNumber === range.endLineNumber;\n    let tokenIdx = isFirstLine ? lineTokens.findTokenIndexAtOffset(range.startColumn - 1) : 0;\n    while (tokenIdx < lineTokens.getCount()) {\n      if (isEndLine) {\n        const startOffset = lineTokens.getStartOffset(tokenIdx);\n        if (startOffset > range.endColumn - 1) {\n          break;\n        }\n      }\n      const callbackResult = callback(lineTokens.getStandardTokenType(tokenIdx));\n      if (!callbackResult) {\n        return false;\n      }\n      tokenIdx++;\n    }\n  }\n  return true;\n}\n\n};"],
"names":["shadow$provide","require","module","exports","isModelDecorationVisible","model","decoration","options","hideInCommentTokens","isModelDecorationInComment","hideInStringTokens","isModelDecorationInString","testTokensInRange","range","tokenType","callback","lineNumber","startLineNumber","endLineNumber","lineTokens","tokenization","getLineTokens","isEndLine","tokenIdx","findTokenIndexAtOffset","startColumn","getCount","getStartOffset","startOffset","endColumn","callbackResult","getStandardTokenType","Object","defineProperties","__esModule","enumerable","value","ViewModelDecorations","get","require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js","require$_DOT__DOT__SLASH_viewModel_DOT_js","require$_DOT__DOT__SLASH_config_SLASH_editorOptions_DOT_js","constructor","editorId","configuration","linesCollection","coordinatesConverter","_linesCollection","_coordinatesConverter","_decorationsCache","create","_cachedModelDecorationsResolverViewRange","_cachedModelDecorationsResolver","_clearCachedModelDecorationsResolver","dispose","reset","onModelDecorationsChanged","onLineMappingChanged","_getOrCreateViewModelDecoration","modelDecoration","id","r","modelRange","isWholeLine","start","convertModelPositionToViewPosition","Position","end","getLineMaxColumn","viewRange","Range","column","convertModelRangeToViewRange","ViewModelDecoration","getMinimapDecorationsInRange","_getDecorationsInRange","decorations","getDecorationsViewportData","cacheIsValid","equalsRange","getInlineDecorationsOnLine","onlyMinimapDecorations","onlyMarginDecorations","getViewLineMinColumn","getViewLineMaxColumn","inlineDecorations","modelDecorations","getDecorationsInRange","filterValidationDecorations","decorationsInViewport","decorationsInViewportLen","j","i","len","length","decorationOptions","viewModelDecoration","inlineClassName","inlineDecoration","InlineDecoration","inlineClassNameAffectsLetterSpacing","intersectedStartLineNumber","Math","max","intersectedEndLineNumber","min","push","beforeContentClassName","afterContentClassName"]
}
