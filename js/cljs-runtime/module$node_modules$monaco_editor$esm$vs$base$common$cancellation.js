shadow$provide.module$node_modules$monaco_editor$esm$vs$base$common$cancellation = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, CancellationToken:{enumerable:!0, get:function() {
    return CancellationToken;
  }}, CancellationTokenSource:{enumerable:!0, get:function() {
    return CancellationTokenSource;
  }}});
  var require$_DOT__SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  const shortcutEvent = Object.freeze(function(callback, context) {
    const handle = setTimeout(callback.bind(context), 0);
    return {dispose() {
      clearTimeout(handle);
    }};
  });
  var CancellationToken;
  (function(CancellationToken) {
    CancellationToken.isCancellationToken = function(thing) {
      return thing === CancellationToken.None || thing === CancellationToken.Cancelled || thing instanceof MutableToken ? !0 : thing && typeof thing === "object" ? typeof thing.isCancellationRequested === "boolean" && typeof thing.onCancellationRequested === "function" : !1;
    };
    CancellationToken.None = Object.freeze({isCancellationRequested:!1, onCancellationRequested:require$_DOT__SLASH_event_DOT_js.Event.None});
    CancellationToken.Cancelled = Object.freeze({isCancellationRequested:!0, onCancellationRequested:shortcutEvent});
  })(CancellationToken ||= {});
  class MutableToken {
    constructor() {
      this._isCancelled = !1;
      this._emitter = null;
    }
    cancel() {
      this._isCancelled || (this._isCancelled = !0, this._emitter && (this._emitter.fire(void 0), this.dispose()));
    }
    get isCancellationRequested() {
      return this._isCancelled;
    }
    get onCancellationRequested() {
      if (this._isCancelled) {
        return shortcutEvent;
      }
      this._emitter || (this._emitter = new require$_DOT__SLASH_event_DOT_js.Emitter());
      return this._emitter.event;
    }
    dispose() {
      this._emitter && (this._emitter.dispose(), this._emitter = null);
    }
  }
  class CancellationTokenSource {
    constructor(parent) {
      this._parentListener = this._token = void 0;
      this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);
    }
    get token() {
      this._token || (this._token = new MutableToken());
      return this._token;
    }
    cancel() {
      this._token ? this._token instanceof MutableToken && this._token.cancel() : this._token = CancellationToken.Cancelled;
    }
    dispose(cancel = !1) {
      var _a;
      cancel && this.cancel();
      (_a = this._parentListener) === null || _a === void 0 || _a.dispose();
      this._token ? this._token instanceof MutableToken && this._token.dispose() : this._token = CancellationToken.None;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$common$cancellation.js.map
