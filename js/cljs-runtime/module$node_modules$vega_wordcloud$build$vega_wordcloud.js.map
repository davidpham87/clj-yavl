{
"version":3,
"file":"module$node_modules$vega_wordcloud$build$vega_wordcloud.js",
"lineCount":257,
"mappings":"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",
"sources":["node_modules/vega-wordcloud/build/vega-wordcloud.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_wordcloud$build$vega_wordcloud\"] = function(require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-canvas'), require('vega-dataflow'), require('vega-util'), require('vega-scale'), require('vega-statistics')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-canvas', 'vega-dataflow', 'vega-util', 'vega-scale', 'vega-statistics'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.vega = global.vega || {}, global.vega.transforms = {}), global.vega, global.vega, global.vega, global.vega, global.vega));\n})(this, (function (exports, vegaCanvas, vegaDataflow, vegaUtil, vegaScale, vegaStatistics) { 'use strict';\n\n  /*\n  Copyright (c) 2013, Jason Davies.\n  All rights reserved.\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright notice, this\n      list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above copyright notice,\n      this list of conditions and the following disclaimer in the documentation\n      and/or other materials provided with the distribution.\n\n    * The name Jason Davies may not be used to endorse or promote products\n      derived from this software without specific prior written permission.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n  DISCLAIMED. IN NO EVENT SHALL JASON DAVIES BE LIABLE FOR ANY DIRECT, INDIRECT,\n  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n  OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n  ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n  */\n\n  // Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\n  // Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\n\n  var cloudRadians = Math.PI / 180,\n    cw = 1 << 11 >> 5,\n    ch = 1 << 11;\n  function cloud () {\n    var size = [256, 256],\n      text,\n      font,\n      fontSize,\n      fontStyle,\n      fontWeight,\n      rotate,\n      padding,\n      spiral = archimedeanSpiral,\n      words = [],\n      random = Math.random,\n      cloud = {};\n    cloud.layout = function () {\n      var contextAndRatio = getContext(vegaCanvas.canvas()),\n        board = zeroArray((size[0] >> 5) * size[1]),\n        bounds = null,\n        n = words.length,\n        i = -1,\n        tags = [],\n        data = words.map(d => ({\n          text: text(d),\n          font: font(d),\n          style: fontStyle(d),\n          weight: fontWeight(d),\n          rotate: rotate(d),\n          size: ~~(fontSize(d) + 1e-14),\n          padding: padding(d),\n          xoff: 0,\n          yoff: 0,\n          x1: 0,\n          y1: 0,\n          x0: 0,\n          y0: 0,\n          hasText: false,\n          sprite: null,\n          datum: d\n        })).sort((a, b) => b.size - a.size);\n      while (++i < n) {\n        var d = data[i];\n        d.x = size[0] * (random() + .5) >> 1;\n        d.y = size[1] * (random() + .5) >> 1;\n        cloudSprite(contextAndRatio, d, data, i);\n        if (d.hasText && place(board, d, bounds)) {\n          tags.push(d);\n          if (bounds) cloudBounds(bounds, d);else bounds = [{\n            x: d.x + d.x0,\n            y: d.y + d.y0\n          }, {\n            x: d.x + d.x1,\n            y: d.y + d.y1\n          }];\n          // Temporary hack\n          d.x -= size[0] >> 1;\n          d.y -= size[1] >> 1;\n        }\n      }\n      return tags;\n    };\n    function getContext(canvas) {\n      canvas.width = canvas.height = 1;\n      var ratio = Math.sqrt(canvas.getContext('2d').getImageData(0, 0, 1, 1).data.length >> 2);\n      canvas.width = (cw << 5) / ratio;\n      canvas.height = ch / ratio;\n      var context = canvas.getContext('2d');\n      context.fillStyle = context.strokeStyle = 'red';\n      context.textAlign = 'center';\n      return {\n        context: context,\n        ratio: ratio\n      };\n    }\n    function place(board, tag, bounds) {\n      var startX = tag.x,\n        startY = tag.y,\n        maxDelta = Math.hypot(size[0], size[1]),\n        s = spiral(size),\n        dt = random() < .5 ? 1 : -1,\n        t = -dt,\n        dxdy,\n        dx,\n        dy;\n      while (dxdy = s(t += dt)) {\n        dx = ~~dxdy[0];\n        dy = ~~dxdy[1];\n        if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\n        tag.x = startX + dx;\n        tag.y = startY + dy;\n        if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\n        // TODO only check for collisions within current bounds.\n        if (!bounds || !cloudCollide(tag, board, size[0])) {\n          if (!bounds || collideRects(tag, bounds)) {\n            var sprite = tag.sprite,\n              w = tag.width >> 5,\n              sw = size[0] >> 5,\n              lx = tag.x - (w << 4),\n              sx = lx & 0x7f,\n              msx = 32 - sx,\n              h = tag.y1 - tag.y0,\n              x = (tag.y + tag.y0) * sw + (lx >> 5),\n              last;\n            for (var j = 0; j < h; j++) {\n              last = 0;\n              for (var i = 0; i <= w; i++) {\n                board[x + i] |= last << msx | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n              }\n              x += sw;\n            }\n            tag.sprite = null;\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n    cloud.words = function (_) {\n      if (arguments.length) {\n        words = _;\n        return cloud;\n      } else {\n        return words;\n      }\n    };\n    cloud.size = function (_) {\n      if (arguments.length) {\n        size = [+_[0], +_[1]];\n        return cloud;\n      } else {\n        return size;\n      }\n    };\n    cloud.font = function (_) {\n      if (arguments.length) {\n        font = functor(_);\n        return cloud;\n      } else {\n        return font;\n      }\n    };\n    cloud.fontStyle = function (_) {\n      if (arguments.length) {\n        fontStyle = functor(_);\n        return cloud;\n      } else {\n        return fontStyle;\n      }\n    };\n    cloud.fontWeight = function (_) {\n      if (arguments.length) {\n        fontWeight = functor(_);\n        return cloud;\n      } else {\n        return fontWeight;\n      }\n    };\n    cloud.rotate = function (_) {\n      if (arguments.length) {\n        rotate = functor(_);\n        return cloud;\n      } else {\n        return rotate;\n      }\n    };\n    cloud.text = function (_) {\n      if (arguments.length) {\n        text = functor(_);\n        return cloud;\n      } else {\n        return text;\n      }\n    };\n    cloud.spiral = function (_) {\n      if (arguments.length) {\n        spiral = spirals[_] || _;\n        return cloud;\n      } else {\n        return spiral;\n      }\n    };\n    cloud.fontSize = function (_) {\n      if (arguments.length) {\n        fontSize = functor(_);\n        return cloud;\n      } else {\n        return fontSize;\n      }\n    };\n    cloud.padding = function (_) {\n      if (arguments.length) {\n        padding = functor(_);\n        return cloud;\n      } else {\n        return padding;\n      }\n    };\n    cloud.random = function (_) {\n      if (arguments.length) {\n        random = _;\n        return cloud;\n      } else {\n        return random;\n      }\n    };\n    return cloud;\n  }\n\n  // Fetches a monochrome sprite bitmap for the specified text.\n  // Load in batches for speed.\n  function cloudSprite(contextAndRatio, d, data, di) {\n    if (d.sprite) return;\n    var c = contextAndRatio.context,\n      ratio = contextAndRatio.ratio;\n    c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n    var x = 0,\n      y = 0,\n      maxh = 0,\n      n = data.length,\n      w,\n      w32,\n      h,\n      i,\n      j;\n    --di;\n    while (++di < n) {\n      d = data[di];\n      c.save();\n      c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\n      w = c.measureText(d.text + 'm').width * ratio;\n      h = d.size << 1;\n      if (d.rotate) {\n        var sr = Math.sin(d.rotate * cloudRadians),\n          cr = Math.cos(d.rotate * cloudRadians),\n          wcr = w * cr,\n          wsr = w * sr,\n          hcr = h * cr,\n          hsr = h * sr;\n        w = Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f >> 5 << 5;\n        h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n      } else {\n        w = w + 0x1f >> 5 << 5;\n      }\n      if (h > maxh) maxh = h;\n      if (x + w >= cw << 5) {\n        x = 0;\n        y += maxh;\n        maxh = 0;\n      }\n      if (y + h >= ch) break;\n      c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n      if (d.rotate) c.rotate(d.rotate * cloudRadians);\n      c.fillText(d.text, 0, 0);\n      if (d.padding) {\n        c.lineWidth = 2 * d.padding;\n        c.strokeText(d.text, 0, 0);\n      }\n      c.restore();\n      d.width = w;\n      d.height = h;\n      d.xoff = x;\n      d.yoff = y;\n      d.x1 = w >> 1;\n      d.y1 = h >> 1;\n      d.x0 = -d.x1;\n      d.y0 = -d.y1;\n      d.hasText = true;\n      x += w;\n    }\n    var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n      sprite = [];\n    while (--di >= 0) {\n      d = data[di];\n      if (!d.hasText) continue;\n      w = d.width;\n      w32 = w >> 5;\n      h = d.y1 - d.y0;\n      // Zero the buffer\n      for (i = 0; i < h * w32; i++) sprite[i] = 0;\n      x = d.xoff;\n      if (x == null) return;\n      y = d.yoff;\n      var seen = 0,\n        seenRow = -1;\n      for (j = 0; j < h; j++) {\n        for (i = 0; i < w; i++) {\n          var k = w32 * j + (i >> 5),\n            m = pixels[(y + j) * (cw << 5) + (x + i) << 2] ? 1 << 31 - i % 32 : 0;\n          sprite[k] |= m;\n          seen |= m;\n        }\n        if (seen) seenRow = j;else {\n          d.y0++;\n          h--;\n          j--;\n          y++;\n        }\n      }\n      d.y1 = d.y0 + seenRow;\n      d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n    }\n  }\n\n  // Use mask-based collision detection.\n  function cloudCollide(tag, board, sw) {\n    sw >>= 5;\n    var sprite = tag.sprite,\n      w = tag.width >> 5,\n      lx = tag.x - (w << 4),\n      sx = lx & 0x7f,\n      msx = 32 - sx,\n      h = tag.y1 - tag.y0,\n      x = (tag.y + tag.y0) * sw + (lx >> 5),\n      last;\n    for (var j = 0; j < h; j++) {\n      last = 0;\n      for (var i = 0; i <= w; i++) {\n        if ((last << msx | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\n      }\n      x += sw;\n    }\n    return false;\n  }\n  function cloudBounds(bounds, d) {\n    var b0 = bounds[0],\n      b1 = bounds[1];\n    if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n    if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n    if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n    if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n  }\n  function collideRects(a, b) {\n    return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n  }\n  function archimedeanSpiral(size) {\n    var e = size[0] / size[1];\n    return function (t) {\n      return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\n    };\n  }\n  function rectangularSpiral(size) {\n    var dy = 4,\n      dx = dy * size[0] / size[1],\n      x = 0,\n      y = 0;\n    return function (t) {\n      var sign = t < 0 ? -1 : 1;\n      // See triangular numbers: T_n = n * (n + 1) / 2.\n      switch (Math.sqrt(1 + 4 * sign * t) - sign & 3) {\n        case 0:\n          x += dx;\n          break;\n        case 1:\n          y += dy;\n          break;\n        case 2:\n          x -= dx;\n          break;\n        default:\n          y -= dy;\n          break;\n      }\n      return [x, y];\n    };\n  }\n\n  // TODO reuse arrays?\n  function zeroArray(n) {\n    var a = [],\n      i = -1;\n    while (++i < n) a[i] = 0;\n    return a;\n  }\n  function functor(d) {\n    return typeof d === 'function' ? d : function () {\n      return d;\n    };\n  }\n  var spirals = {\n    archimedean: archimedeanSpiral,\n    rectangular: rectangularSpiral\n  };\n\n  const Output = ['x', 'y', 'font', 'fontSize', 'fontStyle', 'fontWeight', 'angle'];\n  const Params = ['text', 'font', 'rotate', 'fontSize', 'fontStyle', 'fontWeight'];\n  function Wordcloud(params) {\n    vegaDataflow.Transform.call(this, cloud(), params);\n  }\n  Wordcloud.Definition = {\n    'type': 'Wordcloud',\n    'metadata': {\n      'modifies': true\n    },\n    'params': [{\n      'name': 'size',\n      'type': 'number',\n      'array': true,\n      'length': 2\n    }, {\n      'name': 'font',\n      'type': 'string',\n      'expr': true,\n      'default': 'sans-serif'\n    }, {\n      'name': 'fontStyle',\n      'type': 'string',\n      'expr': true,\n      'default': 'normal'\n    }, {\n      'name': 'fontWeight',\n      'type': 'string',\n      'expr': true,\n      'default': 'normal'\n    }, {\n      'name': 'fontSize',\n      'type': 'number',\n      'expr': true,\n      'default': 14\n    }, {\n      'name': 'fontSizeRange',\n      'type': 'number',\n      'array': 'nullable',\n      'default': [10, 50]\n    }, {\n      'name': 'rotate',\n      'type': 'number',\n      'expr': true,\n      'default': 0\n    }, {\n      'name': 'text',\n      'type': 'field'\n    }, {\n      'name': 'spiral',\n      'type': 'string',\n      'values': ['archimedean', 'rectangular']\n    }, {\n      'name': 'padding',\n      'type': 'number',\n      'expr': true\n    }, {\n      'name': 'as',\n      'type': 'string',\n      'array': true,\n      'length': 7,\n      'default': Output\n    }]\n  };\n  vegaUtil.inherits(Wordcloud, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      if (_.size && !(_.size[0] && _.size[1])) {\n        vegaUtil.error('Wordcloud size dimensions must be non-zero.');\n      }\n      function modp(param) {\n        const p = _[param];\n        return vegaUtil.isFunction(p) && pulse.modified(p.fields);\n      }\n      const mod = _.modified();\n      if (!(mod || pulse.changed(pulse.ADD_REM) || Params.some(modp))) return;\n      const data = pulse.materialize(pulse.SOURCE).source,\n        layout = this.value,\n        as = _.as || Output;\n      let fontSize = _.fontSize || 14,\n        range;\n      vegaUtil.isFunction(fontSize) ? range = _.fontSizeRange : fontSize = vegaUtil.constant(fontSize);\n\n      // create font size scaling function as needed\n      if (range) {\n        const fsize = fontSize,\n          sizeScale = vegaScale.scale('sqrt')().domain(vegaUtil.extent(data, fsize)).range(range);\n        fontSize = x => sizeScale(fsize(x));\n      }\n      data.forEach(t => {\n        t[as[0]] = NaN;\n        t[as[1]] = NaN;\n        t[as[3]] = 0;\n      });\n\n      // configure layout\n      const words = layout.words(data).text(_.text).size(_.size || [500, 500]).padding(_.padding || 1).spiral(_.spiral || 'archimedean').rotate(_.rotate || 0).font(_.font || 'sans-serif').fontStyle(_.fontStyle || 'normal').fontWeight(_.fontWeight || 'normal').fontSize(fontSize).random(vegaStatistics.random).layout();\n      const size = layout.size(),\n        dx = size[0] >> 1,\n        dy = size[1] >> 1,\n        n = words.length;\n      for (let i = 0, w, t; i < n; ++i) {\n        w = words[i];\n        t = w.datum;\n        t[as[0]] = w.x + dx;\n        t[as[1]] = w.y + dy;\n        t[as[2]] = w.font;\n        t[as[3]] = w.size;\n        t[as[4]] = w.style;\n        t[as[5]] = w.weight;\n        t[as[6]] = w.rotate;\n      }\n      return pulse.reflow(mod).modifies(as);\n    }\n  });\n\n  exports.wordcloud = Wordcloud;\n\n}));\n\n};"],
"names":["shadow$provide","require","module","exports","global","factory","define","amd","globalThis","self","vega","transforms","vegaCanvas","vegaDataflow","vegaUtil","vegaScale","vegaStatistics","cloud","getContext","canvas","width","height","ratio","Math","sqrt","getImageData","data","length","ch","context","fillStyle","strokeStyle","textAlign","place","board","tag","bounds","startX","x","startY","y","maxDelta","hypot","size","s","spiral","dt","random","t","dxdy","dx","dy","min","abs","x0","y0","x1","y1","sw","sprite","w","lx","sx","msx","h","j","i","last","text","font","fontSize","fontStyle","fontWeight","rotate","padding","archimedeanSpiral","words","cloud.layout","contextAndRatio","zeroArray","n","tags","map","d","style","weight","xoff","yoff","hasText","datum","sort","a","b","cloudSprite","push","cloudBounds","cloud.words","_","arguments","cloud.size","cloud.font","functor","cloud.fontStyle","cloud.fontWeight","cloud.rotate","cloud.text","cloud.spiral","spirals","cloud.fontSize","cloud.padding","cloud.random","di","c","clearRect","maxh","save","measureText","sr","sin","cloudRadians","cr","cos","wcr","wsr","hcr","hsr","max","translate","fillText","lineWidth","strokeText","restore","pixels","w32","seen","seenRow","m","slice","b0","b1","e","Wordcloud","params","Transform","call","PI","archimedean","rectangular","rectangularSpiral","sign","Output","Params","Definition","inherits","transform","pulse","modp","param","p","isFunction","modified","fields","error","mod","changed","ADD_REM","some","materialize","SOURCE","source","layout","value","as","range","fontSizeRange","constant","fsize","sizeScale","scale","domain","extent","forEach","NaN","reflow","modifies","wordcloud"]
}
