{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$languageFeatureRegistry.js",
"lineCount":100,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/languageFeatureRegistry.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$languageFeatureRegistry\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, LanguageFeatureRegistry:{enumerable:true, get:function() {\n  return LanguageFeatureRegistry;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require(\"../../base/common/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../base/common/lifecycle.js\");\nvar require$_DOT__SLASH_model_DOT_js = require(\"./model.js\");\nvar require$_DOT__SLASH_languageSelector_DOT_js = require(\"./languageSelector.js\");\nfunction isExclusive(selector) {\n  if (typeof selector === \"string\") {\n    return false;\n  } else if (Array.isArray(selector)) {\n    return selector.every(isExclusive);\n  } else {\n    return !!selector.exclusive;\n  }\n}\nclass MatchCandidate {\n  constructor(uri, languageId, notebookUri, notebookType) {\n    this.uri = uri;\n    this.languageId = languageId;\n    this.notebookUri = notebookUri;\n    this.notebookType = notebookType;\n  }\n  equals(other) {\n    var _a, _b;\n    return this.notebookType === other.notebookType && this.languageId === other.languageId && this.uri.toString() === other.uri.toString() && ((_a = this.notebookUri) === null || _a === void 0 ? void 0 : _a.toString()) === ((_b = other.notebookUri) === null || _b === void 0 ? void 0 : _b.toString());\n  }\n}\nclass LanguageFeatureRegistry {\n  constructor(_notebookInfoResolver) {\n    this._notebookInfoResolver = _notebookInfoResolver;\n    this._clock = 0;\n    this._entries = [];\n    this._onDidChange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();\n    this.onDidChange = this._onDidChange.event;\n  }\n  register(selector, provider) {\n    let entry = {selector, provider, _score:-1, _time:this._clock++};\n    this._entries.push(entry);\n    this._lastCandidate = undefined;\n    this._onDidChange.fire(this._entries.length);\n    return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.toDisposable)(() => {\n      if (entry) {\n        const idx = this._entries.indexOf(entry);\n        if (idx >= 0) {\n          this._entries.splice(idx, 1);\n          this._lastCandidate = undefined;\n          this._onDidChange.fire(this._entries.length);\n          entry = undefined;\n        }\n      }\n    });\n  }\n  has(model) {\n    return this.all(model).length > 0;\n  }\n  all(model) {\n    if (!model) {\n      return [];\n    }\n    this._updateScores(model);\n    const result = [];\n    for (const entry of this._entries) {\n      if (entry._score > 0) {\n        result.push(entry.provider);\n      }\n    }\n    return result;\n  }\n  ordered(model) {\n    const result = [];\n    this._orderedForEach(model, entry => result.push(entry.provider));\n    return result;\n  }\n  orderedGroups(model) {\n    const result = [];\n    let lastBucket;\n    let lastBucketScore;\n    this._orderedForEach(model, entry => {\n      if (lastBucket && lastBucketScore === entry._score) {\n        lastBucket.push(entry.provider);\n      } else {\n        lastBucketScore = entry._score;\n        lastBucket = [entry.provider];\n        result.push(lastBucket);\n      }\n    });\n    return result;\n  }\n  _orderedForEach(model, callback) {\n    this._updateScores(model);\n    for (const entry of this._entries) {\n      if (entry._score > 0) {\n        callback(entry);\n      }\n    }\n  }\n  _updateScores(model) {\n    var _a, _b;\n    const notebookInfo = (_a = this._notebookInfoResolver) === null || _a === void 0 ? void 0 : _a.call(this, model.uri);\n    const candidate = notebookInfo ? new MatchCandidate(model.uri, model.getLanguageId(), notebookInfo.uri, notebookInfo.type) : new MatchCandidate(model.uri, model.getLanguageId(), undefined, undefined);\n    if ((_b = this._lastCandidate) === null || _b === void 0 ? void 0 : _b.equals(candidate)) {\n      return;\n    }\n    this._lastCandidate = candidate;\n    for (const entry of this._entries) {\n      entry._score = (0,require$_DOT__SLASH_languageSelector_DOT_js.score)(entry.selector, candidate.uri, candidate.languageId, (0,require$_DOT__SLASH_model_DOT_js.shouldSynchronizeModel)(model), candidate.notebookUri, candidate.notebookType);\n      if (isExclusive(entry.selector) && entry._score > 0) {\n        for (const entry of this._entries) {\n          entry._score = 0;\n        }\n        entry._score = 1000;\n        break;\n      }\n    }\n    this._entries.sort(LanguageFeatureRegistry._compareByScoreAndTime);\n  }\n  static _compareByScoreAndTime(a, b) {\n    if (a._score < b._score) {\n      return 1;\n    } else if (a._score > b._score) {\n      return -1;\n    }\n    if (isBuiltinSelector(a.selector) && !isBuiltinSelector(b.selector)) {\n      return 1;\n    } else if (!isBuiltinSelector(a.selector) && isBuiltinSelector(b.selector)) {\n      return -1;\n    }\n    if (a._time < b._time) {\n      return 1;\n    } else if (a._time > b._time) {\n      return -1;\n    } else {\n      return 0;\n    }\n  }\n}\nfunction isBuiltinSelector(selector) {\n  if (typeof selector === \"string\") {\n    return false;\n  }\n  if (Array.isArray(selector)) {\n    return selector.some(isBuiltinSelector);\n  }\n  return Boolean(selector.isBuiltin);\n}\n\n};"],
"names":["shadow$provide","require","module","exports","isExclusive","selector","Array","isArray","every","exclusive","isBuiltinSelector","some","isBuiltin","Object","defineProperties","__esModule","enumerable","value","LanguageFeatureRegistry","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","require$_DOT__SLASH_model_DOT_js","require$_DOT__SLASH_languageSelector_DOT_js","MatchCandidate","constructor","uri","languageId","notebookUri","notebookType","equals","other","_a","_b","toString","_notebookInfoResolver","_clock","_entries","_onDidChange","Emitter","onDidChange","event","register","provider","entry","_score","_time","push","_lastCandidate","undefined","fire","length","toDisposable","idx","indexOf","splice","has","model","all","_updateScores","result","ordered","_orderedForEach","orderedGroups","lastBucket","lastBucketScore","callback","notebookInfo","call","candidate","getLanguageId","type","score","shouldSynchronizeModel","sort","_compareByScoreAndTime","a","b"]
}
