shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$config$editorConfiguration = function(require, module, exports) {
  function deepCloneAndMigrateOptions(_options) {
    _options = objects.deepClone(_options);
    (0,require$_DOT__SLASH_migrateOptions_DOT_js.migrateOptions)(_options);
    return _options;
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ComputedEditorOptions:{enumerable:!0, get:function() {
    return ComputedEditorOptions;
  }}, EditorConfiguration:{enumerable:!0, get:function() {
    return EditorConfiguration;
  }}});
  var browser = require("module$node_modules$monaco_editor$esm$vs$base$browser$browser"), arrays = require("module$node_modules$monaco_editor$esm$vs$base$common$arrays"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  var objects = require("module$node_modules$monaco_editor$esm$vs$base$common$objects"), platform = require("module$node_modules$monaco_editor$esm$vs$base$common$platform"), require$_DOT__SLASH_elementSizeObserver_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$config$elementSizeObserver"), require$_DOT__SLASH_fontMeasurements_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$config$fontMeasurements"), require$_DOT__SLASH_migrateOptions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$config$migrateOptions"), 
  require$_DOT__SLASH_tabFocus_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$config$tabFocus"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$config$editorOptions"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$config$editorZoom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_fontInfo_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$editor$common$config$fontInfo");
  require = require("module$node_modules$monaco_editor$esm$vs$platform$accessibility$common$accessibility");
  let EditorConfiguration = class extends module.Disposable {
    constructor(isSimpleWidget, options, container, _accessibilityService) {
      super();
      this._accessibilityService = _accessibilityService;
      this._onDidChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidChange = this._onDidChange.event;
      this._onDidChangeFast = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidChangeFast = this._onDidChangeFast.event;
      this._isDominatedByLongLines = !1;
      this._lineNumbersDigitCount = this._viewLineCount = 1;
      this._reservedHeight = 0;
      this._glyphMarginDecorationLaneCount = 1;
      this._computeOptionsMemory = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.ComputeOptionsMemory();
      this.isSimpleWidget = isSimpleWidget;
      this._containerObserver = this._register(new require$_DOT__SLASH_elementSizeObserver_DOT_js.ElementSizeObserver(container, options.dimension));
      this._rawOptions = deepCloneAndMigrateOptions(options);
      this._validatedOptions = EditorOptionsUtil.validateOptions(this._rawOptions);
      this.options = this._computeOptions();
      this.options.get(13) && this._containerObserver.startObserving();
      this._register(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js.EditorZoom.onDidChangeZoomLevel(() => this._recomputeOptions()));
      this._register(require$_DOT__SLASH_tabFocus_DOT_js.TabFocus.onDidChangeTabFocus(() => this._recomputeOptions()));
      this._register(this._containerObserver.onDidChange(() => this._recomputeOptions()));
      this._register(require$_DOT__SLASH_fontMeasurements_DOT_js.FontMeasurements.onDidChange(() => this._recomputeOptions()));
      this._register(browser.PixelRatio.onDidChange(() => this._recomputeOptions()));
      this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(() => this._recomputeOptions()));
    }
    _recomputeOptions() {
      const newOptions = this._computeOptions(), changeEvent = EditorOptionsUtil.checkEquals(this.options, newOptions);
      changeEvent !== null && (this.options = newOptions, this._onDidChangeFast.fire(changeEvent), this._onDidChange.fire(changeEvent));
    }
    _computeOptions() {
      var partialEnv = this._readEnvConfiguration(), bareFontInfo = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_fontInfo_DOT_js.BareFontInfo.createFromValidatedSettings(this._validatedOptions, partialEnv.pixelRatio, this.isSimpleWidget);
      bareFontInfo = this._readFontInfo(bareFontInfo);
      partialEnv = {memory:this._computeOptionsMemory, outerWidth:partialEnv.outerWidth, outerHeight:partialEnv.outerHeight - this._reservedHeight, fontInfo:bareFontInfo, extraEditorClassName:partialEnv.extraEditorClassName, isDominatedByLongLines:this._isDominatedByLongLines, viewLineCount:this._viewLineCount, lineNumbersDigitCount:this._lineNumbersDigitCount, emptySelectionClipboard:partialEnv.emptySelectionClipboard, pixelRatio:partialEnv.pixelRatio, tabFocusMode:require$_DOT__SLASH_tabFocus_DOT_js.TabFocus.getTabFocusMode(), 
      accessibilitySupport:partialEnv.accessibilitySupport, glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};
      return EditorOptionsUtil.computeOptions(this._validatedOptions, partialEnv);
    }
    _readEnvConfiguration() {
      let extra = "";
      browser.isSafari || browser.isWebkitWebView || (extra += "no-user-select ");
      browser.isSafari && (extra += "no-minimap-shadow enable-user-select ");
      platform.isMacintosh && (extra += "mac ");
      return {extraEditorClassName:extra, outerWidth:this._containerObserver.getWidth(), outerHeight:this._containerObserver.getHeight(), emptySelectionClipboard:browser.isWebKit || browser.isFirefox, pixelRatio:browser.PixelRatio.value, accessibilitySupport:this._accessibilityService.isScreenReaderOptimized() ? 2 : this._accessibilityService.getAccessibilitySupport()};
    }
    _readFontInfo(bareFontInfo) {
      return require$_DOT__SLASH_fontMeasurements_DOT_js.FontMeasurements.readFontInfo(bareFontInfo);
    }
    getRawOptions() {
      return this._rawOptions;
    }
    updateOptions(_newOptions) {
      _newOptions = deepCloneAndMigrateOptions(_newOptions);
      EditorOptionsUtil.applyUpdate(this._rawOptions, _newOptions) && (this._validatedOptions = EditorOptionsUtil.validateOptions(this._rawOptions), this._recomputeOptions());
    }
    observeContainer(dimension) {
      this._containerObserver.observe(dimension);
    }
    setIsDominatedByLongLines(isDominatedByLongLines) {
      this._isDominatedByLongLines !== isDominatedByLongLines && (this._isDominatedByLongLines = isDominatedByLongLines, this._recomputeOptions());
    }
    setModelLineCount(modelLineCount) {
      let r = 0;
      for (; modelLineCount;) {
        modelLineCount = Math.floor(modelLineCount / 10), r++;
      }
      modelLineCount = r ? r : 1;
      this._lineNumbersDigitCount !== modelLineCount && (this._lineNumbersDigitCount = modelLineCount, this._recomputeOptions());
    }
    setViewLineCount(viewLineCount) {
      this._viewLineCount !== viewLineCount && (this._viewLineCount = viewLineCount, this._recomputeOptions());
    }
    setReservedHeight(reservedHeight) {
      this._reservedHeight !== reservedHeight && (this._reservedHeight = reservedHeight, this._recomputeOptions());
    }
    setGlyphMarginDecorationLaneCount(decorationLaneCount) {
      this._glyphMarginDecorationLaneCount !== decorationLaneCount && (this._glyphMarginDecorationLaneCount = decorationLaneCount, this._recomputeOptions());
    }
  };
  EditorConfiguration = (this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  })([(this && this.__param || function(paramIndex, decorator) {
    return function(target, key) {
      decorator(target, key, paramIndex);
    };
  })(3, require.IAccessibilityService)], EditorConfiguration);
  class ValidatedEditorOptions {
    constructor() {
      this._values = [];
    }
    _read(option) {
      return this._values[option];
    }
    get(id) {
      return this._values[id];
    }
    _write(option, value) {
      this._values[option] = value;
    }
  }
  class ComputedEditorOptions {
    constructor() {
      this._values = [];
    }
    _read(id) {
      if (id >= this._values.length) {
        throw Error("Cannot read uninitialized value");
      }
      return this._values[id];
    }
    get(id) {
      return this._read(id);
    }
    _write(id, value) {
      this._values[id] = value;
    }
  }
  class EditorOptionsUtil {
    static validateOptions(options) {
      const result = new ValidatedEditorOptions();
      for (const editorOption of require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.editorOptionsRegistry) {
        result._write(editorOption.id, editorOption.validate(editorOption.name === "_never_" ? void 0 : options[editorOption.name]));
      }
      return result;
    }
    static computeOptions(options, env) {
      const result = new ComputedEditorOptions();
      for (const editorOption of require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.editorOptionsRegistry) {
        result._write(editorOption.id, editorOption.compute(env, result, options._read(editorOption.id)));
      }
      return result;
    }
    static _deepEquals(a, b) {
      if (typeof a !== "object" || typeof b !== "object" || !a || !b) {
        return a === b;
      }
      if (Array.isArray(a) || Array.isArray(b)) {
        return Array.isArray(a) && Array.isArray(b) ? arrays.equals(a, b) : !1;
      }
      if (Object.keys(a).length !== Object.keys(b).length) {
        return !1;
      }
      for (const key in a) {
        if (!EditorOptionsUtil._deepEquals(a[key], b[key])) {
          return !1;
        }
      }
      return !0;
    }
    static checkEquals(a, b) {
      const result = [];
      let somethingChanged = !1;
      for (const editorOption of require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.editorOptionsRegistry) {
        const changed = !EditorOptionsUtil._deepEquals(a._read(editorOption.id), b._read(editorOption.id));
        (result[editorOption.id] = changed) && (somethingChanged = !0);
      }
      return somethingChanged ? new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.ConfigurationChangedEvent(result) : null;
    }
    static applyUpdate(options, update) {
      let changed = !1;
      for (const editorOption of require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.editorOptionsRegistry) {
        if (update.hasOwnProperty(editorOption.name)) {
          const result = editorOption.applyUpdate(options[editorOption.name], update[editorOption.name]);
          options[editorOption.name] = result.newValue;
          changed = changed || result.didChange;
        }
      }
      return changed;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$config$editorConfiguration.js.map
