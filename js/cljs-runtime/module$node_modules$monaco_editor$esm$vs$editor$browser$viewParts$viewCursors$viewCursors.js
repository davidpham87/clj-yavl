shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$viewCursors$viewCursors = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ViewCursors:{enumerable:!0, get:function() {
    return ViewCursors;
  }}});
  require("module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$viewCursors$viewCursors_css");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$fastDomNode"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$async");
  module = require("module$node_modules$monaco_editor$esm$vs$editor$browser$view$viewPart");
  var require$_DOT__SLASH_viewCursor_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$viewCursors$viewCursor"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$config$editorOptions"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$editorColorRegistry");
  exports = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$themeService");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$theme"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom");
  class ViewCursors extends module.ViewPart {
    constructor(context) {
      super(context);
      context = this._context.configuration.options;
      this._readOnly = context.get(90);
      this._cursorBlinking = context.get(26);
      this._cursorStyle = context.get(28);
      this._cursorSmoothCaretAnimation = context.get(27);
      this._selectionIsEmpty = !0;
      this._isVisible = this._isComposingInput = !1;
      this._primaryCursor = new require$_DOT__SLASH_viewCursor_DOT_js.ViewCursor(this._context);
      this._secondaryCursors = [];
      this._renderData = [];
      this._domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement("div"));
      this._domNode.setAttribute("role", "presentation");
      this._domNode.setAttribute("aria-hidden", "true");
      this._updateDomClassName();
      this._domNode.appendChild(this._primaryCursor.getDomNode());
      this._startCursorBlinkAnimation = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.TimeoutTimer();
      this._cursorFlatBlinkInterval = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.WindowIntervalTimer();
      this._editorHasFocus = this._blinkingEnabled = !1;
      this._updateBlinking();
    }
    dispose() {
      super.dispose();
      this._startCursorBlinkAnimation.dispose();
      this._cursorFlatBlinkInterval.dispose();
    }
    getDomNode() {
      return this._domNode;
    }
    onCompositionStart(e) {
      this._isComposingInput = !0;
      this._updateBlinking();
      return !0;
    }
    onCompositionEnd(e) {
      this._isComposingInput = !1;
      this._updateBlinking();
      return !0;
    }
    onConfigurationChanged(e) {
      const options = this._context.configuration.options;
      this._readOnly = options.get(90);
      this._cursorBlinking = options.get(26);
      this._cursorStyle = options.get(28);
      this._cursorSmoothCaretAnimation = options.get(27);
      this._updateBlinking();
      this._updateDomClassName();
      this._primaryCursor.onConfigurationChanged(e);
      for (let i = 0, len = this._secondaryCursors.length; i < len; i++) {
        this._secondaryCursors[i].onConfigurationChanged(e);
      }
      return !0;
    }
    _onCursorPositionChanged(position, secondaryPositions, reason) {
      reason = this._secondaryCursors.length !== secondaryPositions.length || this._cursorSmoothCaretAnimation === "explicit" && reason !== 3;
      this._primaryCursor.onCursorPositionChanged(position, reason);
      this._updateBlinking();
      if (this._secondaryCursors.length < secondaryPositions.length) {
        position = secondaryPositions.length - this._secondaryCursors.length;
        for (var i = 0; i < position; i++) {
          const newCursor = new require$_DOT__SLASH_viewCursor_DOT_js.ViewCursor(this._context);
          this._domNode.domNode.insertBefore(newCursor.getDomNode().domNode, this._primaryCursor.getDomNode().domNode.nextSibling);
          this._secondaryCursors.push(newCursor);
        }
      } else if (this._secondaryCursors.length > secondaryPositions.length) {
        for (position = this._secondaryCursors.length - secondaryPositions.length, i = 0; i < position; i++) {
          this._domNode.removeChild(this._secondaryCursors[0].getDomNode()), this._secondaryCursors.splice(0, 1);
        }
      }
      for (position = 0; position < secondaryPositions.length; position++) {
        this._secondaryCursors[position].onCursorPositionChanged(secondaryPositions[position], reason);
      }
    }
    onCursorStateChanged(e) {
      const positions = [];
      for (let i = 0, len = e.selections.length; i < len; i++) {
        positions[i] = e.selections[i].getPosition();
      }
      this._onCursorPositionChanged(positions[0], positions.slice(1), e.reason);
      e = e.selections[0].isEmpty();
      this._selectionIsEmpty !== e && (this._selectionIsEmpty = e, this._updateDomClassName());
      return !0;
    }
    onDecorationsChanged(e) {
      return !0;
    }
    onFlushed(e) {
      return !0;
    }
    onFocusChanged(e) {
      this._editorHasFocus = e.isFocused;
      this._updateBlinking();
      return !1;
    }
    onLinesChanged(e) {
      return !0;
    }
    onLinesDeleted(e) {
      return !0;
    }
    onLinesInserted(e) {
      return !0;
    }
    onScrollChanged(e) {
      return !0;
    }
    onTokensChanged(e) {
      const shouldRender = position => {
        for (let i = 0, len = e.ranges.length; i < len; i++) {
          if (e.ranges[i].fromLineNumber <= position.lineNumber && position.lineNumber <= e.ranges[i].toLineNumber) {
            return !0;
          }
        }
        return !1;
      };
      if (shouldRender(this._primaryCursor.getPosition())) {
        return !0;
      }
      for (const secondaryCursor of this._secondaryCursors) {
        if (shouldRender(secondaryCursor.getPosition())) {
          return !0;
        }
      }
      return !1;
    }
    onZonesChanged(e) {
      return !0;
    }
    _getCursorBlinking() {
      return this._isComposingInput || !this._editorHasFocus ? 0 : this._readOnly ? 5 : this._cursorBlinking;
    }
    _updateBlinking() {
      this._startCursorBlinkAnimation.cancel();
      this._cursorFlatBlinkInterval.cancel();
      const blinkingStyle = this._getCursorBlinking(), isHidden = blinkingStyle === 0, isSolid = blinkingStyle === 5;
      isHidden ? this._hide() : this._show();
      this._blinkingEnabled = !1;
      this._updateDomClassName();
      isHidden || isSolid || (blinkingStyle === 1 ? this._cursorFlatBlinkInterval.cancelAndSet(() => {
        this._isVisible ? this._hide() : this._show();
      }, ViewCursors.BLINK_INTERVAL, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getWindow)(this._domNode.domNode)) : this._startCursorBlinkAnimation.setIfNotSet(() => {
        this._blinkingEnabled = !0;
        this._updateDomClassName();
      }, ViewCursors.BLINK_INTERVAL));
    }
    _updateDomClassName() {
      this._domNode.setClassName(this._getClassName());
    }
    _getClassName() {
      let result = "cursors-layer";
      this._selectionIsEmpty || (result += " has-selection");
      switch(this._cursorStyle) {
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Line:
          result += " cursor-line-style";
          break;
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Block:
          result += " cursor-block-style";
          break;
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Underline:
          result += " cursor-underline-style";
          break;
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.LineThin:
          result += " cursor-line-thin-style";
          break;
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.BlockOutline:
          result += " cursor-block-outline-style";
          break;
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.UnderlineThin:
          result += " cursor-underline-thin-style";
          break;
        default:
          result += " cursor-line-style";
      }
      if (this._blinkingEnabled) {
        switch(this._getCursorBlinking()) {
          case 1:
            result += " cursor-blink";
            break;
          case 2:
            result += " cursor-smooth";
            break;
          case 3:
            result += " cursor-phase";
            break;
          case 4:
            result += " cursor-expand";
            break;
          case 5:
            result += " cursor-solid";
            break;
          default:
            result += " cursor-solid";
        }
      } else {
        result += " cursor-solid";
      }
      if (this._cursorSmoothCaretAnimation === "on" || this._cursorSmoothCaretAnimation === "explicit") {
        result += " cursor-smooth-caret-animation";
      }
      return result;
    }
    _show() {
      this._primaryCursor.show();
      for (let i = 0, len = this._secondaryCursors.length; i < len; i++) {
        this._secondaryCursors[i].show();
      }
      this._isVisible = !0;
    }
    _hide() {
      this._primaryCursor.hide();
      for (let i = 0, len = this._secondaryCursors.length; i < len; i++) {
        this._secondaryCursors[i].hide();
      }
      this._isVisible = !1;
    }
    prepareRender(ctx) {
      this._primaryCursor.prepareRender(ctx);
      for (let i = 0, len = this._secondaryCursors.length; i < len; i++) {
        this._secondaryCursors[i].prepareRender(ctx);
      }
    }
    render(ctx) {
      const renderData = [];
      let renderDataLen = 0;
      var primaryRenderData = this._primaryCursor.render(ctx);
      primaryRenderData && (renderData[renderDataLen++] = primaryRenderData);
      for (let i = 0, len = this._secondaryCursors.length; i < len; i++) {
        (primaryRenderData = this._secondaryCursors[i].render(ctx)) && (renderData[renderDataLen++] = primaryRenderData);
      }
      this._renderData = renderData;
    }
    getLastRenderData() {
      return this._renderData;
    }
  }
  ViewCursors.BLINK_INTERVAL = 500;
  (0,exports.registerThemingParticipant)((theme, collector) => {
    const caret = theme.getColor(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorCursorForeground);
    if (caret) {
      let caretBackground = theme.getColor(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorCursorBackground);
      caretBackground ||= caret.opposite();
      collector.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${caret}; border-color: ${caret}; color: ${caretBackground}; }`);
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js.isHighContrast)(theme.type) && collector.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${caretBackground}; border-right: 1px solid ${caretBackground}; }`);
    }
  });
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$viewCursors$viewCursors.js.map
