shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$controller$textAreaInput = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ClipboardEventUtils:{enumerable:!0, get:function() {
    return ClipboardEventUtils;
  }}, CopyOptions:{enumerable:!0, get:function() {
    return CopyOptions;
  }}, InMemoryClipboardMetadataManager:{enumerable:!0, get:function() {
    return InMemoryClipboardMetadataManager;
  }}, TextAreaInput:{enumerable:!0, get:function() {
    return TextAreaInput;
  }}, TextAreaSyntethicEvents:{enumerable:!0, get:function() {
    return TextAreaSyntethicEvents;
  }}, TextAreaWrapper:{enumerable:!0, get:function() {
    return TextAreaWrapper;
  }}});
  var browser = require("module$node_modules$monaco_editor$esm$vs$base$browser$browser"), dom = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$keyboardEvent"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$performance"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$async"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$mime"), strings = require("module$node_modules$monaco_editor$esm$vs$base$common$strings"), require$_DOT__SLASH_textAreaState_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$controller$textAreaState"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_selection_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$selection");
  module = require("module$node_modules$monaco_editor$esm$vs$platform$accessibility$common$accessibility");
  require = require("module$node_modules$monaco_editor$esm$vs$platform$log$common$log");
  exports = this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  var __param = this && this.__param || function(paramIndex, decorator) {
    return function(target, key) {
      decorator(target, key, paramIndex);
    };
  }, TextAreaSyntethicEvents;
  (function(TextAreaSyntethicEvents) {
    TextAreaSyntethicEvents.Tap = "-monaco-textarea-synthetic-tap";
  })(TextAreaSyntethicEvents ||= {});
  const CopyOptions = {forceCopyWithSyntaxHighlighting:!1};
  class InMemoryClipboardMetadataManager {
    constructor() {
      this._lastState = null;
    }
    set(lastCopiedValue, data) {
      this._lastState = {lastCopiedValue, data};
    }
    get(pastedText) {
      return this._lastState && this._lastState.lastCopiedValue === pastedText ? this._lastState.data : this._lastState = null;
    }
  }
  InMemoryClipboardMetadataManager.INSTANCE = new InMemoryClipboardMetadataManager();
  class CompositionContext {
    constructor() {
      this._lastTypeTextLength = 0;
    }
    handleCompositionUpdate(text) {
      text = text || "";
      const typeInput = {text, replacePrevCharCnt:this._lastTypeTextLength, replaceNextCharCnt:0, positionDelta:0};
      this._lastTypeTextLength = text.length;
      return typeInput;
    }
  }
  let TextAreaInput = class extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    get textAreaState() {
      return this._textAreaState;
    }
    constructor(_host, _textArea, _OS, _browser, _accessibilityService, _logService) {
      super();
      this._host = _host;
      this._textArea = _textArea;
      this._OS = _OS;
      this._browser = _browser;
      this._accessibilityService = _accessibilityService;
      this._logService = _logService;
      this._onFocus = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onFocus = this._onFocus.event;
      this._onBlur = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onBlur = this._onBlur.event;
      this._onKeyDown = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onKeyDown = this._onKeyDown.event;
      this._onKeyUp = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onKeyUp = this._onKeyUp.event;
      this._onCut = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onCut = this._onCut.event;
      this._onPaste = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onPaste = this._onPaste.event;
      this._onType = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onType = this._onType.event;
      this._onCompositionStart = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onCompositionStart = this._onCompositionStart.event;
      this._onCompositionUpdate = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onCompositionUpdate = this._onCompositionUpdate.event;
      this._onCompositionEnd = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onCompositionEnd = this._onCompositionEnd.event;
      this._onSelectionChangeRequest = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onSelectionChangeRequest = this._onSelectionChangeRequest.event;
      this._asyncFocusGainWriteScreenReaderContent = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.MutableDisposable());
      this._asyncTriggerCut = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => this._onCut.fire(), 0));
      this._textAreaState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.EMPTY;
      this._selectionChangeListener = null;
      this._accessibilityService.isScreenReaderOptimized() && this.writeNativeTextAreaContent("ctor");
      this._register(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized, () => {
        this._accessibilityService.isScreenReaderOptimized() && !this._asyncFocusGainWriteScreenReaderContent.value ? this._asyncFocusGainWriteScreenReaderContent.value = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => this.writeNativeTextAreaContent("asyncFocusGain"), 0)) : this._asyncFocusGainWriteScreenReaderContent.clear();
      }));
      this._hasFocus = !1;
      let lastKeyDown = this._currentComposition = null;
      this._register(this._textArea.onKeyDown(_e => {
        _e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(_e);
        (_e.keyCode === 114 || this._currentComposition && _e.keyCode === 1) && _e.stopPropagation();
        _e.equals(9) && _e.preventDefault();
        lastKeyDown = _e;
        this._onKeyDown.fire(_e);
      }));
      this._register(this._textArea.onKeyUp(_e => {
        _e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(_e);
        this._onKeyUp.fire(_e);
      }));
      this._register(this._textArea.onCompositionStart(e => {
        require$_DOT__SLASH_textAreaState_DOT_js._debugComposition && console.log("[compositionstart]", e);
        const currentComposition = new CompositionContext();
        this._currentComposition ? this._currentComposition = currentComposition : (this._currentComposition = currentComposition, this._OS === 2 && lastKeyDown && lastKeyDown.equals(114) && this._textAreaState.selectionStart === this._textAreaState.selectionEnd && this._textAreaState.selectionStart > 0 && this._textAreaState.value.substr(this._textAreaState.selectionStart - 1, 1) === e.data && (lastKeyDown.code === "ArrowRight" || lastKeyDown.code === "ArrowLeft") && (require$_DOT__SLASH_textAreaState_DOT_js._debugComposition && 
        console.log("[compositionstart] Handling long press case on macOS + arrow key", e), currentComposition.handleCompositionUpdate("x")), this._onCompositionStart.fire({data:e.data}));
      }));
      this._register(this._textArea.onCompositionUpdate(e => {
        require$_DOT__SLASH_textAreaState_DOT_js._debugComposition && console.log("[compositionupdate]", e);
        var currentComposition = this._currentComposition;
        if (currentComposition) {
          if (this._browser.isAndroid) {
            currentComposition = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState);
            const typeInput = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.deduceAndroidCompositionInput(this._textAreaState, currentComposition);
            this._textAreaState = currentComposition;
            this._onType.fire(typeInput);
          } else {
            currentComposition = currentComposition.handleCompositionUpdate(e.data), this._textAreaState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState), this._onType.fire(currentComposition);
          }
          this._onCompositionUpdate.fire(e);
        }
      }));
      this._register(this._textArea.onCompositionEnd(e => {
        require$_DOT__SLASH_textAreaState_DOT_js._debugComposition && console.log("[compositionend]", e);
        var currentComposition = this._currentComposition;
        currentComposition && (this._currentComposition = null, this._browser.isAndroid ? (e = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState), currentComposition = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.deduceAndroidCompositionInput(this._textAreaState, e), this._textAreaState = e, this._onType.fire(currentComposition)) : (e = currentComposition.handleCompositionUpdate(e.data), this._textAreaState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, 
        this._textAreaState), this._onType.fire(e)), this._onCompositionEnd.fire());
      }));
      this._register(this._textArea.onInput(e => {
        require$_DOT__SLASH_textAreaState_DOT_js._debugComposition && console.log("[input]", e);
        this._textArea.setIgnoreSelectionChangeTime("received input event");
        if (!this._currentComposition) {
          e = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState);
          var typeInput = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.deduceInput(this._textAreaState, e, this._OS === 2);
          if (typeInput.replacePrevCharCnt !== 0 || typeInput.text.length !== 1 || !strings.isHighSurrogate(typeInput.text.charCodeAt(0)) && typeInput.text.charCodeAt(0) !== 127) {
            this._textAreaState = e, typeInput.text === "" && typeInput.replacePrevCharCnt === 0 && typeInput.replaceNextCharCnt === 0 && typeInput.positionDelta === 0 || this._onType.fire(typeInput);
          }
        }
      }));
      this._register(this._textArea.onCut(e => {
        this._textArea.setIgnoreSelectionChangeTime("received cut event");
        this._ensureClipboardGetsEditorSelection(e);
        this._asyncTriggerCut.schedule();
      }));
      this._register(this._textArea.onCopy(e => {
        this._ensureClipboardGetsEditorSelection(e);
      }));
      this._register(this._textArea.onPaste(e => {
        this._textArea.setIgnoreSelectionChangeTime("received paste event");
        e.preventDefault();
        if (e.clipboardData) {
          var [text, metadata] = ClipboardEventUtils.getTextData(e.clipboardData);
          text && (metadata = metadata || InMemoryClipboardMetadataManager.INSTANCE.get(text), this._onPaste.fire({text, metadata}));
        }
      }));
      this._register(this._textArea.onFocus(() => {
        const hadFocus = this._hasFocus;
        this._setHasFocus(!0);
        this._accessibilityService.isScreenReaderOptimized() && this._browser.isSafari && !hadFocus && this._hasFocus && (this._asyncFocusGainWriteScreenReaderContent.value || (this._asyncFocusGainWriteScreenReaderContent.value = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => this.writeNativeTextAreaContent("asyncFocusGain"), 0)), this._asyncFocusGainWriteScreenReaderContent.value.schedule());
      }));
      this._register(this._textArea.onBlur(() => {
        this._currentComposition && (this._currentComposition = null, this.writeNativeTextAreaContent("blurWithoutCompositionEnd"), this._onCompositionEnd.fire());
        this._setHasFocus(!1);
      }));
      this._register(this._textArea.onSyntheticTap(() => {
        this._browser.isAndroid && this._currentComposition && (this._currentComposition = null, this.writeNativeTextAreaContent("tapWithoutCompositionEnd"), this._onCompositionEnd.fire());
      }));
    }
    _installSelectionChangeListener() {
      let previousSelectionChangeEventTime = 0;
      return dom.addDisposableListener(this._textArea.ownerDocument, "selectionchange", e => {
        require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onSelectionChange();
        if (this._hasFocus && !this._currentComposition && this._browser.isChrome) {
          e = Date.now();
          var delta1 = e - previousSelectionChangeEventTime;
          previousSelectionChangeEventTime = e;
          delta1 < 5 || (e -= this._textArea.getIgnoreSelectionChangeTime(), this._textArea.resetSelectionChangeTime(), e < 100 || !this._textAreaState.selection || (e = this._textArea.getValue(), this._textAreaState.value !== e || (delta1 = this._textArea.getSelectionStart(), e = this._textArea.getSelectionEnd(), this._textAreaState.selectionStart === delta1 && this._textAreaState.selectionEnd === e))) || (delta1 = this._textAreaState.deduceEditorPosition(delta1), delta1 = this._host.deduceModelPosition(delta1[0], 
          delta1[1], delta1[2]), e = this._textAreaState.deduceEditorPosition(e), e = this._host.deduceModelPosition(e[0], e[1], e[2]), e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_selection_DOT_js.Selection(delta1.lineNumber, delta1.column, e.lineNumber, e.column), this._onSelectionChangeRequest.fire(e));
        }
      });
    }
    dispose() {
      super.dispose();
      this._selectionChangeListener && (this._selectionChangeListener.dispose(), this._selectionChangeListener = null);
    }
    focusTextArea() {
      this._setHasFocus(!0);
      this.refreshFocusState();
    }
    isFocused() {
      return this._hasFocus;
    }
    refreshFocusState() {
      this._setHasFocus(this._textArea.hasFocus());
    }
    _setHasFocus(newHasFocus) {
      this._hasFocus !== newHasFocus && (this._hasFocus = newHasFocus, this._selectionChangeListener && (this._selectionChangeListener.dispose(), this._selectionChangeListener = null), this._hasFocus && (this._selectionChangeListener = this._installSelectionChangeListener()), this._hasFocus && this.writeNativeTextAreaContent("focusgain"), this._hasFocus ? this._onFocus.fire() : this._onBlur.fire());
    }
    _setAndWriteTextAreaState(reason, textAreaState) {
      this._hasFocus || (textAreaState = textAreaState.collapseSelection());
      textAreaState.writeToTextArea(reason, this._textArea, this._hasFocus);
      this._textAreaState = textAreaState;
    }
    writeNativeTextAreaContent(reason) {
      !this._accessibilityService.isScreenReaderOptimized() && reason === "render" || this._currentComposition || (this._logService.trace(`writeTextAreaState(reason: ${reason})`), this._setAndWriteTextAreaState(reason, this._host.getScreenReaderContent()));
    }
    _ensureClipboardGetsEditorSelection(e) {
      const dataToCopy = this._host.getDataToCopy(), storedMetadata = {version:1, isFromEmptySelection:dataToCopy.isFromEmptySelection, multicursorText:dataToCopy.multicursorText, mode:dataToCopy.mode};
      InMemoryClipboardMetadataManager.INSTANCE.set(this._browser.isFirefox ? dataToCopy.text.replace(/\r\n/g, "\n") : dataToCopy.text, storedMetadata);
      e.preventDefault();
      e.clipboardData && ClipboardEventUtils.setTextData(e.clipboardData, dataToCopy.text, dataToCopy.html, storedMetadata);
    }
  };
  TextAreaInput = exports([__param(4, module.IAccessibilityService), __param(5, require.ILogService)], TextAreaInput);
  const ClipboardEventUtils = {getTextData(clipboardData) {
    const text = clipboardData.getData(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.text);
    let metadata = null;
    const rawmetadata = clipboardData.getData("vscode-editor-data");
    if (typeof rawmetadata === "string") {
      try {
        metadata = JSON.parse(rawmetadata), metadata.version !== 1 && (metadata = null);
      } catch (err) {
      }
    }
    return text.length === 0 && metadata === null && clipboardData.files.length > 0 ? [Array.prototype.slice.call(clipboardData.files, 0).map(file => file.name).join("\n"), null] : [text, metadata];
  }, setTextData(clipboardData, text, html, metadata) {
    clipboardData.setData(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.text, text);
    typeof html === "string" && clipboardData.setData("text/html", html);
    clipboardData.setData("vscode-editor-data", JSON.stringify(metadata));
  }};
  class TextAreaWrapper extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    get ownerDocument() {
      return this._actual.ownerDocument;
    }
    constructor(_actual) {
      super();
      this._actual = _actual;
      this.onKeyDown = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "keydown")).event;
      this.onKeyUp = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "keyup")).event;
      this.onCompositionStart = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "compositionstart")).event;
      this.onCompositionUpdate = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "compositionupdate")).event;
      this.onCompositionEnd = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "compositionend")).event;
      this.onBeforeInput = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "beforeinput")).event;
      this.onInput = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "input")).event;
      this.onCut = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "cut")).event;
      this.onCopy = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "copy")).event;
      this.onPaste = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "paste")).event;
      this.onFocus = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "focus")).event;
      this.onBlur = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, "blur")).event;
      this._onSyntheticTap = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onSyntheticTap = this._onSyntheticTap.event;
      this._ignoreSelectionChangeTime = 0;
      this._register(this.onKeyDown(() => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onKeyDown()));
      this._register(this.onBeforeInput(() => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onBeforeInput()));
      this._register(this.onInput(() => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onInput()));
      this._register(this.onKeyUp(() => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onKeyUp()));
      this._register(dom.addDisposableListener(this._actual, TextAreaSyntethicEvents.Tap, () => this._onSyntheticTap.fire()));
    }
    hasFocus() {
      const shadowRoot = dom.getShadowRoot(this._actual);
      return shadowRoot ? shadowRoot.activeElement === this._actual : this._actual.isConnected ? this._actual.ownerDocument.activeElement === this._actual : !1;
    }
    setIgnoreSelectionChangeTime(reason) {
      this._ignoreSelectionChangeTime = Date.now();
    }
    getIgnoreSelectionChangeTime() {
      return this._ignoreSelectionChangeTime;
    }
    resetSelectionChangeTime() {
      this._ignoreSelectionChangeTime = 0;
    }
    getValue() {
      return this._actual.value;
    }
    setValue(reason, value) {
      reason = this._actual;
      reason.value !== value && (this.setIgnoreSelectionChangeTime("setValue"), reason.value = value);
    }
    getSelectionStart() {
      return this._actual.selectionDirection === "backward" ? this._actual.selectionEnd : this._actual.selectionStart;
    }
    getSelectionEnd() {
      return this._actual.selectionDirection === "backward" ? this._actual.selectionStart : this._actual.selectionEnd;
    }
    setSelectionRange(reason, selectionStart, selectionEnd) {
      reason = this._actual;
      var shadowRoot = dom.getShadowRoot(reason);
      var activeElement = shadowRoot ? shadowRoot.activeElement : reason.ownerDocument.activeElement;
      shadowRoot = dom.getWindow(activeElement);
      activeElement = activeElement === reason;
      const currentSelectionStart = reason.selectionStart, currentSelectionEnd = reason.selectionEnd;
      if (activeElement && currentSelectionStart === selectionStart && currentSelectionEnd === selectionEnd) {
        browser.isFirefox && shadowRoot.parent !== shadowRoot && reason.focus();
      } else {
        if (activeElement) {
          this.setIgnoreSelectionChangeTime("setSelectionRange"), reason.setSelectionRange(selectionStart, selectionEnd), browser.isFirefox && shadowRoot.parent !== shadowRoot && reason.focus();
        } else {
          try {
            const scrollState = dom.saveParentsScrollTop(reason);
            this.setIgnoreSelectionChangeTime("setSelectionRange");
            reason.focus();
            reason.setSelectionRange(selectionStart, selectionEnd);
            dom.restoreParentsScrollTop(reason, scrollState);
          } catch (e) {
          }
        }
      }
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$controller$textAreaInput.js.map
