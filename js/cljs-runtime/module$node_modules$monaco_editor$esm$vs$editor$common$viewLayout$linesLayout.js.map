{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$viewLayout$linesLayout.js",
"lineCount":435,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/viewLayout/linesLayout.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$viewLayout$linesLayout\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, EditorWhitespace:{enumerable:true, get:function() {\n  return EditorWhitespace;\n}}, LinesLayout:{enumerable:true, get:function() {\n  return LinesLayout;\n}}});\nvar strings = require(\"../../../base/common/strings.js\");\nclass PendingChanges {\n  constructor() {\n    this._hasPending = false;\n    this._inserts = [];\n    this._changes = [];\n    this._removes = [];\n  }\n  insert(x) {\n    this._hasPending = true;\n    this._inserts.push(x);\n  }\n  change(x) {\n    this._hasPending = true;\n    this._changes.push(x);\n  }\n  remove(x) {\n    this._hasPending = true;\n    this._removes.push(x);\n  }\n  mustCommit() {\n    return this._hasPending;\n  }\n  commit(linesLayout) {\n    if (!this._hasPending) {\n      return;\n    }\n    const inserts = this._inserts;\n    const changes = this._changes;\n    const removes = this._removes;\n    this._hasPending = false;\n    this._inserts = [];\n    this._changes = [];\n    this._removes = [];\n    linesLayout._commitPendingChanges(inserts, changes, removes);\n  }\n}\nclass EditorWhitespace {\n  constructor(id, afterLineNumber, ordinal, height, minWidth) {\n    this.id = id;\n    this.afterLineNumber = afterLineNumber;\n    this.ordinal = ordinal;\n    this.height = height;\n    this.minWidth = minWidth;\n    this.prefixSum = 0;\n  }\n}\nclass LinesLayout {\n  constructor(lineCount, lineHeight, paddingTop, paddingBottom) {\n    this._instanceId = strings.singleLetterHash(++LinesLayout.INSTANCE_COUNT);\n    this._pendingChanges = new PendingChanges();\n    this._lastWhitespaceId = 0;\n    this._arr = [];\n    this._prefixSumValidIndex = -1;\n    this._minWidth = -1;\n    this._lineCount = lineCount;\n    this._lineHeight = lineHeight;\n    this._paddingTop = paddingTop;\n    this._paddingBottom = paddingBottom;\n  }\n  static findInsertionIndex(arr, afterLineNumber, ordinal) {\n    let low = 0;\n    let high = arr.length;\n    while (low < high) {\n      const mid = low + high >>> 1;\n      if (afterLineNumber === arr[mid].afterLineNumber) {\n        if (ordinal < arr[mid].ordinal) {\n          high = mid;\n        } else {\n          low = mid + 1;\n        }\n      } else if (afterLineNumber < arr[mid].afterLineNumber) {\n        high = mid;\n      } else {\n        low = mid + 1;\n      }\n    }\n    return low;\n  }\n  setLineHeight(lineHeight) {\n    this._checkPendingChanges();\n    this._lineHeight = lineHeight;\n  }\n  setPadding(paddingTop, paddingBottom) {\n    this._paddingTop = paddingTop;\n    this._paddingBottom = paddingBottom;\n  }\n  onFlushed(lineCount) {\n    this._checkPendingChanges();\n    this._lineCount = lineCount;\n  }\n  changeWhitespace(callback) {\n    let hadAChange = false;\n    try {\n      const accessor = {insertWhitespace:(afterLineNumber, ordinal, heightInPx, minWidth) => {\n        hadAChange = true;\n        afterLineNumber = afterLineNumber | 0;\n        ordinal = ordinal | 0;\n        heightInPx = heightInPx | 0;\n        minWidth = minWidth | 0;\n        const id = this._instanceId + ++this._lastWhitespaceId;\n        this._pendingChanges.insert(new EditorWhitespace(id, afterLineNumber, ordinal, heightInPx, minWidth));\n        return id;\n      }, changeOneWhitespace:(id, newAfterLineNumber, newHeight) => {\n        hadAChange = true;\n        newAfterLineNumber = newAfterLineNumber | 0;\n        newHeight = newHeight | 0;\n        this._pendingChanges.change({id, newAfterLineNumber, newHeight});\n      }, removeWhitespace:id => {\n        hadAChange = true;\n        this._pendingChanges.remove({id});\n      }};\n      callback(accessor);\n    } finally {\n      this._pendingChanges.commit(this);\n    }\n    return hadAChange;\n  }\n  _commitPendingChanges(inserts, changes, removes) {\n    if (inserts.length > 0 || removes.length > 0) {\n      this._minWidth = -1;\n    }\n    if (inserts.length + changes.length + removes.length <= 1) {\n      for (const insert of inserts) {\n        this._insertWhitespace(insert);\n      }\n      for (const change of changes) {\n        this._changeOneWhitespace(change.id, change.newAfterLineNumber, change.newHeight);\n      }\n      for (const remove of removes) {\n        const index = this._findWhitespaceIndex(remove.id);\n        if (index === -1) {\n          continue;\n        }\n        this._removeWhitespace(index);\n      }\n      return;\n    }\n    const toRemove = new Set();\n    for (const remove of removes) {\n      toRemove.add(remove.id);\n    }\n    const toChange = new Map();\n    for (const change of changes) {\n      toChange.set(change.id, change);\n    }\n    const applyRemoveAndChange = whitespaces => {\n      const result = [];\n      for (const whitespace of whitespaces) {\n        if (toRemove.has(whitespace.id)) {\n          continue;\n        }\n        if (toChange.has(whitespace.id)) {\n          const change = toChange.get(whitespace.id);\n          whitespace.afterLineNumber = change.newAfterLineNumber;\n          whitespace.height = change.newHeight;\n        }\n        result.push(whitespace);\n      }\n      return result;\n    };\n    const result = applyRemoveAndChange(this._arr).concat(applyRemoveAndChange(inserts));\n    result.sort((a, b) => {\n      if (a.afterLineNumber === b.afterLineNumber) {\n        return a.ordinal - b.ordinal;\n      }\n      return a.afterLineNumber - b.afterLineNumber;\n    });\n    this._arr = result;\n    this._prefixSumValidIndex = -1;\n  }\n  _checkPendingChanges() {\n    if (this._pendingChanges.mustCommit()) {\n      this._pendingChanges.commit(this);\n    }\n  }\n  _insertWhitespace(whitespace) {\n    const insertIndex = LinesLayout.findInsertionIndex(this._arr, whitespace.afterLineNumber, whitespace.ordinal);\n    this._arr.splice(insertIndex, 0, whitespace);\n    this._prefixSumValidIndex = Math.min(this._prefixSumValidIndex, insertIndex - 1);\n  }\n  _findWhitespaceIndex(id) {\n    const arr = this._arr;\n    for (let i = 0, len = arr.length; i < len; i++) {\n      if (arr[i].id === id) {\n        return i;\n      }\n    }\n    return -1;\n  }\n  _changeOneWhitespace(id, newAfterLineNumber, newHeight) {\n    const index = this._findWhitespaceIndex(id);\n    if (index === -1) {\n      return;\n    }\n    if (this._arr[index].height !== newHeight) {\n      this._arr[index].height = newHeight;\n      this._prefixSumValidIndex = Math.min(this._prefixSumValidIndex, index - 1);\n    }\n    if (this._arr[index].afterLineNumber !== newAfterLineNumber) {\n      const whitespace = this._arr[index];\n      this._removeWhitespace(index);\n      whitespace.afterLineNumber = newAfterLineNumber;\n      this._insertWhitespace(whitespace);\n    }\n  }\n  _removeWhitespace(removeIndex) {\n    this._arr.splice(removeIndex, 1);\n    this._prefixSumValidIndex = Math.min(this._prefixSumValidIndex, removeIndex - 1);\n  }\n  onLinesDeleted(fromLineNumber, toLineNumber) {\n    this._checkPendingChanges();\n    fromLineNumber = fromLineNumber | 0;\n    toLineNumber = toLineNumber | 0;\n    this._lineCount -= toLineNumber - fromLineNumber + 1;\n    for (let i = 0, len = this._arr.length; i < len; i++) {\n      const afterLineNumber = this._arr[i].afterLineNumber;\n      if (fromLineNumber <= afterLineNumber && afterLineNumber <= toLineNumber) {\n        this._arr[i].afterLineNumber = fromLineNumber - 1;\n      } else if (afterLineNumber > toLineNumber) {\n        this._arr[i].afterLineNumber -= toLineNumber - fromLineNumber + 1;\n      }\n    }\n  }\n  onLinesInserted(fromLineNumber, toLineNumber) {\n    this._checkPendingChanges();\n    fromLineNumber = fromLineNumber | 0;\n    toLineNumber = toLineNumber | 0;\n    this._lineCount += toLineNumber - fromLineNumber + 1;\n    for (let i = 0, len = this._arr.length; i < len; i++) {\n      const afterLineNumber = this._arr[i].afterLineNumber;\n      if (fromLineNumber <= afterLineNumber) {\n        this._arr[i].afterLineNumber += toLineNumber - fromLineNumber + 1;\n      }\n    }\n  }\n  getWhitespacesTotalHeight() {\n    this._checkPendingChanges();\n    if (this._arr.length === 0) {\n      return 0;\n    }\n    return this.getWhitespacesAccumulatedHeight(this._arr.length - 1);\n  }\n  getWhitespacesAccumulatedHeight(index) {\n    this._checkPendingChanges();\n    index = index | 0;\n    let startIndex = Math.max(0, this._prefixSumValidIndex + 1);\n    if (startIndex === 0) {\n      this._arr[0].prefixSum = this._arr[0].height;\n      startIndex++;\n    }\n    for (let i = startIndex; i <= index; i++) {\n      this._arr[i].prefixSum = this._arr[i - 1].prefixSum + this._arr[i].height;\n    }\n    this._prefixSumValidIndex = Math.max(this._prefixSumValidIndex, index);\n    return this._arr[index].prefixSum;\n  }\n  getLinesTotalHeight() {\n    this._checkPendingChanges();\n    const linesHeight = this._lineHeight * this._lineCount;\n    const whitespacesHeight = this.getWhitespacesTotalHeight();\n    return linesHeight + whitespacesHeight + this._paddingTop + this._paddingBottom;\n  }\n  getWhitespaceAccumulatedHeightBeforeLineNumber(lineNumber) {\n    this._checkPendingChanges();\n    lineNumber = lineNumber | 0;\n    const lastWhitespaceBeforeLineNumber = this._findLastWhitespaceBeforeLineNumber(lineNumber);\n    if (lastWhitespaceBeforeLineNumber === -1) {\n      return 0;\n    }\n    return this.getWhitespacesAccumulatedHeight(lastWhitespaceBeforeLineNumber);\n  }\n  _findLastWhitespaceBeforeLineNumber(lineNumber) {\n    lineNumber = lineNumber | 0;\n    const arr = this._arr;\n    let low = 0;\n    let high = arr.length - 1;\n    while (low <= high) {\n      const delta = high - low | 0;\n      const halfDelta = delta / 2 | 0;\n      const mid = low + halfDelta | 0;\n      if (arr[mid].afterLineNumber < lineNumber) {\n        if (mid + 1 >= arr.length || arr[mid + 1].afterLineNumber >= lineNumber) {\n          return mid;\n        } else {\n          low = mid + 1 | 0;\n        }\n      } else {\n        high = mid - 1 | 0;\n      }\n    }\n    return -1;\n  }\n  _findFirstWhitespaceAfterLineNumber(lineNumber) {\n    lineNumber = lineNumber | 0;\n    const lastWhitespaceBeforeLineNumber = this._findLastWhitespaceBeforeLineNumber(lineNumber);\n    const firstWhitespaceAfterLineNumber = lastWhitespaceBeforeLineNumber + 1;\n    if (firstWhitespaceAfterLineNumber < this._arr.length) {\n      return firstWhitespaceAfterLineNumber;\n    }\n    return -1;\n  }\n  getFirstWhitespaceIndexAfterLineNumber(lineNumber) {\n    this._checkPendingChanges();\n    lineNumber = lineNumber | 0;\n    return this._findFirstWhitespaceAfterLineNumber(lineNumber);\n  }\n  getVerticalOffsetForLineNumber(lineNumber, includeViewZones = false) {\n    this._checkPendingChanges();\n    lineNumber = lineNumber | 0;\n    let previousLinesHeight;\n    if (lineNumber > 1) {\n      previousLinesHeight = this._lineHeight * (lineNumber - 1);\n    } else {\n      previousLinesHeight = 0;\n    }\n    const previousWhitespacesHeight = this.getWhitespaceAccumulatedHeightBeforeLineNumber(lineNumber - (includeViewZones ? 1 : 0));\n    return previousLinesHeight + previousWhitespacesHeight + this._paddingTop;\n  }\n  getVerticalOffsetAfterLineNumber(lineNumber, includeViewZones = false) {\n    this._checkPendingChanges();\n    lineNumber = lineNumber | 0;\n    const previousLinesHeight = this._lineHeight * lineNumber;\n    const previousWhitespacesHeight = this.getWhitespaceAccumulatedHeightBeforeLineNumber(lineNumber + (includeViewZones ? 1 : 0));\n    return previousLinesHeight + previousWhitespacesHeight + this._paddingTop;\n  }\n  getWhitespaceMinWidth() {\n    this._checkPendingChanges();\n    if (this._minWidth === -1) {\n      let minWidth = 0;\n      for (let i = 0, len = this._arr.length; i < len; i++) {\n        minWidth = Math.max(minWidth, this._arr[i].minWidth);\n      }\n      this._minWidth = minWidth;\n    }\n    return this._minWidth;\n  }\n  isAfterLines(verticalOffset) {\n    this._checkPendingChanges();\n    const totalHeight = this.getLinesTotalHeight();\n    return verticalOffset > totalHeight;\n  }\n  isInTopPadding(verticalOffset) {\n    if (this._paddingTop === 0) {\n      return false;\n    }\n    this._checkPendingChanges();\n    return verticalOffset < this._paddingTop;\n  }\n  isInBottomPadding(verticalOffset) {\n    if (this._paddingBottom === 0) {\n      return false;\n    }\n    this._checkPendingChanges();\n    const totalHeight = this.getLinesTotalHeight();\n    return verticalOffset >= totalHeight - this._paddingBottom;\n  }\n  getLineNumberAtOrAfterVerticalOffset(verticalOffset) {\n    this._checkPendingChanges();\n    verticalOffset = verticalOffset | 0;\n    if (verticalOffset < 0) {\n      return 1;\n    }\n    const linesCount = this._lineCount | 0;\n    const lineHeight = this._lineHeight;\n    let minLineNumber = 1;\n    let maxLineNumber = linesCount;\n    while (minLineNumber < maxLineNumber) {\n      const midLineNumber = (minLineNumber + maxLineNumber) / 2 | 0;\n      const midLineNumberVerticalOffset = this.getVerticalOffsetForLineNumber(midLineNumber) | 0;\n      if (verticalOffset >= midLineNumberVerticalOffset + lineHeight) {\n        minLineNumber = midLineNumber + 1;\n      } else if (verticalOffset >= midLineNumberVerticalOffset) {\n        return midLineNumber;\n      } else {\n        maxLineNumber = midLineNumber;\n      }\n    }\n    if (minLineNumber > linesCount) {\n      return linesCount;\n    }\n    return minLineNumber;\n  }\n  getLinesViewportData(verticalOffset1, verticalOffset2) {\n    this._checkPendingChanges();\n    verticalOffset1 = verticalOffset1 | 0;\n    verticalOffset2 = verticalOffset2 | 0;\n    const lineHeight = this._lineHeight;\n    const startLineNumber = this.getLineNumberAtOrAfterVerticalOffset(verticalOffset1) | 0;\n    const startLineNumberVerticalOffset = this.getVerticalOffsetForLineNumber(startLineNumber) | 0;\n    let endLineNumber = this._lineCount | 0;\n    let whitespaceIndex = this.getFirstWhitespaceIndexAfterLineNumber(startLineNumber) | 0;\n    const whitespaceCount = this.getWhitespacesCount() | 0;\n    let currentWhitespaceHeight;\n    let currentWhitespaceAfterLineNumber;\n    if (whitespaceIndex === -1) {\n      whitespaceIndex = whitespaceCount;\n      currentWhitespaceAfterLineNumber = endLineNumber + 1;\n      currentWhitespaceHeight = 0;\n    } else {\n      currentWhitespaceAfterLineNumber = this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex) | 0;\n      currentWhitespaceHeight = this.getHeightForWhitespaceIndex(whitespaceIndex) | 0;\n    }\n    let currentVerticalOffset = startLineNumberVerticalOffset;\n    let currentLineRelativeOffset = currentVerticalOffset;\n    const STEP_SIZE = 500000;\n    let bigNumbersDelta = 0;\n    if (startLineNumberVerticalOffset >= STEP_SIZE) {\n      bigNumbersDelta = Math.floor(startLineNumberVerticalOffset / STEP_SIZE) * STEP_SIZE;\n      bigNumbersDelta = Math.floor(bigNumbersDelta / lineHeight) * lineHeight;\n      currentLineRelativeOffset -= bigNumbersDelta;\n    }\n    const linesOffsets = [];\n    const verticalCenter = verticalOffset1 + (verticalOffset2 - verticalOffset1) / 2;\n    let centeredLineNumber = -1;\n    for (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n      if (centeredLineNumber === -1) {\n        const currentLineTop = currentVerticalOffset;\n        const currentLineBottom = currentVerticalOffset + lineHeight;\n        if (currentLineTop <= verticalCenter && verticalCenter < currentLineBottom || currentLineTop > verticalCenter) {\n          centeredLineNumber = lineNumber;\n        }\n      }\n      currentVerticalOffset += lineHeight;\n      linesOffsets[lineNumber - startLineNumber] = currentLineRelativeOffset;\n      currentLineRelativeOffset += lineHeight;\n      while (currentWhitespaceAfterLineNumber === lineNumber) {\n        currentLineRelativeOffset += currentWhitespaceHeight;\n        currentVerticalOffset += currentWhitespaceHeight;\n        whitespaceIndex++;\n        if (whitespaceIndex >= whitespaceCount) {\n          currentWhitespaceAfterLineNumber = endLineNumber + 1;\n        } else {\n          currentWhitespaceAfterLineNumber = this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex) | 0;\n          currentWhitespaceHeight = this.getHeightForWhitespaceIndex(whitespaceIndex) | 0;\n        }\n      }\n      if (currentVerticalOffset >= verticalOffset2) {\n        endLineNumber = lineNumber;\n        break;\n      }\n    }\n    if (centeredLineNumber === -1) {\n      centeredLineNumber = endLineNumber;\n    }\n    const endLineNumberVerticalOffset = this.getVerticalOffsetForLineNumber(endLineNumber) | 0;\n    let completelyVisibleStartLineNumber = startLineNumber;\n    let completelyVisibleEndLineNumber = endLineNumber;\n    if (completelyVisibleStartLineNumber < completelyVisibleEndLineNumber) {\n      if (startLineNumberVerticalOffset < verticalOffset1) {\n        completelyVisibleStartLineNumber++;\n      }\n    }\n    if (completelyVisibleStartLineNumber < completelyVisibleEndLineNumber) {\n      if (endLineNumberVerticalOffset + lineHeight > verticalOffset2) {\n        completelyVisibleEndLineNumber--;\n      }\n    }\n    return {bigNumbersDelta:bigNumbersDelta, startLineNumber:startLineNumber, endLineNumber:endLineNumber, relativeVerticalOffset:linesOffsets, centeredLineNumber:centeredLineNumber, completelyVisibleStartLineNumber:completelyVisibleStartLineNumber, completelyVisibleEndLineNumber:completelyVisibleEndLineNumber};\n  }\n  getVerticalOffsetForWhitespaceIndex(whitespaceIndex) {\n    this._checkPendingChanges();\n    whitespaceIndex = whitespaceIndex | 0;\n    const afterLineNumber = this.getAfterLineNumberForWhitespaceIndex(whitespaceIndex);\n    let previousLinesHeight;\n    if (afterLineNumber >= 1) {\n      previousLinesHeight = this._lineHeight * afterLineNumber;\n    } else {\n      previousLinesHeight = 0;\n    }\n    let previousWhitespacesHeight;\n    if (whitespaceIndex > 0) {\n      previousWhitespacesHeight = this.getWhitespacesAccumulatedHeight(whitespaceIndex - 1);\n    } else {\n      previousWhitespacesHeight = 0;\n    }\n    return previousLinesHeight + previousWhitespacesHeight + this._paddingTop;\n  }\n  getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset) {\n    this._checkPendingChanges();\n    verticalOffset = verticalOffset | 0;\n    let minWhitespaceIndex = 0;\n    let maxWhitespaceIndex = this.getWhitespacesCount() - 1;\n    if (maxWhitespaceIndex < 0) {\n      return -1;\n    }\n    const maxWhitespaceVerticalOffset = this.getVerticalOffsetForWhitespaceIndex(maxWhitespaceIndex);\n    const maxWhitespaceHeight = this.getHeightForWhitespaceIndex(maxWhitespaceIndex);\n    if (verticalOffset >= maxWhitespaceVerticalOffset + maxWhitespaceHeight) {\n      return -1;\n    }\n    while (minWhitespaceIndex < maxWhitespaceIndex) {\n      const midWhitespaceIndex = Math.floor((minWhitespaceIndex + maxWhitespaceIndex) / 2);\n      const midWhitespaceVerticalOffset = this.getVerticalOffsetForWhitespaceIndex(midWhitespaceIndex);\n      const midWhitespaceHeight = this.getHeightForWhitespaceIndex(midWhitespaceIndex);\n      if (verticalOffset >= midWhitespaceVerticalOffset + midWhitespaceHeight) {\n        minWhitespaceIndex = midWhitespaceIndex + 1;\n      } else if (verticalOffset >= midWhitespaceVerticalOffset) {\n        return midWhitespaceIndex;\n      } else {\n        maxWhitespaceIndex = midWhitespaceIndex;\n      }\n    }\n    return minWhitespaceIndex;\n  }\n  getWhitespaceAtVerticalOffset(verticalOffset) {\n    this._checkPendingChanges();\n    verticalOffset = verticalOffset | 0;\n    const candidateIndex = this.getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset);\n    if (candidateIndex < 0) {\n      return null;\n    }\n    if (candidateIndex >= this.getWhitespacesCount()) {\n      return null;\n    }\n    const candidateTop = this.getVerticalOffsetForWhitespaceIndex(candidateIndex);\n    if (candidateTop > verticalOffset) {\n      return null;\n    }\n    const candidateHeight = this.getHeightForWhitespaceIndex(candidateIndex);\n    const candidateId = this.getIdForWhitespaceIndex(candidateIndex);\n    const candidateAfterLineNumber = this.getAfterLineNumberForWhitespaceIndex(candidateIndex);\n    return {id:candidateId, afterLineNumber:candidateAfterLineNumber, verticalOffset:candidateTop, height:candidateHeight};\n  }\n  getWhitespaceViewportData(verticalOffset1, verticalOffset2) {\n    this._checkPendingChanges();\n    verticalOffset1 = verticalOffset1 | 0;\n    verticalOffset2 = verticalOffset2 | 0;\n    const startIndex = this.getWhitespaceIndexAtOrAfterVerticallOffset(verticalOffset1);\n    const endIndex = this.getWhitespacesCount() - 1;\n    if (startIndex < 0) {\n      return [];\n    }\n    const result = [];\n    for (let i = startIndex; i <= endIndex; i++) {\n      const top = this.getVerticalOffsetForWhitespaceIndex(i);\n      const height = this.getHeightForWhitespaceIndex(i);\n      if (top >= verticalOffset2) {\n        break;\n      }\n      result.push({id:this.getIdForWhitespaceIndex(i), afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(i), verticalOffset:top, height:height});\n    }\n    return result;\n  }\n  getWhitespaces() {\n    this._checkPendingChanges();\n    return this._arr.slice(0);\n  }\n  getWhitespacesCount() {\n    this._checkPendingChanges();\n    return this._arr.length;\n  }\n  getIdForWhitespaceIndex(index) {\n    this._checkPendingChanges();\n    index = index | 0;\n    return this._arr[index].id;\n  }\n  getAfterLineNumberForWhitespaceIndex(index) {\n    this._checkPendingChanges();\n    index = index | 0;\n    return this._arr[index].afterLineNumber;\n  }\n  getHeightForWhitespaceIndex(index) {\n    this._checkPendingChanges();\n    index = index | 0;\n    return this._arr[index].height;\n  }\n}\nLinesLayout.INSTANCE_COUNT = 0;\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","EditorWhitespace","get","LinesLayout","strings","PendingChanges","constructor","_hasPending","_inserts","_changes","_removes","insert","x","push","change","remove","mustCommit","commit","linesLayout","inserts","changes","removes","_commitPendingChanges","id","afterLineNumber","ordinal","height","minWidth","prefixSum","lineCount","lineHeight","paddingTop","paddingBottom","_instanceId","singleLetterHash","INSTANCE_COUNT","_pendingChanges","_lastWhitespaceId","_arr","_minWidth","_prefixSumValidIndex","_lineCount","_lineHeight","_paddingTop","_paddingBottom","findInsertionIndex","arr","low","high","length","mid","setLineHeight","_checkPendingChanges","setPadding","onFlushed","changeWhitespace","callback","hadAChange","accessor","insertWhitespace","heightInPx","changeOneWhitespace","newAfterLineNumber","newHeight","removeWhitespace","_insertWhitespace","_changeOneWhitespace","index","_findWhitespaceIndex","_removeWhitespace","toRemove","Set","add","toChange","Map","set","applyRemoveAndChange","whitespaces","result","whitespace","has","concat","sort","a","b","insertIndex","splice","Math","min","i","len","removeIndex","onLinesDeleted","fromLineNumber","toLineNumber","onLinesInserted","getWhitespacesTotalHeight","getWhitespacesAccumulatedHeight","startIndex","max","getLinesTotalHeight","linesHeight","whitespacesHeight","getWhitespaceAccumulatedHeightBeforeLineNumber","lineNumber","lastWhitespaceBeforeLineNumber","_findLastWhitespaceBeforeLineNumber","_findFirstWhitespaceAfterLineNumber","firstWhitespaceAfterLineNumber","getFirstWhitespaceIndexAfterLineNumber","getVerticalOffsetForLineNumber","includeViewZones","previousLinesHeight","previousWhitespacesHeight","getVerticalOffsetAfterLineNumber","getWhitespaceMinWidth","isAfterLines","verticalOffset","totalHeight","isInTopPadding","isInBottomPadding","getLineNumberAtOrAfterVerticalOffset","linesCount","minLineNumber","maxLineNumber","midLineNumber","midLineNumberVerticalOffset","getLinesViewportData","verticalOffset1","verticalOffset2","startLineNumber","startLineNumberVerticalOffset","endLineNumber","whitespaceIndex","whitespaceCount","getWhitespacesCount","currentWhitespaceAfterLineNumber","currentWhitespaceHeight","getAfterLineNumberForWhitespaceIndex","getHeightForWhitespaceIndex","currentVerticalOffset","currentLineRelativeOffset","bigNumbersDelta","STEP_SIZE","floor","linesOffsets","verticalCenter","centeredLineNumber","currentLineTop","currentLineBottom","endLineNumberVerticalOffset","completelyVisibleStartLineNumber","completelyVisibleEndLineNumber","relativeVerticalOffset","getVerticalOffsetForWhitespaceIndex","getWhitespaceIndexAtOrAfterVerticallOffset","minWhitespaceIndex","maxWhitespaceIndex","maxWhitespaceVerticalOffset","maxWhitespaceHeight","midWhitespaceIndex","midWhitespaceVerticalOffset","midWhitespaceHeight","getWhitespaceAtVerticalOffset","candidateIndex","candidateTop","candidateHeight","candidateId","getIdForWhitespaceIndex","candidateAfterLineNumber","getWhitespaceViewportData","endIndex","top","getWhitespaces","slice"]
}
