{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$controller$mouseHandler.js",
"lineCount":360,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/controller/mouseHandler.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$controller$mouseHandler\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, MouseHandler:{enumerable:true, get:function() {\n  return MouseHandler;\n}}});\nvar dom = require(\"../../../base/browser/dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_mouseEvent_DOT_js = require(\"../../../base/browser/mouseEvent.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../base/common/lifecycle.js\");\nvar platform = require(\"../../../base/common/platform.js\");\nvar require$_DOT__SLASH_mouseTarget_DOT_js = require(\"./mouseTarget.js\");\nvar require$_DOT__DOT__SLASH_editorDom_DOT_js = require(\"../editorDom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js = require(\"../../common/config/editorZoom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js = require(\"../../common/core/position.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_selection_DOT_js = require(\"../../common/core/selection.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewEventHandler_DOT_js = require(\"../../common/viewEventHandler.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_scrollbar_SLASH_scrollableElement_DOT_js = require(\"../../../base/browser/ui/scrollbar/scrollableElement.js\");\nclass MouseHandler extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewEventHandler_DOT_js.ViewEventHandler {\n  constructor(context, viewController, viewHelper) {\n    super();\n    this._mouseLeaveMonitor = null;\n    this._context = context;\n    this.viewController = viewController;\n    this.viewHelper = viewHelper;\n    this.mouseTargetFactory = new require$_DOT__SLASH_mouseTarget_DOT_js.MouseTargetFactory(this._context, viewHelper);\n    this._mouseDownOperation = this._register(new MouseDownOperation(this._context, this.viewController, this.viewHelper, this.mouseTargetFactory, (e, testEventTarget) => this._createMouseTarget(e, testEventTarget), e => this._getMouseColumn(e)));\n    this.lastMouseLeaveTime = -1;\n    this._height = this._context.configuration.options.get(143).height;\n    const mouseEvents = new require$_DOT__DOT__SLASH_editorDom_DOT_js.EditorMouseEventFactory(this.viewHelper.viewDomNode);\n    this._register(mouseEvents.onContextMenu(this.viewHelper.viewDomNode, e => this._onContextMenu(e, true)));\n    this._register(mouseEvents.onMouseMove(this.viewHelper.viewDomNode, e => {\n      this._onMouseMove(e);\n      if (!this._mouseLeaveMonitor) {\n        this._mouseLeaveMonitor = dom.addDisposableListener(this.viewHelper.viewDomNode.ownerDocument, \"mousemove\", e => {\n          if (!this.viewHelper.viewDomNode.contains(e.target)) {\n            this._onMouseLeave(new require$_DOT__DOT__SLASH_editorDom_DOT_js.EditorMouseEvent(e, false, this.viewHelper.viewDomNode));\n          }\n        });\n      }\n    }));\n    this._register(mouseEvents.onMouseUp(this.viewHelper.viewDomNode, e => this._onMouseUp(e)));\n    this._register(mouseEvents.onMouseLeave(this.viewHelper.viewDomNode, e => this._onMouseLeave(e)));\n    let capturePointerId = 0;\n    this._register(mouseEvents.onPointerDown(this.viewHelper.viewDomNode, (e, pointerId) => {\n      capturePointerId = pointerId;\n    }));\n    this._register(dom.addDisposableListener(this.viewHelper.viewDomNode, dom.EventType.POINTER_UP, e => {\n      this._mouseDownOperation.onPointerUp();\n    }));\n    this._register(mouseEvents.onMouseDown(this.viewHelper.viewDomNode, e => this._onMouseDown(e, capturePointerId)));\n    this._setupMouseWheelZoomListener();\n    this._context.addEventHandler(this);\n  }\n  _setupMouseWheelZoomListener() {\n    const classifier = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_scrollbar_SLASH_scrollableElement_DOT_js.MouseWheelClassifier.INSTANCE;\n    let prevMouseWheelTime = 0;\n    let gestureStartZoomLevel = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js.EditorZoom.getZoomLevel();\n    let gestureHasZoomModifiers = false;\n    let gestureAccumulatedDelta = 0;\n    const onMouseWheel = browserEvent => {\n      this.viewController.emitMouseWheel(browserEvent);\n      if (!this._context.configuration.options.get(75)) {\n        return;\n      }\n      const e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_mouseEvent_DOT_js.StandardWheelEvent(browserEvent);\n      classifier.acceptStandardWheelEvent(e);\n      if (classifier.isPhysicalMouseWheel()) {\n        if (hasMouseWheelZoomModifiers(browserEvent)) {\n          const zoomLevel = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js.EditorZoom.getZoomLevel();\n          const delta = e.deltaY > 0 ? 1 : -1;\n          require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js.EditorZoom.setZoomLevel(zoomLevel + delta);\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      } else {\n        if (Date.now() - prevMouseWheelTime > 50) {\n          gestureStartZoomLevel = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js.EditorZoom.getZoomLevel();\n          gestureHasZoomModifiers = hasMouseWheelZoomModifiers(browserEvent);\n          gestureAccumulatedDelta = 0;\n        }\n        prevMouseWheelTime = Date.now();\n        gestureAccumulatedDelta += e.deltaY;\n        if (gestureHasZoomModifiers) {\n          require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js.EditorZoom.setZoomLevel(gestureStartZoomLevel + gestureAccumulatedDelta / 5);\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n    };\n    this._register(dom.addDisposableListener(this.viewHelper.viewDomNode, dom.EventType.MOUSE_WHEEL, onMouseWheel, {capture:true, passive:false}));\n    function hasMouseWheelZoomModifiers(browserEvent) {\n      return platform.isMacintosh ? (browserEvent.metaKey || browserEvent.ctrlKey) && !browserEvent.shiftKey && !browserEvent.altKey : browserEvent.ctrlKey && !browserEvent.metaKey && !browserEvent.shiftKey && !browserEvent.altKey;\n    }\n  }\n  dispose() {\n    this._context.removeEventHandler(this);\n    if (this._mouseLeaveMonitor) {\n      this._mouseLeaveMonitor.dispose();\n      this._mouseLeaveMonitor = null;\n    }\n    super.dispose();\n  }\n  onConfigurationChanged(e) {\n    if (e.hasChanged(143)) {\n      const height = this._context.configuration.options.get(143).height;\n      if (this._height !== height) {\n        this._height = height;\n        this._mouseDownOperation.onHeightChanged();\n      }\n    }\n    return false;\n  }\n  onCursorStateChanged(e) {\n    this._mouseDownOperation.onCursorStateChanged(e);\n    return false;\n  }\n  onFocusChanged(e) {\n    return false;\n  }\n  getTargetAtClientPoint(clientX, clientY) {\n    const clientPos = new require$_DOT__DOT__SLASH_editorDom_DOT_js.ClientCoordinates(clientX, clientY);\n    const pos = clientPos.toPageCoordinates(dom.getWindow(this.viewHelper.viewDomNode));\n    const editorPos = (0,require$_DOT__DOT__SLASH_editorDom_DOT_js.createEditorPagePosition)(this.viewHelper.viewDomNode);\n    if (pos.y < editorPos.y || pos.y > editorPos.y + editorPos.height || pos.x < editorPos.x || pos.x > editorPos.x + editorPos.width) {\n      return null;\n    }\n    const relativePos = (0,require$_DOT__DOT__SLASH_editorDom_DOT_js.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode, editorPos, pos);\n    return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(), editorPos, pos, relativePos, null);\n  }\n  _createMouseTarget(e, testEventTarget) {\n    let target = e.target;\n    if (!this.viewHelper.viewDomNode.contains(target)) {\n      const shadowRoot = dom.getShadowRoot(this.viewHelper.viewDomNode);\n      if (shadowRoot) {\n        target = shadowRoot.elementsFromPoint(e.posx, e.posy).find(el => this.viewHelper.viewDomNode.contains(el));\n      }\n    }\n    return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(), e.editorPos, e.pos, e.relativePos, testEventTarget ? target : null);\n  }\n  _getMouseColumn(e) {\n    return this.mouseTargetFactory.getMouseColumn(e.relativePos);\n  }\n  _onContextMenu(e, testEventTarget) {\n    this.viewController.emitContextMenu({event:e, target:this._createMouseTarget(e, testEventTarget)});\n  }\n  _onMouseMove(e) {\n    const targetIsWidget = this.mouseTargetFactory.mouseTargetIsWidget(e);\n    if (!targetIsWidget) {\n      e.preventDefault();\n    }\n    if (this._mouseDownOperation.isActive()) {\n      return;\n    }\n    const actualMouseMoveTime = e.timestamp;\n    if (actualMouseMoveTime < this.lastMouseLeaveTime) {\n      return;\n    }\n    this.viewController.emitMouseMove({event:e, target:this._createMouseTarget(e, true)});\n  }\n  _onMouseLeave(e) {\n    if (this._mouseLeaveMonitor) {\n      this._mouseLeaveMonitor.dispose();\n      this._mouseLeaveMonitor = null;\n    }\n    this.lastMouseLeaveTime = (new Date()).getTime();\n    this.viewController.emitMouseLeave({event:e, target:null});\n  }\n  _onMouseUp(e) {\n    this.viewController.emitMouseUp({event:e, target:this._createMouseTarget(e, true)});\n  }\n  _onMouseDown(e, pointerId) {\n    const t = this._createMouseTarget(e, true);\n    const targetIsContent = t.type === 6 || t.type === 7;\n    const targetIsGutter = t.type === 2 || t.type === 3 || t.type === 4;\n    const targetIsLineNumbers = t.type === 3;\n    const selectOnLineNumbers = this._context.configuration.options.get(108);\n    const targetIsViewZone = t.type === 8 || t.type === 5;\n    const targetIsWidget = t.type === 9;\n    let shouldHandle = e.leftButton || e.middleButton;\n    if (platform.isMacintosh && e.leftButton && e.ctrlKey) {\n      shouldHandle = false;\n    }\n    const focus = () => {\n      e.preventDefault();\n      this.viewHelper.focusTextArea();\n    };\n    if (shouldHandle && (targetIsContent || targetIsLineNumbers && selectOnLineNumbers)) {\n      focus();\n      this._mouseDownOperation.start(t.type, e, pointerId);\n    } else if (targetIsGutter) {\n      e.preventDefault();\n    } else if (targetIsViewZone) {\n      const viewZoneData = t.detail;\n      if (shouldHandle && this.viewHelper.shouldSuppressMouseDownOnViewZone(viewZoneData.viewZoneId)) {\n        focus();\n        this._mouseDownOperation.start(t.type, e, pointerId);\n        e.preventDefault();\n      }\n    } else if (targetIsWidget && this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)) {\n      focus();\n      e.preventDefault();\n    }\n    this.viewController.emitMouseDown({event:e, target:t});\n  }\n}\nclass MouseDownOperation extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  constructor(_context, _viewController, _viewHelper, _mouseTargetFactory, createMouseTarget, getMouseColumn) {\n    super();\n    this._context = _context;\n    this._viewController = _viewController;\n    this._viewHelper = _viewHelper;\n    this._mouseTargetFactory = _mouseTargetFactory;\n    this._createMouseTarget = createMouseTarget;\n    this._getMouseColumn = getMouseColumn;\n    this._mouseMoveMonitor = this._register(new require$_DOT__DOT__SLASH_editorDom_DOT_js.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode));\n    this._topBottomDragScrolling = this._register(new TopBottomDragScrolling(this._context, this._viewHelper, this._mouseTargetFactory, (position, inSelectionMode, revealType) => this._dispatchMouse(position, inSelectionMode, revealType)));\n    this._mouseState = new MouseDownState();\n    this._currentSelection = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_selection_DOT_js.Selection(1, 1, 1, 1);\n    this._isActive = false;\n    this._lastMouseEvent = null;\n  }\n  dispose() {\n    super.dispose();\n  }\n  isActive() {\n    return this._isActive;\n  }\n  _onMouseDownThenMove(e) {\n    this._lastMouseEvent = e;\n    this._mouseState.setModifiers(e);\n    const position = this._findMousePosition(e, false);\n    if (!position) {\n      return;\n    }\n    if (this._mouseState.isDragAndDrop) {\n      this._viewController.emitMouseDrag({event:e, target:position});\n    } else {\n      if (position.type === 13 && (position.outsidePosition === \"above\" || position.outsidePosition === \"below\")) {\n        this._topBottomDragScrolling.start(position, e);\n      } else {\n        this._topBottomDragScrolling.stop();\n        this._dispatchMouse(position, true, 1);\n      }\n    }\n  }\n  start(targetType, e, pointerId) {\n    this._lastMouseEvent = e;\n    this._mouseState.setStartedOnLineNumbers(targetType === 3);\n    this._mouseState.setStartButtons(e);\n    this._mouseState.setModifiers(e);\n    const position = this._findMousePosition(e, true);\n    if (!position || !position.position) {\n      return;\n    }\n    this._mouseState.trySetCount(e.detail, position.position);\n    e.detail = this._mouseState.count;\n    const options = this._context.configuration.options;\n    if (!options.get(90) && options.get(35) && !options.get(22) && !this._mouseState.altKey && e.detail < 2 && !this._isActive && !this._currentSelection.isEmpty() && position.type === 6 && position.position && this._currentSelection.containsPosition(position.position)) {\n      this._mouseState.isDragAndDrop = true;\n      this._isActive = true;\n      this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode, pointerId, e.buttons, e => this._onMouseDownThenMove(e), browserEvent => {\n        const position = this._findMousePosition(this._lastMouseEvent, false);\n        if (dom.isKeyboardEvent(browserEvent)) {\n          this._viewController.emitMouseDropCanceled();\n        } else {\n          this._viewController.emitMouseDrop({event:this._lastMouseEvent, target:position ? this._createMouseTarget(this._lastMouseEvent, true) : null});\n        }\n        this._stop();\n      });\n      return;\n    }\n    this._mouseState.isDragAndDrop = false;\n    this._dispatchMouse(position, e.shiftKey, 1);\n    if (!this._isActive) {\n      this._isActive = true;\n      this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode, pointerId, e.buttons, e => this._onMouseDownThenMove(e), () => this._stop());\n    }\n  }\n  _stop() {\n    this._isActive = false;\n    this._topBottomDragScrolling.stop();\n  }\n  onHeightChanged() {\n    this._mouseMoveMonitor.stopMonitoring();\n  }\n  onPointerUp() {\n    this._mouseMoveMonitor.stopMonitoring();\n  }\n  onCursorStateChanged(e) {\n    this._currentSelection = e.selections[0];\n  }\n  _getPositionOutsideEditor(e) {\n    const editorContent = e.editorPos;\n    const model = this._context.viewModel;\n    const viewLayout = this._context.viewLayout;\n    const mouseColumn = this._getMouseColumn(e);\n    if (e.posy < editorContent.y) {\n      const outsideDistance = editorContent.y - e.posy;\n      const verticalOffset = Math.max(viewLayout.getCurrentScrollTop() - outsideDistance, 0);\n      const viewZoneData = require$_DOT__SLASH_mouseTarget_DOT_js.HitTestContext.getZoneAtCoord(this._context, verticalOffset);\n      if (viewZoneData) {\n        const newPosition = this._helpPositionJumpOverViewZone(viewZoneData);\n        if (newPosition) {\n          return require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createOutsideEditor(mouseColumn, newPosition, \"above\", outsideDistance);\n        }\n      }\n      const aboveLineNumber = viewLayout.getLineNumberAtVerticalOffset(verticalOffset);\n      return require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createOutsideEditor(mouseColumn, new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(aboveLineNumber, 1), \"above\", outsideDistance);\n    }\n    if (e.posy > editorContent.y + editorContent.height) {\n      const outsideDistance = e.posy - editorContent.y - editorContent.height;\n      const verticalOffset = viewLayout.getCurrentScrollTop() + e.relativePos.y;\n      const viewZoneData = require$_DOT__SLASH_mouseTarget_DOT_js.HitTestContext.getZoneAtCoord(this._context, verticalOffset);\n      if (viewZoneData) {\n        const newPosition = this._helpPositionJumpOverViewZone(viewZoneData);\n        if (newPosition) {\n          return require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createOutsideEditor(mouseColumn, newPosition, \"below\", outsideDistance);\n        }\n      }\n      const belowLineNumber = viewLayout.getLineNumberAtVerticalOffset(verticalOffset);\n      return require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createOutsideEditor(mouseColumn, new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(belowLineNumber, model.getLineMaxColumn(belowLineNumber)), \"below\", outsideDistance);\n    }\n    const possibleLineNumber = viewLayout.getLineNumberAtVerticalOffset(viewLayout.getCurrentScrollTop() + e.relativePos.y);\n    if (e.posx < editorContent.x) {\n      const outsideDistance = editorContent.x - e.posx;\n      return require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createOutsideEditor(mouseColumn, new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(possibleLineNumber, 1), \"left\", outsideDistance);\n    }\n    if (e.posx > editorContent.x + editorContent.width) {\n      const outsideDistance = e.posx - editorContent.x - editorContent.width;\n      return require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createOutsideEditor(mouseColumn, new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(possibleLineNumber, model.getLineMaxColumn(possibleLineNumber)), \"right\", outsideDistance);\n    }\n    return null;\n  }\n  _findMousePosition(e, testEventTarget) {\n    const positionOutsideEditor = this._getPositionOutsideEditor(e);\n    if (positionOutsideEditor) {\n      return positionOutsideEditor;\n    }\n    const t = this._createMouseTarget(e, testEventTarget);\n    const hintedPosition = t.position;\n    if (!hintedPosition) {\n      return null;\n    }\n    if (t.type === 8 || t.type === 5) {\n      const newPosition = this._helpPositionJumpOverViewZone(t.detail);\n      if (newPosition) {\n        return require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createViewZone(t.type, t.element, t.mouseColumn, newPosition, t.detail);\n      }\n    }\n    return t;\n  }\n  _helpPositionJumpOverViewZone(viewZoneData) {\n    const selectionStart = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(this._currentSelection.selectionStartLineNumber, this._currentSelection.selectionStartColumn);\n    const positionBefore = viewZoneData.positionBefore;\n    const positionAfter = viewZoneData.positionAfter;\n    if (positionBefore && positionAfter) {\n      if (positionBefore.isBefore(selectionStart)) {\n        return positionBefore;\n      } else {\n        return positionAfter;\n      }\n    }\n    return null;\n  }\n  _dispatchMouse(position, inSelectionMode, revealType) {\n    if (!position.position) {\n      return;\n    }\n    this._viewController.dispatchMouse({position:position.position, mouseColumn:position.mouseColumn, startedOnLineNumbers:this._mouseState.startedOnLineNumbers, revealType, inSelectionMode:inSelectionMode, mouseDownCount:this._mouseState.count, altKey:this._mouseState.altKey, ctrlKey:this._mouseState.ctrlKey, metaKey:this._mouseState.metaKey, shiftKey:this._mouseState.shiftKey, leftButton:this._mouseState.leftButton, middleButton:this._mouseState.middleButton, onInjectedText:position.type === 6 && \n    position.detail.injectedText !== null});\n  }\n}\nclass TopBottomDragScrolling extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  constructor(_context, _viewHelper, _mouseTargetFactory, _dispatchMouse) {\n    super();\n    this._context = _context;\n    this._viewHelper = _viewHelper;\n    this._mouseTargetFactory = _mouseTargetFactory;\n    this._dispatchMouse = _dispatchMouse;\n    this._operation = null;\n  }\n  dispose() {\n    super.dispose();\n    this.stop();\n  }\n  start(position, mouseEvent) {\n    if (this._operation) {\n      this._operation.setPosition(position, mouseEvent);\n    } else {\n      this._operation = new TopBottomDragScrollingOperation(this._context, this._viewHelper, this._mouseTargetFactory, this._dispatchMouse, position, mouseEvent);\n    }\n  }\n  stop() {\n    if (this._operation) {\n      this._operation.dispose();\n      this._operation = null;\n    }\n  }\n}\nclass TopBottomDragScrollingOperation extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  constructor(_context, _viewHelper, _mouseTargetFactory, _dispatchMouse, position, mouseEvent) {\n    super();\n    this._context = _context;\n    this._viewHelper = _viewHelper;\n    this._mouseTargetFactory = _mouseTargetFactory;\n    this._dispatchMouse = _dispatchMouse;\n    this._position = position;\n    this._mouseEvent = mouseEvent;\n    this._lastTime = Date.now();\n    this._animationFrameDisposable = dom.scheduleAtNextAnimationFrame(dom.getWindow(mouseEvent.browserEvent), () => this._execute());\n  }\n  dispose() {\n    this._animationFrameDisposable.dispose();\n  }\n  setPosition(position, mouseEvent) {\n    this._position = position;\n    this._mouseEvent = mouseEvent;\n  }\n  _tick() {\n    const now = Date.now();\n    const elapsed = now - this._lastTime;\n    this._lastTime = now;\n    return elapsed;\n  }\n  _getScrollSpeed() {\n    const lineHeight = this._context.configuration.options.get(66);\n    const viewportInLines = this._context.configuration.options.get(143).height / lineHeight;\n    const outsideDistanceInLines = this._position.outsideDistance / lineHeight;\n    if (outsideDistanceInLines <= 1.5) {\n      return Math.max(30, viewportInLines * (1 + outsideDistanceInLines));\n    }\n    if (outsideDistanceInLines <= 3) {\n      return Math.max(60, viewportInLines * (2 + outsideDistanceInLines));\n    }\n    return Math.max(200, viewportInLines * (7 + outsideDistanceInLines));\n  }\n  _execute() {\n    const lineHeight = this._context.configuration.options.get(66);\n    const scrollSpeedInLines = this._getScrollSpeed();\n    const elapsed = this._tick();\n    const scrollInPixels = scrollSpeedInLines * (elapsed / 1000) * lineHeight;\n    const scrollValue = this._position.outsidePosition === \"above\" ? -scrollInPixels : scrollInPixels;\n    this._context.viewModel.viewLayout.deltaScrollNow(0, scrollValue);\n    this._viewHelper.renderNow();\n    const viewportData = this._context.viewLayout.getLinesViewportData();\n    const edgeLineNumber = this._position.outsidePosition === \"above\" ? viewportData.startLineNumber : viewportData.endLineNumber;\n    let mouseTarget;\n    {\n      const editorPos = (0,require$_DOT__DOT__SLASH_editorDom_DOT_js.createEditorPagePosition)(this._viewHelper.viewDomNode);\n      const horizontalScrollbarHeight = this._context.configuration.options.get(143).horizontalScrollbarHeight;\n      const pos = new require$_DOT__DOT__SLASH_editorDom_DOT_js.PageCoordinates(this._mouseEvent.pos.x, editorPos.y + editorPos.height - horizontalScrollbarHeight - 0.1);\n      const relativePos = (0,require$_DOT__DOT__SLASH_editorDom_DOT_js.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode, editorPos, pos);\n      mouseTarget = this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(), editorPos, pos, relativePos, null);\n    }\n    if (!mouseTarget.position || mouseTarget.position.lineNumber !== edgeLineNumber) {\n      if (this._position.outsidePosition === \"above\") {\n        mouseTarget = require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createOutsideEditor(this._position.mouseColumn, new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(edgeLineNumber, 1), \"above\", this._position.outsideDistance);\n      } else {\n        mouseTarget = require$_DOT__SLASH_mouseTarget_DOT_js.MouseTarget.createOutsideEditor(this._position.mouseColumn, new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(edgeLineNumber, this._context.viewModel.getLineMaxColumn(edgeLineNumber)), \"below\", this._position.outsideDistance);\n      }\n    }\n    this._dispatchMouse(mouseTarget, true, 2);\n    this._animationFrameDisposable = dom.scheduleAtNextAnimationFrame(dom.getWindow(mouseTarget.element), () => this._execute());\n  }\n}\nclass MouseDownState {\n  get altKey() {\n    return this._altKey;\n  }\n  get ctrlKey() {\n    return this._ctrlKey;\n  }\n  get metaKey() {\n    return this._metaKey;\n  }\n  get shiftKey() {\n    return this._shiftKey;\n  }\n  get leftButton() {\n    return this._leftButton;\n  }\n  get middleButton() {\n    return this._middleButton;\n  }\n  get startedOnLineNumbers() {\n    return this._startedOnLineNumbers;\n  }\n  constructor() {\n    this._altKey = false;\n    this._ctrlKey = false;\n    this._metaKey = false;\n    this._shiftKey = false;\n    this._leftButton = false;\n    this._middleButton = false;\n    this._startedOnLineNumbers = false;\n    this._lastMouseDownPosition = null;\n    this._lastMouseDownPositionEqualCount = 0;\n    this._lastMouseDownCount = 0;\n    this._lastSetMouseDownCountTime = 0;\n    this.isDragAndDrop = false;\n  }\n  get count() {\n    return this._lastMouseDownCount;\n  }\n  setModifiers(source) {\n    this._altKey = source.altKey;\n    this._ctrlKey = source.ctrlKey;\n    this._metaKey = source.metaKey;\n    this._shiftKey = source.shiftKey;\n  }\n  setStartButtons(source) {\n    this._leftButton = source.leftButton;\n    this._middleButton = source.middleButton;\n  }\n  setStartedOnLineNumbers(startedOnLineNumbers) {\n    this._startedOnLineNumbers = startedOnLineNumbers;\n  }\n  trySetCount(setMouseDownCount, newMouseDownPosition) {\n    const currentTime = (new Date()).getTime();\n    if (currentTime - this._lastSetMouseDownCountTime > MouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME) {\n      setMouseDownCount = 1;\n    }\n    this._lastSetMouseDownCountTime = currentTime;\n    if (setMouseDownCount > this._lastMouseDownCount + 1) {\n      setMouseDownCount = this._lastMouseDownCount + 1;\n    }\n    if (this._lastMouseDownPosition && this._lastMouseDownPosition.equals(newMouseDownPosition)) {\n      this._lastMouseDownPositionEqualCount++;\n    } else {\n      this._lastMouseDownPositionEqualCount = 1;\n    }\n    this._lastMouseDownPosition = newMouseDownPosition;\n    this._lastMouseDownCount = Math.min(setMouseDownCount, this._lastMouseDownPositionEqualCount);\n  }\n}\nMouseDownState.CLEAR_MOUSE_DOWN_COUNT_TIME = 400;\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","MouseHandler","get","dom","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_mouseEvent_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","platform","require$_DOT__SLASH_mouseTarget_DOT_js","require$_DOT__DOT__SLASH_editorDom_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorZoom_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_selection_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewEventHandler_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_scrollbar_SLASH_scrollableElement_DOT_js","ViewEventHandler","constructor","context","viewController","viewHelper","_mouseLeaveMonitor","_context","mouseTargetFactory","MouseTargetFactory","_mouseDownOperation","_register","MouseDownOperation","e","testEventTarget","_createMouseTarget","_getMouseColumn","lastMouseLeaveTime","_height","configuration","options","height","mouseEvents","EditorMouseEventFactory","viewDomNode","onContextMenu","_onContextMenu","onMouseMove","_onMouseMove","addDisposableListener","ownerDocument","contains","target","_onMouseLeave","EditorMouseEvent","onMouseUp","_onMouseUp","onMouseLeave","capturePointerId","onPointerDown","pointerId","EventType","POINTER_UP","onPointerUp","onMouseDown","_onMouseDown","_setupMouseWheelZoomListener","addEventHandler","hasMouseWheelZoomModifiers","browserEvent","isMacintosh","metaKey","ctrlKey","shiftKey","altKey","classifier","MouseWheelClassifier","INSTANCE","prevMouseWheelTime","gestureStartZoomLevel","EditorZoom","getZoomLevel","gestureHasZoomModifiers","gestureAccumulatedDelta","MOUSE_WHEEL","onMouseWheel","emitMouseWheel","StandardWheelEvent","acceptStandardWheelEvent","isPhysicalMouseWheel","zoomLevel","setZoomLevel","deltaY","delta","preventDefault","stopPropagation","Date","now","capture","passive","dispose","removeEventHandler","onConfigurationChanged","hasChanged","onHeightChanged","onCursorStateChanged","onFocusChanged","getTargetAtClientPoint","clientX","clientY","pos","toPageCoordinates","clientPos","ClientCoordinates","getWindow","editorPos","createEditorPagePosition","y","x","width","relativePos","createCoordinatesRelativeToEditor","createMouseTarget","getLastRenderData","shadowRoot","getShadowRoot","elementsFromPoint","posx","posy","find","el","getMouseColumn","emitContextMenu","event","mouseTargetIsWidget","targetIsWidget","isActive","timestamp","emitMouseMove","getTime","emitMouseLeave","emitMouseUp","t","targetIsContent","type","targetIsGutter","targetIsLineNumbers","selectOnLineNumbers","targetIsViewZone","shouldHandle","leftButton","middleButton","focus","focusTextArea","start","viewZoneData","detail","shouldSuppressMouseDownOnViewZone","viewZoneId","shouldSuppressMouseDownOnWidget","emitMouseDown","Disposable","_viewController","_viewHelper","_mouseTargetFactory","_mouseMoveMonitor","GlobalEditorPointerMoveMonitor","_topBottomDragScrolling","TopBottomDragScrolling","position","inSelectionMode","revealType","_dispatchMouse","_mouseState","MouseDownState","_currentSelection","Selection","_isActive","_lastMouseEvent","_onMouseDownThenMove","setModifiers","_findMousePosition","isDragAndDrop","emitMouseDrag","outsidePosition","stop","targetType","setStartedOnLineNumbers","setStartButtons","trySetCount","count","isEmpty","containsPosition","startMonitoring","viewLinesDomNode","buttons","isKeyboardEvent","emitMouseDropCanceled","emitMouseDrop","_stop","stopMonitoring","selections","_getPositionOutsideEditor","editorContent","model","viewModel","viewLayout","mouseColumn","outsideDistance","verticalOffset","Math","max","getCurrentScrollTop","HitTestContext","getZoneAtCoord","newPosition","_helpPositionJumpOverViewZone","MouseTarget","createOutsideEditor","aboveLineNumber","getLineNumberAtVerticalOffset","Position","belowLineNumber","getLineMaxColumn","possibleLineNumber","positionOutsideEditor","createViewZone","element","selectionStart","selectionStartLineNumber","selectionStartColumn","positionBefore","positionAfter","isBefore","dispatchMouse","startedOnLineNumbers","mouseDownCount","onInjectedText","injectedText","_operation","mouseEvent","setPosition","TopBottomDragScrollingOperation","_position","_mouseEvent","_lastTime","_animationFrameDisposable","scheduleAtNextAnimationFrame","_execute","_tick","elapsed","_getScrollSpeed","lineHeight","viewportInLines","outsideDistanceInLines","scrollSpeedInLines","scrollInPixels","deltaScrollNow","scrollValue","renderNow","viewportData","getLinesViewportData","edgeLineNumber","startLineNumber","endLineNumber","horizontalScrollbarHeight","PageCoordinates","mouseTarget","lineNumber","_altKey","_ctrlKey","_metaKey","_shiftKey","_leftButton","_middleButton","_startedOnLineNumbers","_lastMouseDownPosition","_lastSetMouseDownCountTime","_lastMouseDownCount","_lastMouseDownPositionEqualCount","source","setMouseDownCount","newMouseDownPosition","currentTime","CLEAR_MOUSE_DOWN_COUNT_TIME","equals","min"]
}
