{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$tokenization.js",
"lineCount":240,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/languages/supports/tokenization.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$tokenization\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, ColorMap:{enumerable:true, get:function() {\n  return ColorMap;\n}}, ParsedTokenThemeRule:{enumerable:true, get:function() {\n  return ParsedTokenThemeRule;\n}}, ThemeTrieElement:{enumerable:true, get:function() {\n  return ThemeTrieElement;\n}}, ThemeTrieElementRule:{enumerable:true, get:function() {\n  return ThemeTrieElementRule;\n}}, TokenTheme:{enumerable:true, get:function() {\n  return TokenTheme;\n}}, generateTokensCSSForColorMap:{enumerable:true, get:function() {\n  return generateTokensCSSForColorMap;\n}}, parseTokenTheme:{enumerable:true, get:function() {\n  return parseTokenTheme;\n}}, strcmp:{enumerable:true, get:function() {\n  return strcmp;\n}}, toStandardTokenType:{enumerable:true, get:function() {\n  return toStandardTokenType;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_color_DOT_js = require(\"../../../../base/common/color.js\");\nclass ParsedTokenThemeRule {\n  constructor(token, index, fontStyle, foreground, background) {\n    this._parsedThemeRuleBrand = undefined;\n    this.token = token;\n    this.index = index;\n    this.fontStyle = fontStyle;\n    this.foreground = foreground;\n    this.background = background;\n  }\n}\nfunction parseTokenTheme(source) {\n  if (!source || !Array.isArray(source)) {\n    return [];\n  }\n  const result = [];\n  let resultLen = 0;\n  for (let i = 0, len = source.length; i < len; i++) {\n    const entry = source[i];\n    let fontStyle = -1;\n    if (typeof entry.fontStyle === \"string\") {\n      fontStyle = 0;\n      const segments = entry.fontStyle.split(\" \");\n      for (let j = 0, lenJ = segments.length; j < lenJ; j++) {\n        const segment = segments[j];\n        switch(segment) {\n          case \"italic\":\n            fontStyle = fontStyle | 1;\n            break;\n          case \"bold\":\n            fontStyle = fontStyle | 2;\n            break;\n          case \"underline\":\n            fontStyle = fontStyle | 4;\n            break;\n          case \"strikethrough\":\n            fontStyle = fontStyle | 8;\n            break;\n        }\n      }\n    }\n    let foreground = null;\n    if (typeof entry.foreground === \"string\") {\n      foreground = entry.foreground;\n    }\n    let background = null;\n    if (typeof entry.background === \"string\") {\n      background = entry.background;\n    }\n    result[resultLen++] = new ParsedTokenThemeRule(entry.token || \"\", i, fontStyle, foreground, background);\n  }\n  return result;\n}\nfunction resolveParsedTokenThemeRules(parsedThemeRules, customTokenColors) {\n  parsedThemeRules.sort((a, b) => {\n    const r = strcmp(a.token, b.token);\n    if (r !== 0) {\n      return r;\n    }\n    return a.index - b.index;\n  });\n  let defaultFontStyle = 0;\n  let defaultForeground = \"000000\";\n  let defaultBackground = \"ffffff\";\n  while (parsedThemeRules.length >= 1 && parsedThemeRules[0].token === \"\") {\n    const incomingDefaults = parsedThemeRules.shift();\n    if (incomingDefaults.fontStyle !== -1) {\n      defaultFontStyle = incomingDefaults.fontStyle;\n    }\n    if (incomingDefaults.foreground !== null) {\n      defaultForeground = incomingDefaults.foreground;\n    }\n    if (incomingDefaults.background !== null) {\n      defaultBackground = incomingDefaults.background;\n    }\n  }\n  const colorMap = new ColorMap();\n  for (const color of customTokenColors) {\n    colorMap.getId(color);\n  }\n  const foregroundColorId = colorMap.getId(defaultForeground);\n  const backgroundColorId = colorMap.getId(defaultBackground);\n  const defaults = new ThemeTrieElementRule(defaultFontStyle, foregroundColorId, backgroundColorId);\n  const root = new ThemeTrieElement(defaults);\n  for (let i = 0, len = parsedThemeRules.length; i < len; i++) {\n    const rule = parsedThemeRules[i];\n    root.insert(rule.token, rule.fontStyle, colorMap.getId(rule.foreground), colorMap.getId(rule.background));\n  }\n  return new TokenTheme(colorMap, root);\n}\nconst colorRegExp = /^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;\nclass ColorMap {\n  constructor() {\n    this._lastColorId = 0;\n    this._id2color = [];\n    this._color2id = new Map();\n  }\n  getId(color) {\n    if (color === null) {\n      return 0;\n    }\n    const match = color.match(colorRegExp);\n    if (!match) {\n      throw new Error(\"Illegal value for token color: \" + color);\n    }\n    color = match[1].toUpperCase();\n    let value = this._color2id.get(color);\n    if (value) {\n      return value;\n    }\n    value = ++this._lastColorId;\n    this._color2id.set(color, value);\n    this._id2color[value] = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_color_DOT_js.Color.fromHex(\"#\" + color);\n    return value;\n  }\n  getColorMap() {\n    return this._id2color.slice(0);\n  }\n}\nclass TokenTheme {\n  static createFromRawTokenTheme(source, customTokenColors) {\n    return this.createFromParsedTokenTheme(parseTokenTheme(source), customTokenColors);\n  }\n  static createFromParsedTokenTheme(source, customTokenColors) {\n    return resolveParsedTokenThemeRules(source, customTokenColors);\n  }\n  constructor(colorMap, root) {\n    this._colorMap = colorMap;\n    this._root = root;\n    this._cache = new Map();\n  }\n  getColorMap() {\n    return this._colorMap.getColorMap();\n  }\n  _match(token) {\n    return this._root.match(token);\n  }\n  match(languageId, token) {\n    let result = this._cache.get(token);\n    if (typeof result === \"undefined\") {\n      const rule = this._match(token);\n      const standardToken = toStandardTokenType(token);\n      result = (rule.metadata | standardToken << 8) >>> 0;\n      this._cache.set(token, result);\n    }\n    return (result | languageId << 0) >>> 0;\n  }\n}\nconst STANDARD_TOKEN_TYPE_REGEXP = /\\b(comment|string|regex|regexp)\\b/;\nfunction toStandardTokenType(tokenType) {\n  const m = tokenType.match(STANDARD_TOKEN_TYPE_REGEXP);\n  if (!m) {\n    return 0;\n  }\n  switch(m[1]) {\n    case \"comment\":\n      return 1;\n    case \"string\":\n      return 2;\n    case \"regex\":\n      return 3;\n    case \"regexp\":\n      return 3;\n  }\n  throw new Error(\"Unexpected match for standard token type!\");\n}\nfunction strcmp(a, b) {\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n  return 0;\n}\nclass ThemeTrieElementRule {\n  constructor(fontStyle, foreground, background) {\n    this._themeTrieElementRuleBrand = undefined;\n    this._fontStyle = fontStyle;\n    this._foreground = foreground;\n    this._background = background;\n    this.metadata = (this._fontStyle << 11 | this._foreground << 15 | this._background << 24) >>> 0;\n  }\n  clone() {\n    return new ThemeTrieElementRule(this._fontStyle, this._foreground, this._background);\n  }\n  acceptOverwrite(fontStyle, foreground, background) {\n    if (fontStyle !== -1) {\n      this._fontStyle = fontStyle;\n    }\n    if (foreground !== 0) {\n      this._foreground = foreground;\n    }\n    if (background !== 0) {\n      this._background = background;\n    }\n    this.metadata = (this._fontStyle << 11 | this._foreground << 15 | this._background << 24) >>> 0;\n  }\n}\nclass ThemeTrieElement {\n  constructor(mainRule) {\n    this._themeTrieElementBrand = undefined;\n    this._mainRule = mainRule;\n    this._children = new Map();\n  }\n  match(token) {\n    if (token === \"\") {\n      return this._mainRule;\n    }\n    const dotIndex = token.indexOf(\".\");\n    let head;\n    let tail;\n    if (dotIndex === -1) {\n      head = token;\n      tail = \"\";\n    } else {\n      head = token.substring(0, dotIndex);\n      tail = token.substring(dotIndex + 1);\n    }\n    const child = this._children.get(head);\n    if (typeof child !== \"undefined\") {\n      return child.match(tail);\n    }\n    return this._mainRule;\n  }\n  insert(token, fontStyle, foreground, background) {\n    if (token === \"\") {\n      this._mainRule.acceptOverwrite(fontStyle, foreground, background);\n      return;\n    }\n    const dotIndex = token.indexOf(\".\");\n    let head;\n    let tail;\n    if (dotIndex === -1) {\n      head = token;\n      tail = \"\";\n    } else {\n      head = token.substring(0, dotIndex);\n      tail = token.substring(dotIndex + 1);\n    }\n    let child = this._children.get(head);\n    if (typeof child === \"undefined\") {\n      child = new ThemeTrieElement(this._mainRule.clone());\n      this._children.set(head, child);\n    }\n    child.insert(tail, fontStyle, foreground, background);\n  }\n}\nfunction generateTokensCSSForColorMap(colorMap) {\n  const rules = [];\n  for (let i = 1, len = colorMap.length; i < len; i++) {\n    const color = colorMap[i];\n    rules[i] = `.mtk${i} { color: ${color}; }`;\n  }\n  rules.push(\".mtki { font-style: italic; }\");\n  rules.push(\".mtkb { font-weight: bold; }\");\n  rules.push(\".mtku { text-decoration: underline; text-underline-position: under; }\");\n  rules.push(\".mtks { text-decoration: line-through; }\");\n  rules.push(\".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }\");\n  return rules.join(\"\\n\");\n}\n\n};"],
"names":["shadow$provide","require","module","exports","parseTokenTheme","source","Array","isArray","result","resultLen","i","len","length","entry","fontStyle","segments","split","j","lenJ","segment","foreground","background","ParsedTokenThemeRule","token","resolveParsedTokenThemeRules","parsedThemeRules","customTokenColors","sort","a","b","r","strcmp","index","defaultFontStyle","defaultForeground","defaultBackground","incomingDefaults","shift","colorMap","ColorMap","color","getId","foregroundColorId","backgroundColorId","defaults","ThemeTrieElementRule","root","ThemeTrieElement","rule","insert","TokenTheme","toStandardTokenType","tokenType","m","match","STANDARD_TOKEN_TYPE_REGEXP","Error","generateTokensCSSForColorMap","rules","push","join","Object","defineProperties","__esModule","enumerable","value","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_color_DOT_js","constructor","_parsedThemeRuleBrand","undefined","colorRegExp","_lastColorId","_id2color","_color2id","Map","toUpperCase","set","Color","fromHex","getColorMap","slice","createFromRawTokenTheme","createFromParsedTokenTheme","_colorMap","_root","_cache","_match","languageId","standardToken","metadata","_themeTrieElementRuleBrand","_fontStyle","_foreground","_background","clone","acceptOverwrite","mainRule","_themeTrieElementBrand","_mainRule","_children","dotIndex","indexOf","head","tail","substring","child"]
}
