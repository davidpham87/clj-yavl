{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$diff$legacyLinesDiffComputer.js",
"lineCount":275,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/diff/legacyLinesDiffComputer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$diff$legacyLinesDiffComputer\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, DiffComputer:{enumerable:true, get:function() {\n  return DiffComputer;\n}}, LegacyLinesDiffComputer:{enumerable:true, get:function() {\n  return LegacyLinesDiffComputer;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_diff_SLASH_diff_DOT_js = require(\"../../../base/common/diff/diff.js\");\nvar require$_DOT__SLASH_linesDiffComputer_DOT_js = require(\"./linesDiffComputer.js\");\nvar require$_DOT__SLASH_rangeMapping_DOT_js = require(\"./rangeMapping.js\");\nvar strings = require(\"../../../base/common/strings.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js = require(\"../core/range.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_assert_DOT_js = require(\"../../../base/common/assert.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js = require(\"../core/lineRange.js\");\nconst MINIMUM_MATCHING_CHARACTER_LENGTH = 3;\nclass LegacyLinesDiffComputer {\n  computeDiff(originalLines, modifiedLines, options) {\n    var _a;\n    const diffComputer = new DiffComputer(originalLines, modifiedLines, {maxComputationTime:options.maxComputationTimeMs, shouldIgnoreTrimWhitespace:options.ignoreTrimWhitespace, shouldComputeCharChanges:true, shouldMakePrettyDiff:true, shouldPostProcessCharChanges:true,});\n    const result = diffComputer.computeDiff();\n    const changes = [];\n    let lastChange = null;\n    for (const c of result.changes) {\n      let originalRange;\n      if (c.originalEndLineNumber === 0) {\n        originalRange = new require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js.LineRange(c.originalStartLineNumber + 1, c.originalStartLineNumber + 1);\n      } else {\n        originalRange = new require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js.LineRange(c.originalStartLineNumber, c.originalEndLineNumber + 1);\n      }\n      let modifiedRange;\n      if (c.modifiedEndLineNumber === 0) {\n        modifiedRange = new require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js.LineRange(c.modifiedStartLineNumber + 1, c.modifiedStartLineNumber + 1);\n      } else {\n        modifiedRange = new require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js.LineRange(c.modifiedStartLineNumber, c.modifiedEndLineNumber + 1);\n      }\n      let change = new require$_DOT__SLASH_rangeMapping_DOT_js.DetailedLineRangeMapping(originalRange, modifiedRange, (_a = c.charChanges) === null || _a === void 0 ? void 0 : _a.map(c => new require$_DOT__SLASH_rangeMapping_DOT_js.RangeMapping(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(c.originalStartLineNumber, c.originalStartColumn, c.originalEndLineNumber, c.originalEndColumn), new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(c.modifiedStartLineNumber, c.modifiedStartColumn, \n      c.modifiedEndLineNumber, c.modifiedEndColumn))));\n      if (lastChange) {\n        if (lastChange.modified.endLineNumberExclusive === change.modified.startLineNumber || lastChange.original.endLineNumberExclusive === change.original.startLineNumber) {\n          change = new require$_DOT__SLASH_rangeMapping_DOT_js.DetailedLineRangeMapping(lastChange.original.join(change.original), lastChange.modified.join(change.modified), lastChange.innerChanges && change.innerChanges ? lastChange.innerChanges.concat(change.innerChanges) : undefined);\n          changes.pop();\n        }\n      }\n      changes.push(change);\n      lastChange = change;\n    }\n    (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_assert_DOT_js.assertFn)(() => {\n      return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_assert_DOT_js.checkAdjacentItems)(changes, (m1, m2) => m2.original.startLineNumber - m1.original.endLineNumberExclusive === m2.modified.startLineNumber - m1.modified.endLineNumberExclusive && m1.original.endLineNumberExclusive < m2.original.startLineNumber && m1.modified.endLineNumberExclusive < m2.modified.startLineNumber);\n    });\n    return new require$_DOT__SLASH_linesDiffComputer_DOT_js.LinesDiff(changes, [], result.quitEarly);\n  }\n}\nfunction computeDiff(originalSequence, modifiedSequence, continueProcessingPredicate, pretty) {\n  const diffAlgo = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_diff_SLASH_diff_DOT_js.LcsDiff(originalSequence, modifiedSequence, continueProcessingPredicate);\n  return diffAlgo.ComputeDiff(pretty);\n}\nclass LineSequence {\n  constructor(lines) {\n    const startColumns = [];\n    const endColumns = [];\n    for (let i = 0, length = lines.length; i < length; i++) {\n      startColumns[i] = getFirstNonBlankColumn(lines[i], 1);\n      endColumns[i] = getLastNonBlankColumn(lines[i], 1);\n    }\n    this.lines = lines;\n    this._startColumns = startColumns;\n    this._endColumns = endColumns;\n  }\n  getElements() {\n    const elements = [];\n    for (let i = 0, len = this.lines.length; i < len; i++) {\n      elements[i] = this.lines[i].substring(this._startColumns[i] - 1, this._endColumns[i] - 1);\n    }\n    return elements;\n  }\n  getStrictElement(index) {\n    return this.lines[index];\n  }\n  getStartLineNumber(i) {\n    return i + 1;\n  }\n  getEndLineNumber(i) {\n    return i + 1;\n  }\n  createCharSequence(shouldIgnoreTrimWhitespace, startIndex, endIndex) {\n    const charCodes = [];\n    const lineNumbers = [];\n    const columns = [];\n    let len = 0;\n    for (let index = startIndex; index <= endIndex; index++) {\n      const lineContent = this.lines[index];\n      const startColumn = shouldIgnoreTrimWhitespace ? this._startColumns[index] : 1;\n      const endColumn = shouldIgnoreTrimWhitespace ? this._endColumns[index] : lineContent.length + 1;\n      for (let col = startColumn; col < endColumn; col++) {\n        charCodes[len] = lineContent.charCodeAt(col - 1);\n        lineNumbers[len] = index + 1;\n        columns[len] = col;\n        len++;\n      }\n      if (!shouldIgnoreTrimWhitespace && index < endIndex) {\n        charCodes[len] = 10;\n        lineNumbers[len] = index + 1;\n        columns[len] = lineContent.length + 1;\n        len++;\n      }\n    }\n    return new CharSequence(charCodes, lineNumbers, columns);\n  }\n}\nclass CharSequence {\n  constructor(charCodes, lineNumbers, columns) {\n    this._charCodes = charCodes;\n    this._lineNumbers = lineNumbers;\n    this._columns = columns;\n  }\n  toString() {\n    return \"[\" + this._charCodes.map((s, idx) => (s === 10 ? \"\\\\n\" : String.fromCharCode(s)) + `-(${this._lineNumbers[idx]},${this._columns[idx]})`).join(\", \") + \"]\";\n  }\n  _assertIndex(index, arr) {\n    if (index < 0 || index >= arr.length) {\n      throw new Error(`Illegal index`);\n    }\n  }\n  getElements() {\n    return this._charCodes;\n  }\n  getStartLineNumber(i) {\n    if (i > 0 && i === this._lineNumbers.length) {\n      return this.getEndLineNumber(i - 1);\n    }\n    this._assertIndex(i, this._lineNumbers);\n    return this._lineNumbers[i];\n  }\n  getEndLineNumber(i) {\n    if (i === -1) {\n      return this.getStartLineNumber(i + 1);\n    }\n    this._assertIndex(i, this._lineNumbers);\n    if (this._charCodes[i] === 10) {\n      return this._lineNumbers[i] + 1;\n    }\n    return this._lineNumbers[i];\n  }\n  getStartColumn(i) {\n    if (i > 0 && i === this._columns.length) {\n      return this.getEndColumn(i - 1);\n    }\n    this._assertIndex(i, this._columns);\n    return this._columns[i];\n  }\n  getEndColumn(i) {\n    if (i === -1) {\n      return this.getStartColumn(i + 1);\n    }\n    this._assertIndex(i, this._columns);\n    if (this._charCodes[i] === 10) {\n      return 1;\n    }\n    return this._columns[i] + 1;\n  }\n}\nclass CharChange {\n  constructor(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn) {\n    this.originalStartLineNumber = originalStartLineNumber;\n    this.originalStartColumn = originalStartColumn;\n    this.originalEndLineNumber = originalEndLineNumber;\n    this.originalEndColumn = originalEndColumn;\n    this.modifiedStartLineNumber = modifiedStartLineNumber;\n    this.modifiedStartColumn = modifiedStartColumn;\n    this.modifiedEndLineNumber = modifiedEndLineNumber;\n    this.modifiedEndColumn = modifiedEndColumn;\n  }\n  static createFromDiffChange(diffChange, originalCharSequence, modifiedCharSequence) {\n    const originalStartLineNumber = originalCharSequence.getStartLineNumber(diffChange.originalStart);\n    const originalStartColumn = originalCharSequence.getStartColumn(diffChange.originalStart);\n    const originalEndLineNumber = originalCharSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);\n    const originalEndColumn = originalCharSequence.getEndColumn(diffChange.originalStart + diffChange.originalLength - 1);\n    const modifiedStartLineNumber = modifiedCharSequence.getStartLineNumber(diffChange.modifiedStart);\n    const modifiedStartColumn = modifiedCharSequence.getStartColumn(diffChange.modifiedStart);\n    const modifiedEndLineNumber = modifiedCharSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);\n    const modifiedEndColumn = modifiedCharSequence.getEndColumn(diffChange.modifiedStart + diffChange.modifiedLength - 1);\n    return new CharChange(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn);\n  }\n}\nfunction postProcessCharChanges(rawChanges) {\n  if (rawChanges.length <= 1) {\n    return rawChanges;\n  }\n  const result = [rawChanges[0]];\n  let prevChange = result[0];\n  for (let i = 1, len = rawChanges.length; i < len; i++) {\n    const currChange = rawChanges[i];\n    const originalMatchingLength = currChange.originalStart - (prevChange.originalStart + prevChange.originalLength);\n    const modifiedMatchingLength = currChange.modifiedStart - (prevChange.modifiedStart + prevChange.modifiedLength);\n    const matchingLength = Math.min(originalMatchingLength, modifiedMatchingLength);\n    if (matchingLength < MINIMUM_MATCHING_CHARACTER_LENGTH) {\n      prevChange.originalLength = currChange.originalStart + currChange.originalLength - prevChange.originalStart;\n      prevChange.modifiedLength = currChange.modifiedStart + currChange.modifiedLength - prevChange.modifiedStart;\n    } else {\n      result.push(currChange);\n      prevChange = currChange;\n    }\n  }\n  return result;\n}\nclass LineChange {\n  constructor(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges) {\n    this.originalStartLineNumber = originalStartLineNumber;\n    this.originalEndLineNumber = originalEndLineNumber;\n    this.modifiedStartLineNumber = modifiedStartLineNumber;\n    this.modifiedEndLineNumber = modifiedEndLineNumber;\n    this.charChanges = charChanges;\n  }\n  static createFromDiffResult(shouldIgnoreTrimWhitespace, diffChange, originalLineSequence, modifiedLineSequence, continueCharDiff, shouldComputeCharChanges, shouldPostProcessCharChanges) {\n    let originalStartLineNumber;\n    let originalEndLineNumber;\n    let modifiedStartLineNumber;\n    let modifiedEndLineNumber;\n    let charChanges = undefined;\n    if (diffChange.originalLength === 0) {\n      originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart) - 1;\n      originalEndLineNumber = 0;\n    } else {\n      originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart);\n      originalEndLineNumber = originalLineSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);\n    }\n    if (diffChange.modifiedLength === 0) {\n      modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart) - 1;\n      modifiedEndLineNumber = 0;\n    } else {\n      modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart);\n      modifiedEndLineNumber = modifiedLineSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);\n    }\n    if (shouldComputeCharChanges && diffChange.originalLength > 0 && diffChange.originalLength < 20 && diffChange.modifiedLength > 0 && diffChange.modifiedLength < 20 && continueCharDiff()) {\n      const originalCharSequence = originalLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.originalStart, diffChange.originalStart + diffChange.originalLength - 1);\n      const modifiedCharSequence = modifiedLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.modifiedStart, diffChange.modifiedStart + diffChange.modifiedLength - 1);\n      if (originalCharSequence.getElements().length > 0 && modifiedCharSequence.getElements().length > 0) {\n        let rawChanges = computeDiff(originalCharSequence, modifiedCharSequence, continueCharDiff, true).changes;\n        if (shouldPostProcessCharChanges) {\n          rawChanges = postProcessCharChanges(rawChanges);\n        }\n        charChanges = [];\n        for (let i = 0, length = rawChanges.length; i < length; i++) {\n          charChanges.push(CharChange.createFromDiffChange(rawChanges[i], originalCharSequence, modifiedCharSequence));\n        }\n      }\n    }\n    return new LineChange(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges);\n  }\n}\nclass DiffComputer {\n  constructor(originalLines, modifiedLines, opts) {\n    this.shouldComputeCharChanges = opts.shouldComputeCharChanges;\n    this.shouldPostProcessCharChanges = opts.shouldPostProcessCharChanges;\n    this.shouldIgnoreTrimWhitespace = opts.shouldIgnoreTrimWhitespace;\n    this.shouldMakePrettyDiff = opts.shouldMakePrettyDiff;\n    this.originalLines = originalLines;\n    this.modifiedLines = modifiedLines;\n    this.original = new LineSequence(originalLines);\n    this.modified = new LineSequence(modifiedLines);\n    this.continueLineDiff = createContinueProcessingPredicate(opts.maxComputationTime);\n    this.continueCharDiff = createContinueProcessingPredicate(opts.maxComputationTime === 0 ? 0 : Math.min(opts.maxComputationTime, 5000));\n  }\n  computeDiff() {\n    if (this.original.lines.length === 1 && this.original.lines[0].length === 0) {\n      if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {\n        return {quitEarly:false, changes:[]};\n      }\n      return {quitEarly:false, changes:[{originalStartLineNumber:1, originalEndLineNumber:1, modifiedStartLineNumber:1, modifiedEndLineNumber:this.modified.lines.length, charChanges:undefined}]};\n    }\n    if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {\n      return {quitEarly:false, changes:[{originalStartLineNumber:1, originalEndLineNumber:this.original.lines.length, modifiedStartLineNumber:1, modifiedEndLineNumber:1, charChanges:undefined}]};\n    }\n    const diffResult = computeDiff(this.original, this.modified, this.continueLineDiff, this.shouldMakePrettyDiff);\n    const rawChanges = diffResult.changes;\n    const quitEarly = diffResult.quitEarly;\n    if (this.shouldIgnoreTrimWhitespace) {\n      const lineChanges = [];\n      for (let i = 0, length = rawChanges.length; i < length; i++) {\n        lineChanges.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, rawChanges[i], this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));\n      }\n      return {quitEarly:quitEarly, changes:lineChanges};\n    }\n    const result = [];\n    let originalLineIndex = 0;\n    let modifiedLineIndex = 0;\n    for (let i = -1, len = rawChanges.length; i < len; i++) {\n      const nextChange = i + 1 < len ? rawChanges[i + 1] : null;\n      const originalStop = nextChange ? nextChange.originalStart : this.originalLines.length;\n      const modifiedStop = nextChange ? nextChange.modifiedStart : this.modifiedLines.length;\n      while (originalLineIndex < originalStop && modifiedLineIndex < modifiedStop) {\n        const originalLine = this.originalLines[originalLineIndex];\n        const modifiedLine = this.modifiedLines[modifiedLineIndex];\n        if (originalLine !== modifiedLine) {\n          {\n            let originalStartColumn = getFirstNonBlankColumn(originalLine, 1);\n            let modifiedStartColumn = getFirstNonBlankColumn(modifiedLine, 1);\n            while (originalStartColumn > 1 && modifiedStartColumn > 1) {\n              const originalChar = originalLine.charCodeAt(originalStartColumn - 2);\n              const modifiedChar = modifiedLine.charCodeAt(modifiedStartColumn - 2);\n              if (originalChar !== modifiedChar) {\n                break;\n              }\n              originalStartColumn--;\n              modifiedStartColumn--;\n            }\n            if (originalStartColumn > 1 || modifiedStartColumn > 1) {\n              this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, 1, originalStartColumn, modifiedLineIndex + 1, 1, modifiedStartColumn);\n            }\n          }\n          {\n            let originalEndColumn = getLastNonBlankColumn(originalLine, 1);\n            let modifiedEndColumn = getLastNonBlankColumn(modifiedLine, 1);\n            const originalMaxColumn = originalLine.length + 1;\n            const modifiedMaxColumn = modifiedLine.length + 1;\n            while (originalEndColumn < originalMaxColumn && modifiedEndColumn < modifiedMaxColumn) {\n              const originalChar = originalLine.charCodeAt(originalEndColumn - 1);\n              const modifiedChar = originalLine.charCodeAt(modifiedEndColumn - 1);\n              if (originalChar !== modifiedChar) {\n                break;\n              }\n              originalEndColumn++;\n              modifiedEndColumn++;\n            }\n            if (originalEndColumn < originalMaxColumn || modifiedEndColumn < modifiedMaxColumn) {\n              this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, originalEndColumn, originalMaxColumn, modifiedLineIndex + 1, modifiedEndColumn, modifiedMaxColumn);\n            }\n          }\n        }\n        originalLineIndex++;\n        modifiedLineIndex++;\n      }\n      if (nextChange) {\n        result.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, nextChange, this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));\n        originalLineIndex += nextChange.originalLength;\n        modifiedLineIndex += nextChange.modifiedLength;\n      }\n    }\n    return {quitEarly:quitEarly, changes:result};\n  }\n  _pushTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {\n    if (this._mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn)) {\n      return;\n    }\n    let charChanges = undefined;\n    if (this.shouldComputeCharChanges) {\n      charChanges = [new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn)];\n    }\n    result.push(new LineChange(originalLineNumber, originalLineNumber, modifiedLineNumber, modifiedLineNumber, charChanges));\n  }\n  _mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {\n    const len = result.length;\n    if (len === 0) {\n      return false;\n    }\n    const prevChange = result[len - 1];\n    if (prevChange.originalEndLineNumber === 0 || prevChange.modifiedEndLineNumber === 0) {\n      return false;\n    }\n    if (prevChange.originalEndLineNumber === originalLineNumber && prevChange.modifiedEndLineNumber === modifiedLineNumber) {\n      if (this.shouldComputeCharChanges && prevChange.charChanges) {\n        prevChange.charChanges.push(new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn));\n      }\n      return true;\n    }\n    if (prevChange.originalEndLineNumber + 1 === originalLineNumber && prevChange.modifiedEndLineNumber + 1 === modifiedLineNumber) {\n      prevChange.originalEndLineNumber = originalLineNumber;\n      prevChange.modifiedEndLineNumber = modifiedLineNumber;\n      if (this.shouldComputeCharChanges && prevChange.charChanges) {\n        prevChange.charChanges.push(new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn));\n      }\n      return true;\n    }\n    return false;\n  }\n}\nfunction getFirstNonBlankColumn(txt, defaultValue) {\n  const r = strings.firstNonWhitespaceIndex(txt);\n  if (r === -1) {\n    return defaultValue;\n  }\n  return r + 1;\n}\nfunction getLastNonBlankColumn(txt, defaultValue) {\n  const r = strings.lastNonWhitespaceIndex(txt);\n  if (r === -1) {\n    return defaultValue;\n  }\n  return r + 2;\n}\nfunction createContinueProcessingPredicate(maximumRuntime) {\n  if (maximumRuntime === 0) {\n    return () => true;\n  }\n  const startTime = Date.now();\n  return () => {\n    return Date.now() - startTime < maximumRuntime;\n  };\n}\n\n};"],
"names":["shadow$provide","require","module","exports","getFirstNonBlankColumn","txt","defaultValue","r","strings","firstNonWhitespaceIndex","getLastNonBlankColumn","lastNonWhitespaceIndex","createContinueProcessingPredicate","maximumRuntime","startTime","Date","now","Object","defineProperties","__esModule","enumerable","value","DiffComputer","get","LegacyLinesDiffComputer","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_diff_SLASH_diff_DOT_js","require$_DOT__SLASH_linesDiffComputer_DOT_js","require$_DOT__SLASH_rangeMapping_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_assert_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_lineRange_DOT_js","computeDiff","originalLines","modifiedLines","options","_a","result","diffComputer","maxComputationTime","maxComputationTimeMs","shouldIgnoreTrimWhitespace","ignoreTrimWhitespace","shouldComputeCharChanges","shouldMakePrettyDiff","shouldPostProcessCharChanges","changes","lastChange","c","originalRange","originalEndLineNumber","LineRange","originalStartLineNumber","modifiedRange","modifiedEndLineNumber","modifiedStartLineNumber","change","DetailedLineRangeMapping","charChanges","map","RangeMapping","Range","originalStartColumn","originalEndColumn","modifiedStartColumn","modifiedEndColumn","modified","endLineNumberExclusive","startLineNumber","original","join","innerChanges","concat","undefined","pop","push","assertFn","checkAdjacentItems","m1","m2","LinesDiff","quitEarly","LineSequence","constructor","lines","startColumns","endColumns","i","length","_startColumns","_endColumns","getElements","elements","len","substring","getStrictElement","index","getStartLineNumber","getEndLineNumber","createCharSequence","startIndex","endIndex","charCodes","lineNumbers","columns","lineContent","startColumn","endColumn","col","charCodeAt","CharSequence","_charCodes","_lineNumbers","_columns","toString","s","idx","String","fromCharCode","_assertIndex","arr","Error","getStartColumn","getEndColumn","CharChange","createFromDiffChange","diffChange","originalCharSequence","modifiedCharSequence","originalStart","originalLength","modifiedStart","modifiedLength","LineChange","createFromDiffResult","originalLineSequence","modifiedLineSequence","continueCharDiff","rawChanges","ComputeDiff","diffAlgo","LcsDiff","pretty","prevChange","currChange","Math","min","matchingLength","MINIMUM_MATCHING_CHARACTER_LENGTH","opts","continueLineDiff","diffResult","lineChanges","originalLineIndex","modifiedLineIndex","nextChange","originalStop","modifiedStop","originalLine","modifiedLine","originalChar","modifiedChar","_pushTrimWhitespaceCharChange","originalMaxColumn","modifiedMaxColumn","originalLineNumber","modifiedLineNumber","_mergeTrimWhitespaceCharChange"]
}
