shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$indentGuides$indentGuides = function(require, module, exports) {
  function transparentToUndefined(color) {
    if (!color || !color.isTransparent()) {
      return color;
    }
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, IndentGuidesOverlay:{enumerable:!0, get:function() {
    return IndentGuidesOverlay;
  }}});
  require("module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$indentGuides$indentGuides_css");
  module = require("module$node_modules$monaco_editor$esm$vs$editor$browser$view$dynamicViewOverlay");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$editorColorRegistry");
  exports = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$themeService");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$position"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$arrays"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$types"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_guidesTextModelPart_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$model$guidesTextModelPart"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_textModelGuides_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$textModelGuides");
  class IndentGuidesOverlay extends module.DynamicViewOverlay {
    constructor(context) {
      super();
      this._context = context;
      this._primaryPosition = null;
      context = this._context.configuration.options;
      const wrappingInfo = context.get(144), fontInfo = context.get(50);
      this._lineHeight = context.get(66);
      this._spaceWidth = fontInfo.spaceWidth;
      this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth;
      this._bracketPairGuideOptions = context.get(16);
      this._renderResult = null;
      this._context.addEventHandler(this);
    }
    dispose() {
      this._context.removeEventHandler(this);
      this._renderResult = null;
      super.dispose();
    }
    onConfigurationChanged(e) {
      e = this._context.configuration.options;
      const wrappingInfo = e.get(144), fontInfo = e.get(50);
      this._lineHeight = e.get(66);
      this._spaceWidth = fontInfo.spaceWidth;
      this._maxIndentLeft = wrappingInfo.wrappingColumn === -1 ? -1 : wrappingInfo.wrappingColumn * fontInfo.typicalHalfwidthCharacterWidth;
      this._bracketPairGuideOptions = e.get(16);
      return !0;
    }
    onCursorStateChanged(e) {
      var _a;
      e = e.selections[0].getPosition();
      return (_a = this._primaryPosition) !== null && _a !== void 0 && _a.equals(e) ? !1 : (this._primaryPosition = e, !0);
    }
    onDecorationsChanged(e) {
      return !0;
    }
    onFlushed(e) {
      return !0;
    }
    onLinesChanged(e) {
      return !0;
    }
    onLinesDeleted(e) {
      return !0;
    }
    onLinesInserted(e) {
      return !0;
    }
    onScrollChanged(e) {
      return e.scrollTopChanged;
    }
    onZonesChanged(e) {
      return !0;
    }
    onLanguageConfigurationChanged(e) {
      return !0;
    }
    prepareRender(ctx) {
      var _a, _b, _c, _d;
      if (this._bracketPairGuideOptions.indentation || this._bracketPairGuideOptions.bracketPairs !== !1) {
        var visibleStartLineNumber = ctx.visibleRange.startLineNumber, visibleEndLineNumber = ctx.visibleRange.endLineNumber, scrollWidth = ctx.scrollWidth, lineHeight = this._lineHeight, activeCursorPosition = this._primaryPosition;
        activeCursorPosition = this.getGuidesByLine(visibleStartLineNumber, Math.min(visibleEndLineNumber + 1, this._context.viewModel.getLineCount()), activeCursorPosition);
        var output = [];
        for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {
          const lineIndex = lineNumber - visibleStartLineNumber;
          var indent = activeCursorPosition[lineIndex];
          let result = "";
          const leftOffset = (_b = (_a = ctx.visibleRangeForPosition(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, 1))) === null || _a === void 0 ? void 0 : _a.left) !== null && _b !== void 0 ? _b : 0;
          for (const guide of indent) {
            indent = guide.column === -1 ? leftOffset + (guide.visibleColumn - 1) * this._spaceWidth : ctx.visibleRangeForPosition(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, guide.column)).left;
            if (indent > scrollWidth || this._maxIndentLeft > 0 && indent > this._maxIndentLeft) {
              break;
            }
            const className = guide.horizontalLine ? guide.horizontalLine.top ? "horizontal-top" : "horizontal-bottom" : "vertical", width = guide.horizontalLine ? ((_d = (_c = ctx.visibleRangeForPosition(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, guide.horizontalLine.endColumn))) === null || _c === void 0 ? void 0 : _c.left) !== null && _d !== void 0 ? _d : indent + this._spaceWidth) - indent : this._spaceWidth;
            result += `<div class="core-guide ${guide.className} ${className}" style="left:${indent}px;height:${lineHeight}px;width:${width}px"></div>`;
          }
          output[lineIndex] = result;
        }
        this._renderResult = output;
      } else {
        this._renderResult = null;
      }
    }
    getGuidesByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition) {
      const bracketGuides = this._bracketPairGuideOptions.bracketPairs !== !1 ? this._context.viewModel.getBracketGuidesInRangeByLine(visibleStartLineNumber, visibleEndLineNumber, activeCursorPosition, {highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair, horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal === !0 ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_textModelGuides_DOT_js.HorizontalGuidesState.Enabled : this._bracketPairGuideOptions.bracketPairsHorizontal === 
      "active" ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_textModelGuides_DOT_js.HorizontalGuidesState.EnabledForActive : require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_textModelGuides_DOT_js.HorizontalGuidesState.Disabled, includeInactive:this._bracketPairGuideOptions.bracketPairs === !0}) : null, indentGuides = this._bracketPairGuideOptions.indentation ? this._context.viewModel.getLinesIndentGuides(visibleStartLineNumber, visibleEndLineNumber) : 
      null;
      let activeIndentStartLineNumber = 0, activeIndentEndLineNumber = 0;
      var activeIndentLevel = 0;
      this._bracketPairGuideOptions.highlightActiveIndentation !== !1 && activeCursorPosition && (activeIndentLevel = this._context.viewModel.getActiveIndentGuide(activeCursorPosition.lineNumber, visibleStartLineNumber, visibleEndLineNumber), activeIndentStartLineNumber = activeIndentLevel.startLineNumber, activeIndentEndLineNumber = activeIndentLevel.endLineNumber, activeIndentLevel = activeIndentLevel.indent);
      ({indentSize:activeCursorPosition} = this._context.viewModel.model.getOptions());
      const result = [];
      for (let lineNumber = visibleStartLineNumber; lineNumber <= visibleEndLineNumber; lineNumber++) {
        const lineGuides = [];
        result.push(lineGuides);
        const bracketGuidesInLine = bracketGuides ? bracketGuides[lineNumber - visibleStartLineNumber] : [], bracketGuidesInLineQueue = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.ArrayQueue(bracketGuidesInLine), indentGuidesInLine = indentGuides ? indentGuides[lineNumber - visibleStartLineNumber] : 0;
        for (let indentLvl = 1; indentLvl <= indentGuidesInLine; indentLvl++) {
          const indentGuide = (indentLvl - 1) * activeCursorPosition + 1, isActive = (this._bracketPairGuideOptions.highlightActiveIndentation === "always" || bracketGuidesInLine.length === 0) && activeIndentStartLineNumber <= lineNumber && lineNumber <= activeIndentEndLineNumber && indentLvl === activeIndentLevel;
          lineGuides.push(...(bracketGuidesInLineQueue.takeWhile(g => g.visibleColumn < indentGuide) || []));
          const peeked = bracketGuidesInLineQueue.peek();
          peeked && peeked.visibleColumn === indentGuide && !peeked.horizontalLine || lineGuides.push(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_textModelGuides_DOT_js.IndentGuide(indentGuide, -1, `core-guide-indent lvl-${(indentLvl - 1) % 30}` + (isActive ? " indent-active" : ""), null, -1, -1));
        }
        lineGuides.push(...(bracketGuidesInLineQueue.takeWhile(g => !0) || []));
      }
      return result;
    }
    render(startLineNumber, lineNumber) {
      if (!this._renderResult) {
        return "";
      }
      startLineNumber = lineNumber - startLineNumber;
      return startLineNumber < 0 || startLineNumber >= this._renderResult.length ? "" : this._renderResult[startLineNumber];
    }
  }
  (0,exports.registerThemingParticipant)((theme, collector) => {
    var colors = [{bracketColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground1, guideColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideBackground1, guideColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideActiveBackground1}, 
    {bracketColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground2, guideColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideBackground2, guideColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideActiveBackground2}, {bracketColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground3, 
    guideColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideBackground3, guideColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideActiveBackground3}, {bracketColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground4, guideColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideBackground4, 
    guideColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideActiveBackground4}, {bracketColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground5, guideColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideBackground5, guideColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideActiveBackground5}, 
    {bracketColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground6, guideColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideBackground6, guideColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketPairGuideActiveBackground6}], colorProvider = 
    new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_model_SLASH_guidesTextModelPart_DOT_js.BracketPairGuidesClassNames(), indentColors = [{indentColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorIndentGuide1, indentColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorActiveIndentGuide1}, {indentColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorIndentGuide2, 
    indentColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorActiveIndentGuide2}, {indentColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorIndentGuide3, indentColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorActiveIndentGuide3}, {indentColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorIndentGuide4, 
    indentColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorActiveIndentGuide4}, {indentColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorIndentGuide5, indentColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorActiveIndentGuide5}, {indentColor:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorIndentGuide6, 
    indentColorActive:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_editorColorRegistry_DOT_js.editorActiveIndentGuide6}];
    colors = colors.map(c => {
      var _a, _b;
      const bracketColor = theme.getColor(c.bracketColor);
      var guideColor = theme.getColor(c.guideColor);
      c = theme.getColor(c.guideColorActive);
      guideColor = transparentToUndefined((_a = transparentToUndefined(guideColor)) !== null && _a !== void 0 ? _a : bracketColor === null || bracketColor === void 0 ? void 0 : bracketColor.transparent(0.3));
      _a = transparentToUndefined((_b = transparentToUndefined(c)) !== null && _b !== void 0 ? _b : bracketColor);
      if (guideColor && _a) {
        return {guideColor, guideColorActive:_a};
      }
    }).filter(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js.isDefined);
    indentColors = indentColors.map(c => {
      var indentColor = theme.getColor(c.indentColor);
      c = theme.getColor(c.indentColorActive);
      indentColor = transparentToUndefined(indentColor);
      c = transparentToUndefined(c);
      if (indentColor && c) {
        return {indentColor, indentColorActive:c};
      }
    }).filter(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js.isDefined);
    if (colors.length > 0) {
      for (let level = 0; level < 30; level++) {
        const colors$jscomp$0 = colors[level % colors.length];
        collector.addRule(`.monaco-editor .${colorProvider.getInlineClassNameOfLevel(level).replace(/ /g, ".")} { --guide-color: ${colors$jscomp$0.guideColor}; --guide-color-active: ${colors$jscomp$0.guideColorActive}; }`);
      }
      collector.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }");
      collector.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }");
      collector.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }");
      collector.addRule(`.monaco-editor .vertical.${colorProvider.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`);
      collector.addRule(`.monaco-editor .horizontal-top.${colorProvider.activeClassName} { border-top: 1px solid var(--guide-color-active); }`);
      collector.addRule(`.monaco-editor .horizontal-bottom.${colorProvider.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`);
    }
    if (indentColors.length > 0) {
      for (colorProvider = 0; colorProvider < 30; colorProvider++) {
        colors = indentColors[colorProvider % indentColors.length], collector.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${colorProvider} { --indent-color: ${colors.indentColor}; --indent-color-active: ${colors.indentColorActive}; }`);
      }
      collector.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }");
      collector.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }");
    }
  });
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$indentGuides$indentGuides.js.map
