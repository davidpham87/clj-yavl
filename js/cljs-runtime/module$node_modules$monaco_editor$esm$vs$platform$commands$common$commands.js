shadow$provide.module$node_modules$monaco_editor$esm$vs$platform$commands$common$commands = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, CommandsRegistry:{enumerable:!0, get:function() {
    return CommandsRegistry;
  }}, ICommandService:{enumerable:!0, get:function() {
    return ICommandService;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$iterator"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_linkedList_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$linkedList"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$types");
  const ICommandService = (0,require("module$node_modules$monaco_editor$esm$vs$platform$instantiation$common$instantiation").createDecorator)("commandService"), CommandsRegistry = new class {
    constructor() {
      this._commands = new Map();
      this._onDidRegisterCommand = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onDidRegisterCommand = this._onDidRegisterCommand.event;
    }
    registerCommand(idOrCommand, handler) {
      if (!idOrCommand) {
        throw Error("invalid command");
      }
      if (typeof idOrCommand === "string") {
        if (!handler) {
          throw Error("invalid command");
        }
        return this.registerCommand({id:idOrCommand, handler});
      }
      if (idOrCommand.metadata && Array.isArray(idOrCommand.metadata.args)) {
        const constraints = [];
        for (const arg of idOrCommand.metadata.args) {
          constraints.push(arg.constraint);
        }
        const actualHandler = idOrCommand.handler;
        idOrCommand.handler = function(accessor, ...args) {
          (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js.validateConstraints)(args, constraints);
          return actualHandler(accessor, ...args);
        };
      }
      const {id} = idOrCommand;
      handler = this._commands.get(id);
      handler || (handler = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_linkedList_DOT_js.LinkedList(), this._commands.set(id, handler));
      const removeFn = handler.unshift(idOrCommand);
      idOrCommand = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.toDisposable)(() => {
        removeFn();
        const command = this._commands.get(id);
        (command === null || command === void 0 ? 0 : command.isEmpty()) && this._commands.delete(id);
      });
      this._onDidRegisterCommand.fire(id);
      return idOrCommand;
    }
    registerCommandAlias(oldId, newId) {
      return CommandsRegistry.registerCommand(oldId, (accessor, ...args) => accessor.get(ICommandService).executeCommand(newId, ...args));
    }
    getCommand(id) {
      if ((id = this._commands.get(id)) && !id.isEmpty()) {
        return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iterator_DOT_js.Iterable.first(id);
      }
    }
    getCommands() {
      const result = new Map();
      for (const key of this._commands.keys()) {
        const command = this.getCommand(key);
        command && result.set(key, command);
      }
      return result;
    }
  }();
  CommandsRegistry.registerCommand("noop", () => {
  });
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$platform$commands$common$commands.js.map
