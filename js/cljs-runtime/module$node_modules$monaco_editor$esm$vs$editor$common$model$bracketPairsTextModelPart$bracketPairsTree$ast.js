shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$bracketPairsTree$ast = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, BracketAstNode:{enumerable:!0, get:function() {
    return BracketAstNode;
  }}, InvalidBracketAstNode:{enumerable:!0, get:function() {
    return InvalidBracketAstNode;
  }}, ListAstNode:{enumerable:!0, get:function() {
    return ListAstNode;
  }}, PairAstNode:{enumerable:!0, get:function() {
    return PairAstNode;
  }}, TextAstNode:{enumerable:!0, get:function() {
    return TextAstNode;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$errors"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_cursorColumns_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$cursorColumns"), require$_DOT__SLASH_length_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$bracketPairsTree$length"), 
  require$_DOT__SLASH_smallImmutableSet_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$bracketPairsTree$smallImmutableSet");
  class BaseAstNode {
    get length() {
      return this._length;
    }
    constructor(length) {
      this._length = length;
    }
  }
  class PairAstNode extends BaseAstNode {
    static create(openingBracket, child, closingBracket) {
      let length = openingBracket.length;
      child && (length = (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(length, child.length));
      closingBracket && (length = (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(length, closingBracket.length));
      return new PairAstNode(length, openingBracket, child, closingBracket, child ? child.missingOpeningBracketIds : require$_DOT__SLASH_smallImmutableSet_DOT_js.SmallImmutableSet.getEmpty());
    }
    get kind() {
      return 2;
    }
    get listHeight() {
      return 0;
    }
    get childrenLength() {
      return 3;
    }
    getChild(idx) {
      switch(idx) {
        case 0:
          return this.openingBracket;
        case 1:
          return this.child;
        case 2:
          return this.closingBracket;
      }
      throw Error("Invalid child index");
    }
    get children() {
      const result = [];
      result.push(this.openingBracket);
      this.child && result.push(this.child);
      this.closingBracket && result.push(this.closingBracket);
      return result;
    }
    constructor(length, openingBracket, child, closingBracket, missingOpeningBracketIds) {
      super(length);
      this.openingBracket = openingBracket;
      this.child = child;
      this.closingBracket = closingBracket;
      this.missingOpeningBracketIds = missingOpeningBracketIds;
    }
    canBeReused(openBracketIds) {
      return this.closingBracket === null || openBracketIds.intersects(this.missingOpeningBracketIds) ? !1 : !0;
    }
    deepClone() {
      return new PairAstNode(this.length, this.openingBracket.deepClone(), this.child && this.child.deepClone(), this.closingBracket && this.closingBracket.deepClone(), this.missingOpeningBracketIds);
    }
    computeMinIndentation(offset, textModel) {
      return this.child ? this.child.computeMinIndentation((0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(offset, this.openingBracket.length), textModel) : Number.MAX_SAFE_INTEGER;
    }
  }
  class ListAstNode extends BaseAstNode {
    static create23(item1, item2, item3, immutable = !1) {
      let length = item1.length, missingBracketIds = item1.missingOpeningBracketIds;
      if (item1.listHeight !== item2.listHeight) {
        throw Error("Invalid list heights");
      }
      length = (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(length, item2.length);
      missingBracketIds = missingBracketIds.merge(item2.missingOpeningBracketIds);
      if (item3) {
        if (item1.listHeight !== item3.listHeight) {
          throw Error("Invalid list heights");
        }
        length = (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(length, item3.length);
        missingBracketIds = missingBracketIds.merge(item3.missingOpeningBracketIds);
      }
      return immutable ? new Immutable23ListAstNode(length, item1.listHeight + 1, item1, item2, item3, missingBracketIds) : new TwoThreeListAstNode(length, item1.listHeight + 1, item1, item2, item3, missingBracketIds);
    }
    static getEmpty() {
      return new ImmutableArrayListAstNode(require$_DOT__SLASH_length_DOT_js.lengthZero, 0, [], require$_DOT__SLASH_smallImmutableSet_DOT_js.SmallImmutableSet.getEmpty());
    }
    get kind() {
      return 4;
    }
    get missingOpeningBracketIds() {
      return this._missingOpeningBracketIds;
    }
    constructor(length, listHeight, _missingOpeningBracketIds) {
      super(length);
      this.listHeight = listHeight;
      this._missingOpeningBracketIds = _missingOpeningBracketIds;
      this.cachedMinIndentation = -1;
    }
    throwIfImmutable() {
    }
    makeLastElementMutable() {
      this.throwIfImmutable();
      const childCount = this.childrenLength;
      if (childCount !== 0) {
        var lastChild = this.getChild(childCount - 1), mutable = lastChild.kind === 4 ? lastChild.toMutable() : lastChild;
        lastChild !== mutable && this.setChild(childCount - 1, mutable);
        return mutable;
      }
    }
    makeFirstElementMutable() {
      this.throwIfImmutable();
      if (this.childrenLength !== 0) {
        var firstChild = this.getChild(0), mutable = firstChild.kind === 4 ? firstChild.toMutable() : firstChild;
        firstChild !== mutable && this.setChild(0, mutable);
        return mutable;
      }
    }
    canBeReused(openBracketIds) {
      if (openBracketIds.intersects(this.missingOpeningBracketIds) || this.childrenLength === 0) {
        return !1;
      }
      let lastChild = this;
      for (; lastChild.kind === 4;) {
        const lastLength = lastChild.childrenLength;
        if (lastLength === 0) {
          throw new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.BugIndicatingError();
        }
        lastChild = lastChild.getChild(lastLength - 1);
      }
      return lastChild.canBeReused(openBracketIds);
    }
    handleChildrenChanged() {
      this.throwIfImmutable();
      const count = this.childrenLength;
      let length = this.getChild(0).length, unopenedBrackets = this.getChild(0).missingOpeningBracketIds;
      for (let i = 1; i < count; i++) {
        const child = this.getChild(i);
        length = (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(length, child.length);
        unopenedBrackets = unopenedBrackets.merge(child.missingOpeningBracketIds);
      }
      this._length = length;
      this._missingOpeningBracketIds = unopenedBrackets;
      this.cachedMinIndentation = -1;
    }
    computeMinIndentation(offset, textModel) {
      if (this.cachedMinIndentation !== -1) {
        return this.cachedMinIndentation;
      }
      let minIndentation = Number.MAX_SAFE_INTEGER;
      for (let i = 0; i < this.childrenLength; i++) {
        const child = this.getChild(i);
        child && (minIndentation = Math.min(minIndentation, child.computeMinIndentation(offset, textModel)), offset = (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(offset, child.length));
      }
      return this.cachedMinIndentation = minIndentation;
    }
  }
  class TwoThreeListAstNode extends ListAstNode {
    get childrenLength() {
      return this._item3 !== null ? 3 : 2;
    }
    getChild(idx) {
      switch(idx) {
        case 0:
          return this._item1;
        case 1:
          return this._item2;
        case 2:
          return this._item3;
      }
      throw Error("Invalid child index");
    }
    setChild(idx, node) {
      switch(idx) {
        case 0:
          this._item1 = node;
          return;
        case 1:
          this._item2 = node;
          return;
        case 2:
          this._item3 = node;
          return;
      }
      throw Error("Invalid child index");
    }
    get children() {
      return this._item3 ? [this._item1, this._item2, this._item3] : [this._item1, this._item2];
    }
    get item1() {
      return this._item1;
    }
    get item2() {
      return this._item2;
    }
    get item3() {
      return this._item3;
    }
    constructor(length, listHeight, _item1, _item2, _item3, missingOpeningBracketIds) {
      super(length, listHeight, missingOpeningBracketIds);
      this._item1 = _item1;
      this._item2 = _item2;
      this._item3 = _item3;
    }
    deepClone() {
      return new TwoThreeListAstNode(this.length, this.listHeight, this._item1.deepClone(), this._item2.deepClone(), this._item3 ? this._item3.deepClone() : null, this.missingOpeningBracketIds);
    }
    appendChildOfSameHeight(node) {
      if (this._item3) {
        throw Error("Cannot append to a full (2,3) tree node");
      }
      this.throwIfImmutable();
      this._item3 = node;
      this.handleChildrenChanged();
    }
    unappendChild() {
      if (!this._item3) {
        throw Error("Cannot remove from a non-full (2,3) tree node");
      }
      this.throwIfImmutable();
      const result = this._item3;
      this._item3 = null;
      this.handleChildrenChanged();
      return result;
    }
    prependChildOfSameHeight(node) {
      if (this._item3) {
        throw Error("Cannot prepend to a full (2,3) tree node");
      }
      this.throwIfImmutable();
      this._item3 = this._item2;
      this._item2 = this._item1;
      this._item1 = node;
      this.handleChildrenChanged();
    }
    unprependChild() {
      if (!this._item3) {
        throw Error("Cannot remove from a non-full (2,3) tree node");
      }
      this.throwIfImmutable();
      const result = this._item1;
      this._item1 = this._item2;
      this._item2 = this._item3;
      this._item3 = null;
      this.handleChildrenChanged();
      return result;
    }
    toMutable() {
      return this;
    }
  }
  class Immutable23ListAstNode extends TwoThreeListAstNode {
    toMutable() {
      return new TwoThreeListAstNode(this.length, this.listHeight, this.item1, this.item2, this.item3, this.missingOpeningBracketIds);
    }
    throwIfImmutable() {
      throw Error("this instance is immutable");
    }
  }
  class ArrayListAstNode extends ListAstNode {
    get childrenLength() {
      return this._children.length;
    }
    getChild(idx) {
      return this._children[idx];
    }
    setChild(idx, child) {
      this._children[idx] = child;
    }
    get children() {
      return this._children;
    }
    constructor(length, listHeight, _children, missingOpeningBracketIds) {
      super(length, listHeight, missingOpeningBracketIds);
      this._children = _children;
    }
    deepClone() {
      const children = Array(this._children.length);
      for (let i = 0; i < this._children.length; i++) {
        children[i] = this._children[i].deepClone();
      }
      return new ArrayListAstNode(this.length, this.listHeight, children, this.missingOpeningBracketIds);
    }
    appendChildOfSameHeight(node) {
      this.throwIfImmutable();
      this._children.push(node);
      this.handleChildrenChanged();
    }
    unappendChild() {
      this.throwIfImmutable();
      const item = this._children.pop();
      this.handleChildrenChanged();
      return item;
    }
    prependChildOfSameHeight(node) {
      this.throwIfImmutable();
      this._children.unshift(node);
      this.handleChildrenChanged();
    }
    unprependChild() {
      this.throwIfImmutable();
      const item = this._children.shift();
      this.handleChildrenChanged();
      return item;
    }
    toMutable() {
      return this;
    }
  }
  class ImmutableArrayListAstNode extends ArrayListAstNode {
    toMutable() {
      return new ArrayListAstNode(this.length, this.listHeight, [...this.children], this.missingOpeningBracketIds);
    }
    throwIfImmutable() {
      throw Error("this instance is immutable");
    }
  }
  const emptyArray = [];
  class ImmutableLeafAstNode extends BaseAstNode {
    get listHeight() {
      return 0;
    }
    get childrenLength() {
      return 0;
    }
    getChild(idx) {
      return null;
    }
    get children() {
      return emptyArray;
    }
    deepClone() {
      return this;
    }
  }
  class TextAstNode extends ImmutableLeafAstNode {
    get kind() {
      return 0;
    }
    get missingOpeningBracketIds() {
      return require$_DOT__SLASH_smallImmutableSet_DOT_js.SmallImmutableSet.getEmpty();
    }
    canBeReused(_openedBracketIds) {
      return !0;
    }
    computeMinIndentation(offset, textModel) {
      var start = (0,require$_DOT__SLASH_length_DOT_js.lengthToObj)(offset), startLineNumber = (start.columnCount === 0 ? start.lineCount : start.lineCount + 1) + 1;
      offset = (0,require$_DOT__SLASH_length_DOT_js.lengthGetLineCount)((0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(offset, this.length)) + 1;
      for (start = Number.MAX_SAFE_INTEGER; startLineNumber <= offset; startLineNumber++) {
        var firstNonWsColumn = textModel.getLineFirstNonWhitespaceColumn(startLineNumber);
        const lineContent = textModel.getLineContent(startLineNumber);
        firstNonWsColumn !== 0 && (firstNonWsColumn = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_cursorColumns_DOT_js.CursorColumns.visibleColumnFromColumn(lineContent, firstNonWsColumn, textModel.getOptions().tabSize), start = Math.min(start, firstNonWsColumn));
      }
      return start;
    }
  }
  class BracketAstNode extends ImmutableLeafAstNode {
    static create(length, bracketInfo, bracketIds) {
      return new BracketAstNode(length, bracketInfo, bracketIds);
    }
    get kind() {
      return 1;
    }
    get missingOpeningBracketIds() {
      return require$_DOT__SLASH_smallImmutableSet_DOT_js.SmallImmutableSet.getEmpty();
    }
    constructor(length, bracketInfo, bracketIds) {
      super(length);
      this.bracketInfo = bracketInfo;
      this.bracketIds = bracketIds;
    }
    get text() {
      return this.bracketInfo.bracketText;
    }
    get languageId() {
      return this.bracketInfo.languageId;
    }
    canBeReused(_openedBracketIds) {
      return !1;
    }
    computeMinIndentation(offset, textModel) {
      return Number.MAX_SAFE_INTEGER;
    }
  }
  class InvalidBracketAstNode extends ImmutableLeafAstNode {
    get kind() {
      return 3;
    }
    constructor(closingBrackets, length) {
      super(length);
      this.missingOpeningBracketIds = closingBrackets;
    }
    canBeReused(openedBracketIds) {
      return !openedBracketIds.intersects(this.missingOpeningBracketIds);
    }
    computeMinIndentation(offset, textModel) {
      return Number.MAX_SAFE_INTEGER;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$bracketPairsTree$ast.js.map
