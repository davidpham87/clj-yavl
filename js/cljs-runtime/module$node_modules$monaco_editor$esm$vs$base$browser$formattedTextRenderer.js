shadow$provide.module$node_modules$monaco_editor$esm$vs$base$browser$formattedTextRenderer = function(require, module, exports) {
  function renderText(text, options = {}) {
    options = createElement(options);
    options.textContent = text;
    return options;
  }
  function renderFormattedText(formattedText, options = {}) {
    const element = createElement(options);
    var JSCompiler_temp_const = _renderFormattedText, parseCodeSegments = !!options.renderCodeSegments;
    const root = {type:1, children:[]};
    let actionViewItemIndex = 0, current = root;
    const stack = [];
    for (formattedText = new StringStream(formattedText); !formattedText.eos();) {
      var next = formattedText.next(), isEscapedFormatType = next === "\\" && formatTagType(formattedText.peek(), parseCodeSegments) !== 0;
      isEscapedFormatType && (next = formattedText.next());
      isEscapedFormatType || formatTagType(next, parseCodeSegments) === 0 || next !== formattedText.peek() ? next === "\n" ? (current.type === 2 && (current = stack.pop()), current.children.push({type:8})) : current.type !== 2 ? (next = {type:2, content:next}, current.children.push(next), stack.push(current), current = next) : current.content += next : (formattedText.advance(), current.type === 2 && (current = stack.pop()), next = formatTagType(next, parseCodeSegments), current.type === next || current.type === 
      5 && next === 6 ? current = stack.pop() : (isEscapedFormatType = {type:next, children:[]}, next === 5 && (isEscapedFormatType.index = actionViewItemIndex, actionViewItemIndex++), current.children.push(isEscapedFormatType), stack.push(current), current = isEscapedFormatType));
    }
    current.type === 2 && stack.pop();
    JSCompiler_temp_const(element, root, options.actionHandler, options.renderCodeSegments);
    return element;
  }
  function createElement(options) {
    const element = document.createElement(options.inline ? "span" : "div");
    options.className && (element.className = options.className);
    return element;
  }
  function _renderFormattedText(element, treeNode, actionHandler, renderCodeSegments) {
    let child;
    if (treeNode.type === 2) {
      child = document.createTextNode(treeNode.content || "");
    } else if (treeNode.type === 3) {
      child = document.createElement("b");
    } else if (treeNode.type === 4) {
      child = document.createElement("i");
    } else if (treeNode.type === 7 && renderCodeSegments) {
      child = document.createElement("code");
    } else if (treeNode.type === 5 && actionHandler) {
      const a = document.createElement("a");
      actionHandler.disposables.add(DOM.addStandardDisposableListener(a, "click", event => {
        actionHandler.callback(String(treeNode.index), event);
      }));
      child = a;
    } else {
      treeNode.type === 8 ? child = document.createElement("br") : treeNode.type === 1 && (child = element);
    }
    child && element !== child && element.appendChild(child);
    child && Array.isArray(treeNode.children) && treeNode.children.forEach(nodeChild => {
      _renderFormattedText(child, nodeChild, actionHandler, renderCodeSegments);
    });
  }
  function formatTagType(char, supportCodeSegments) {
    switch(char) {
      case "*":
        return 3;
      case "_":
        return 4;
      case "[":
        return 5;
      case "]":
        return 6;
      case "`":
        return supportCodeSegments ? 7 : 0;
      default:
        return 0;
    }
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, createElement:{enumerable:!0, get:function() {
    return createElement;
  }}, renderFormattedText:{enumerable:!0, get:function() {
    return renderFormattedText;
  }}, renderText:{enumerable:!0, get:function() {
    return renderText;
  }}});
  var DOM = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom");
  class StringStream {
    constructor(source) {
      this.source = source;
      this.index = 0;
    }
    eos() {
      return this.index >= this.source.length;
    }
    next() {
      const next = this.peek();
      this.advance();
      return next;
    }
    peek() {
      return this.source[this.index];
    }
    advance() {
      this.index++;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$browser$formattedTextRenderer.js.map
