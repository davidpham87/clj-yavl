shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$services$languagesRegistry = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, LanguageIdCodec:{enumerable:!0, get:function() {
    return LanguageIdCodec;
  }}, LanguagesRegistry:{enumerable:!0, get:function() {
    return LanguagesRegistry;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$strings"), require$_DOT__SLASH_languagesAssociations_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$services$languagesAssociations"), require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$languages$modesRegistry"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_configuration_SLASH_common_SLASH_configurationRegistry_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$platform$configuration$common$configurationRegistry"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_registry_SLASH_common_SLASH_platform_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$registry$common$platform");
  const hasOwnProperty = Object.prototype.hasOwnProperty;
  class LanguageIdCodec {
    constructor() {
      this._languageIdToLanguage = [];
      this._languageToLanguageId = new Map();
      this._register("vs.editor.nullLanguage", 0);
      this._register(require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js.PLAINTEXT_LANGUAGE_ID, 1);
      this._nextLanguageId = 2;
    }
    _register(language, languageId) {
      this._languageIdToLanguage[languageId] = language;
      this._languageToLanguageId.set(language, languageId);
    }
    register(language) {
      if (!this._languageToLanguageId.has(language)) {
        var languageId = this._nextLanguageId++;
        this._register(language, languageId);
      }
    }
    encodeLanguageId(languageId) {
      return this._languageToLanguageId.get(languageId) || 0;
    }
    decodeLanguageId(languageId) {
      return this._languageIdToLanguage[languageId] || "vs.editor.nullLanguage";
    }
  }
  class LanguagesRegistry extends module.Disposable {
    constructor(useModesRegistry = !0, warnOnOverwrite = !1) {
      super();
      this._onDidChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidChange = this._onDidChange.event;
      LanguagesRegistry.instanceCount++;
      this._warnOnOverwrite = warnOnOverwrite;
      this.languageIdCodec = new LanguageIdCodec();
      this._dynamicLanguages = [];
      this._languages = {};
      this._mimeTypesMap = {};
      this._nameMap = {};
      this._lowercaseNameMap = {};
      useModesRegistry && (this._initializeFromRegistry(), this._register(require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js.ModesRegistry.onDidChangeLanguages(m => {
        this._initializeFromRegistry();
      })));
    }
    dispose() {
      LanguagesRegistry.instanceCount--;
      super.dispose();
    }
    _initializeFromRegistry() {
      this._languages = {};
      this._mimeTypesMap = {};
      this._nameMap = {};
      this._lowercaseNameMap = {};
      (0,require$_DOT__SLASH_languagesAssociations_DOT_js.clearPlatformLanguageAssociations)();
      const desc = [].concat(require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);
      this._registerLanguages(desc);
    }
    _registerLanguages(desc) {
      for (const d of desc) {
        this._registerLanguage(d);
      }
      this._mimeTypesMap = {};
      this._nameMap = {};
      this._lowercaseNameMap = {};
      Object.keys(this._languages).forEach(langId => {
        const language = this._languages[langId];
        language.name && (this._nameMap[language.name] = language.identifier);
        language.aliases.forEach(alias => {
          this._lowercaseNameMap[alias.toLowerCase()] = language.identifier;
        });
        language.mimetypes.forEach(mimetype => {
          this._mimeTypesMap[mimetype] = language.identifier;
        });
      });
      require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_registry_SLASH_common_SLASH_platform_DOT_js.Registry.as(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_configuration_SLASH_common_SLASH_configurationRegistry_DOT_js.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds());
      this._onDidChange.fire();
    }
    _registerLanguage(lang) {
      const langId = lang.id;
      let resolvedLanguage;
      hasOwnProperty.call(this._languages, langId) ? resolvedLanguage = this._languages[langId] : (this.languageIdCodec.register(langId), resolvedLanguage = {identifier:langId, name:null, mimetypes:[], aliases:[], extensions:[], filenames:[], configurationFiles:[], icons:[]}, this._languages[langId] = resolvedLanguage);
      this._mergeLanguage(resolvedLanguage, lang);
    }
    _mergeLanguage(resolvedLanguage, lang) {
      var langId = lang.id, primaryMime = null;
      Array.isArray(lang.mimetypes) && lang.mimetypes.length > 0 && (resolvedLanguage.mimetypes.push(...lang.mimetypes), primaryMime = lang.mimetypes[0]);
      primaryMime || (primaryMime = `text/x-${langId}`, resolvedLanguage.mimetypes.push(primaryMime));
      if (Array.isArray(lang.extensions)) {
        resolvedLanguage.extensions = lang.configuration ? lang.extensions.concat(resolvedLanguage.extensions) : resolvedLanguage.extensions.concat(lang.extensions);
        for (var extension of lang.extensions) {
          (0,require$_DOT__SLASH_languagesAssociations_DOT_js.registerPlatformLanguageAssociation)({id:langId, mime:primaryMime, extension}, this._warnOnOverwrite);
        }
      }
      if (Array.isArray(lang.filenames)) {
        for (const filename of lang.filenames) {
          (0,require$_DOT__SLASH_languagesAssociations_DOT_js.registerPlatformLanguageAssociation)({id:langId, mime:primaryMime, filename}, this._warnOnOverwrite), resolvedLanguage.filenames.push(filename);
        }
      }
      if (Array.isArray(lang.filenamePatterns)) {
        for (const filenamePattern of lang.filenamePatterns) {
          (0,require$_DOT__SLASH_languagesAssociations_DOT_js.registerPlatformLanguageAssociation)({id:langId, mime:primaryMime, filepattern:filenamePattern}, this._warnOnOverwrite);
        }
      }
      if (typeof lang.firstLine === "string" && lang.firstLine.length > 0) {
        extension = lang.firstLine;
        extension.charAt(0) !== "^" && (extension = "^" + extension);
        try {
          const firstLineRegex = new RegExp(extension);
          (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js.regExpLeadsToEndlessLoop)(firstLineRegex) || (0,require$_DOT__SLASH_languagesAssociations_DOT_js.registerPlatformLanguageAssociation)({id:langId, mime:primaryMime, firstline:firstLineRegex}, this._warnOnOverwrite);
        } catch (err) {
          console.warn(`[${lang.id}]: Invalid regular expression \`${extension}\`: `, err);
        }
      }
      resolvedLanguage.aliases.push(langId);
      primaryMime = null;
      typeof lang.aliases !== "undefined" && Array.isArray(lang.aliases) && (primaryMime = lang.aliases.length === 0 ? [null] : lang.aliases);
      if (primaryMime !== null) {
        for (var langAlias of primaryMime) {
          langAlias && langAlias.length !== 0 && resolvedLanguage.aliases.push(langAlias);
        }
      }
      langAlias = primaryMime !== null && primaryMime.length > 0;
      if (!langAlias || primaryMime[0] !== null) {
        if (langId = (langAlias ? primaryMime[0] : null) || langId, langAlias || !resolvedLanguage.name) {
          resolvedLanguage.name = langId;
        }
      }
      lang.configuration && resolvedLanguage.configurationFiles.push(lang.configuration);
      lang.icon && resolvedLanguage.icons.push(lang.icon);
    }
    isRegisteredLanguageId(languageId) {
      return languageId ? hasOwnProperty.call(this._languages, languageId) : !1;
    }
    getRegisteredLanguageIds() {
      return Object.keys(this._languages);
    }
    getLanguageIdByLanguageName(languageName) {
      languageName = languageName.toLowerCase();
      return hasOwnProperty.call(this._lowercaseNameMap, languageName) ? this._lowercaseNameMap[languageName] : null;
    }
    getLanguageIdByMimeType(mimeType) {
      return mimeType ? hasOwnProperty.call(this._mimeTypesMap, mimeType) ? this._mimeTypesMap[mimeType] : null : null;
    }
    guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {
      return resource || firstLine ? (0,require$_DOT__SLASH_languagesAssociations_DOT_js.getLanguageIds)(resource, firstLine) : [];
    }
  }
  LanguagesRegistry.instanceCount = 0;
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$services$languagesRegistry.js.map
