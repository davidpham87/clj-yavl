{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$standalone$common$monarch$monarchLexer.js",
"lineCount":513,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/standalone/common/monarch/monarchLexer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$standalone$common$monarch$monarchLexer\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, MonarchTokenizer:{enumerable:true, get:function() {\n  return MonarchTokenizer;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../../base/common/lifecycle.js\");\nvar languages = require(\"../../../common/languages.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_nullTokenize_DOT_js = require(\"../../../common/languages/nullTokenize.js\");\nvar monarchCommon = require(\"./monarchCommon.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_configuration_SLASH_common_SLASH_configuration_DOT_js = require(\"../../../../platform/configuration/common/configuration.js\");\nvar __decorate = this && this.__decorate || function(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") {\n    r = Reflect.decorate(decorators, target, key, desc);\n  } else {\n    for (var i = decorators.length - 1; i >= 0; i--) {\n      if (d = decorators[i]) {\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n      }\n    }\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar MonarchTokenizer_1;\nconst CACHE_STACK_DEPTH = 5;\nclass MonarchStackElementFactory {\n  static create(parent, state) {\n    return this._INSTANCE.create(parent, state);\n  }\n  constructor(maxCacheDepth) {\n    this._maxCacheDepth = maxCacheDepth;\n    this._entries = Object.create(null);\n  }\n  create(parent, state) {\n    if (parent !== null && parent.depth >= this._maxCacheDepth) {\n      return new MonarchStackElement(parent, state);\n    }\n    let stackElementId = MonarchStackElement.getStackElementId(parent);\n    if (stackElementId.length > 0) {\n      stackElementId += \"|\";\n    }\n    stackElementId += state;\n    let result = this._entries[stackElementId];\n    if (result) {\n      return result;\n    }\n    result = new MonarchStackElement(parent, state);\n    this._entries[stackElementId] = result;\n    return result;\n  }\n}\nMonarchStackElementFactory._INSTANCE = new MonarchStackElementFactory(CACHE_STACK_DEPTH);\nclass MonarchStackElement {\n  constructor(parent, state) {\n    this.parent = parent;\n    this.state = state;\n    this.depth = (this.parent ? this.parent.depth : 0) + 1;\n  }\n  static getStackElementId(element) {\n    let result = \"\";\n    while (element !== null) {\n      if (result.length > 0) {\n        result += \"|\";\n      }\n      result += element.state;\n      element = element.parent;\n    }\n    return result;\n  }\n  static _equals(a, b) {\n    while (a !== null && b !== null) {\n      if (a === b) {\n        return true;\n      }\n      if (a.state !== b.state) {\n        return false;\n      }\n      a = a.parent;\n      b = b.parent;\n    }\n    if (a === null && b === null) {\n      return true;\n    }\n    return false;\n  }\n  equals(other) {\n    return MonarchStackElement._equals(this, other);\n  }\n  push(state) {\n    return MonarchStackElementFactory.create(this, state);\n  }\n  pop() {\n    return this.parent;\n  }\n  popall() {\n    let result = this;\n    while (result.parent) {\n      result = result.parent;\n    }\n    return result;\n  }\n  switchTo(state) {\n    return MonarchStackElementFactory.create(this.parent, state);\n  }\n}\nclass EmbeddedLanguageData {\n  constructor(languageId, state) {\n    this.languageId = languageId;\n    this.state = state;\n  }\n  equals(other) {\n    return this.languageId === other.languageId && this.state.equals(other.state);\n  }\n  clone() {\n    const stateClone = this.state.clone();\n    if (stateClone === this.state) {\n      return this;\n    }\n    return new EmbeddedLanguageData(this.languageId, this.state);\n  }\n}\nclass MonarchLineStateFactory {\n  static create(stack, embeddedLanguageData) {\n    return this._INSTANCE.create(stack, embeddedLanguageData);\n  }\n  constructor(maxCacheDepth) {\n    this._maxCacheDepth = maxCacheDepth;\n    this._entries = Object.create(null);\n  }\n  create(stack, embeddedLanguageData) {\n    if (embeddedLanguageData !== null) {\n      return new MonarchLineState(stack, embeddedLanguageData);\n    }\n    if (stack !== null && stack.depth >= this._maxCacheDepth) {\n      return new MonarchLineState(stack, embeddedLanguageData);\n    }\n    const stackElementId = MonarchStackElement.getStackElementId(stack);\n    let result = this._entries[stackElementId];\n    if (result) {\n      return result;\n    }\n    result = new MonarchLineState(stack, null);\n    this._entries[stackElementId] = result;\n    return result;\n  }\n}\nMonarchLineStateFactory._INSTANCE = new MonarchLineStateFactory(CACHE_STACK_DEPTH);\nclass MonarchLineState {\n  constructor(stack, embeddedLanguageData) {\n    this.stack = stack;\n    this.embeddedLanguageData = embeddedLanguageData;\n  }\n  clone() {\n    const embeddedlanguageDataClone = this.embeddedLanguageData ? this.embeddedLanguageData.clone() : null;\n    if (embeddedlanguageDataClone === this.embeddedLanguageData) {\n      return this;\n    }\n    return MonarchLineStateFactory.create(this.stack, this.embeddedLanguageData);\n  }\n  equals(other) {\n    if (!(other instanceof MonarchLineState)) {\n      return false;\n    }\n    if (!this.stack.equals(other.stack)) {\n      return false;\n    }\n    if (this.embeddedLanguageData === null && other.embeddedLanguageData === null) {\n      return true;\n    }\n    if (this.embeddedLanguageData === null || other.embeddedLanguageData === null) {\n      return false;\n    }\n    return this.embeddedLanguageData.equals(other.embeddedLanguageData);\n  }\n}\nclass MonarchClassicTokensCollector {\n  constructor() {\n    this._tokens = [];\n    this._languageId = null;\n    this._lastTokenType = null;\n    this._lastTokenLanguage = null;\n  }\n  enterLanguage(languageId) {\n    this._languageId = languageId;\n  }\n  emit(startOffset, type) {\n    if (this._lastTokenType === type && this._lastTokenLanguage === this._languageId) {\n      return;\n    }\n    this._lastTokenType = type;\n    this._lastTokenLanguage = this._languageId;\n    this._tokens.push(new languages.Token(startOffset, type, this._languageId));\n  }\n  nestedLanguageTokenize(embeddedLanguageLine, hasEOL, embeddedLanguageData, offsetDelta) {\n    const nestedLanguageId = embeddedLanguageData.languageId;\n    const embeddedModeState = embeddedLanguageData.state;\n    const nestedLanguageTokenizationSupport = languages.TokenizationRegistry.get(nestedLanguageId);\n    if (!nestedLanguageTokenizationSupport) {\n      this.enterLanguage(nestedLanguageId);\n      this.emit(offsetDelta, \"\");\n      return embeddedModeState;\n    }\n    const nestedResult = nestedLanguageTokenizationSupport.tokenize(embeddedLanguageLine, hasEOL, embeddedModeState);\n    if (offsetDelta !== 0) {\n      for (const token of nestedResult.tokens) {\n        this._tokens.push(new languages.Token(token.offset + offsetDelta, token.type, token.language));\n      }\n    } else {\n      this._tokens = this._tokens.concat(nestedResult.tokens);\n    }\n    this._lastTokenType = null;\n    this._lastTokenLanguage = null;\n    this._languageId = null;\n    return nestedResult.endState;\n  }\n  finalize(endState) {\n    return new languages.TokenizationResult(this._tokens, endState);\n  }\n}\nclass MonarchModernTokensCollector {\n  constructor(languageService, theme) {\n    this._languageService = languageService;\n    this._theme = theme;\n    this._prependTokens = null;\n    this._tokens = [];\n    this._currentLanguageId = 0;\n    this._lastTokenMetadata = 0;\n  }\n  enterLanguage(languageId) {\n    this._currentLanguageId = this._languageService.languageIdCodec.encodeLanguageId(languageId);\n  }\n  emit(startOffset, type) {\n    const metadata = this._theme.match(this._currentLanguageId, type) | 1024;\n    if (this._lastTokenMetadata === metadata) {\n      return;\n    }\n    this._lastTokenMetadata = metadata;\n    this._tokens.push(startOffset);\n    this._tokens.push(metadata);\n  }\n  static _merge(a, b, c) {\n    const aLen = a !== null ? a.length : 0;\n    const bLen = b.length;\n    const cLen = c !== null ? c.length : 0;\n    if (aLen === 0 && bLen === 0 && cLen === 0) {\n      return new Uint32Array(0);\n    }\n    if (aLen === 0 && bLen === 0) {\n      return c;\n    }\n    if (bLen === 0 && cLen === 0) {\n      return a;\n    }\n    const result = new Uint32Array(aLen + bLen + cLen);\n    if (a !== null) {\n      result.set(a);\n    }\n    for (let i = 0; i < bLen; i++) {\n      result[aLen + i] = b[i];\n    }\n    if (c !== null) {\n      result.set(c, aLen + bLen);\n    }\n    return result;\n  }\n  nestedLanguageTokenize(embeddedLanguageLine, hasEOL, embeddedLanguageData, offsetDelta) {\n    const nestedLanguageId = embeddedLanguageData.languageId;\n    const embeddedModeState = embeddedLanguageData.state;\n    const nestedLanguageTokenizationSupport = languages.TokenizationRegistry.get(nestedLanguageId);\n    if (!nestedLanguageTokenizationSupport) {\n      this.enterLanguage(nestedLanguageId);\n      this.emit(offsetDelta, \"\");\n      return embeddedModeState;\n    }\n    const nestedResult = nestedLanguageTokenizationSupport.tokenizeEncoded(embeddedLanguageLine, hasEOL, embeddedModeState);\n    if (offsetDelta !== 0) {\n      for (let i = 0, len = nestedResult.tokens.length; i < len; i += 2) {\n        nestedResult.tokens[i] += offsetDelta;\n      }\n    }\n    this._prependTokens = MonarchModernTokensCollector._merge(this._prependTokens, this._tokens, nestedResult.tokens);\n    this._tokens = [];\n    this._currentLanguageId = 0;\n    this._lastTokenMetadata = 0;\n    return nestedResult.endState;\n  }\n  finalize(endState) {\n    return new languages.EncodedTokenizationResult(MonarchModernTokensCollector._merge(this._prependTokens, this._tokens, null), endState);\n  }\n}\nlet MonarchTokenizer = MonarchTokenizer_1 = class MonarchTokenizer extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  constructor(languageService, standaloneThemeService, languageId, lexer, _configurationService) {\n    super();\n    this._configurationService = _configurationService;\n    this._languageService = languageService;\n    this._standaloneThemeService = standaloneThemeService;\n    this._languageId = languageId;\n    this._lexer = lexer;\n    this._embeddedLanguages = Object.create(null);\n    this.embeddedLoaded = Promise.resolve(undefined);\n    let emitting = false;\n    this._register(languages.TokenizationRegistry.onDidChange(e => {\n      if (emitting) {\n        return;\n      }\n      let isOneOfMyEmbeddedModes = false;\n      for (let i = 0, len = e.changedLanguages.length; i < len; i++) {\n        const language = e.changedLanguages[i];\n        if (this._embeddedLanguages[language]) {\n          isOneOfMyEmbeddedModes = true;\n          break;\n        }\n      }\n      if (isOneOfMyEmbeddedModes) {\n        emitting = true;\n        languages.TokenizationRegistry.handleChange([this._languageId]);\n        emitting = false;\n      }\n    }));\n    this._maxTokenizationLineLength = this._configurationService.getValue(\"editor.maxTokenizationLineLength\", {overrideIdentifier:this._languageId});\n    this._register(this._configurationService.onDidChangeConfiguration(e => {\n      if (e.affectsConfiguration(\"editor.maxTokenizationLineLength\")) {\n        this._maxTokenizationLineLength = this._configurationService.getValue(\"editor.maxTokenizationLineLength\", {overrideIdentifier:this._languageId});\n      }\n    }));\n  }\n  getLoadStatus() {\n    const promises = [];\n    for (const nestedLanguageId in this._embeddedLanguages) {\n      const tokenizationSupport = languages.TokenizationRegistry.get(nestedLanguageId);\n      if (tokenizationSupport) {\n        if (tokenizationSupport instanceof MonarchTokenizer_1) {\n          const nestedModeStatus = tokenizationSupport.getLoadStatus();\n          if (nestedModeStatus.loaded === false) {\n            promises.push(nestedModeStatus.promise);\n          }\n        }\n        continue;\n      }\n      if (!languages.TokenizationRegistry.isResolved(nestedLanguageId)) {\n        promises.push(languages.TokenizationRegistry.getOrCreate(nestedLanguageId));\n      }\n    }\n    if (promises.length === 0) {\n      return {loaded:true};\n    }\n    return {loaded:false, promise:Promise.all(promises).then(_ => undefined)};\n  }\n  getInitialState() {\n    const rootState = MonarchStackElementFactory.create(null, this._lexer.start);\n    return MonarchLineStateFactory.create(rootState, null);\n  }\n  tokenize(line, hasEOL, lineState) {\n    if (line.length >= this._maxTokenizationLineLength) {\n      return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_nullTokenize_DOT_js.nullTokenize)(this._languageId, lineState);\n    }\n    const tokensCollector = new MonarchClassicTokensCollector();\n    const endLineState = this._tokenize(line, hasEOL, lineState, tokensCollector);\n    return tokensCollector.finalize(endLineState);\n  }\n  tokenizeEncoded(line, hasEOL, lineState) {\n    if (line.length >= this._maxTokenizationLineLength) {\n      return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_nullTokenize_DOT_js.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId), lineState);\n    }\n    const tokensCollector = new MonarchModernTokensCollector(this._languageService, this._standaloneThemeService.getColorTheme().tokenTheme);\n    const endLineState = this._tokenize(line, hasEOL, lineState, tokensCollector);\n    return tokensCollector.finalize(endLineState);\n  }\n  _tokenize(line, hasEOL, lineState, collector) {\n    if (lineState.embeddedLanguageData) {\n      return this._nestedTokenize(line, hasEOL, lineState, 0, collector);\n    } else {\n      return this._myTokenize(line, hasEOL, lineState, 0, collector);\n    }\n  }\n  _findLeavingNestedLanguageOffset(line, state) {\n    let rules = this._lexer.tokenizer[state.stack.state];\n    if (!rules) {\n      rules = monarchCommon.findRules(this._lexer, state.stack.state);\n      if (!rules) {\n        throw monarchCommon.createError(this._lexer, \"tokenizer state is not defined: \" + state.stack.state);\n      }\n    }\n    let popOffset = -1;\n    let hasEmbeddedPopRule = false;\n    for (const rule of rules) {\n      if (!monarchCommon.isIAction(rule.action) || rule.action.nextEmbedded !== \"@pop\") {\n        continue;\n      }\n      hasEmbeddedPopRule = true;\n      let regex = rule.regex;\n      const regexSource = rule.regex.source;\n      if (regexSource.substr(0, 4) === \"^(?:\" && regexSource.substr(regexSource.length - 1, 1) === \")\") {\n        const flags = (regex.ignoreCase ? \"i\" : \"\") + (regex.unicode ? \"u\" : \"\");\n        regex = new RegExp(regexSource.substr(4, regexSource.length - 5), flags);\n      }\n      const result = line.search(regex);\n      if (result === -1 || result !== 0 && rule.matchOnlyAtLineStart) {\n        continue;\n      }\n      if (popOffset === -1 || result < popOffset) {\n        popOffset = result;\n      }\n    }\n    if (!hasEmbeddedPopRule) {\n      throw monarchCommon.createError(this._lexer, 'no rule containing nextEmbedded: \"@pop\" in tokenizer embedded state: ' + state.stack.state);\n    }\n    return popOffset;\n  }\n  _nestedTokenize(line, hasEOL, lineState, offsetDelta, tokensCollector) {\n    const popOffset = this._findLeavingNestedLanguageOffset(line, lineState);\n    if (popOffset === -1) {\n      const nestedEndState = tokensCollector.nestedLanguageTokenize(line, hasEOL, lineState.embeddedLanguageData, offsetDelta);\n      return MonarchLineStateFactory.create(lineState.stack, new EmbeddedLanguageData(lineState.embeddedLanguageData.languageId, nestedEndState));\n    }\n    const nestedLanguageLine = line.substring(0, popOffset);\n    if (nestedLanguageLine.length > 0) {\n      tokensCollector.nestedLanguageTokenize(nestedLanguageLine, false, lineState.embeddedLanguageData, offsetDelta);\n    }\n    const restOfTheLine = line.substring(popOffset);\n    return this._myTokenize(restOfTheLine, hasEOL, lineState, offsetDelta + popOffset, tokensCollector);\n  }\n  _safeRuleName(rule) {\n    if (rule) {\n      return rule.name;\n    }\n    return \"(unknown)\";\n  }\n  _myTokenize(lineWithoutLF, hasEOL, lineState, offsetDelta, tokensCollector) {\n    tokensCollector.enterLanguage(this._languageId);\n    const lineWithoutLFLength = lineWithoutLF.length;\n    const line = hasEOL && this._lexer.includeLF ? lineWithoutLF + \"\\n\" : lineWithoutLF;\n    const lineLength = line.length;\n    let embeddedLanguageData = lineState.embeddedLanguageData;\n    let stack = lineState.stack;\n    let pos = 0;\n    let groupMatching = null;\n    let forceEvaluation = true;\n    while (forceEvaluation || pos < lineLength) {\n      const pos0 = pos;\n      const stackLen0 = stack.depth;\n      const groupLen0 = groupMatching ? groupMatching.groups.length : 0;\n      const state = stack.state;\n      let matches = null;\n      let matched = null;\n      let action = null;\n      let rule = null;\n      let enteringEmbeddedLanguage = null;\n      if (groupMatching) {\n        matches = groupMatching.matches;\n        const groupEntry = groupMatching.groups.shift();\n        matched = groupEntry.matched;\n        action = groupEntry.action;\n        rule = groupMatching.rule;\n        if (groupMatching.groups.length === 0) {\n          groupMatching = null;\n        }\n      } else {\n        if (!forceEvaluation && pos >= lineLength) {\n          break;\n        }\n        forceEvaluation = false;\n        let rules = this._lexer.tokenizer[state];\n        if (!rules) {\n          rules = monarchCommon.findRules(this._lexer, state);\n          if (!rules) {\n            throw monarchCommon.createError(this._lexer, \"tokenizer state is not defined: \" + state);\n          }\n        }\n        const restOfLine = line.substr(pos);\n        for (const rule of rules) {\n          if (pos === 0 || !rule.matchOnlyAtLineStart) {\n            matches = restOfLine.match(rule.regex);\n            if (matches) {\n              matched = matches[0];\n              action = rule.action;\n              break;\n            }\n          }\n        }\n      }\n      if (!matches) {\n        matches = [\"\"];\n        matched = \"\";\n      }\n      if (!action) {\n        if (pos < lineLength) {\n          matches = [line.charAt(pos)];\n          matched = matches[0];\n        }\n        action = this._lexer.defaultToken;\n      }\n      if (matched === null) {\n        break;\n      }\n      pos += matched.length;\n      while (monarchCommon.isFuzzyAction(action) && monarchCommon.isIAction(action) && action.test) {\n        action = action.test(matched, matches, state, pos === lineLength);\n      }\n      let result = null;\n      if (typeof action === \"string\" || Array.isArray(action)) {\n        result = action;\n      } else if (action.group) {\n        result = action.group;\n      } else if (action.token !== null && action.token !== undefined) {\n        if (action.tokenSubst) {\n          result = monarchCommon.substituteMatches(this._lexer, action.token, matched, matches, state);\n        } else {\n          result = action.token;\n        }\n        if (action.nextEmbedded) {\n          if (action.nextEmbedded === \"@pop\") {\n            if (!embeddedLanguageData) {\n              throw monarchCommon.createError(this._lexer, \"cannot pop embedded language if not inside one\");\n            }\n            embeddedLanguageData = null;\n          } else if (embeddedLanguageData) {\n            throw monarchCommon.createError(this._lexer, \"cannot enter embedded language from within an embedded language\");\n          } else {\n            enteringEmbeddedLanguage = monarchCommon.substituteMatches(this._lexer, action.nextEmbedded, matched, matches, state);\n          }\n        }\n        if (action.goBack) {\n          pos = Math.max(0, pos - action.goBack);\n        }\n        if (action.switchTo && typeof action.switchTo === \"string\") {\n          let nextState = monarchCommon.substituteMatches(this._lexer, action.switchTo, matched, matches, state);\n          if (nextState[0] === \"@\") {\n            nextState = nextState.substr(1);\n          }\n          if (!monarchCommon.findRules(this._lexer, nextState)) {\n            throw monarchCommon.createError(this._lexer, \"trying to switch to a state '\" + nextState + \"' that is undefined in rule: \" + this._safeRuleName(rule));\n          } else {\n            stack = stack.switchTo(nextState);\n          }\n        } else if (action.transform && typeof action.transform === \"function\") {\n          throw monarchCommon.createError(this._lexer, \"action.transform not supported\");\n        } else if (action.next) {\n          if (action.next === \"@push\") {\n            if (stack.depth >= this._lexer.maxStack) {\n              throw monarchCommon.createError(this._lexer, \"maximum tokenizer stack size reached: [\" + stack.state + \",\" + stack.parent.state + \",...]\");\n            } else {\n              stack = stack.push(state);\n            }\n          } else if (action.next === \"@pop\") {\n            if (stack.depth <= 1) {\n              throw monarchCommon.createError(this._lexer, \"trying to pop an empty stack in rule: \" + this._safeRuleName(rule));\n            } else {\n              stack = stack.pop();\n            }\n          } else if (action.next === \"@popall\") {\n            stack = stack.popall();\n          } else {\n            let nextState = monarchCommon.substituteMatches(this._lexer, action.next, matched, matches, state);\n            if (nextState[0] === \"@\") {\n              nextState = nextState.substr(1);\n            }\n            if (!monarchCommon.findRules(this._lexer, nextState)) {\n              throw monarchCommon.createError(this._lexer, \"trying to set a next state '\" + nextState + \"' that is undefined in rule: \" + this._safeRuleName(rule));\n            } else {\n              stack = stack.push(nextState);\n            }\n          }\n        }\n        if (action.log && typeof action.log === \"string\") {\n          monarchCommon.log(this._lexer, this._lexer.languageId + \": \" + monarchCommon.substituteMatches(this._lexer, action.log, matched, matches, state));\n        }\n      }\n      if (result === null) {\n        throw monarchCommon.createError(this._lexer, \"lexer rule has no well-defined action in rule: \" + this._safeRuleName(rule));\n      }\n      const computeNewStateForEmbeddedLanguage = enteringEmbeddedLanguage => {\n        const languageId = this._languageService.getLanguageIdByLanguageName(enteringEmbeddedLanguage) || this._languageService.getLanguageIdByMimeType(enteringEmbeddedLanguage) || enteringEmbeddedLanguage;\n        const embeddedLanguageData = this._getNestedEmbeddedLanguageData(languageId);\n        if (pos < lineLength) {\n          const restOfLine = lineWithoutLF.substr(pos);\n          return this._nestedTokenize(restOfLine, hasEOL, MonarchLineStateFactory.create(stack, embeddedLanguageData), offsetDelta + pos, tokensCollector);\n        } else {\n          return MonarchLineStateFactory.create(stack, embeddedLanguageData);\n        }\n      };\n      if (Array.isArray(result)) {\n        if (groupMatching && groupMatching.groups.length > 0) {\n          throw monarchCommon.createError(this._lexer, \"groups cannot be nested: \" + this._safeRuleName(rule));\n        }\n        if (matches.length !== result.length + 1) {\n          throw monarchCommon.createError(this._lexer, \"matched number of groups does not match the number of actions in rule: \" + this._safeRuleName(rule));\n        }\n        let totalLen = 0;\n        for (let i = 1; i < matches.length; i++) {\n          totalLen += matches[i].length;\n        }\n        if (totalLen !== matched.length) {\n          throw monarchCommon.createError(this._lexer, \"with groups, all characters should be matched in consecutive groups in rule: \" + this._safeRuleName(rule));\n        }\n        groupMatching = {rule:rule, matches:matches, groups:[]};\n        for (let i = 0; i < result.length; i++) {\n          groupMatching.groups[i] = {action:result[i], matched:matches[i + 1]};\n        }\n        pos -= matched.length;\n        continue;\n      } else {\n        if (result === \"@rematch\") {\n          pos -= matched.length;\n          matched = \"\";\n          matches = null;\n          result = \"\";\n          if (enteringEmbeddedLanguage !== null) {\n            return computeNewStateForEmbeddedLanguage(enteringEmbeddedLanguage);\n          }\n        }\n        if (matched.length === 0) {\n          if (lineLength === 0 || stackLen0 !== stack.depth || state !== stack.state || (!groupMatching ? 0 : groupMatching.groups.length) !== groupLen0) {\n            continue;\n          } else {\n            throw monarchCommon.createError(this._lexer, \"no progress in tokenizer in rule: \" + this._safeRuleName(rule));\n          }\n        }\n        let tokenType = null;\n        if (monarchCommon.isString(result) && result.indexOf(\"@brackets\") === 0) {\n          const rest = result.substr(\"@brackets\".length);\n          const bracket = findBracket(this._lexer, matched);\n          if (!bracket) {\n            throw monarchCommon.createError(this._lexer, \"@brackets token returned but no bracket defined as: \" + matched);\n          }\n          tokenType = monarchCommon.sanitize(bracket.token + rest);\n        } else {\n          const token = result === \"\" ? \"\" : result + this._lexer.tokenPostfix;\n          tokenType = monarchCommon.sanitize(token);\n        }\n        if (pos0 < lineWithoutLFLength) {\n          tokensCollector.emit(pos0 + offsetDelta, tokenType);\n        }\n      }\n      if (enteringEmbeddedLanguage !== null) {\n        return computeNewStateForEmbeddedLanguage(enteringEmbeddedLanguage);\n      }\n    }\n    return MonarchLineStateFactory.create(stack, embeddedLanguageData);\n  }\n  _getNestedEmbeddedLanguageData(languageId) {\n    if (!this._languageService.isRegisteredLanguageId(languageId)) {\n      return new EmbeddedLanguageData(languageId, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_nullTokenize_DOT_js.NullState);\n    }\n    if (languageId !== this._languageId) {\n      this._languageService.requestBasicLanguageFeatures(languageId);\n      languages.TokenizationRegistry.getOrCreate(languageId);\n      this._embeddedLanguages[languageId] = true;\n    }\n    const tokenizationSupport = languages.TokenizationRegistry.get(languageId);\n    if (tokenizationSupport) {\n      return new EmbeddedLanguageData(languageId, tokenizationSupport.getInitialState());\n    }\n    return new EmbeddedLanguageData(languageId, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_nullTokenize_DOT_js.NullState);\n  }\n};\nMonarchTokenizer = MonarchTokenizer_1 = __decorate([__param(4, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_configuration_SLASH_common_SLASH_configuration_DOT_js.IConfigurationService)], MonarchTokenizer);\nfunction findBracket(lexer, matched) {\n  if (!matched) {\n    return null;\n  }\n  matched = monarchCommon.fixCase(lexer, matched);\n  const brackets = lexer.brackets;\n  for (const bracket of brackets) {\n    if (bracket.open === matched) {\n      return {token:bracket.token, bracketType:1};\n    } else if (bracket.close === matched) {\n      return {token:bracket.token, bracketType:-1};\n    }\n  }\n  return null;\n}\n\n};"],
"names":["shadow$provide","require","module","exports","findBracket","lexer","matched","monarchCommon","fixCase","brackets","bracket","open","token","bracketType","close","Object","defineProperties","__esModule","enumerable","value","MonarchTokenizer","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","languages","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_nullTokenize_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_configuration_SLASH_common_SLASH_configuration_DOT_js","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","MonarchTokenizer_1","MonarchStackElementFactory","create","parent","state","_INSTANCE","constructor","maxCacheDepth","_maxCacheDepth","_entries","depth","MonarchStackElement","stackElementId","getStackElementId","result","CACHE_STACK_DEPTH","element","_equals","a","b","equals","other","push","pop","popall","switchTo","EmbeddedLanguageData","languageId","clone","stateClone","MonarchLineStateFactory","stack","embeddedLanguageData","MonarchLineState","embeddedlanguageDataClone","MonarchClassicTokensCollector","_tokens","_lastTokenLanguage","_lastTokenType","_languageId","enterLanguage","emit","startOffset","type","Token","nestedLanguageTokenize","embeddedLanguageLine","hasEOL","offsetDelta","nestedLanguageId","embeddedModeState","nestedLanguageTokenizationSupport","TokenizationRegistry","nestedResult","tokenize","tokens","offset","language","concat","endState","finalize","TokenizationResult","MonarchModernTokensCollector","languageService","theme","_languageService","_theme","_prependTokens","_lastTokenMetadata","_currentLanguageId","languageIdCodec","encodeLanguageId","metadata","match","_merge","aLen","bLen","cLen","Uint32Array","set","tokenizeEncoded","len","EncodedTokenizationResult","Disposable","standaloneThemeService","_configurationService","_standaloneThemeService","_lexer","_embeddedLanguages","embeddedLoaded","Promise","resolve","undefined","emitting","_register","onDidChange","e","isOneOfMyEmbeddedModes","changedLanguages","handleChange","_maxTokenizationLineLength","getValue","overrideIdentifier","onDidChangeConfiguration","affectsConfiguration","getLoadStatus","promises","tokenizationSupport","nestedModeStatus","loaded","promise","isResolved","getOrCreate","all","then","_","getInitialState","rootState","start","line","lineState","nullTokenize","tokensCollector","endLineState","_tokenize","nullTokenizeEncoded","getColorTheme","tokenTheme","collector","_nestedTokenize","_myTokenize","_findLeavingNestedLanguageOffset","rules","tokenizer","findRules","createError","popOffset","hasEmbeddedPopRule","rule","isIAction","action","nextEmbedded","regex","regexSource","source","substr","flags","ignoreCase","unicode","RegExp","search","matchOnlyAtLineStart","nestedEndState","nestedLanguageLine","substring","restOfTheLine","_safeRuleName","name","lineWithoutLF","lineWithoutLFLength","includeLF","lineLength","pos","groupMatching","forceEvaluation","pos0","stackLen0","groupLen0","groups","matches","enteringEmbeddedLanguage","groupEntry","shift","restOfLine","charAt","defaultToken","isFuzzyAction","test","Array","isArray","group","tokenSubst","substituteMatches","goBack","Math","max","nextState","transform","next","maxStack","log","computeNewStateForEmbeddedLanguage","getLanguageIdByLanguageName","getLanguageIdByMimeType","_getNestedEmbeddedLanguageData","totalLen","tokenType","isString","indexOf","rest","sanitize","tokenPostfix","isRegisteredLanguageId","NullState","requestBasicLanguageFeatures","IConfigurationService"]
}
