{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$overviewRuler$overviewRuler.js",
"lineCount":83,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/viewParts/overviewRuler/overviewRuler.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$overviewRuler$overviewRuler\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, OverviewRuler:{enumerable:true, get:function() {\n  return OverviewRuler;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js = require(\"../../../../base/browser/fastDomNode.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_SLASH_overviewZoneManager_DOT_js = require(\"../../../common/viewModel/overviewZoneManager.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewEventHandler_DOT_js = require(\"../../../common/viewEventHandler.js\");\nclass OverviewRuler extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewEventHandler_DOT_js.ViewEventHandler {\n  constructor(context, cssClassName) {\n    super();\n    this._context = context;\n    const options = this._context.configuration.options;\n    this._domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement(\"canvas\"));\n    this._domNode.setClassName(cssClassName);\n    this._domNode.setPosition(\"absolute\");\n    this._domNode.setLayerHinting(true);\n    this._domNode.setContain(\"strict\");\n    this._zoneManager = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_SLASH_overviewZoneManager_DOT_js.OverviewZoneManager(lineNumber => this._context.viewLayout.getVerticalOffsetForLineNumber(lineNumber));\n    this._zoneManager.setDOMWidth(0);\n    this._zoneManager.setDOMHeight(0);\n    this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight());\n    this._zoneManager.setLineHeight(options.get(66));\n    this._zoneManager.setPixelRatio(options.get(141));\n    this._context.addEventHandler(this);\n  }\n  dispose() {\n    this._context.removeEventHandler(this);\n    super.dispose();\n  }\n  onConfigurationChanged(e) {\n    const options = this._context.configuration.options;\n    if (e.hasChanged(66)) {\n      this._zoneManager.setLineHeight(options.get(66));\n      this._render();\n    }\n    if (e.hasChanged(141)) {\n      this._zoneManager.setPixelRatio(options.get(141));\n      this._domNode.setWidth(this._zoneManager.getDOMWidth());\n      this._domNode.setHeight(this._zoneManager.getDOMHeight());\n      this._domNode.domNode.width = this._zoneManager.getCanvasWidth();\n      this._domNode.domNode.height = this._zoneManager.getCanvasHeight();\n      this._render();\n    }\n    return true;\n  }\n  onFlushed(e) {\n    this._render();\n    return true;\n  }\n  onScrollChanged(e) {\n    if (e.scrollHeightChanged) {\n      this._zoneManager.setOuterHeight(e.scrollHeight);\n      this._render();\n    }\n    return true;\n  }\n  onZonesChanged(e) {\n    this._render();\n    return true;\n  }\n  getDomNode() {\n    return this._domNode.domNode;\n  }\n  setLayout(position) {\n    this._domNode.setTop(position.top);\n    this._domNode.setRight(position.right);\n    let hasChanged = false;\n    hasChanged = this._zoneManager.setDOMWidth(position.width) || hasChanged;\n    hasChanged = this._zoneManager.setDOMHeight(position.height) || hasChanged;\n    if (hasChanged) {\n      this._domNode.setWidth(this._zoneManager.getDOMWidth());\n      this._domNode.setHeight(this._zoneManager.getDOMHeight());\n      this._domNode.domNode.width = this._zoneManager.getCanvasWidth();\n      this._domNode.domNode.height = this._zoneManager.getCanvasHeight();\n      this._render();\n    }\n  }\n  setZones(zones) {\n    this._zoneManager.setZones(zones);\n    this._render();\n  }\n  _render() {\n    if (this._zoneManager.getOuterHeight() === 0) {\n      return false;\n    }\n    const width = this._zoneManager.getCanvasWidth();\n    const height = this._zoneManager.getCanvasHeight();\n    const colorZones = this._zoneManager.resolveColorZones();\n    const id2Color = this._zoneManager.getId2Color();\n    const ctx = this._domNode.domNode.getContext(\"2d\");\n    ctx.clearRect(0, 0, width, height);\n    if (colorZones.length > 0) {\n      this._renderOneLane(ctx, colorZones, id2Color, width);\n    }\n    return true;\n  }\n  _renderOneLane(ctx, colorZones, id2Color, width) {\n    let currentColorId = 0;\n    let currentFrom = 0;\n    let currentTo = 0;\n    for (const zone of colorZones) {\n      const zoneColorId = zone.colorId;\n      const zoneFrom = zone.from;\n      const zoneTo = zone.to;\n      if (zoneColorId !== currentColorId) {\n        ctx.fillRect(0, currentFrom, width, currentTo - currentFrom);\n        currentColorId = zoneColorId;\n        ctx.fillStyle = id2Color[currentColorId];\n        currentFrom = zoneFrom;\n        currentTo = zoneTo;\n      } else {\n        if (currentTo >= zoneFrom) {\n          currentTo = Math.max(currentTo, zoneTo);\n        } else {\n          ctx.fillRect(0, currentFrom, width, currentTo - currentFrom);\n          currentFrom = zoneFrom;\n          currentTo = zoneTo;\n        }\n      }\n    }\n    ctx.fillRect(0, currentFrom, width, currentTo - currentFrom);\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","OverviewRuler","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewModel_SLASH_overviewZoneManager_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_viewEventHandler_DOT_js","ViewEventHandler","constructor","context","cssClassName","_context","options","configuration","_domNode","createFastDomNode","document","createElement","setClassName","setPosition","setLayerHinting","setContain","_zoneManager","OverviewZoneManager","lineNumber","viewLayout","getVerticalOffsetForLineNumber","setDOMWidth","setDOMHeight","setOuterHeight","getScrollHeight","setLineHeight","setPixelRatio","addEventHandler","dispose","removeEventHandler","onConfigurationChanged","e","hasChanged","_render","setWidth","getDOMWidth","setHeight","getDOMHeight","domNode","width","getCanvasWidth","height","getCanvasHeight","onFlushed","onScrollChanged","scrollHeightChanged","scrollHeight","onZonesChanged","getDomNode","setLayout","position","setTop","top","setRight","right","setZones","zones","getOuterHeight","colorZones","resolveColorZones","id2Color","getId2Color","ctx","getContext","clearRect","length","_renderOneLane","currentColorId","currentFrom","currentTo","zone","zoneColorId","colorId","zoneFrom","from","zoneTo","to","fillRect","fillStyle","Math","max"]
}
