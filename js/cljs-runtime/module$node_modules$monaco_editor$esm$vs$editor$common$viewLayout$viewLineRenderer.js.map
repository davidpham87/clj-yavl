{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$viewLayout$viewLineRenderer.js",
"lineCount":489,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/viewLayout/viewLineRenderer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$viewLayout$viewLineRenderer\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, CharacterMapping:{enumerable:true, get:function() {\n  return CharacterMapping;\n}}, DomPosition:{enumerable:true, get:function() {\n  return DomPosition;\n}}, LineRange:{enumerable:true, get:function() {\n  return LineRange;\n}}, RenderLineInput:{enumerable:true, get:function() {\n  return RenderLineInput;\n}}, RenderLineOutput:{enumerable:true, get:function() {\n  return RenderLineOutput;\n}}, RenderLineOutput2:{enumerable:true, get:function() {\n  return RenderLineOutput2;\n}}, renderViewLine:{enumerable:true, get:function() {\n  return renderViewLine;\n}}, renderViewLine2:{enumerable:true, get:function() {\n  return renderViewLine2;\n}}});\nvar nls = require(\"../../../nls.js\");\nvar strings = require(\"../../../base/common/strings.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_stringBuilder_DOT_js = require(\"../core/stringBuilder.js\");\nvar require$_DOT__SLASH_lineDecorations_DOT_js = require(\"./lineDecorations.js\");\nvar require$_DOT__SLASH_linePart_DOT_js = require(\"./linePart.js\");\nclass LineRange {\n  constructor(startIndex, endIndex) {\n    this.startOffset = startIndex;\n    this.endOffset = endIndex;\n  }\n  equals(otherLineRange) {\n    return this.startOffset === otherLineRange.startOffset && this.endOffset === otherLineRange.endOffset;\n  }\n}\nclass RenderLineInput {\n  constructor(useMonospaceOptimizations, canUseHalfwidthRightwardsArrow, lineContent, continuesWithWrappedLine, isBasicASCII, containsRTL, fauxIndentLength, lineTokens, lineDecorations, tabSize, startVisibleColumn, spaceWidth, middotWidth, wsmiddotWidth, stopRenderingLineAfter, renderWhitespace, renderControlCharacters, fontLigatures, selectionsOnLine) {\n    this.useMonospaceOptimizations = useMonospaceOptimizations;\n    this.canUseHalfwidthRightwardsArrow = canUseHalfwidthRightwardsArrow;\n    this.lineContent = lineContent;\n    this.continuesWithWrappedLine = continuesWithWrappedLine;\n    this.isBasicASCII = isBasicASCII;\n    this.containsRTL = containsRTL;\n    this.fauxIndentLength = fauxIndentLength;\n    this.lineTokens = lineTokens;\n    this.lineDecorations = lineDecorations.sort(require$_DOT__SLASH_lineDecorations_DOT_js.LineDecoration.compare);\n    this.tabSize = tabSize;\n    this.startVisibleColumn = startVisibleColumn;\n    this.spaceWidth = spaceWidth;\n    this.stopRenderingLineAfter = stopRenderingLineAfter;\n    this.renderWhitespace = renderWhitespace === \"all\" ? 4 : renderWhitespace === \"boundary\" ? 1 : renderWhitespace === \"selection\" ? 2 : renderWhitespace === \"trailing\" ? 3 : 0;\n    this.renderControlCharacters = renderControlCharacters;\n    this.fontLigatures = fontLigatures;\n    this.selectionsOnLine = selectionsOnLine && selectionsOnLine.sort((a, b) => a.startOffset < b.startOffset ? -1 : 1);\n    const wsmiddotDiff = Math.abs(wsmiddotWidth - spaceWidth);\n    const middotDiff = Math.abs(middotWidth - spaceWidth);\n    if (wsmiddotDiff < middotDiff) {\n      this.renderSpaceWidth = wsmiddotWidth;\n      this.renderSpaceCharCode = 11825;\n    } else {\n      this.renderSpaceWidth = middotWidth;\n      this.renderSpaceCharCode = 183;\n    }\n  }\n  sameSelection(otherSelections) {\n    if (this.selectionsOnLine === null) {\n      return otherSelections === null;\n    }\n    if (otherSelections === null) {\n      return false;\n    }\n    if (otherSelections.length !== this.selectionsOnLine.length) {\n      return false;\n    }\n    for (let i = 0; i < this.selectionsOnLine.length; i++) {\n      if (!this.selectionsOnLine[i].equals(otherSelections[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  equals(other) {\n    return this.useMonospaceOptimizations === other.useMonospaceOptimizations && this.canUseHalfwidthRightwardsArrow === other.canUseHalfwidthRightwardsArrow && this.lineContent === other.lineContent && this.continuesWithWrappedLine === other.continuesWithWrappedLine && this.isBasicASCII === other.isBasicASCII && this.containsRTL === other.containsRTL && this.fauxIndentLength === other.fauxIndentLength && this.tabSize === other.tabSize && this.startVisibleColumn === other.startVisibleColumn && this.spaceWidth === \n    other.spaceWidth && this.renderSpaceWidth === other.renderSpaceWidth && this.renderSpaceCharCode === other.renderSpaceCharCode && this.stopRenderingLineAfter === other.stopRenderingLineAfter && this.renderWhitespace === other.renderWhitespace && this.renderControlCharacters === other.renderControlCharacters && this.fontLigatures === other.fontLigatures && require$_DOT__SLASH_lineDecorations_DOT_js.LineDecoration.equalsArr(this.lineDecorations, other.lineDecorations) && this.lineTokens.equals(other.lineTokens) && \n    this.sameSelection(other.selectionsOnLine);\n  }\n}\nclass DomPosition {\n  constructor(partIndex, charIndex) {\n    this.partIndex = partIndex;\n    this.charIndex = charIndex;\n  }\n}\nclass CharacterMapping {\n  static getPartIndex(partData) {\n    return (partData & 4294901760) >>> 16;\n  }\n  static getCharIndex(partData) {\n    return (partData & 65535) >>> 0;\n  }\n  constructor(length, partCount) {\n    this.length = length;\n    this._data = new Uint32Array(this.length);\n    this._horizontalOffset = new Uint32Array(this.length);\n  }\n  setColumnInfo(column, partIndex, charIndex, horizontalOffset) {\n    const partData = (partIndex << 16 | charIndex << 0) >>> 0;\n    this._data[column - 1] = partData;\n    this._horizontalOffset[column - 1] = horizontalOffset;\n  }\n  getHorizontalOffset(column) {\n    if (this._horizontalOffset.length === 0) {\n      return 0;\n    }\n    return this._horizontalOffset[column - 1];\n  }\n  charOffsetToPartData(charOffset) {\n    if (this.length === 0) {\n      return 0;\n    }\n    if (charOffset < 0) {\n      return this._data[0];\n    }\n    if (charOffset >= this.length) {\n      return this._data[this.length - 1];\n    }\n    return this._data[charOffset];\n  }\n  getDomPosition(column) {\n    const partData = this.charOffsetToPartData(column - 1);\n    const partIndex = CharacterMapping.getPartIndex(partData);\n    const charIndex = CharacterMapping.getCharIndex(partData);\n    return new DomPosition(partIndex, charIndex);\n  }\n  getColumn(domPosition, partLength) {\n    const charOffset = this.partDataToCharOffset(domPosition.partIndex, partLength, domPosition.charIndex);\n    return charOffset + 1;\n  }\n  partDataToCharOffset(partIndex, partLength, charIndex) {\n    if (this.length === 0) {\n      return 0;\n    }\n    const searchEntry = (partIndex << 16 | charIndex << 0) >>> 0;\n    let min = 0;\n    let max = this.length - 1;\n    while (min + 1 < max) {\n      const mid = min + max >>> 1;\n      const midEntry = this._data[mid];\n      if (midEntry === searchEntry) {\n        return mid;\n      } else if (midEntry > searchEntry) {\n        max = mid;\n      } else {\n        min = mid;\n      }\n    }\n    if (min === max) {\n      return min;\n    }\n    const minEntry = this._data[min];\n    const maxEntry = this._data[max];\n    if (minEntry === searchEntry) {\n      return min;\n    }\n    if (maxEntry === searchEntry) {\n      return max;\n    }\n    const minPartIndex = CharacterMapping.getPartIndex(minEntry);\n    const minCharIndex = CharacterMapping.getCharIndex(minEntry);\n    const maxPartIndex = CharacterMapping.getPartIndex(maxEntry);\n    let maxCharIndex;\n    if (minPartIndex !== maxPartIndex) {\n      maxCharIndex = partLength;\n    } else {\n      maxCharIndex = CharacterMapping.getCharIndex(maxEntry);\n    }\n    const minEntryDistance = charIndex - minCharIndex;\n    const maxEntryDistance = maxCharIndex - charIndex;\n    if (minEntryDistance <= maxEntryDistance) {\n      return min;\n    }\n    return max;\n  }\n}\nclass RenderLineOutput {\n  constructor(characterMapping, containsRTL, containsForeignElements) {\n    this._renderLineOutputBrand = undefined;\n    this.characterMapping = characterMapping;\n    this.containsRTL = containsRTL;\n    this.containsForeignElements = containsForeignElements;\n  }\n}\nfunction renderViewLine(input, sb) {\n  if (input.lineContent.length === 0) {\n    if (input.lineDecorations.length > 0) {\n      sb.appendString(`<span>`);\n      let beforeCount = 0;\n      let afterCount = 0;\n      let containsForeignElements = 0;\n      for (const lineDecoration of input.lineDecorations) {\n        if (lineDecoration.type === 1 || lineDecoration.type === 2) {\n          sb.appendString(`<span class=\"`);\n          sb.appendString(lineDecoration.className);\n          sb.appendString(`\"></span>`);\n          if (lineDecoration.type === 1) {\n            containsForeignElements |= 1;\n            beforeCount++;\n          }\n          if (lineDecoration.type === 2) {\n            containsForeignElements |= 2;\n            afterCount++;\n          }\n        }\n      }\n      sb.appendString(`</span>`);\n      const characterMapping = new CharacterMapping(1, beforeCount + afterCount);\n      characterMapping.setColumnInfo(1, beforeCount, 0, 0);\n      return new RenderLineOutput(characterMapping, false, containsForeignElements);\n    }\n    sb.appendString(\"\\x3cspan\\x3e\\x3cspan\\x3e\\x3c/span\\x3e\\x3c/span\\x3e\");\n    return new RenderLineOutput(new CharacterMapping(0, 0), false, 0);\n  }\n  return _renderLine(resolveRenderLineInput(input), sb);\n}\nclass RenderLineOutput2 {\n  constructor(characterMapping, html, containsRTL, containsForeignElements) {\n    this.characterMapping = characterMapping;\n    this.html = html;\n    this.containsRTL = containsRTL;\n    this.containsForeignElements = containsForeignElements;\n  }\n}\nfunction renderViewLine2(input) {\n  const sb = new require$_DOT__DOT__SLASH_core_SLASH_stringBuilder_DOT_js.StringBuilder(10000);\n  const out = renderViewLine(input, sb);\n  return new RenderLineOutput2(out.characterMapping, sb.build(), out.containsRTL, out.containsForeignElements);\n}\nclass ResolvedRenderLineInput {\n  constructor(fontIsMonospace, canUseHalfwidthRightwardsArrow, lineContent, len, isOverflowing, overflowingCharCount, parts, containsForeignElements, fauxIndentLength, tabSize, startVisibleColumn, containsRTL, spaceWidth, renderSpaceCharCode, renderWhitespace, renderControlCharacters) {\n    this.fontIsMonospace = fontIsMonospace;\n    this.canUseHalfwidthRightwardsArrow = canUseHalfwidthRightwardsArrow;\n    this.lineContent = lineContent;\n    this.len = len;\n    this.isOverflowing = isOverflowing;\n    this.overflowingCharCount = overflowingCharCount;\n    this.parts = parts;\n    this.containsForeignElements = containsForeignElements;\n    this.fauxIndentLength = fauxIndentLength;\n    this.tabSize = tabSize;\n    this.startVisibleColumn = startVisibleColumn;\n    this.containsRTL = containsRTL;\n    this.spaceWidth = spaceWidth;\n    this.renderSpaceCharCode = renderSpaceCharCode;\n    this.renderWhitespace = renderWhitespace;\n    this.renderControlCharacters = renderControlCharacters;\n  }\n}\nfunction resolveRenderLineInput(input) {\n  const lineContent = input.lineContent;\n  let isOverflowing;\n  let overflowingCharCount;\n  let len;\n  if (input.stopRenderingLineAfter !== -1 && input.stopRenderingLineAfter < lineContent.length) {\n    isOverflowing = true;\n    overflowingCharCount = lineContent.length - input.stopRenderingLineAfter;\n    len = input.stopRenderingLineAfter;\n  } else {\n    isOverflowing = false;\n    overflowingCharCount = 0;\n    len = lineContent.length;\n  }\n  let tokens = transformAndRemoveOverflowing(lineContent, input.containsRTL, input.lineTokens, input.fauxIndentLength, len);\n  if (input.renderControlCharacters && !input.isBasicASCII) {\n    tokens = extractControlCharacters(lineContent, tokens);\n  }\n  if (input.renderWhitespace === 4 || input.renderWhitespace === 1 || input.renderWhitespace === 2 && !!input.selectionsOnLine || input.renderWhitespace === 3 && !input.continuesWithWrappedLine) {\n    tokens = _applyRenderWhitespace(input, lineContent, len, tokens);\n  }\n  let containsForeignElements = 0;\n  if (input.lineDecorations.length > 0) {\n    for (let i = 0, len = input.lineDecorations.length; i < len; i++) {\n      const lineDecoration = input.lineDecorations[i];\n      if (lineDecoration.type === 3) {\n        containsForeignElements |= 1;\n      } else if (lineDecoration.type === 1) {\n        containsForeignElements |= 1;\n      } else if (lineDecoration.type === 2) {\n        containsForeignElements |= 2;\n      }\n    }\n    tokens = _applyInlineDecorations(lineContent, len, tokens, input.lineDecorations);\n  }\n  if (!input.containsRTL) {\n    tokens = splitLargeTokens(lineContent, tokens, !input.isBasicASCII || input.fontLigatures);\n  }\n  return new ResolvedRenderLineInput(input.useMonospaceOptimizations, input.canUseHalfwidthRightwardsArrow, lineContent, len, isOverflowing, overflowingCharCount, tokens, containsForeignElements, input.fauxIndentLength, input.tabSize, input.startVisibleColumn, input.containsRTL, input.spaceWidth, input.renderSpaceCharCode, input.renderWhitespace, input.renderControlCharacters);\n}\nfunction transformAndRemoveOverflowing(lineContent, lineContainsRTL, tokens, fauxIndentLength, len) {\n  const result = [];\n  let resultLen = 0;\n  if (fauxIndentLength > 0) {\n    result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(fauxIndentLength, \"\", 0, false);\n  }\n  let startOffset = fauxIndentLength;\n  for (let tokenIndex = 0, tokensLen = tokens.getCount(); tokenIndex < tokensLen; tokenIndex++) {\n    const endIndex = tokens.getEndOffset(tokenIndex);\n    if (endIndex <= fauxIndentLength) {\n      continue;\n    }\n    const type = tokens.getClassName(tokenIndex);\n    if (endIndex >= len) {\n      const tokenContainsRTL = lineContainsRTL ? strings.containsRTL(lineContent.substring(startOffset, len)) : false;\n      result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(len, type, 0, tokenContainsRTL);\n      break;\n    }\n    const tokenContainsRTL = lineContainsRTL ? strings.containsRTL(lineContent.substring(startOffset, endIndex)) : false;\n    result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(endIndex, type, 0, tokenContainsRTL);\n    startOffset = endIndex;\n  }\n  return result;\n}\nfunction splitLargeTokens(lineContent, tokens, onlyAtSpaces) {\n  let lastTokenEndIndex = 0;\n  const result = [];\n  let resultLen = 0;\n  if (onlyAtSpaces) {\n    for (let i = 0, len = tokens.length; i < len; i++) {\n      const token = tokens[i];\n      const tokenEndIndex = token.endIndex;\n      if (lastTokenEndIndex + 50 < tokenEndIndex) {\n        const tokenType = token.type;\n        const tokenMetadata = token.metadata;\n        const tokenContainsRTL = token.containsRTL;\n        let lastSpaceOffset = -1;\n        let currTokenStart = lastTokenEndIndex;\n        for (let j = lastTokenEndIndex; j < tokenEndIndex; j++) {\n          if (lineContent.charCodeAt(j) === 32) {\n            lastSpaceOffset = j;\n          }\n          if (lastSpaceOffset !== -1 && j - currTokenStart >= 50) {\n            result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(lastSpaceOffset + 1, tokenType, tokenMetadata, tokenContainsRTL);\n            currTokenStart = lastSpaceOffset + 1;\n            lastSpaceOffset = -1;\n          }\n        }\n        if (currTokenStart !== tokenEndIndex) {\n          result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(tokenEndIndex, tokenType, tokenMetadata, tokenContainsRTL);\n        }\n      } else {\n        result[resultLen++] = token;\n      }\n      lastTokenEndIndex = tokenEndIndex;\n    }\n  } else {\n    for (let i = 0, len = tokens.length; i < len; i++) {\n      const token = tokens[i];\n      const tokenEndIndex = token.endIndex;\n      const diff = tokenEndIndex - lastTokenEndIndex;\n      if (diff > 50) {\n        const tokenType = token.type;\n        const tokenMetadata = token.metadata;\n        const tokenContainsRTL = token.containsRTL;\n        const piecesCount = Math.ceil(diff / 50);\n        for (let j = 1; j < piecesCount; j++) {\n          const pieceEndIndex = lastTokenEndIndex + j * 50;\n          result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(pieceEndIndex, tokenType, tokenMetadata, tokenContainsRTL);\n        }\n        result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(tokenEndIndex, tokenType, tokenMetadata, tokenContainsRTL);\n      } else {\n        result[resultLen++] = token;\n      }\n      lastTokenEndIndex = tokenEndIndex;\n    }\n  }\n  return result;\n}\nfunction isControlCharacter(charCode) {\n  if (charCode < 32) {\n    return charCode !== 9;\n  }\n  if (charCode === 127) {\n    return true;\n  }\n  if (charCode >= 8234 && charCode <= 8238 || charCode >= 8294 && charCode <= 8297 || charCode >= 8206 && charCode <= 8207 || charCode === 1564) {\n    return true;\n  }\n  return false;\n}\nfunction extractControlCharacters(lineContent, tokens) {\n  const result = [];\n  let lastLinePart = new require$_DOT__SLASH_linePart_DOT_js.LinePart(0, \"\", 0, false);\n  let charOffset = 0;\n  for (const token of tokens) {\n    const tokenEndIndex = token.endIndex;\n    for (; charOffset < tokenEndIndex; charOffset++) {\n      const charCode = lineContent.charCodeAt(charOffset);\n      if (isControlCharacter(charCode)) {\n        if (charOffset > lastLinePart.endIndex) {\n          lastLinePart = new require$_DOT__SLASH_linePart_DOT_js.LinePart(charOffset, token.type, token.metadata, token.containsRTL);\n          result.push(lastLinePart);\n        }\n        lastLinePart = new require$_DOT__SLASH_linePart_DOT_js.LinePart(charOffset + 1, \"mtkcontrol\", token.metadata, false);\n        result.push(lastLinePart);\n      }\n    }\n    if (charOffset > lastLinePart.endIndex) {\n      lastLinePart = new require$_DOT__SLASH_linePart_DOT_js.LinePart(tokenEndIndex, token.type, token.metadata, token.containsRTL);\n      result.push(lastLinePart);\n    }\n  }\n  return result;\n}\nfunction _applyRenderWhitespace(input, lineContent, len, tokens) {\n  const continuesWithWrappedLine = input.continuesWithWrappedLine;\n  const fauxIndentLength = input.fauxIndentLength;\n  const tabSize = input.tabSize;\n  const startVisibleColumn = input.startVisibleColumn;\n  const useMonospaceOptimizations = input.useMonospaceOptimizations;\n  const selections = input.selectionsOnLine;\n  const onlyBoundary = input.renderWhitespace === 1;\n  const onlyTrailing = input.renderWhitespace === 3;\n  const generateLinePartForEachWhitespace = input.renderSpaceWidth !== input.spaceWidth;\n  const result = [];\n  let resultLen = 0;\n  let tokenIndex = 0;\n  let tokenType = tokens[tokenIndex].type;\n  let tokenContainsRTL = tokens[tokenIndex].containsRTL;\n  let tokenEndIndex = tokens[tokenIndex].endIndex;\n  const tokensLength = tokens.length;\n  let lineIsEmptyOrWhitespace = false;\n  let firstNonWhitespaceIndex = strings.firstNonWhitespaceIndex(lineContent);\n  let lastNonWhitespaceIndex;\n  if (firstNonWhitespaceIndex === -1) {\n    lineIsEmptyOrWhitespace = true;\n    firstNonWhitespaceIndex = len;\n    lastNonWhitespaceIndex = len;\n  } else {\n    lastNonWhitespaceIndex = strings.lastNonWhitespaceIndex(lineContent);\n  }\n  let wasInWhitespace = false;\n  let currentSelectionIndex = 0;\n  let currentSelection = selections && selections[currentSelectionIndex];\n  let tmpIndent = startVisibleColumn % tabSize;\n  for (let charIndex = fauxIndentLength; charIndex < len; charIndex++) {\n    const chCode = lineContent.charCodeAt(charIndex);\n    if (currentSelection && charIndex >= currentSelection.endOffset) {\n      currentSelectionIndex++;\n      currentSelection = selections && selections[currentSelectionIndex];\n    }\n    let isInWhitespace;\n    if (charIndex < firstNonWhitespaceIndex || charIndex > lastNonWhitespaceIndex) {\n      isInWhitespace = true;\n    } else if (chCode === 9) {\n      isInWhitespace = true;\n    } else if (chCode === 32) {\n      if (onlyBoundary) {\n        if (wasInWhitespace) {\n          isInWhitespace = true;\n        } else {\n          const nextChCode = charIndex + 1 < len ? lineContent.charCodeAt(charIndex + 1) : 0;\n          isInWhitespace = nextChCode === 32 || nextChCode === 9;\n        }\n      } else {\n        isInWhitespace = true;\n      }\n    } else {\n      isInWhitespace = false;\n    }\n    if (isInWhitespace && selections) {\n      isInWhitespace = !!currentSelection && currentSelection.startOffset <= charIndex && currentSelection.endOffset > charIndex;\n    }\n    if (isInWhitespace && onlyTrailing) {\n      isInWhitespace = lineIsEmptyOrWhitespace || charIndex > lastNonWhitespaceIndex;\n    }\n    if (isInWhitespace && tokenContainsRTL) {\n      if (charIndex >= firstNonWhitespaceIndex && charIndex <= lastNonWhitespaceIndex) {\n        isInWhitespace = false;\n      }\n    }\n    if (wasInWhitespace) {\n      if (!isInWhitespace || !useMonospaceOptimizations && tmpIndent >= tabSize) {\n        if (generateLinePartForEachWhitespace) {\n          const lastEndIndex = resultLen > 0 ? result[resultLen - 1].endIndex : fauxIndentLength;\n          for (let i = lastEndIndex + 1; i <= charIndex; i++) {\n            result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(i, \"mtkw\", 1, false);\n          }\n        } else {\n          result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(charIndex, \"mtkw\", 1, false);\n        }\n        tmpIndent = tmpIndent % tabSize;\n      }\n    } else {\n      if (charIndex === tokenEndIndex || isInWhitespace && charIndex > fauxIndentLength) {\n        result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(charIndex, tokenType, 0, tokenContainsRTL);\n        tmpIndent = tmpIndent % tabSize;\n      }\n    }\n    if (chCode === 9) {\n      tmpIndent = tabSize;\n    } else if (strings.isFullWidthCharacter(chCode)) {\n      tmpIndent += 2;\n    } else {\n      tmpIndent++;\n    }\n    wasInWhitespace = isInWhitespace;\n    while (charIndex === tokenEndIndex) {\n      tokenIndex++;\n      if (tokenIndex < tokensLength) {\n        tokenType = tokens[tokenIndex].type;\n        tokenContainsRTL = tokens[tokenIndex].containsRTL;\n        tokenEndIndex = tokens[tokenIndex].endIndex;\n      } else {\n        break;\n      }\n    }\n  }\n  let generateWhitespace = false;\n  if (wasInWhitespace) {\n    if (continuesWithWrappedLine && onlyBoundary) {\n      const lastCharCode = len > 0 ? lineContent.charCodeAt(len - 1) : 0;\n      const prevCharCode = len > 1 ? lineContent.charCodeAt(len - 2) : 0;\n      const isSingleTrailingSpace = lastCharCode === 32 && (prevCharCode !== 32 && prevCharCode !== 9);\n      if (!isSingleTrailingSpace) {\n        generateWhitespace = true;\n      }\n    } else {\n      generateWhitespace = true;\n    }\n  }\n  if (generateWhitespace) {\n    if (generateLinePartForEachWhitespace) {\n      const lastEndIndex = resultLen > 0 ? result[resultLen - 1].endIndex : fauxIndentLength;\n      for (let i = lastEndIndex + 1; i <= len; i++) {\n        result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(i, \"mtkw\", 1, false);\n      }\n    } else {\n      result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(len, \"mtkw\", 1, false);\n    }\n  } else {\n    result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(len, tokenType, 0, tokenContainsRTL);\n  }\n  return result;\n}\nfunction _applyInlineDecorations(lineContent, len, tokens, _lineDecorations) {\n  _lineDecorations.sort(require$_DOT__SLASH_lineDecorations_DOT_js.LineDecoration.compare);\n  const lineDecorations = require$_DOT__SLASH_lineDecorations_DOT_js.LineDecorationsNormalizer.normalize(lineContent, _lineDecorations);\n  const lineDecorationsLen = lineDecorations.length;\n  let lineDecorationIndex = 0;\n  const result = [];\n  let resultLen = 0;\n  let lastResultEndIndex = 0;\n  for (let tokenIndex = 0, len = tokens.length; tokenIndex < len; tokenIndex++) {\n    const token = tokens[tokenIndex];\n    const tokenEndIndex = token.endIndex;\n    const tokenType = token.type;\n    const tokenMetadata = token.metadata;\n    const tokenContainsRTL = token.containsRTL;\n    while (lineDecorationIndex < lineDecorationsLen && lineDecorations[lineDecorationIndex].startOffset < tokenEndIndex) {\n      const lineDecoration = lineDecorations[lineDecorationIndex];\n      if (lineDecoration.startOffset > lastResultEndIndex) {\n        lastResultEndIndex = lineDecoration.startOffset;\n        result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(lastResultEndIndex, tokenType, tokenMetadata, tokenContainsRTL);\n      }\n      if (lineDecoration.endOffset + 1 <= tokenEndIndex) {\n        lastResultEndIndex = lineDecoration.endOffset + 1;\n        result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(lastResultEndIndex, tokenType + \" \" + lineDecoration.className, tokenMetadata | lineDecoration.metadata, tokenContainsRTL);\n        lineDecorationIndex++;\n      } else {\n        lastResultEndIndex = tokenEndIndex;\n        result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(lastResultEndIndex, tokenType + \" \" + lineDecoration.className, tokenMetadata | lineDecoration.metadata, tokenContainsRTL);\n        break;\n      }\n    }\n    if (tokenEndIndex > lastResultEndIndex) {\n      lastResultEndIndex = tokenEndIndex;\n      result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(lastResultEndIndex, tokenType, tokenMetadata, tokenContainsRTL);\n    }\n  }\n  const lastTokenEndIndex = tokens[tokens.length - 1].endIndex;\n  if (lineDecorationIndex < lineDecorationsLen && lineDecorations[lineDecorationIndex].startOffset === lastTokenEndIndex) {\n    while (lineDecorationIndex < lineDecorationsLen && lineDecorations[lineDecorationIndex].startOffset === lastTokenEndIndex) {\n      const lineDecoration = lineDecorations[lineDecorationIndex];\n      result[resultLen++] = new require$_DOT__SLASH_linePart_DOT_js.LinePart(lastResultEndIndex, lineDecoration.className, lineDecoration.metadata, false);\n      lineDecorationIndex++;\n    }\n  }\n  return result;\n}\nfunction _renderLine(input, sb) {\n  const fontIsMonospace = input.fontIsMonospace;\n  const canUseHalfwidthRightwardsArrow = input.canUseHalfwidthRightwardsArrow;\n  const containsForeignElements = input.containsForeignElements;\n  const lineContent = input.lineContent;\n  const len = input.len;\n  const isOverflowing = input.isOverflowing;\n  const overflowingCharCount = input.overflowingCharCount;\n  const parts = input.parts;\n  const fauxIndentLength = input.fauxIndentLength;\n  const tabSize = input.tabSize;\n  const startVisibleColumn = input.startVisibleColumn;\n  const containsRTL = input.containsRTL;\n  const spaceWidth = input.spaceWidth;\n  const renderSpaceCharCode = input.renderSpaceCharCode;\n  const renderWhitespace = input.renderWhitespace;\n  const renderControlCharacters = input.renderControlCharacters;\n  const characterMapping = new CharacterMapping(len + 1, parts.length);\n  let lastCharacterMappingDefined = false;\n  let charIndex = 0;\n  let visibleColumn = startVisibleColumn;\n  let charOffsetInPart = 0;\n  let charHorizontalOffset = 0;\n  let partDisplacement = 0;\n  if (containsRTL) {\n    sb.appendString('\\x3cspan dir\\x3d\"ltr\"\\x3e');\n  } else {\n    sb.appendString(\"\\x3cspan\\x3e\");\n  }\n  for (let partIndex = 0, tokensLen = parts.length; partIndex < tokensLen; partIndex++) {\n    const part = parts[partIndex];\n    const partEndIndex = part.endIndex;\n    const partType = part.type;\n    const partContainsRTL = part.containsRTL;\n    const partRendersWhitespace = renderWhitespace !== 0 && part.isWhitespace();\n    const partRendersWhitespaceWithWidth = partRendersWhitespace && !fontIsMonospace && (partType === \"mtkw\" || !containsForeignElements);\n    const partIsEmptyAndHasPseudoAfter = charIndex === partEndIndex && part.isPseudoAfter();\n    charOffsetInPart = 0;\n    sb.appendString(\"\\x3cspan \");\n    if (partContainsRTL) {\n      sb.appendString('style\\x3d\"unicode-bidi:isolate\" ');\n    }\n    sb.appendString('class\\x3d\"');\n    sb.appendString(partRendersWhitespaceWithWidth ? \"mtkz\" : partType);\n    sb.appendASCIICharCode(34);\n    if (partRendersWhitespace) {\n      let partWidth = 0;\n      {\n        let _charIndex = charIndex;\n        let _visibleColumn = visibleColumn;\n        for (; _charIndex < partEndIndex; _charIndex++) {\n          const charCode = lineContent.charCodeAt(_charIndex);\n          const charWidth = (charCode === 9 ? tabSize - _visibleColumn % tabSize : 1) | 0;\n          partWidth += charWidth;\n          if (_charIndex >= fauxIndentLength) {\n            _visibleColumn += charWidth;\n          }\n        }\n      }\n      if (partRendersWhitespaceWithWidth) {\n        sb.appendString(' style\\x3d\"width:');\n        sb.appendString(String(spaceWidth * partWidth));\n        sb.appendString('px\"');\n      }\n      sb.appendASCIICharCode(62);\n      for (; charIndex < partEndIndex; charIndex++) {\n        characterMapping.setColumnInfo(charIndex + 1, partIndex - partDisplacement, charOffsetInPart, charHorizontalOffset);\n        partDisplacement = 0;\n        const charCode = lineContent.charCodeAt(charIndex);\n        let producedCharacters;\n        let charWidth;\n        if (charCode === 9) {\n          producedCharacters = tabSize - visibleColumn % tabSize | 0;\n          charWidth = producedCharacters;\n          if (!canUseHalfwidthRightwardsArrow || charWidth > 1) {\n            sb.appendCharCode(8594);\n          } else {\n            sb.appendCharCode(65515);\n          }\n          for (let space = 2; space <= charWidth; space++) {\n            sb.appendCharCode(160);\n          }\n        } else {\n          producedCharacters = 2;\n          charWidth = 1;\n          sb.appendCharCode(renderSpaceCharCode);\n          sb.appendCharCode(8204);\n        }\n        charOffsetInPart += producedCharacters;\n        charHorizontalOffset += charWidth;\n        if (charIndex >= fauxIndentLength) {\n          visibleColumn += charWidth;\n        }\n      }\n    } else {\n      sb.appendASCIICharCode(62);\n      for (; charIndex < partEndIndex; charIndex++) {\n        characterMapping.setColumnInfo(charIndex + 1, partIndex - partDisplacement, charOffsetInPart, charHorizontalOffset);\n        partDisplacement = 0;\n        const charCode = lineContent.charCodeAt(charIndex);\n        let producedCharacters = 1;\n        let charWidth = 1;\n        switch(charCode) {\n          case 9:\n            producedCharacters = tabSize - visibleColumn % tabSize;\n            charWidth = producedCharacters;\n            for (let space = 1; space <= producedCharacters; space++) {\n              sb.appendCharCode(160);\n            }\n            break;\n          case 32:\n            sb.appendCharCode(160);\n            break;\n          case 60:\n            sb.appendString(\"\\x26lt;\");\n            break;\n          case 62:\n            sb.appendString(\"\\x26gt;\");\n            break;\n          case 38:\n            sb.appendString(\"\\x26amp;\");\n            break;\n          case 0:\n            if (renderControlCharacters) {\n              sb.appendCharCode(9216);\n            } else {\n              sb.appendString(\"\\x26#00;\");\n            }\n            break;\n          case 65279:\n          case 8232:\n          case 8233:\n          case 133:\n            sb.appendCharCode(65533);\n            break;\n          default:\n            if (strings.isFullWidthCharacter(charCode)) {\n              charWidth++;\n            }\n            if (renderControlCharacters && charCode < 32) {\n              sb.appendCharCode(9216 + charCode);\n            } else if (renderControlCharacters && charCode === 127) {\n              sb.appendCharCode(9249);\n            } else if (renderControlCharacters && isControlCharacter(charCode)) {\n              sb.appendString(\"[U+\");\n              sb.appendString(to4CharHex(charCode));\n              sb.appendString(\"]\");\n              producedCharacters = 8;\n              charWidth = producedCharacters;\n            } else {\n              sb.appendCharCode(charCode);\n            }\n        }\n        charOffsetInPart += producedCharacters;\n        charHorizontalOffset += charWidth;\n        if (charIndex >= fauxIndentLength) {\n          visibleColumn += charWidth;\n        }\n      }\n    }\n    if (partIsEmptyAndHasPseudoAfter) {\n      partDisplacement++;\n    } else {\n      partDisplacement = 0;\n    }\n    if (charIndex >= len && !lastCharacterMappingDefined && part.isPseudoAfter()) {\n      lastCharacterMappingDefined = true;\n      characterMapping.setColumnInfo(charIndex + 1, partIndex, charOffsetInPart, charHorizontalOffset);\n    }\n    sb.appendString(\"\\x3c/span\\x3e\");\n  }\n  if (!lastCharacterMappingDefined) {\n    characterMapping.setColumnInfo(len + 1, parts.length - 1, charOffsetInPart, charHorizontalOffset);\n  }\n  if (isOverflowing) {\n    sb.appendString('\\x3cspan class\\x3d\"mtkoverflow\"\\x3e');\n    sb.appendString(nls.localize(\"showMore\", \"Show more ({0})\", renderOverflowingCharCount(overflowingCharCount)));\n    sb.appendString(\"\\x3c/span\\x3e\");\n  }\n  sb.appendString(\"\\x3c/span\\x3e\");\n  return new RenderLineOutput(characterMapping, containsRTL, containsForeignElements);\n}\nfunction to4CharHex(n) {\n  return n.toString(16).toUpperCase().padStart(4, \"0\");\n}\nfunction renderOverflowingCharCount(n) {\n  if (n < 1024) {\n    return nls.localize(\"overflow.chars\", \"{0} chars\", n);\n  }\n  if (n < 1024 * 1024) {\n    return `${(n / 1024).toFixed(1)} KB`;\n  }\n  return `${(n / 1024 / 1024).toFixed(1)} MB`;\n}\n\n};"],
"names":["shadow$provide","require","module","exports","renderViewLine","input","sb","lineContent","length","lineDecorations","appendString","beforeCount","afterCount","containsForeignElements","lineDecoration","type","className","characterMapping","CharacterMapping","setColumnInfo","RenderLineOutput","isOverflowing","overflowingCharCount","len","stopRenderingLineAfter","containsRTL","lineTokens","fauxIndentLength","result","resultLen","require$_DOT__SLASH_linePart_DOT_js","LinePart","startOffset","tokenIndex","tokensLen","tokens","getCount","endIndex","getEndOffset","getClassName","tokenContainsRTL","lineContainsRTL","strings","substring","renderControlCharacters","isBasicASCII","lastLinePart","charOffset","token","tokenEndIndex","charCode","charCodeAt","isControlCharacter","metadata","push","renderWhitespace","selectionsOnLine","continuesWithWrappedLine","tabSize","startVisibleColumn","useMonospaceOptimizations","selections","onlyBoundary","onlyTrailing","generateLinePartForEachWhitespace","renderSpaceWidth","spaceWidth","tokenType","tokensLength","lineIsEmptyOrWhitespace","firstNonWhitespaceIndex","lastNonWhitespaceIndex","wasInWhitespace","currentSelectionIndex","currentSelection","tmpIndent","charIndex","chCode","endOffset","isInWhitespace","nextChCode","lastEndIndex","i","isFullWidthCharacter","generateWhitespace","lastCharCode","prevCharCode","_lineDecorations","sort","require$_DOT__SLASH_lineDecorations_DOT_js","LineDecoration","compare","LineDecorationsNormalizer","normalize","lineDecorationsLen","lineDecorationIndex","lastResultEndIndex","tokenMetadata","lastTokenEndIndex","fontLigatures","lastSpaceOffset","currTokenStart","j","diff","piecesCount","Math","ceil","pieceEndIndex","ResolvedRenderLineInput","canUseHalfwidthRightwardsArrow","renderSpaceCharCode","fontIsMonospace","parts","lastCharacterMappingDefined","visibleColumn","charOffsetInPart","charHorizontalOffset","partDisplacement","partIndex","part","partEndIndex","partType","partContainsRTL","partRendersWhitespace","isWhitespace","partRendersWhitespaceWithWidth","partIsEmptyAndHasPseudoAfter","isPseudoAfter","appendASCIICharCode","partWidth","_charIndex","_visibleColumn","charWidth","String","producedCharacters","appendCharCode","space","toString","toUpperCase","padStart","nls","localize","toFixed","renderViewLine2","require$_DOT__DOT__SLASH_core_SLASH_stringBuilder_DOT_js","StringBuilder","out","RenderLineOutput2","build","Object","defineProperties","__esModule","enumerable","value","get","DomPosition","LineRange","RenderLineInput","constructor","startIndex","equals","otherLineRange","middotWidth","wsmiddotWidth","a","b","abs","wsmiddotDiff","middotDiff","sameSelection","otherSelections","other","equalsArr","getPartIndex","partData","getCharIndex","partCount","_data","Uint32Array","_horizontalOffset","column","horizontalOffset","getHorizontalOffset","charOffsetToPartData","getDomPosition","getColumn","domPosition","partLength","partDataToCharOffset","searchEntry","min","max","mid","midEntry","minEntry","maxEntry","minPartIndex","minCharIndex","maxPartIndex","maxCharIndex","_renderLineOutputBrand","undefined","html"]
}
