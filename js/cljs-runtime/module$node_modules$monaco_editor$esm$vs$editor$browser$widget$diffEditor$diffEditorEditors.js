shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$diffEditorEditors = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, DiffEditorEditors:{enumerable:!0, get:function() {
    return DiffEditorEditors;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$observable"), require$_DOT__SLASH_overviewRulerPart_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$overviewRulerPart"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$config$editorOptions"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js = require("module$node_modules$monaco_editor$esm$vs$nls");
  exports = require("module$node_modules$monaco_editor$esm$vs$platform$instantiation$common$instantiation");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_keybinding_SLASH_common_SLASH_keybinding_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$keybinding$common$keybinding"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$position");
  require = this && this.__param || function(paramIndex, decorator) {
    return function(target, key) {
      decorator(target, key, paramIndex);
    };
  };
  let DiffEditorEditors = class extends module.Disposable {
    get onDidContentSizeChange() {
      return this._onDidContentSizeChange.event;
    }
    constructor(originalEditorElement, modifiedEditorElement, _options, codeEditorWidgetOptions, _createInnerEditor, _instantiationService, _keybindingService) {
      super();
      this.originalEditorElement = originalEditorElement;
      this.modifiedEditorElement = modifiedEditorElement;
      this._options = _options;
      this._createInnerEditor = _createInnerEditor;
      this._instantiationService = _instantiationService;
      this._keybindingService = _keybindingService;
      this._onDidContentSizeChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.original = this._register(this._createLeftHandSideEditor(_options.editorOptions.get(), codeEditorWidgetOptions.originalEditor || {}));
      this.modified = this._register(this._createRightHandSideEditor(_options.editorOptions.get(), codeEditorWidgetOptions.modifiedEditor || {}));
      this.modifiedModel = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(this.modified.onDidChangeModel, () => this.modified.getModel());
      this.modifiedScrollTop = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(this.modified.onDidScrollChange, () => this.modified.getScrollTop());
      this.modifiedScrollHeight = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(this.modified.onDidScrollChange, () => this.modified.getScrollHeight());
      this.modifiedSelections = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(this.modified.onDidChangeCursorSelection, () => {
        var _a;
        return (_a = this.modified.getSelections()) !== null && _a !== void 0 ? _a : [];
      });
      this.modifiedCursor = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(this.modified.onDidChangeCursorPosition, () => {
        var _a;
        return (_a = this.modified.getPosition()) !== null && _a !== void 0 ? _a : new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(1, 1);
      });
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.autorunHandleChanges)({createEmptyChangeSummary:() => ({}), handleChange:(ctx, changeSummary) => {
        ctx.didChange(_options.editorOptions) && Object.assign(changeSummary, ctx.change.changedOptions);
        return !0;
      }}, (reader, changeSummary) => {
        _options.editorOptions.read(reader);
        this._options.renderSideBySide.read(reader);
        this.modified.updateOptions(this._adjustOptionsForRightHandSide(reader, changeSummary));
        this.original.updateOptions(this._adjustOptionsForLeftHandSide(reader, changeSummary));
      }));
    }
    _createLeftHandSideEditor(options, codeEditorWidgetOptions) {
      options = this._adjustOptionsForLeftHandSide(void 0, options);
      codeEditorWidgetOptions = this._constructInnerEditor(this._instantiationService, this.originalEditorElement, options, codeEditorWidgetOptions);
      codeEditorWidgetOptions.setContextValue("isInDiffLeftEditor", !0);
      return codeEditorWidgetOptions;
    }
    _createRightHandSideEditor(options, codeEditorWidgetOptions) {
      options = this._adjustOptionsForRightHandSide(void 0, options);
      codeEditorWidgetOptions = this._constructInnerEditor(this._instantiationService, this.modifiedEditorElement, options, codeEditorWidgetOptions);
      codeEditorWidgetOptions.setContextValue("isInDiffRightEditor", !0);
      return codeEditorWidgetOptions;
    }
    _constructInnerEditor(instantiationService, container, options, editorWidgetOptions) {
      instantiationService = this._createInnerEditor(instantiationService, container, options, editorWidgetOptions);
      this._register(instantiationService.onDidContentSizeChange(e => {
        const width = this.original.getContentWidth() + this.modified.getContentWidth() + require$_DOT__SLASH_overviewRulerPart_DOT_js.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH, height = Math.max(this.modified.getContentHeight(), this.original.getContentHeight());
        this._onDidContentSizeChange.fire({contentHeight:height, contentWidth:width, contentHeightChanged:e.contentHeightChanged, contentWidthChanged:e.contentWidthChanged});
      }));
      return instantiationService;
    }
    _adjustOptionsForLeftHandSide(_reader, changedOptions) {
      _reader = this._adjustOptionsForSubEditor(changedOptions);
      this._options.renderSideBySide.get() ? (_reader.unicodeHighlight = this._options.editorOptions.get().unicodeHighlight || {}, _reader.wordWrapOverride1 = this._options.diffWordWrap.get()) : (_reader.wordWrapOverride1 = "off", _reader.wordWrapOverride2 = "off", _reader.stickyScroll = {enabled:!1}, _reader.unicodeHighlight = {nonBasicASCII:!1, ambiguousCharacters:!1, invisibleCharacters:!1});
      _reader.glyphMargin = this._options.renderSideBySide.get();
      changedOptions.originalAriaLabel && (_reader.ariaLabel = changedOptions.originalAriaLabel);
      _reader.ariaLabel = this._updateAriaLabel(_reader.ariaLabel);
      _reader.readOnly = !this._options.originalEditable.get();
      _reader.dropIntoEditor = {enabled:!_reader.readOnly};
      _reader.extraEditorClassName = "original-in-monaco-diff-editor";
      return _reader;
    }
    _adjustOptionsForRightHandSide(reader, changedOptions) {
      reader = this._adjustOptionsForSubEditor(changedOptions);
      changedOptions.modifiedAriaLabel && (reader.ariaLabel = changedOptions.modifiedAriaLabel);
      reader.ariaLabel = this._updateAriaLabel(reader.ariaLabel);
      reader.wordWrapOverride1 = this._options.diffWordWrap.get();
      reader.revealHorizontalRightPadding = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.EditorOptions.revealHorizontalRightPadding.defaultValue + require$_DOT__SLASH_overviewRulerPart_DOT_js.OverviewRulerPart.ENTIRE_DIFF_OVERVIEW_WIDTH;
      reader.scrollbar.verticalHasArrows = !1;
      reader.extraEditorClassName = "modified-in-monaco-diff-editor";
      return reader;
    }
    _adjustOptionsForSubEditor(options) {
      options = {...options, dimension:{height:0, width:0}, inDiffEditor:!0, automaticLayout:!1};
      options.scrollbar = {...(options.scrollbar || {})};
      options.folding = !1;
      options.codeLens = this._options.diffCodeLens.get();
      options.fixedOverflowWidgets = !0;
      options.minimap = {...(options.minimap || {})};
      options.minimap.enabled = !1;
      this._options.hideUnchangedRegions.get() ? options.stickyScroll = {enabled:!1} : options.stickyScroll = this._options.editorOptions.get().stickyScroll;
      return options;
    }
    _updateAriaLabel(ariaLabel) {
      var _a;
      ariaLabel ||= "";
      const ariaNavigationTip = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)("diff-aria-navigation-tip", " use {0} to open the accessibility help.", (_a = this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp")) === null || _a === void 0 ? void 0 : _a.getAriaLabel());
      return this._options.accessibilityVerbose.get() ? ariaLabel + ariaNavigationTip : ariaLabel ? ariaLabel.replaceAll(ariaNavigationTip, "") : "";
    }
  };
  DiffEditorEditors = (this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  })([require(5, exports.IInstantiationService), require(6, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_keybinding_SLASH_common_SLASH_keybinding_DOT_js.IKeybindingService)], DiffEditorEditors);
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$diffEditorEditors.js.map
