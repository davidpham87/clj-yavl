{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$tokens$contiguousTokensStore.js",
"lineCount":130,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/tokens/contiguousTokensStore.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$tokens$contiguousTokensStore\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, ContiguousTokensStore:{enumerable:true, get:function() {\n  return ContiguousTokensStore;\n}}});\nvar arrays = require(\"../../../base/common/arrays.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js = require(\"../core/position.js\");\nvar require$_DOT__SLASH_contiguousTokensEditing_DOT_js = require(\"./contiguousTokensEditing.js\");\nvar require$_DOT__SLASH_lineTokens_DOT_js = require(\"./lineTokens.js\");\nvar require$_DOT__DOT__SLASH_encodedTokenAttributes_DOT_js = require(\"../encodedTokenAttributes.js\");\nclass ContiguousTokensStore {\n  constructor(languageIdCodec) {\n    this._lineTokens = [];\n    this._len = 0;\n    this._languageIdCodec = languageIdCodec;\n  }\n  flush() {\n    this._lineTokens = [];\n    this._len = 0;\n  }\n  get hasTokens() {\n    return this._lineTokens.length > 0;\n  }\n  getTokens(topLevelLanguageId, lineIndex, lineText) {\n    let rawLineTokens = null;\n    if (lineIndex < this._len) {\n      rawLineTokens = this._lineTokens[lineIndex];\n    }\n    if (rawLineTokens !== null && rawLineTokens !== require$_DOT__SLASH_contiguousTokensEditing_DOT_js.EMPTY_LINE_TOKENS) {\n      return new require$_DOT__SLASH_lineTokens_DOT_js.LineTokens((0,require$_DOT__SLASH_contiguousTokensEditing_DOT_js.toUint32Array)(rawLineTokens), lineText, this._languageIdCodec);\n    }\n    const lineTokens = new Uint32Array(2);\n    lineTokens[0] = lineText.length;\n    lineTokens[1] = getDefaultMetadata(this._languageIdCodec.encodeLanguageId(topLevelLanguageId));\n    return new require$_DOT__SLASH_lineTokens_DOT_js.LineTokens(lineTokens, lineText, this._languageIdCodec);\n  }\n  static _massageTokens(topLevelLanguageId, lineTextLength, _tokens) {\n    const tokens = _tokens ? (0,require$_DOT__SLASH_contiguousTokensEditing_DOT_js.toUint32Array)(_tokens) : null;\n    if (lineTextLength === 0) {\n      let hasDifferentLanguageId = false;\n      if (tokens && tokens.length > 1) {\n        hasDifferentLanguageId = require$_DOT__DOT__SLASH_encodedTokenAttributes_DOT_js.TokenMetadata.getLanguageId(tokens[1]) !== topLevelLanguageId;\n      }\n      if (!hasDifferentLanguageId) {\n        return require$_DOT__SLASH_contiguousTokensEditing_DOT_js.EMPTY_LINE_TOKENS;\n      }\n    }\n    if (!tokens || tokens.length === 0) {\n      const tokens = new Uint32Array(2);\n      tokens[0] = lineTextLength;\n      tokens[1] = getDefaultMetadata(topLevelLanguageId);\n      return tokens.buffer;\n    }\n    tokens[tokens.length - 2] = lineTextLength;\n    if (tokens.byteOffset === 0 && tokens.byteLength === tokens.buffer.byteLength) {\n      return tokens.buffer;\n    }\n    return tokens;\n  }\n  _ensureLine(lineIndex) {\n    while (lineIndex >= this._len) {\n      this._lineTokens[this._len] = null;\n      this._len++;\n    }\n  }\n  _deleteLines(start, deleteCount) {\n    if (deleteCount === 0) {\n      return;\n    }\n    if (start + deleteCount > this._len) {\n      deleteCount = this._len - start;\n    }\n    this._lineTokens.splice(start, deleteCount);\n    this._len -= deleteCount;\n  }\n  _insertLines(insertIndex, insertCount) {\n    if (insertCount === 0) {\n      return;\n    }\n    const lineTokens = [];\n    for (let i = 0; i < insertCount; i++) {\n      lineTokens[i] = null;\n    }\n    this._lineTokens = arrays.arrayInsert(this._lineTokens, insertIndex, lineTokens);\n    this._len += insertCount;\n  }\n  setTokens(topLevelLanguageId, lineIndex, lineTextLength, _tokens, checkEquality) {\n    const tokens = ContiguousTokensStore._massageTokens(this._languageIdCodec.encodeLanguageId(topLevelLanguageId), lineTextLength, _tokens);\n    this._ensureLine(lineIndex);\n    const oldTokens = this._lineTokens[lineIndex];\n    this._lineTokens[lineIndex] = tokens;\n    if (checkEquality) {\n      return !ContiguousTokensStore._equals(oldTokens, tokens);\n    }\n    return false;\n  }\n  static _equals(_a, _b) {\n    if (!_a || !_b) {\n      return !_a && !_b;\n    }\n    const a = (0,require$_DOT__SLASH_contiguousTokensEditing_DOT_js.toUint32Array)(_a);\n    const b = (0,require$_DOT__SLASH_contiguousTokensEditing_DOT_js.toUint32Array)(_b);\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0, len = a.length; i < len; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  acceptEdit(range, eolCount, firstLineLength) {\n    this._acceptDeleteRange(range);\n    this._acceptInsertText(new require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position(range.startLineNumber, range.startColumn), eolCount, firstLineLength);\n  }\n  _acceptDeleteRange(range) {\n    const firstLineIndex = range.startLineNumber - 1;\n    if (firstLineIndex >= this._len) {\n      return;\n    }\n    if (range.startLineNumber === range.endLineNumber) {\n      if (range.startColumn === range.endColumn) {\n        return;\n      }\n      this._lineTokens[firstLineIndex] = require$_DOT__SLASH_contiguousTokensEditing_DOT_js.ContiguousTokensEditing.delete(this._lineTokens[firstLineIndex], range.startColumn - 1, range.endColumn - 1);\n      return;\n    }\n    this._lineTokens[firstLineIndex] = require$_DOT__SLASH_contiguousTokensEditing_DOT_js.ContiguousTokensEditing.deleteEnding(this._lineTokens[firstLineIndex], range.startColumn - 1);\n    const lastLineIndex = range.endLineNumber - 1;\n    let lastLineTokens = null;\n    if (lastLineIndex < this._len) {\n      lastLineTokens = require$_DOT__SLASH_contiguousTokensEditing_DOT_js.ContiguousTokensEditing.deleteBeginning(this._lineTokens[lastLineIndex], range.endColumn - 1);\n    }\n    this._lineTokens[firstLineIndex] = require$_DOT__SLASH_contiguousTokensEditing_DOT_js.ContiguousTokensEditing.append(this._lineTokens[firstLineIndex], lastLineTokens);\n    this._deleteLines(range.startLineNumber, range.endLineNumber - range.startLineNumber);\n  }\n  _acceptInsertText(position, eolCount, firstLineLength) {\n    if (eolCount === 0 && firstLineLength === 0) {\n      return;\n    }\n    const lineIndex = position.lineNumber - 1;\n    if (lineIndex >= this._len) {\n      return;\n    }\n    if (eolCount === 0) {\n      this._lineTokens[lineIndex] = require$_DOT__SLASH_contiguousTokensEditing_DOT_js.ContiguousTokensEditing.insert(this._lineTokens[lineIndex], position.column - 1, firstLineLength);\n      return;\n    }\n    this._lineTokens[lineIndex] = require$_DOT__SLASH_contiguousTokensEditing_DOT_js.ContiguousTokensEditing.deleteEnding(this._lineTokens[lineIndex], position.column - 1);\n    this._lineTokens[lineIndex] = require$_DOT__SLASH_contiguousTokensEditing_DOT_js.ContiguousTokensEditing.insert(this._lineTokens[lineIndex], position.column - 1, firstLineLength);\n    this._insertLines(position.lineNumber, eolCount);\n  }\n  setMultilineTokens(tokens, textModel) {\n    if (tokens.length === 0) {\n      return {changes:[]};\n    }\n    const ranges = [];\n    for (let i = 0, len = tokens.length; i < len; i++) {\n      const element = tokens[i];\n      let minChangedLineNumber = 0;\n      let maxChangedLineNumber = 0;\n      let hasChange = false;\n      for (let lineNumber = element.startLineNumber; lineNumber <= element.endLineNumber; lineNumber++) {\n        if (hasChange) {\n          this.setTokens(textModel.getLanguageId(), lineNumber - 1, textModel.getLineLength(lineNumber), element.getLineTokens(lineNumber), false);\n          maxChangedLineNumber = lineNumber;\n        } else {\n          const lineHasChange = this.setTokens(textModel.getLanguageId(), lineNumber - 1, textModel.getLineLength(lineNumber), element.getLineTokens(lineNumber), true);\n          if (lineHasChange) {\n            hasChange = true;\n            minChangedLineNumber = lineNumber;\n            maxChangedLineNumber = lineNumber;\n          }\n        }\n      }\n      if (hasChange) {\n        ranges.push({fromLineNumber:minChangedLineNumber, toLineNumber:maxChangedLineNumber,});\n      }\n    }\n    return {changes:ranges};\n  }\n}\nfunction getDefaultMetadata(topLevelLanguageId) {\n  return (topLevelLanguageId << 0 | 0 << 8 | 0 << 11 | 1 << 15 | 2 << 24 | 1024) >>> 0;\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","ContiguousTokensStore","get","arrays","require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js","require$_DOT__SLASH_contiguousTokensEditing_DOT_js","require$_DOT__SLASH_lineTokens_DOT_js","require$_DOT__DOT__SLASH_encodedTokenAttributes_DOT_js","constructor","languageIdCodec","_lineTokens","_len","_languageIdCodec","flush","length","getTokens","topLevelLanguageId","lineIndex","lineText","rawLineTokens","EMPTY_LINE_TOKENS","LineTokens","toUint32Array","lineTokens","Uint32Array","encodeLanguageId","_massageTokens","lineTextLength","_tokens","tokens","hasDifferentLanguageId","TokenMetadata","getLanguageId","buffer","byteOffset","byteLength","_ensureLine","_deleteLines","start","deleteCount","splice","_insertLines","insertIndex","insertCount","i","arrayInsert","setTokens","checkEquality","oldTokens","_equals","_a","_b","a","b","len","acceptEdit","range","eolCount","firstLineLength","_acceptDeleteRange","_acceptInsertText","Position","startLineNumber","startColumn","firstLineIndex","endLineNumber","endColumn","ContiguousTokensEditing","delete","deleteEnding","lastLineIndex","lastLineTokens","deleteBeginning","append","position","lineNumber","insert","column","setMultilineTokens","textModel","changes","ranges","element","minChangedLineNumber","maxChangedLineNumber","hasChange","getLineLength","getLineTokens","lineHasChange","push","fromLineNumber","toLineNumber"]
}
