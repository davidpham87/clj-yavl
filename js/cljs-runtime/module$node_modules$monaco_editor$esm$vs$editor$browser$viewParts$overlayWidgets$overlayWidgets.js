shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$overlayWidgets$overlayWidgets = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ViewOverlayWidgets:{enumerable:!0, get:function() {
    return ViewOverlayWidgets;
  }}});
  require("module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$overlayWidgets$overlayWidgets_css");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$fastDomNode"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_view_SLASH_viewPart_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$view$viewPart");
  class ViewOverlayWidgets extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH_view_SLASH_viewPart_DOT_js.ViewPart {
    constructor(context) {
      super(context);
      context = this._context.configuration.options.get(143);
      this._widgets = {};
      this._verticalScrollbarWidth = context.verticalScrollbarWidth;
      this._minimapWidth = context.minimap.minimapWidth;
      this._horizontalScrollbarHeight = context.horizontalScrollbarHeight;
      this._editorHeight = context.height;
      this._editorWidth = context.width;
      this._domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement("div"));
      require$_DOT__DOT__SLASH__DOT__DOT__SLASH_view_SLASH_viewPart_DOT_js.PartFingerprints.write(this._domNode, 4);
      this._domNode.setClassName("overlayWidgets");
    }
    dispose() {
      super.dispose();
      this._widgets = {};
    }
    getDomNode() {
      return this._domNode;
    }
    onConfigurationChanged(e) {
      e = this._context.configuration.options.get(143);
      this._verticalScrollbarWidth = e.verticalScrollbarWidth;
      this._minimapWidth = e.minimap.minimapWidth;
      this._horizontalScrollbarHeight = e.horizontalScrollbarHeight;
      this._editorHeight = e.height;
      this._editorWidth = e.width;
      return !0;
    }
    addWidget(widget) {
      const domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js.createFastDomNode)(widget.getDomNode());
      this._widgets[widget.getId()] = {widget, preference:null, domNode};
      domNode.setPosition("absolute");
      domNode.setAttribute("widgetId", widget.getId());
      this._domNode.appendChild(domNode);
      this.setShouldRender();
      this._updateMaxMinWidth();
    }
    setWidgetPosition(widget, preference) {
      widget = this._widgets[widget.getId()];
      if (widget.preference === preference) {
        return this._updateMaxMinWidth(), !1;
      }
      widget.preference = preference;
      this.setShouldRender();
      this._updateMaxMinWidth();
      return !0;
    }
    removeWidget(widget) {
      widget = widget.getId();
      if (this._widgets.hasOwnProperty(widget)) {
        const domNode = this._widgets[widget].domNode.domNode;
        delete this._widgets[widget];
        domNode.parentNode.removeChild(domNode);
        this.setShouldRender();
        this._updateMaxMinWidth();
      }
    }
    _updateMaxMinWidth() {
      var _a, _b;
      let maxMinWidth = 0;
      const keys = Object.keys(this._widgets);
      for (let i = 0, len = keys.length; i < len; i++) {
        const widgetMinWidthInPx = (_b = (_a = this._widgets[keys[i]].widget).getMinContentWidthInPx) === null || _b === void 0 ? void 0 : _b.call(_a);
        typeof widgetMinWidthInPx !== "undefined" && (maxMinWidth = Math.max(maxMinWidth, widgetMinWidthInPx));
      }
      this._context.viewLayout.setOverlayWidgetsMinWidth(maxMinWidth);
    }
    _renderWidget(widgetData) {
      const domNode = widgetData.domNode;
      widgetData.preference === null ? domNode.setTop("") : widgetData.preference === 0 ? (domNode.setTop(0), domNode.setRight(2 * this._verticalScrollbarWidth + this._minimapWidth)) : widgetData.preference === 1 ? (domNode.setTop(this._editorHeight - domNode.domNode.clientHeight - 2 * this._horizontalScrollbarHeight), domNode.setRight(2 * this._verticalScrollbarWidth + this._minimapWidth)) : widgetData.preference === 2 && (domNode.setTop(0), domNode.domNode.style.right = "50%");
    }
    prepareRender(ctx) {
    }
    render(ctx) {
      this._domNode.setWidth(this._editorWidth);
      ctx = Object.keys(this._widgets);
      for (let i = 0, len = ctx.length; i < len; i++) {
        this._renderWidget(this._widgets[ctx[i]]);
      }
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$overlayWidgets$overlayWidgets.js.map
