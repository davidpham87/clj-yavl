{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$algorithms$myersDiffAlgorithm.js",
"lineCount":103,
"mappings":"AAAAA,cAAA,CAAA,kHAAA,GAAuI,QAAQ,CAACC,OAAD,EAASC,MAAT,EAAgBC,OAAhB,CAAyB;AACxKC,QAAOC,CAAAA,gBAAP,CAAwBF,OAAxB,EAAiC,CAACG,WAAW,CAACC,WAAW,CAAA,CAAZ,EAAkBC,MAAM,CAAA,CAAxB,CAAZ,EAA2CC,mBAAmB,CAACF,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AAC9H,WAAOD,kBAAP;AAD8H,GAAjC,CAA9D,CAAjC,CAAA;AAGA,MAAIE,2FAA2FV,OAAA,CAAQ,yEAAR,CAA/F,EACIW,2CAA2CX,OAAA,CAAQ,+GAAR,CAD/C;AAEA,OAAMQ,mBAAN;AACEI,WAAO,CAACC,IAAD,EAAOC,IAAP,EAAaC,OAAA,GAAUJ,wCAAyCK,CAAAA,eAAgBC,CAAAA,QAAhF,CAA0F;AAM/FC,cAASA,eAAc,CAACC,CAAD,EAAIC,CAAJ,CAAO;AAC5B,aAAA,EAAOD,CAAP,GAAWE,IAAKC,CAAAA,MAAhB,IAA0BF,CAA1B,GAA8BG,IAAKD,CAAAA,MAAnC,IAA6CD,IAAKG,CAAAA,UAAL,CAAgBL,CAAhB,CAA7C,KAAoEI,IAAKC,CAAAA,UAAL,CAAgBJ,CAAhB,CAApE,CAAA;AACED,WAAA,EACA,EAAAC,CAAA,EAAA;AAFF;AAIA,eAAOD,CAAP;AAL4B;AAL9B,UAAIN,IAAKS,CAAAA,MAAT,KAAoB,CAApB,IAAyBR,IAAKQ,CAAAA,MAA9B,KAAyC,CAAzC;AACE,eAAOX,wCAAyCc,CAAAA,mBAAoBC,CAAAA,OAA7D,CAAqEb,IAArE,EAA2EC,IAA3E,CAAP;AADF;AAGA,YAAMO,OAAOR,IAAb,EACMU,OAAOT,IADb;AASIa,UAAAA,GAAI,CAAJA;AACEC,UAAAA,GAAI,IAAIC,cAAJ,EAAJD;AACNA,UAAEE,CAAAA,GAAF,CAAM,CAAN,EAASZ,cAAA,CAAe,CAAf,EAAkB,CAAlB,CAAT,CAAA;AACA,UAAMa,QAAQ,IAAIC,wBAAJ,EAAd;AACAD,WAAMD,CAAAA,GAAN,CAAU,CAAV,EAAaF,IAAEnB,CAAAA,GAAF,CAAM,CAAN,CAAA,KAAa,CAAb,GAAiB,IAAjB,GAAwB,IAAIwB,SAAJ,CAAc,IAAd,EAAoB,CAApB,EAAuB,CAAvB,EAA0BL,IAAEnB,CAAAA,GAAF,CAAM,CAAN,CAA1B,CAArC,CAAA;AACA,UAAIyB,IAAI,CAAR;AACA,OAAA,EAAM,KAAA,CAAA,CAAA,CAAa;AACjBP,YAAA,EAAA;AACA,YAAI,CAACZ,OAAQoB,CAAAA,OAAR,EAAL;AACE,iBAAOxB,wCAAyCc,CAAAA,mBAAoBW,CAAAA,eAA7D,CAA6Ef,IAA7E,EAAmFE,IAAnF,CAAP;AADF;AAGA,YAAMc,aAAa,CAACC,IAAKC,CAAAA,GAAL,CAASZ,IAAT,EAAYJ,IAAKD,CAAAA,MAAjB,GAA0BK,IAA1B,GAA8B,CAA9B,CAApB;AACA,cAAMa,aAAaF,IAAKC,CAAAA,GAAL,CAASZ,IAAT,EAAYN,IAAKC,CAAAA,MAAjB,GAA0BK,IAA1B,GAA8B,CAA9B,CAAnB;AACA,aAAKO,CAAL,GAASG,UAAT,EAAqBH,CAArB,IAA0BM,UAA1B,EAAsCN,CAAtC,IAA2C,CAA3C,CAA8C;AAC5C,cAAIO,OAAO,CAAX,EACMC,iBAAiBR,CAAA,KAAMM,UAAN,GAAmB,CAAC,CAApB,GAAwBZ,IAAEnB,CAAAA,GAAF,CAAMyB,CAAN,GAAU,CAAV,CAD/C,EAEMS,kBAAkBT,CAAA,KAAMG,UAAN,GAAmB,CAAC,CAApB,GAAwBT,IAAEnB,CAAAA,GAAF,CAAMyB,CAAN,GAAU,CAAV,CAAxB,GAAuC,CAF/D;AAGAO,cAAA,EAAA;AACMtB,yBAAAA,GAAImB,IAAKC,CAAAA,GAAL,CAASD,IAAKM,CAAAA,GAAL,CAASF,cAAT,EAAyBC,eAAzB,CAAT,EAAoDtB,IAAKC,CAAAA,MAAzD,CAAJH;AACN,gBAAMC,IAAID,eAAJC,GAAQc,CAAd;AACAO,cAAA,EAAA;AACA,cAAI,EAAAtB,eAAA,GAAIE,IAAKC,CAAAA,MAAT,IAAmBF,CAAnB,GAAuBG,IAAKD,CAAAA,MAA5B,CAAJ,KAGMuB,IAIF,GAJY3B,cAAA,CAAeC,eAAf,EAAkBC,CAAlB,CAIZ,EAHJQ,IAAEE,CAAAA,GAAF,CAAMI,CAAN,EAASW,IAAT,CAGI,EAFEC,cAEF,GAFa3B,eAAA,KAAMuB,cAAN,GAAuBX,KAAMtB,CAAAA,GAAN,CAAUyB,CAAV,GAAc,CAAd,CAAvB,GAA0CH,KAAMtB,CAAAA,GAAN,CAAUyB,CAAV,GAAc,CAAd,CAEvD,EADJH,KAAMD,CAAAA,GAAN,CAAUI,CAAV,EAAaW,IAAA,KAAY1B,eAAZ,GAAgB,IAAIc,SAAJ,CAAca,cAAd,EAAwB3B,eAAxB,EAA2BC,CAA3B,EAA8ByB,IAA9B,GAAwC1B,eAAxC,CAAhB,GAA6D2B,cAA1E,CACI,EAAAlB,IAAEnB,CAAAA,GAAF,CAAMyB,CAAN,CAAA,KAAab,IAAKC,CAAAA,MAAlB,IAA4BM,IAAEnB,CAAAA,GAAF,CAAMyB,CAAN,CAA5B,GAAuCA,CAAvC,KAA6CX,IAAKD,CAAAA,MAPtD;AAQE,kBAAM,CAAN;AARF;AAR4C;AAP7B;AA2BfyB,aAAAA,GAAOhB,KAAMtB,CAAAA,GAAN,CAAUyB,CAAV,CAAPa;AACEC,UAAAA,GAAS,EAATA;AACFC,UAAAA,GAAoB5B,IAAKC,CAAAA,MAAzB2B;AAEJ,WADIC,KACJ,GADwB3B,IAAKD,CAAAA,MAC7B,CAAA,CAAA,CAAa;AACL6B,SAAAA,GAAOJ,OAAA,GAAOA,OAAK5B,CAAAA,CAAZ,GAAgB4B,OAAKzB,CAAAA,MAArB,GAA8B,CAArC6B;AACAC,kBAAAA,GAAOL,OAAA,GAAOA,OAAK3B,CAAAA,CAAZ,GAAgB2B,OAAKzB,CAAAA,MAArB,GAA8B,CAArC8B;AACFD,SAAJ,KAAaF,IAAb,IAAkCG,UAAlC,KAA2CF,KAA3C,IACEF,IAAOK,CAAAA,IAAP,CAAY,IAAI1C,wCAAyC2C,CAAAA,YAA7C,CAA0D,IAAI5C,wFAAyF6C,CAAAA,WAA7F,CAAyGJ,CAAzG,EAA+GF,IAA/G,CAA1D,EAA6L,IAAIvC,wFAAyF6C,CAAAA,WAA7F,CAAyGH,UAAzG,EAA+GF,KAA/G,CAA7L,CAAZ,CADF;AAGA,YAAI,CAACH,OAAL;AACE;AADF;AAGAE,YAAA,GAAoBF,OAAK5B,CAAAA,CAAzB;AACA+B,aAAA,GAAoBH,OAAK3B,CAAAA,CAAzB;AACA2B,eAAA,GAAOA,OAAKS,CAAAA,IAAZ;AAXW;AAabR,UAAOS,CAAAA,OAAP,EAAA;AACA,aAAO,IAAI9C,wCAAyCc,CAAAA,mBAA7C,CAAiEuB,IAAjE,EAAyE,CAAA,CAAzE,CAAP;AAhE+F;AADnG;AAoEA,OAAMf,UAAN;AACEyB,eAAW,CAACF,IAAD,EAAOrC,CAAP,EAAUC,CAAV,EAAaE,MAAb,CAAqB;AAC9B,UAAKkC,CAAAA,IAAL,GAAYA,IAAZ;AACA,UAAKrC,CAAAA,CAAL,GAASA,CAAT;AACA,UAAKC,CAAAA,CAAL,GAASA,CAAT;AACA,UAAKE,CAAAA,MAAL,GAAcA,MAAd;AAJ8B;AADlC;AAQA,OAAMO,eAAN;AACE6B,eAAW,EAAG;AACZ,UAAKC,CAAAA,WAAL,GAAmB,IAAIC,UAAJ,CAAe,EAAf,CAAnB;AACA,UAAKC,CAAAA,WAAL,GAAmB,IAAID,UAAJ,CAAe,EAAf,CAAnB;AAFY;AAIdnD,OAAG,CAACqD,GAAD,CAAM;AACP,aAAIA,GAAJ,GAAU,CAAV,GAES,IAAKD,CAAAA,WAAL,CADD,CAACC,GACA,GADM,CACN,CAFT,GAIS,IAAKH,CAAAA,WAAL,CAAiBG,GAAjB,CAJT;AADO;AAQThC,OAAG,CAACgC,GAAD,EAAMvD,KAAN,CAAa;AACd,UAAIuD,GAAJ,GAAU,CAAV,CAAa;AACXA,WAAA,GAAM,CAACA,GAAP,GAAa,CAAb;AACA,YAAIA,GAAJ,IAAW,IAAKD,CAAAA,WAAYvC,CAAAA,MAA5B,CAAoC;AAClC,cAAMyC,MAAM,IAAKF,CAAAA,WAAjB;AACA,cAAKA,CAAAA,WAAL,GAAmB,IAAID,UAAJ,CAAeG,GAAIzC,CAAAA,MAAnB,GAA4B,CAA5B,CAAnB;AACA,cAAKuC,CAAAA,WAAY/B,CAAAA,GAAjB,CAAqBiC,GAArB,CAAA;AAHkC;AAKpC,YAAKF,CAAAA,WAAL,CAAiBC,GAAjB,CAAA,GAAwBvD,KAAxB;AAPW,OAAb;AASMuD,WAKJ,IALW,IAAKH,CAAAA,WAAYrC,CAAAA,MAK5B,KAJQyC,GAEN,GAFY,IAAKJ,CAAAA,WAEjB,EADA,IAAKA,CAAAA,WACL,GADmB,IAAIC,UAAJ,CAAeG,GAAIzC,CAAAA,MAAnB,GAA4B,CAA5B,CACnB,EAAA,IAAKqC,CAAAA,WAAY7B,CAAAA,GAAjB,CAAqBiC,GAArB,CAEF,GAAA,IAAKJ,CAAAA,WAAL,CAAiBG,GAAjB,CAAA,GAAwBvD,KAAxB;AAdF;AADc;AAblB;AAgCA,OAAMyB,yBAAN;AACE0B,eAAW,EAAG;AACZ,UAAKC,CAAAA,WAAL,GAAmB,EAAnB;AACA,UAAKE,CAAAA,WAAL,GAAmB,EAAnB;AAFY;AAIdpD,OAAG,CAACqD,GAAD,CAAM;AACP,aAAIA,GAAJ,GAAU,CAAV,GAES,IAAKD,CAAAA,WAAL,CADD,CAACC,GACA,GADM,CACN,CAFT,GAIS,IAAKH,CAAAA,WAAL,CAAiBG,GAAjB,CAJT;AADO;AAQThC,OAAG,CAACgC,GAAD,EAAMvD,KAAN,CAAa;AACVuD,SAAJ,GAAU,CAAV,GAEE,IAAKD,CAAAA,WAAL,CADM,CAACC,GACP,GADa,CACb,CAFF,GAE0BvD,KAF1B,GAIE,IAAKoD,CAAAA,WAAL,CAAiBG,GAAjB,CAJF,GAI0BvD,KAJ1B;AADc;AAblB;AAlHwK,CAAxK;;",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$algorithms$myersDiffAlgorithm\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, MyersDiffAlgorithm:{enumerable:true, get:function() {\n  return MyersDiffAlgorithm;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js = require(\"../../../core/offsetRange.js\");\nvar require$_DOT__SLASH_diffAlgorithm_DOT_js = require(\"./diffAlgorithm.js\");\nclass MyersDiffAlgorithm {\n  compute(seq1, seq2, timeout = require$_DOT__SLASH_diffAlgorithm_DOT_js.InfiniteTimeout.instance) {\n    if (seq1.length === 0 || seq2.length === 0) {\n      return require$_DOT__SLASH_diffAlgorithm_DOT_js.DiffAlgorithmResult.trivial(seq1, seq2);\n    }\n    const seqX = seq1;\n    const seqY = seq2;\n    function getXAfterSnake(x, y) {\n      while (x < seqX.length && y < seqY.length && seqX.getElement(x) === seqY.getElement(y)) {\n        x++;\n        y++;\n      }\n      return x;\n    }\n    let d = 0;\n    const V = new FastInt32Array();\n    V.set(0, getXAfterSnake(0, 0));\n    const paths = new FastArrayNegativeIndices();\n    paths.set(0, V.get(0) === 0 ? null : new SnakePath(null, 0, 0, V.get(0)));\n    let k = 0;\n    loop: while (true) {\n      d++;\n      if (!timeout.isValid()) {\n        return require$_DOT__SLASH_diffAlgorithm_DOT_js.DiffAlgorithmResult.trivialTimedOut(seqX, seqY);\n      }\n      const lowerBound = -Math.min(d, seqY.length + d % 2);\n      const upperBound = Math.min(d, seqX.length + d % 2);\n      for (k = lowerBound; k <= upperBound; k += 2) {\n        let step = 0;\n        const maxXofDLineTop = k === upperBound ? -1 : V.get(k + 1);\n        const maxXofDLineLeft = k === lowerBound ? -1 : V.get(k - 1) + 1;\n        step++;\n        const x = Math.min(Math.max(maxXofDLineTop, maxXofDLineLeft), seqX.length);\n        const y = x - k;\n        step++;\n        if (x > seqX.length || y > seqY.length) {\n          continue;\n        }\n        const newMaxX = getXAfterSnake(x, y);\n        V.set(k, newMaxX);\n        const lastPath = x === maxXofDLineTop ? paths.get(k + 1) : paths.get(k - 1);\n        paths.set(k, newMaxX !== x ? new SnakePath(lastPath, x, y, newMaxX - x) : lastPath);\n        if (V.get(k) === seqX.length && V.get(k) - k === seqY.length) {\n          break loop;\n        }\n      }\n    }\n    let path = paths.get(k);\n    const result = [];\n    let lastAligningPosS1 = seqX.length;\n    let lastAligningPosS2 = seqY.length;\n    while (true) {\n      const endX = path ? path.x + path.length : 0;\n      const endY = path ? path.y + path.length : 0;\n      if (endX !== lastAligningPosS1 || endY !== lastAligningPosS2) {\n        result.push(new require$_DOT__SLASH_diffAlgorithm_DOT_js.SequenceDiff(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(endX, lastAligningPosS1), new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(endY, lastAligningPosS2)));\n      }\n      if (!path) {\n        break;\n      }\n      lastAligningPosS1 = path.x;\n      lastAligningPosS2 = path.y;\n      path = path.prev;\n    }\n    result.reverse();\n    return new require$_DOT__SLASH_diffAlgorithm_DOT_js.DiffAlgorithmResult(result, false);\n  }\n}\nclass SnakePath {\n  constructor(prev, x, y, length) {\n    this.prev = prev;\n    this.x = x;\n    this.y = y;\n    this.length = length;\n  }\n}\nclass FastInt32Array {\n  constructor() {\n    this.positiveArr = new Int32Array(10);\n    this.negativeArr = new Int32Array(10);\n  }\n  get(idx) {\n    if (idx < 0) {\n      idx = -idx - 1;\n      return this.negativeArr[idx];\n    } else {\n      return this.positiveArr[idx];\n    }\n  }\n  set(idx, value) {\n    if (idx < 0) {\n      idx = -idx - 1;\n      if (idx >= this.negativeArr.length) {\n        const arr = this.negativeArr;\n        this.negativeArr = new Int32Array(arr.length * 2);\n        this.negativeArr.set(arr);\n      }\n      this.negativeArr[idx] = value;\n    } else {\n      if (idx >= this.positiveArr.length) {\n        const arr = this.positiveArr;\n        this.positiveArr = new Int32Array(arr.length * 2);\n        this.positiveArr.set(arr);\n      }\n      this.positiveArr[idx] = value;\n    }\n  }\n}\nclass FastArrayNegativeIndices {\n  constructor() {\n    this.positiveArr = [];\n    this.negativeArr = [];\n  }\n  get(idx) {\n    if (idx < 0) {\n      idx = -idx - 1;\n      return this.negativeArr[idx];\n    } else {\n      return this.positiveArr[idx];\n    }\n  }\n  set(idx, value) {\n    if (idx < 0) {\n      idx = -idx - 1;\n      this.negativeArr[idx] = value;\n    } else {\n      this.positiveArr[idx] = value;\n    }\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","MyersDiffAlgorithm","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js","require$_DOT__SLASH_diffAlgorithm_DOT_js","compute","seq1","seq2","timeout","InfiniteTimeout","instance","getXAfterSnake","x","y","seqX","length","seqY","getElement","DiffAlgorithmResult","trivial","d","V","FastInt32Array","set","paths","FastArrayNegativeIndices","SnakePath","k","isValid","trivialTimedOut","lowerBound","Math","min","upperBound","step","maxXofDLineTop","maxXofDLineLeft","max","newMaxX","lastPath","path","result","lastAligningPosS1","lastAligningPosS2","endX","endY","push","SequenceDiff","OffsetRange","prev","reverse","constructor","positiveArr","Int32Array","negativeArr","idx","arr"]
}
