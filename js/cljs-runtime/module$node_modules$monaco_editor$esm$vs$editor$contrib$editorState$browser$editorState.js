shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$contrib$editorState$browser$editorState = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, EditorState:{enumerable:!0, get:function() {
    return EditorState;
  }}, EditorStateCancellationTokenSource:{enumerable:!0, get:function() {
    return EditorStateCancellationTokenSource;
  }}, TextModelCancellationTokenSource:{enumerable:!0, get:function() {
    return TextModelCancellationTokenSource;
  }}});
  var strings = require("module$node_modules$monaco_editor$esm$vs$base$common$strings"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$range");
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$cancellation");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  require = require("module$node_modules$monaco_editor$esm$vs$editor$contrib$editorState$browser$keybindingCancellation");
  class EditorState {
    constructor(editor, flags) {
      this.flags = flags;
      this.modelVersionId = (this.flags & 1) !== 0 ? (flags = editor.getModel()) ? strings.format("{0}#{1}", flags.uri.toString(), flags.getVersionId()) : null : null;
      this.position = (this.flags & 4) !== 0 ? editor.getPosition() : null;
      this.selection = (this.flags & 2) !== 0 ? editor.getSelection() : null;
      (this.flags & 8) !== 0 ? (this.scrollLeft = editor.getScrollLeft(), this.scrollTop = editor.getScrollTop()) : this.scrollTop = this.scrollLeft = -1;
    }
    _equals(other) {
      return !(other instanceof EditorState) || this.modelVersionId !== other.modelVersionId || this.scrollLeft !== other.scrollLeft || this.scrollTop !== other.scrollTop || !this.position && other.position || this.position && !other.position || this.position && other.position && !this.position.equals(other.position) || !this.selection && other.selection || this.selection && !other.selection || this.selection && other.selection && !this.selection.equalsRange(other.selection) ? !1 : !0;
    }
    validate(editor) {
      return this._equals(new EditorState(editor, this.flags));
    }
  }
  class EditorStateCancellationTokenSource extends require.EditorKeybindingCancellationTokenSource {
    constructor(editor, flags, range, parent) {
      super(editor, parent);
      this._listener = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();
      flags & 4 && this._listener.add(editor.onDidChangeCursorPosition(e => {
        range && require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range.containsPosition(range, e.position) || this.cancel();
      }));
      flags & 2 && this._listener.add(editor.onDidChangeCursorSelection(e => {
        range && require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range.containsRange(range, e.selection) || this.cancel();
      }));
      flags & 8 && this._listener.add(editor.onDidScrollChange(_ => this.cancel()));
      flags & 1 && (this._listener.add(editor.onDidChangeModel(_ => this.cancel())), this._listener.add(editor.onDidChangeModelContent(_ => this.cancel())));
    }
    dispose() {
      this._listener.dispose();
      super.dispose();
    }
  }
  class TextModelCancellationTokenSource extends module.CancellationTokenSource {
    constructor(model, parent) {
      super(parent);
      this._listener = model.onDidChangeContent(() => this.cancel());
    }
    dispose() {
      this._listener.dispose();
      super.dispose();
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$contrib$editorState$browser$editorState.js.map
