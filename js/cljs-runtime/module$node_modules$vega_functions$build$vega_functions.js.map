{
"version":3,
"file":"module$node_modules$vega_functions$build$vega_functions.js",
"lineCount":1108,
"mappings":"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",
"sources":["node_modules/vega-functions/build/vega-functions.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_functions$build$vega_functions\"] = function(require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-util'), require('vega-expression'), require('vega-scale'), require('vega-dataflow'), require('vega-scenegraph'), require('vega-selections'), require('vega-statistics'), require('vega-time')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-util', 'vega-expression', 'vega-scale', 'vega-dataflow', 'vega-scenegraph', 'vega-selections', 'vega-statistics', 'vega-time'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}, global.vega, global.vega, global.vega, global.vega, global.vega, global.vega, global.vega, global.vega));\n})(this, (function (exports, vegaUtil, vegaExpression, vegaScale, vegaDataflow, vegaScenegraph, vegaSelections, vegaStatistics, vegaTime) { 'use strict';\n\n  function data(name) {\n    const data = this.context.data[name];\n    return data ? data.values.value : [];\n  }\n  function indata(name, field, value) {\n    const index = this.context.data[name]['index:' + field],\n      entry = index ? index.value.get(value) : undefined;\n    return entry ? entry.count : entry;\n  }\n  function setdata(name, tuples) {\n    const df = this.context.dataflow,\n      data = this.context.data[name],\n      input = data.input;\n    df.pulse(input, df.changeset().remove(vegaUtil.truthy).insert(tuples));\n    return 1;\n  }\n\n  function encode (item, name, retval) {\n    if (item) {\n      const df = this.context.dataflow,\n        target = item.mark.source;\n      df.pulse(target, df.changeset().encode(item, name));\n    }\n    return retval !== undefined ? retval : item;\n  }\n\n  const wrap = method => function (value, spec) {\n    const locale = this.context.dataflow.locale();\n    return value === null ? 'null' : locale[method](spec)(value);\n  };\n  const format = wrap('format');\n  const timeFormat = wrap('timeFormat');\n  const utcFormat = wrap('utcFormat');\n  const timeParse = wrap('timeParse');\n  const utcParse = wrap('utcParse');\n  const dateObj = new Date(2000, 0, 1);\n  function time(month, day, specifier) {\n    if (!Number.isInteger(month) || !Number.isInteger(day)) return '';\n    dateObj.setYear(2000);\n    dateObj.setMonth(month);\n    dateObj.setDate(day);\n    return timeFormat.call(this, dateObj, specifier);\n  }\n  function monthFormat(month) {\n    return time.call(this, month, 1, '%B');\n  }\n  function monthAbbrevFormat(month) {\n    return time.call(this, month, 1, '%b');\n  }\n  function dayFormat(day) {\n    return time.call(this, 0, 2 + day, '%A');\n  }\n  function dayAbbrevFormat(day) {\n    return time.call(this, 0, 2 + day, '%a');\n  }\n\n  const DataPrefix = ':';\n  const IndexPrefix = '@';\n  const ScalePrefix = '%';\n  const SignalPrefix = '$';\n\n  function dataVisitor(name, args, scope, params) {\n    if (args[0].type !== vegaExpression.Literal) {\n      vegaUtil.error('First argument to data functions must be a string literal.');\n    }\n    const data = args[0].value,\n      dataName = DataPrefix + data;\n    if (!vegaUtil.hasOwnProperty(dataName, params)) {\n      try {\n        params[dataName] = scope.getData(data).tuplesRef();\n      } catch (err) {\n        // if data set does not exist, there's nothing to track\n      }\n    }\n  }\n  function indataVisitor(name, args, scope, params) {\n    if (args[0].type !== vegaExpression.Literal) vegaUtil.error('First argument to indata must be a string literal.');\n    if (args[1].type !== vegaExpression.Literal) vegaUtil.error('Second argument to indata must be a string literal.');\n    const data = args[0].value,\n      field = args[1].value,\n      indexName = IndexPrefix + field;\n    if (!vegaUtil.hasOwnProperty(indexName, params)) {\n      params[indexName] = scope.getData(data).indataRef(scope, field);\n    }\n  }\n  function scaleVisitor(name, args, scope, params) {\n    if (args[0].type === vegaExpression.Literal) {\n      // add scale dependency\n      addScaleDependency(scope, params, args[0].value);\n    } else {\n      // indirect scale lookup; add all scales as parameters\n      for (name in scope.scales) {\n        addScaleDependency(scope, params, name);\n      }\n    }\n  }\n  function addScaleDependency(scope, params, name) {\n    const scaleName = ScalePrefix + name;\n    if (!vegaUtil.hasOwnProperty(params, scaleName)) {\n      try {\n        params[scaleName] = scope.scaleRef(name);\n      } catch (err) {\n        // TODO: error handling? warning?\n      }\n    }\n  }\n\n  /**\n   * nameOrFunction must be a string or function that was registered.\n   * Return undefined if scale is not recognized.\n   */\n  function getScale(nameOrFunction, ctx) {\n    if (vegaUtil.isString(nameOrFunction)) {\n      const maybeScale = ctx.scales[nameOrFunction];\n      return maybeScale && vegaScale.isRegisteredScale(maybeScale.value) ? maybeScale.value : undefined;\n    } else if (vegaUtil.isFunction(nameOrFunction)) {\n      return vegaScale.isRegisteredScale(nameOrFunction) ? nameOrFunction : undefined;\n    }\n    return undefined;\n  }\n  function internalScaleFunctions(codegen, fnctx, visitors) {\n    // add helper method to the 'this' expression function context\n    fnctx.__bandwidth = s => s && s.bandwidth ? s.bandwidth() : 0;\n\n    // register AST visitors for internal scale functions\n    visitors._bandwidth = scaleVisitor;\n    visitors._range = scaleVisitor;\n    visitors._scale = scaleVisitor;\n\n    // resolve scale reference directly to the signal hash argument\n    const ref = arg => '_[' + (arg.type === vegaExpression.Literal ? vegaUtil.stringValue(ScalePrefix + arg.value) : vegaUtil.stringValue(ScalePrefix) + '+' + codegen(arg)) + ']';\n\n    // define and return internal scale function code generators\n    // these internal functions are called by mark encoders\n    return {\n      _bandwidth: args => `this.__bandwidth(${ref(args[0])})`,\n      _range: args => `${ref(args[0])}.range()`,\n      _scale: args => `${ref(args[0])}(${codegen(args[1])})`\n    };\n  }\n\n  // https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\n  class Adder {\n    constructor() {\n      this._partials = new Float64Array(32);\n      this._n = 0;\n    }\n    add(x) {\n      const p = this._partials;\n      let i = 0;\n      for (let j = 0; j < this._n && j < 32; j++) {\n        const y = p[j],\n          hi = x + y,\n          lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n        if (lo) p[i++] = lo;\n        x = hi;\n      }\n      p[i] = x;\n      this._n = i + 1;\n      return this;\n    }\n    valueOf() {\n      const p = this._partials;\n      let n = this._n,\n        x,\n        y,\n        lo,\n        hi = 0;\n      if (n > 0) {\n        hi = p[--n];\n        while (n > 0) {\n          x = hi;\n          y = p[--n];\n          hi = x + y;\n          lo = y - (hi - x);\n          if (lo) break;\n        }\n        if (n > 0 && (lo < 0 && p[n - 1] < 0 || lo > 0 && p[n - 1] > 0)) {\n          y = lo * 2;\n          x = hi + y;\n          if (y == x - hi) hi = x;\n        }\n      }\n      return hi;\n    }\n  }\n\n  function range$2(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n    var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n    return range;\n  }\n\n  var epsilon = 1e-6;\n  var epsilon2 = 1e-12;\n  var pi = Math.PI;\n  var halfPi = pi / 2;\n  var quarterPi = pi / 4;\n  var tau = pi * 2;\n  var degrees$1 = 180 / pi;\n  var radians$1 = pi / 180;\n  var abs = Math.abs;\n  var atan2 = Math.atan2;\n  var cos = Math.cos;\n  var hypot = Math.hypot;\n  var sin = Math.sin;\n  var sqrt = Math.sqrt;\n  function asin(x) {\n    return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n  }\n\n  function noop() {}\n\n  function streamGeometry(geometry, stream) {\n    if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n      streamGeometryType[geometry.type](geometry, stream);\n    }\n  }\n  var streamObjectType = {\n    Feature: function (object, stream) {\n      streamGeometry(object.geometry, stream);\n    },\n    FeatureCollection: function (object, stream) {\n      var features = object.features,\n        i = -1,\n        n = features.length;\n      while (++i < n) streamGeometry(features[i].geometry, stream);\n    }\n  };\n  var streamGeometryType = {\n    Sphere: function (object, stream) {\n      stream.sphere();\n    },\n    Point: function (object, stream) {\n      object = object.coordinates;\n      stream.point(object[0], object[1], object[2]);\n    },\n    MultiPoint: function (object, stream) {\n      var coordinates = object.coordinates,\n        i = -1,\n        n = coordinates.length;\n      while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n    },\n    LineString: function (object, stream) {\n      streamLine(object.coordinates, stream, 0);\n    },\n    MultiLineString: function (object, stream) {\n      var coordinates = object.coordinates,\n        i = -1,\n        n = coordinates.length;\n      while (++i < n) streamLine(coordinates[i], stream, 0);\n    },\n    Polygon: function (object, stream) {\n      streamPolygon(object.coordinates, stream);\n    },\n    MultiPolygon: function (object, stream) {\n      var coordinates = object.coordinates,\n        i = -1,\n        n = coordinates.length;\n      while (++i < n) streamPolygon(coordinates[i], stream);\n    },\n    GeometryCollection: function (object, stream) {\n      var geometries = object.geometries,\n        i = -1,\n        n = geometries.length;\n      while (++i < n) streamGeometry(geometries[i], stream);\n    }\n  };\n  function streamLine(coordinates, stream, closed) {\n    var i = -1,\n      n = coordinates.length - closed,\n      coordinate;\n    stream.lineStart();\n    while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n    stream.lineEnd();\n  }\n  function streamPolygon(coordinates, stream) {\n    var i = -1,\n      n = coordinates.length;\n    stream.polygonStart();\n    while (++i < n) streamLine(coordinates[i], stream, 1);\n    stream.polygonEnd();\n  }\n  function geoStream (object, stream) {\n    if (object && streamObjectType.hasOwnProperty(object.type)) {\n      streamObjectType[object.type](object, stream);\n    } else {\n      streamGeometry(object, stream);\n    }\n  }\n\n  var areaRingSum = new Adder();\n\n  // hello?\n\n  var areaSum = new Adder(),\n    lambda00$2,\n    phi00$2,\n    lambda0$1,\n    cosPhi0,\n    sinPhi0;\n  var areaStream = {\n    point: noop,\n    lineStart: noop,\n    lineEnd: noop,\n    polygonStart: function () {\n      areaRingSum = new Adder();\n      areaStream.lineStart = areaRingStart;\n      areaStream.lineEnd = areaRingEnd;\n    },\n    polygonEnd: function () {\n      var areaRing = +areaRingSum;\n      areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n      this.lineStart = this.lineEnd = this.point = noop;\n    },\n    sphere: function () {\n      areaSum.add(tau);\n    }\n  };\n  function areaRingStart() {\n    areaStream.point = areaPointFirst;\n  }\n  function areaRingEnd() {\n    areaPoint(lambda00$2, phi00$2);\n  }\n  function areaPointFirst(lambda, phi) {\n    areaStream.point = areaPoint;\n    lambda00$2 = lambda, phi00$2 = phi;\n    lambda *= radians$1, phi *= radians$1;\n    lambda0$1 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n  }\n  function areaPoint(lambda, phi) {\n    lambda *= radians$1, phi *= radians$1;\n    phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n    // Spherical excess E for a spherical triangle with vertices: south pole,\n    // previous point, current point.  Uses a formula derived from Cagnoli\u2019s\n    // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n    var dLambda = lambda - lambda0$1,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n    areaRingSum.add(atan2(v, u));\n\n    // Advance the previous points.\n    lambda0$1 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n  }\n  function area (object) {\n    areaSum = new Adder();\n    geoStream(object, areaStream);\n    return areaSum * 2;\n  }\n\n  function spherical(cartesian) {\n    return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n  }\n  function cartesian(spherical) {\n    var lambda = spherical[0],\n      phi = spherical[1],\n      cosPhi = cos(phi);\n    return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n  }\n  function cartesianCross(a, b) {\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n  }\n\n  // TODO return d\n  function cartesianNormalizeInPlace(d) {\n    var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n    d[0] /= l, d[1] /= l, d[2] /= l;\n  }\n\n  var lambda0, phi0, lambda1, phi1,\n    // bounds\n    lambda2,\n    // previous lambda-coordinate\n    lambda00$1, phi00$1,\n    // first point\n    p0,\n    // previous 3D point\n    deltaSum, ranges, range$1;\n  var boundsStream = {\n    point: boundsPoint,\n    lineStart: boundsLineStart,\n    lineEnd: boundsLineEnd,\n    polygonStart: function () {\n      boundsStream.point = boundsRingPoint;\n      boundsStream.lineStart = boundsRingStart;\n      boundsStream.lineEnd = boundsRingEnd;\n      deltaSum = new Adder();\n      areaStream.polygonStart();\n    },\n    polygonEnd: function () {\n      areaStream.polygonEnd();\n      boundsStream.point = boundsPoint;\n      boundsStream.lineStart = boundsLineStart;\n      boundsStream.lineEnd = boundsLineEnd;\n      if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);else if (deltaSum > epsilon) phi1 = 90;else if (deltaSum < -1e-6) phi0 = -90;\n      range$1[0] = lambda0, range$1[1] = lambda1;\n    },\n    sphere: function () {\n      lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    }\n  };\n  function boundsPoint(lambda, phi) {\n    ranges.push(range$1 = [lambda0 = lambda, lambda1 = lambda]);\n    if (phi < phi0) phi0 = phi;\n    if (phi > phi1) phi1 = phi;\n  }\n  function linePoint(lambda, phi) {\n    var p = cartesian([lambda * radians$1, phi * radians$1]);\n    if (p0) {\n      var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n      cartesianNormalizeInPlace(inflection);\n      inflection = spherical(inflection);\n      var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees$1 * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n      if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n        phii = inflection[1] * degrees$1;\n        if (phii > phi1) phi1 = phii;\n      } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n        phii = -inflection[1] * degrees$1;\n        if (phii < phi0) phi0 = phii;\n      } else {\n        if (phi < phi0) phi0 = phi;\n        if (phi > phi1) phi1 = phi;\n      }\n      if (antimeridian) {\n        if (lambda < lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      } else {\n        if (lambda1 >= lambda0) {\n          if (lambda < lambda0) lambda0 = lambda;\n          if (lambda > lambda1) lambda1 = lambda;\n        } else {\n          if (lambda > lambda2) {\n            if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n          } else {\n            if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n          }\n        }\n      }\n    } else {\n      ranges.push(range$1 = [lambda0 = lambda, lambda1 = lambda]);\n    }\n    if (phi < phi0) phi0 = phi;\n    if (phi > phi1) phi1 = phi;\n    p0 = p, lambda2 = lambda;\n  }\n  function boundsLineStart() {\n    boundsStream.point = linePoint;\n  }\n  function boundsLineEnd() {\n    range$1[0] = lambda0, range$1[1] = lambda1;\n    boundsStream.point = boundsPoint;\n    p0 = null;\n  }\n  function boundsRingPoint(lambda, phi) {\n    if (p0) {\n      var delta = lambda - lambda2;\n      deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n    } else {\n      lambda00$1 = lambda, phi00$1 = phi;\n    }\n    areaStream.point(lambda, phi);\n    linePoint(lambda, phi);\n  }\n  function boundsRingStart() {\n    areaStream.lineStart();\n  }\n  function boundsRingEnd() {\n    boundsRingPoint(lambda00$1, phi00$1);\n    areaStream.lineEnd();\n    if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n    range$1[0] = lambda0, range$1[1] = lambda1;\n    p0 = null;\n  }\n\n  // Finds the left-right distance between two longitudes.\n  // This is almost the same as (lambda1 - lambda0 + 360\u00b0) % 360\u00b0, except that we want\n  // the distance between \u00b1180\u00b0 to be 360\u00b0.\n  function angle(lambda0, lambda1) {\n    return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n  }\n  function rangeCompare(a, b) {\n    return a[0] - b[0];\n  }\n  function rangeContains(range, x) {\n    return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n  }\n  function bounds (feature) {\n    var i, n, a, b, merged, deltaMax, delta;\n    phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n    ranges = [];\n    geoStream(feature, boundsStream);\n\n    // First, sort ranges by their minimum longitudes.\n    if (n = ranges.length) {\n      ranges.sort(rangeCompare);\n\n      // Then, merge any ranges that overlap.\n      for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n        b = ranges[i];\n        if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n          if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n          if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n        } else {\n          merged.push(a = b);\n        }\n      }\n\n      // Finally, find the largest gap between the merged ranges.\n      // The final bounding box will be the inverse of this gap.\n      for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n        b = merged[i];\n        if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n      }\n    }\n    ranges = range$1 = null;\n    return lambda0 === Infinity || phi0 === Infinity ? [[NaN, NaN], [NaN, NaN]] : [[lambda0, phi0], [lambda1, phi1]];\n  }\n\n  var W0, W1, X0, Y0, Z0, X1, Y1, Z1, X2, Y2, Z2, lambda00, phi00,\n    // first point\n    x0, y0, z0; // previous point\n\n  var centroidStream = {\n    sphere: noop,\n    point: centroidPoint,\n    lineStart: centroidLineStart,\n    lineEnd: centroidLineEnd,\n    polygonStart: function () {\n      centroidStream.lineStart = centroidRingStart;\n      centroidStream.lineEnd = centroidRingEnd;\n    },\n    polygonEnd: function () {\n      centroidStream.lineStart = centroidLineStart;\n      centroidStream.lineEnd = centroidLineEnd;\n    }\n  };\n\n  // Arithmetic mean of Cartesian vectors.\n  function centroidPoint(lambda, phi) {\n    lambda *= radians$1, phi *= radians$1;\n    var cosPhi = cos(phi);\n    centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n  }\n  function centroidPointCartesian(x, y, z) {\n    ++W0;\n    X0 += (x - X0) / W0;\n    Y0 += (y - Y0) / W0;\n    Z0 += (z - Z0) / W0;\n  }\n  function centroidLineStart() {\n    centroidStream.point = centroidLinePointFirst;\n  }\n  function centroidLinePointFirst(lambda, phi) {\n    lambda *= radians$1, phi *= radians$1;\n    var cosPhi = cos(phi);\n    x0 = cosPhi * cos(lambda);\n    y0 = cosPhi * sin(lambda);\n    z0 = sin(phi);\n    centroidStream.point = centroidLinePoint;\n    centroidPointCartesian(x0, y0, z0);\n  }\n  function centroidLinePoint(lambda, phi) {\n    lambda *= radians$1, phi *= radians$1;\n    var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n    W1 += w;\n    X1 += w * (x0 + (x0 = x));\n    Y1 += w * (y0 + (y0 = y));\n    Z1 += w * (z0 + (z0 = z));\n    centroidPointCartesian(x0, y0, z0);\n  }\n  function centroidLineEnd() {\n    centroidStream.point = centroidPoint;\n  }\n\n  // See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n  // J. Applied Mechanics 42, 239 (1975).\n  function centroidRingStart() {\n    centroidStream.point = centroidRingPointFirst;\n  }\n  function centroidRingEnd() {\n    centroidRingPoint(lambda00, phi00);\n    centroidStream.point = centroidPoint;\n  }\n  function centroidRingPointFirst(lambda, phi) {\n    lambda00 = lambda, phi00 = phi;\n    lambda *= radians$1, phi *= radians$1;\n    centroidStream.point = centroidRingPoint;\n    var cosPhi = cos(phi);\n    x0 = cosPhi * cos(lambda);\n    y0 = cosPhi * sin(lambda);\n    z0 = sin(phi);\n    centroidPointCartesian(x0, y0, z0);\n  }\n  function centroidRingPoint(lambda, phi) {\n    lambda *= radians$1, phi *= radians$1;\n    var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = hypot(cx, cy, cz),\n      w = asin(m),\n      // line weight = angle\n      v = m && -w / m; // area weight multiplier\n    X2.add(v * cx);\n    Y2.add(v * cy);\n    Z2.add(v * cz);\n    W1 += w;\n    X1 += w * (x0 + (x0 = x));\n    Y1 += w * (y0 + (y0 = y));\n    Z1 += w * (z0 + (z0 = z));\n    centroidPointCartesian(x0, y0, z0);\n  }\n  function centroid (object) {\n    W0 = W1 = X0 = Y0 = Z0 = X1 = Y1 = Z1 = 0;\n    X2 = new Adder();\n    Y2 = new Adder();\n    Z2 = new Adder();\n    geoStream(object, centroidStream);\n    var x = +X2,\n      y = +Y2,\n      z = +Z2,\n      m = hypot(x, y, z);\n\n    // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n    if (m < epsilon2) {\n      x = X1, y = Y1, z = Z1;\n      // If the feature has zero length, fall back to arithmetic mean of point vectors.\n      if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n      m = hypot(x, y, z);\n      // If the feature still has an undefined ccentroid, then return.\n      if (m < epsilon2) return [NaN, NaN];\n    }\n    return [atan2(y, x) * degrees$1, asin(z / m) * degrees$1];\n  }\n\n  function geoMethod(methodName, globalMethod) {\n    return function (projection, geojson, group) {\n      if (projection) {\n        // projection defined, use it\n        const p = getScale(projection, (group || this).context);\n        return p && p.path[methodName](geojson);\n      } else {\n        // projection undefined, use global method\n        return globalMethod(geojson);\n      }\n    };\n  }\n  const geoArea = geoMethod('area', area);\n  const geoBounds = geoMethod('bounds', bounds);\n  const geoCentroid = geoMethod('centroid', centroid);\n  function geoScale(projection, group) {\n    const p = getScale(projection, (group || this).context);\n    return p && p.scale();\n  }\n\n  function inScope (item) {\n    const group = this.context.group;\n    let value = false;\n    if (group) while (item) {\n      if (item === group) {\n        value = true;\n        break;\n      }\n      item = item.mark.group;\n    }\n    return value;\n  }\n\n  function log(df, method, args) {\n    try {\n      df[method].apply(df, ['EXPRESSION'].concat([].slice.call(args)));\n    } catch (err) {\n      df.warn(err);\n    }\n    return args[args.length - 1];\n  }\n  function warn() {\n    return log(this.context.dataflow, 'warn', arguments);\n  }\n  function info() {\n    return log(this.context.dataflow, 'info', arguments);\n  }\n  function debug() {\n    return log(this.context.dataflow, 'debug', arguments);\n  }\n\n  function define (constructor, factory, prototype) {\n    constructor.prototype = factory.prototype = prototype;\n    prototype.constructor = constructor;\n  }\n  function extend(parent, definition) {\n    var prototype = Object.create(parent.prototype);\n    for (var key in definition) prototype[key] = definition[key];\n    return prototype;\n  }\n\n  function Color() {}\n  var darker = 0.7;\n  var brighter = 1 / darker;\n  var reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n  var named = {\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkgrey: 0xa9a9a9,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    grey: 0x808080,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightgrey: 0xd3d3d3,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32\n  };\n  define(Color, color, {\n    copy(channels) {\n      return Object.assign(new this.constructor(), this, channels);\n    },\n    displayable() {\n      return this.rgb().displayable();\n    },\n    hex: color_formatHex,\n    // Deprecated! Use color.formatHex.\n    formatHex: color_formatHex,\n    formatHex8: color_formatHex8,\n    formatHsl: color_formatHsl,\n    formatRgb: color_formatRgb,\n    toString: color_formatRgb\n  });\n  function color_formatHex() {\n    return this.rgb().formatHex();\n  }\n  function color_formatHex8() {\n    return this.rgb().formatHex8();\n  }\n  function color_formatHsl() {\n    return hslConvert(this).formatHsl();\n  }\n  function color_formatRgb() {\n    return this.rgb().formatRgb();\n  }\n  function color(format) {\n    var m, l;\n    format = (format + \"\").trim().toLowerCase();\n    return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n    : l === 3 ? new Rgb(m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n    : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n    : l === 4 ? rgba(m >> 12 & 0xf | m >> 8 & 0xf0, m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, ((m & 0xf) << 4 | m & 0xf) / 0xff) // #f000\n    : null // invalid hex\n    ) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n    : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n    : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n    : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n    : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n    : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n    : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n    : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n  }\n  function rgbn(n) {\n    return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n  }\n  function rgba(r, g, b, a) {\n    if (a <= 0) r = g = b = NaN;\n    return new Rgb(r, g, b, a);\n  }\n  function rgbConvert(o) {\n    if (!(o instanceof Color)) o = color(o);\n    if (!o) return new Rgb();\n    o = o.rgb();\n    return new Rgb(o.r, o.g, o.b, o.opacity);\n  }\n  function rgb(r, g, b, opacity) {\n    return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n  }\n  function Rgb(r, g, b, opacity) {\n    this.r = +r;\n    this.g = +g;\n    this.b = +b;\n    this.opacity = +opacity;\n  }\n  define(Rgb, rgb, extend(Color, {\n    brighter(k) {\n      k = k == null ? brighter : Math.pow(brighter, k);\n      return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    darker(k) {\n      k = k == null ? darker : Math.pow(darker, k);\n      return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n    },\n    rgb() {\n      return this;\n    },\n    clamp() {\n      return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n    },\n    displayable() {\n      return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n    },\n    hex: rgb_formatHex,\n    // Deprecated! Use color.formatHex.\n    formatHex: rgb_formatHex,\n    formatHex8: rgb_formatHex8,\n    formatRgb: rgb_formatRgb,\n    toString: rgb_formatRgb\n  }));\n  function rgb_formatHex() {\n    return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n  }\n  function rgb_formatHex8() {\n    return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n  }\n  function rgb_formatRgb() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n  }\n  function clampa(opacity) {\n    return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n  }\n  function clampi(value) {\n    return Math.max(0, Math.min(255, Math.round(value) || 0));\n  }\n  function hex(value) {\n    value = clampi(value);\n    return (value < 16 ? \"0\" : \"\") + value.toString(16);\n  }\n  function hsla(h, s, l, a) {\n    if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n    return new Hsl(h, s, l, a);\n  }\n  function hslConvert(o) {\n    if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n    if (!(o instanceof Color)) o = color(o);\n    if (!o) return new Hsl();\n    if (o instanceof Hsl) return o;\n    o = o.rgb();\n    var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n    if (s) {\n      if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n      s /= l < 0.5 ? max + min : 2 - max - min;\n      h *= 60;\n    } else {\n      s = l > 0 && l < 1 ? 0 : h;\n    }\n    return new Hsl(h, s, l, o.opacity);\n  }\n  function hsl(h, s, l, opacity) {\n    return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n  }\n  function Hsl(h, s, l, opacity) {\n    this.h = +h;\n    this.s = +s;\n    this.l = +l;\n    this.opacity = +opacity;\n  }\n  define(Hsl, hsl, extend(Color, {\n    brighter(k) {\n      k = k == null ? brighter : Math.pow(brighter, k);\n      return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    darker(k) {\n      k = k == null ? darker : Math.pow(darker, k);\n      return new Hsl(this.h, this.s, this.l * k, this.opacity);\n    },\n    rgb() {\n      var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n      return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n    },\n    clamp() {\n      return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n    },\n    displayable() {\n      return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n    },\n    formatHsl() {\n      const a = clampa(this.opacity);\n      return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n    }\n  }));\n  function clamph(value) {\n    value = (value || 0) % 360;\n    return value < 0 ? value + 360 : value;\n  }\n  function clampt(value) {\n    return Math.max(0, Math.min(1, value || 0));\n  }\n\n  /* From FvD 13.37, CSS Color Module Level 3 */\n  function hsl2rgb(h, m1, m2) {\n    return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n  }\n\n  const radians = Math.PI / 180;\n  const degrees = 180 / Math.PI;\n\n  // https://observablehq.com/@mbostock/lab-and-rgb\n  const K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n  function labConvert(o) {\n    if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n    if (o instanceof Hcl) return hcl2lab(o);\n    if (!(o instanceof Rgb)) o = rgbConvert(o);\n    var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn),\n      x,\n      z;\n    if (r === g && g === b) x = z = y;else {\n      x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n      z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n    }\n    return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n  }\n  function lab(l, a, b, opacity) {\n    return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n  }\n  function Lab(l, a, b, opacity) {\n    this.l = +l;\n    this.a = +a;\n    this.b = +b;\n    this.opacity = +opacity;\n  }\n  define(Lab, lab, extend(Color, {\n    brighter(k) {\n      return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n    },\n    darker(k) {\n      return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n    },\n    rgb() {\n      var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n      x = Xn * lab2xyz(x);\n      y = Yn * lab2xyz(y);\n      z = Zn * lab2xyz(z);\n      return new Rgb(lrgb2rgb(3.1338561 * x - 1.6168667 * y - 0.4906146 * z), lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z), lrgb2rgb(0.0719453 * x - 0.2289914 * y + 1.4052427 * z), this.opacity);\n    }\n  }));\n  function xyz2lab(t) {\n    return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n  }\n  function lab2xyz(t) {\n    return t > t1 ? t * t * t : t2 * (t - t0);\n  }\n  function lrgb2rgb(x) {\n    return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n  }\n  function rgb2lrgb(x) {\n    return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n  }\n  function hclConvert(o) {\n    if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n    if (!(o instanceof Lab)) o = labConvert(o);\n    if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n    var h = Math.atan2(o.b, o.a) * degrees;\n    return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n  }\n  function hcl(h, c, l, opacity) {\n    return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n  }\n  function Hcl(h, c, l, opacity) {\n    this.h = +h;\n    this.c = +c;\n    this.l = +l;\n    this.opacity = +opacity;\n  }\n  function hcl2lab(o) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * radians;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  define(Hcl, hcl, extend(Color, {\n    brighter(k) {\n      return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n    },\n    darker(k) {\n      return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n    },\n    rgb() {\n      return hcl2lab(this).rgb();\n    }\n  }));\n\n  // https://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n  function channel_luminance_value(channelValue) {\n    const val = channelValue / 255;\n    if (val <= 0.03928) {\n      return val / 12.92;\n    }\n    return Math.pow((val + 0.055) / 1.055, 2.4);\n  }\n  function luminance(color) {\n    const c = rgb(color),\n      r = channel_luminance_value(c.r),\n      g = channel_luminance_value(c.g),\n      b = channel_luminance_value(c.b);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  }\n\n  // https://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n  function contrast(color1, color2) {\n    const lum1 = luminance(color1),\n      lum2 = luminance(color2),\n      lumL = Math.max(lum1, lum2),\n      lumD = Math.min(lum1, lum2);\n    return (lumL + 0.05) / (lumD + 0.05);\n  }\n\n  function merge () {\n    const args = [].slice.call(arguments);\n    args.unshift({});\n    return vegaUtil.extend(...args);\n  }\n\n  function equal(a, b) {\n    return a === b || a !== a && b !== b ? true : vegaUtil.isArray(a) ? vegaUtil.isArray(b) && a.length === b.length ? equalArray(a, b) : false : vegaUtil.isObject(a) && vegaUtil.isObject(b) ? equalObject(a, b) : false;\n  }\n  function equalArray(a, b) {\n    for (let i = 0, n = a.length; i < n; ++i) {\n      if (!equal(a[i], b[i])) return false;\n    }\n    return true;\n  }\n  function equalObject(a, b) {\n    for (const key in a) {\n      if (!equal(a[key], b[key])) return false;\n    }\n    return true;\n  }\n  function removePredicate(props) {\n    return _ => equalObject(props, _);\n  }\n  function modify (name, insert, remove, toggle, modify, values) {\n    const df = this.context.dataflow,\n      data = this.context.data[name],\n      input = data.input,\n      stamp = df.stamp();\n    let changes = data.changes,\n      predicate,\n      key;\n    if (df._trigger === false || !(input.value.length || insert || toggle)) {\n      // nothing to do!\n      return 0;\n    }\n    if (!changes || changes.stamp < stamp) {\n      data.changes = changes = df.changeset();\n      changes.stamp = stamp;\n      df.runAfter(() => {\n        data.modified = true;\n        df.pulse(input, changes).run();\n      }, true, 1);\n    }\n    if (remove) {\n      predicate = remove === true ? vegaUtil.truthy : vegaUtil.isArray(remove) || vegaDataflow.isTuple(remove) ? remove : removePredicate(remove);\n      changes.remove(predicate);\n    }\n    if (insert) {\n      changes.insert(insert);\n    }\n    if (toggle) {\n      predicate = removePredicate(toggle);\n      if (input.value.some(predicate)) {\n        changes.remove(predicate);\n      } else {\n        changes.insert(toggle);\n      }\n    }\n    if (modify) {\n      for (key in values) {\n        changes.modify(modify, key, values[key]);\n      }\n    }\n    return 1;\n  }\n\n  function pinchDistance(event) {\n    const t = event.touches,\n      dx = t[0].clientX - t[1].clientX,\n      dy = t[0].clientY - t[1].clientY;\n    return Math.hypot(dx, dy);\n  }\n  function pinchAngle(event) {\n    const t = event.touches;\n    return Math.atan2(t[0].clientY - t[1].clientY, t[0].clientX - t[1].clientX);\n  }\n\n  // memoize accessor functions\n  const accessors = {};\n  function pluck (data, name) {\n    const accessor = accessors[name] || (accessors[name] = vegaUtil.field(name));\n    return vegaUtil.isArray(data) ? data.map(accessor) : accessor(data);\n  }\n\n  function array(seq) {\n    return vegaUtil.isArray(seq) || ArrayBuffer.isView(seq) ? seq : null;\n  }\n  function sequence(seq) {\n    return array(seq) || (vegaUtil.isString(seq) ? seq : null);\n  }\n  function join(seq, ...args) {\n    return array(seq).join(...args);\n  }\n  function indexof(seq, ...args) {\n    return sequence(seq).indexOf(...args);\n  }\n  function lastindexof(seq, ...args) {\n    return sequence(seq).lastIndexOf(...args);\n  }\n  function slice(seq, ...args) {\n    return sequence(seq).slice(...args);\n  }\n  function replace(str, pattern, repl) {\n    if (vegaUtil.isFunction(repl)) vegaUtil.error('Function argument passed to replace.');\n    if (!vegaUtil.isString(pattern) && !vegaUtil.isRegExp(pattern)) vegaUtil.error('Please pass a string or RegExp argument to replace.');\n    return String(str).replace(pattern, repl);\n  }\n  function reverse(seq) {\n    return array(seq).slice().reverse();\n  }\n  function sort(seq) {\n    return array(seq).slice().sort(vegaUtil.ascending);\n  }\n\n  function bandspace(count, paddingInner, paddingOuter) {\n    return vegaScale.bandSpace(count || 0, paddingInner || 0, paddingOuter || 0);\n  }\n  function bandwidth(name, group) {\n    const s = getScale(name, (group || this).context);\n    return s && s.bandwidth ? s.bandwidth() : 0;\n  }\n  function copy(name, group) {\n    const s = getScale(name, (group || this).context);\n    return s ? s.copy() : undefined;\n  }\n  function domain(name, group) {\n    const s = getScale(name, (group || this).context);\n    return s ? s.domain() : [];\n  }\n  function invert(name, range, group) {\n    const s = getScale(name, (group || this).context);\n    return !s ? undefined : vegaUtil.isArray(range) ? (s.invertRange || s.invert)(range) : (s.invert || s.invertExtent)(range);\n  }\n  function range(name, group) {\n    const s = getScale(name, (group || this).context);\n    return s && s.range ? s.range() : [];\n  }\n  function scale(name, value, group) {\n    const s = getScale(name, (group || this).context);\n    return s ? s(value) : undefined;\n  }\n\n  function scaleGradient (scale, p0, p1, count, group) {\n    scale = getScale(scale, (group || this).context);\n    const gradient = vegaScenegraph.Gradient(p0, p1);\n    let stops = scale.domain(),\n      min = stops[0],\n      max = vegaUtil.peek(stops),\n      fraction = vegaUtil.identity;\n    if (!(max - min)) {\n      // expand scale if domain has zero span, fix #1479\n      scale = (scale.interpolator ? vegaScale.scale('sequential')().interpolator(scale.interpolator()) : vegaScale.scale('linear')().interpolate(scale.interpolate()).range(scale.range())).domain([min = 0, max = 1]);\n    } else {\n      fraction = vegaScale.scaleFraction(scale, min, max);\n    }\n    if (scale.ticks) {\n      stops = scale.ticks(+count || 15);\n      if (min !== stops[0]) stops.unshift(min);\n      if (max !== vegaUtil.peek(stops)) stops.push(max);\n    }\n    stops.forEach(_ => gradient.stop(fraction(_), scale(_)));\n    return gradient;\n  }\n\n  function geoShape(projection, geojson, group) {\n    const p = getScale(projection, (group || this).context);\n    return function (context) {\n      return p ? p.path.context(context)(geojson) : '';\n    };\n  }\n  function pathShape(path) {\n    let p = null;\n    return function (context) {\n      return context ? vegaScenegraph.pathRender(context, p = p || vegaScenegraph.pathParse(path)) : path;\n    };\n  }\n\n  const datum = d => d.data;\n  function treeNodes(name, context) {\n    const tree = data.call(context, name);\n    return tree.root && tree.root.lookup || {};\n  }\n  function treePath(name, source, target) {\n    const nodes = treeNodes(name, this),\n      s = nodes[source],\n      t = nodes[target];\n    return s && t ? s.path(t).map(datum) : undefined;\n  }\n  function treeAncestors(name, node) {\n    const n = treeNodes(name, this)[node];\n    return n ? n.ancestors().map(datum) : undefined;\n  }\n\n  const _window = () => typeof window !== 'undefined' && window || null;\n  function screen() {\n    const w = _window();\n    return w ? w.screen : {};\n  }\n  function windowSize() {\n    const w = _window();\n    return w ? [w.innerWidth, w.innerHeight] : [undefined, undefined];\n  }\n  function containerSize() {\n    const view = this.context.dataflow,\n      el = view.container && view.container();\n    return el ? [el.clientWidth, el.clientHeight] : [undefined, undefined];\n  }\n\n  function intersect (b, opt, group) {\n    if (!b) return [];\n    const [u, v] = b,\n      box = new vegaScenegraph.Bounds().set(u[0], u[1], v[0], v[1]),\n      scene = group || this.context.dataflow.scenegraph().root;\n    return vegaScenegraph.intersect(scene, box, filter(opt));\n  }\n  function filter(opt) {\n    let p = null;\n    if (opt) {\n      const types = vegaUtil.array(opt.marktype),\n        names = vegaUtil.array(opt.markname);\n      p = _ => (!types.length || types.some(t => _.marktype === t)) && (!names.length || names.some(s => _.name === s));\n    }\n    return p;\n  }\n\n  /**\n   * Appends a new point to the lasso\n   *\n   * @param {*} lasso the lasso in pixel space\n   * @param {*} x the x coordinate in pixel space\n   * @param {*} y the y coordinate in pixel space\n   * @param {*} minDist the minimum distance, in pixels, that thenew point needs to be apart from the last point\n   * @returns a new array containing the lasso with the new point\n   */\n  function lassoAppend(lasso, x, y, minDist = 5) {\n    lasso = vegaUtil.array(lasso);\n    const last = lasso[lasso.length - 1];\n\n    // Add point to lasso if its the first point or distance to last point exceed minDist\n    return last === undefined || Math.hypot(last[0] - x, last[1] - y) > minDist ? [...lasso, [x, y]] : lasso;\n  }\n\n  /**\n   * Generates a svg path command which draws a lasso\n   *\n   * @param {*} lasso the lasso in pixel space in the form [[x,y], [x,y], ...]\n   * @returns the svg path command that draws the lasso\n   */\n  function lassoPath(lasso) {\n    return vegaUtil.array(lasso).reduce((svg, [x, y], i) => {\n      return svg += i == 0 ? `M ${x},${y} ` : i === lasso.length - 1 ? ' Z' : `L ${x},${y} `;\n    }, '');\n  }\n\n  /**\n   * Inverts the lasso from pixel space to an array of vega scenegraph tuples\n   *\n   * @param {*} data the dataset\n   * @param {*} pixelLasso the lasso in pixel space, [[x,y], [x,y], ...]\n   * @param {*} unit the unit where the lasso is defined\n   *\n   * @returns an array of vega scenegraph tuples\n   */\n  function intersectLasso(markname, pixelLasso, unit) {\n    const {\n      x,\n      y,\n      mark\n    } = unit;\n    const bb = new vegaScenegraph.Bounds().set(Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER, Number.MIN_SAFE_INTEGER);\n\n    // Get bounding box around lasso\n    for (const [px, py] of pixelLasso) {\n      if (px < bb.x1) bb.x1 = px;\n      if (px > bb.x2) bb.x2 = px;\n      if (py < bb.y1) bb.y1 = py;\n      if (py > bb.y2) bb.y2 = py;\n    }\n\n    // Translate bb against unit coordinates\n    bb.translate(x, y);\n    const intersection = intersect([[bb.x1, bb.y1], [bb.x2, bb.y2]], markname, mark);\n\n    // Check every point against the lasso\n    return intersection.filter(tuple => pointInPolygon(tuple.x, tuple.y, pixelLasso));\n  }\n\n  /**\n   * Performs a test if a point is inside a polygon based on the idea from\n   * https://wrf.ecse.rpi.edu/Research/Short_Notes/pnpoly.html\n   *\n   * This method will not need the same start/end point since it wraps around the edges of the array\n   *\n   * @param {*} test a point to test against\n   * @param {*} polygon a polygon in the form [[x,y], [x,y], ...]\n   * @returns true if the point lies inside the polygon, false otherwise\n   */\n  function pointInPolygon(testx, testy, polygon) {\n    let intersections = 0;\n    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n      const [prevX, prevY] = polygon[j];\n      const [x, y] = polygon[i];\n\n      // count intersections\n      if (y > testy != prevY > testy && testx < (prevX - x) * (testy - y) / (prevY - y) + x) {\n        intersections++;\n      }\n    }\n\n    // point is in polygon if intersection count is odd\n    return intersections & 1;\n  }\n\n  // Expression function context object\n  const functionContext = {\n    random() {\n      return vegaStatistics.random();\n    },\n    // override default\n    cumulativeNormal: vegaStatistics.cumulativeNormal,\n    cumulativeLogNormal: vegaStatistics.cumulativeLogNormal,\n    cumulativeUniform: vegaStatistics.cumulativeUniform,\n    densityNormal: vegaStatistics.densityNormal,\n    densityLogNormal: vegaStatistics.densityLogNormal,\n    densityUniform: vegaStatistics.densityUniform,\n    quantileNormal: vegaStatistics.quantileNormal,\n    quantileLogNormal: vegaStatistics.quantileLogNormal,\n    quantileUniform: vegaStatistics.quantileUniform,\n    sampleNormal: vegaStatistics.sampleNormal,\n    sampleLogNormal: vegaStatistics.sampleLogNormal,\n    sampleUniform: vegaStatistics.sampleUniform,\n    isArray: vegaUtil.isArray,\n    isBoolean: vegaUtil.isBoolean,\n    isDate: vegaUtil.isDate,\n    isDefined(_) {\n      return _ !== undefined;\n    },\n    isNumber: vegaUtil.isNumber,\n    isObject: vegaUtil.isObject,\n    isRegExp: vegaUtil.isRegExp,\n    isString: vegaUtil.isString,\n    isTuple: vegaDataflow.isTuple,\n    isValid(_) {\n      return _ != null && _ === _;\n    },\n    toBoolean: vegaUtil.toBoolean,\n    toDate(_) {\n      return vegaUtil.toDate(_);\n    },\n    // suppress extra arguments\n    toNumber: vegaUtil.toNumber,\n    toString: vegaUtil.toString,\n    indexof,\n    join,\n    lastindexof,\n    replace,\n    reverse,\n    sort,\n    slice,\n    flush: vegaUtil.flush,\n    lerp: vegaUtil.lerp,\n    merge,\n    pad: vegaUtil.pad,\n    peek: vegaUtil.peek,\n    pluck,\n    span: vegaUtil.span,\n    inrange: vegaUtil.inrange,\n    truncate: vegaUtil.truncate,\n    rgb,\n    lab,\n    hcl,\n    hsl,\n    luminance,\n    contrast,\n    sequence: range$2,\n    format,\n    utcFormat,\n    utcParse,\n    utcOffset: vegaTime.utcOffset,\n    utcSequence: vegaTime.utcSequence,\n    timeFormat,\n    timeParse,\n    timeOffset: vegaTime.timeOffset,\n    timeSequence: vegaTime.timeSequence,\n    timeUnitSpecifier: vegaTime.timeUnitSpecifier,\n    monthFormat,\n    monthAbbrevFormat,\n    dayFormat,\n    dayAbbrevFormat,\n    quarter: vegaUtil.quarter,\n    utcquarter: vegaUtil.utcquarter,\n    week: vegaTime.week,\n    utcweek: vegaTime.utcweek,\n    dayofyear: vegaTime.dayofyear,\n    utcdayofyear: vegaTime.utcdayofyear,\n    warn,\n    info,\n    debug,\n    extent(_) {\n      return vegaUtil.extent(_);\n    },\n    // suppress extra arguments\n    inScope,\n    intersect,\n    clampRange: vegaUtil.clampRange,\n    pinchDistance,\n    pinchAngle,\n    screen,\n    containerSize,\n    windowSize,\n    bandspace,\n    setdata,\n    pathShape,\n    panLinear: vegaUtil.panLinear,\n    panLog: vegaUtil.panLog,\n    panPow: vegaUtil.panPow,\n    panSymlog: vegaUtil.panSymlog,\n    zoomLinear: vegaUtil.zoomLinear,\n    zoomLog: vegaUtil.zoomLog,\n    zoomPow: vegaUtil.zoomPow,\n    zoomSymlog: vegaUtil.zoomSymlog,\n    encode,\n    modify,\n    lassoAppend,\n    lassoPath,\n    intersectLasso\n  };\n  const eventFunctions = ['view', 'item', 'group', 'xy', 'x', 'y'],\n    // event functions\n    eventPrefix = 'event.vega.',\n    // event function prefix\n    thisPrefix = 'this.',\n    // function context prefix\n    astVisitors = {}; // AST visitors for dependency analysis\n\n  // export code generator parameters\n  const codegenParams = {\n    forbidden: ['_'],\n    allowed: ['datum', 'event', 'item'],\n    fieldvar: 'datum',\n    globalvar: id => `_[${vegaUtil.stringValue(SignalPrefix + id)}]`,\n    functions: buildFunctions,\n    constants: vegaExpression.constants,\n    visitors: astVisitors\n  };\n\n  // export code generator\n  const codeGenerator = vegaExpression.codegenExpression(codegenParams);\n\n  // Build expression function registry\n  function buildFunctions(codegen) {\n    const fn = vegaExpression.functions(codegen);\n    eventFunctions.forEach(name => fn[name] = eventPrefix + name);\n    for (const name in functionContext) {\n      fn[name] = thisPrefix + name;\n    }\n    vegaUtil.extend(fn, internalScaleFunctions(codegen, functionContext, astVisitors));\n    return fn;\n  }\n\n  // Register an expression function\n  function expressionFunction(name, fn, visitor) {\n    if (arguments.length === 1) {\n      return functionContext[name];\n    }\n\n    // register with the functionContext\n    functionContext[name] = fn;\n\n    // if there is an astVisitor register that, too\n    if (visitor) astVisitors[name] = visitor;\n\n    // if the code generator has already been initialized,\n    // we need to also register the function with it\n    if (codeGenerator) codeGenerator.functions[name] = thisPrefix + name;\n    return this;\n  }\n\n  // register expression functions with ast visitors\n  expressionFunction('bandwidth', bandwidth, scaleVisitor);\n  expressionFunction('copy', copy, scaleVisitor);\n  expressionFunction('domain', domain, scaleVisitor);\n  expressionFunction('range', range, scaleVisitor);\n  expressionFunction('invert', invert, scaleVisitor);\n  expressionFunction('scale', scale, scaleVisitor);\n  expressionFunction('gradient', scaleGradient, scaleVisitor);\n  expressionFunction('geoArea', geoArea, scaleVisitor);\n  expressionFunction('geoBounds', geoBounds, scaleVisitor);\n  expressionFunction('geoCentroid', geoCentroid, scaleVisitor);\n  expressionFunction('geoShape', geoShape, scaleVisitor);\n  expressionFunction('geoScale', geoScale, scaleVisitor);\n  expressionFunction('indata', indata, indataVisitor);\n  expressionFunction('data', data, dataVisitor);\n  expressionFunction('treePath', treePath, dataVisitor);\n  expressionFunction('treeAncestors', treeAncestors, dataVisitor);\n\n  // register Vega-Lite selection functions\n  expressionFunction('vlSelectionTest', vegaSelections.selectionTest, vegaSelections.selectionVisitor);\n  expressionFunction('vlSelectionIdTest', vegaSelections.selectionIdTest, vegaSelections.selectionVisitor);\n  expressionFunction('vlSelectionResolve', vegaSelections.selectionResolve, vegaSelections.selectionVisitor);\n  expressionFunction('vlSelectionTuples', vegaSelections.selectionTuples);\n\n  function parser (expr, scope) {\n    const params = {};\n\n    // parse the expression to an abstract syntax tree (ast)\n    let ast;\n    try {\n      expr = vegaUtil.isString(expr) ? expr : vegaUtil.stringValue(expr) + '';\n      ast = vegaExpression.parseExpression(expr);\n    } catch (err) {\n      vegaUtil.error('Expression parse error: ' + expr);\n    }\n\n    // analyze ast function calls for dependencies\n    ast.visit(node => {\n      if (node.type !== vegaExpression.CallExpression) return;\n      const name = node.callee.name,\n        visit = codegenParams.visitors[name];\n      if (visit) visit(name, node.arguments, scope, params);\n    });\n\n    // perform code generation\n    const gen = codeGenerator(ast);\n\n    // collect signal dependencies\n    gen.globals.forEach(name => {\n      const signalName = SignalPrefix + name;\n      if (!vegaUtil.hasOwnProperty(params, signalName) && scope.getSignal(name)) {\n        params[signalName] = scope.signalRef(name);\n      }\n    });\n\n    // return generated expression code and dependencies\n    return {\n      $expr: vegaUtil.extend({\n        code: gen.code\n      }, scope.options.ast ? {\n        ast\n      } : null),\n      $fields: gen.fields,\n      $params: params\n    };\n  }\n\n  exports.DataPrefix = DataPrefix;\n  exports.IndexPrefix = IndexPrefix;\n  exports.ScalePrefix = ScalePrefix;\n  exports.SignalPrefix = SignalPrefix;\n  exports.bandspace = bandspace;\n  exports.bandwidth = bandwidth;\n  exports.codeGenerator = codeGenerator;\n  exports.codegenParams = codegenParams;\n  exports.containerSize = containerSize;\n  exports.contrast = contrast;\n  exports.copy = copy;\n  exports.data = data;\n  exports.dataVisitor = dataVisitor;\n  exports.dayAbbrevFormat = dayAbbrevFormat;\n  exports.dayFormat = dayFormat;\n  exports.debug = debug;\n  exports.domain = domain;\n  exports.encode = encode;\n  exports.expressionFunction = expressionFunction;\n  exports.format = format;\n  exports.functionContext = functionContext;\n  exports.geoArea = geoArea;\n  exports.geoBounds = geoBounds;\n  exports.geoCentroid = geoCentroid;\n  exports.geoScale = geoScale;\n  exports.geoShape = geoShape;\n  exports.inScope = inScope;\n  exports.indata = indata;\n  exports.indataVisitor = indataVisitor;\n  exports.indexof = indexof;\n  exports.info = info;\n  exports.invert = invert;\n  exports.join = join;\n  exports.lastindexof = lastindexof;\n  exports.luminance = luminance;\n  exports.merge = merge;\n  exports.modify = modify;\n  exports.monthAbbrevFormat = monthAbbrevFormat;\n  exports.monthFormat = monthFormat;\n  exports.parseExpression = parser;\n  exports.pathShape = pathShape;\n  exports.pinchAngle = pinchAngle;\n  exports.pinchDistance = pinchDistance;\n  exports.pluck = pluck;\n  exports.range = range;\n  exports.replace = replace;\n  exports.reverse = reverse;\n  exports.scale = scale;\n  exports.scaleGradient = scaleGradient;\n  exports.scaleVisitor = scaleVisitor;\n  exports.screen = screen;\n  exports.setdata = setdata;\n  exports.slice = slice;\n  exports.sort = sort;\n  exports.timeFormat = timeFormat;\n  exports.timeParse = timeParse;\n  exports.treeAncestors = treeAncestors;\n  exports.treePath = treePath;\n  exports.utcFormat = utcFormat;\n  exports.utcParse = utcParse;\n  exports.warn = warn;\n  exports.windowSize = windowSize;\n\n}));\n\n};"],
"names":["shadow$provide","require","module","exports","global","factory","define","amd","globalThis","self","vega","vegaUtil","vegaExpression","vegaScale","vegaDataflow","vegaScenegraph","vegaSelections","vegaStatistics","vegaTime","data","name","context","values","value","indata","field","entry","index","get","undefined","count","setdata","tuples","df","dataflow","pulse","input","changeset","remove","truthy","insert","encode","item","retval","mark","source","time","month","day","specifier","Number","isInteger","dateObj","setYear","setMonth","setDate","timeFormat","call","monthFormat","monthAbbrevFormat","dayFormat","dayAbbrevFormat","dataVisitor","args","scope","params","type","Literal","error","dataName","DataPrefix","hasOwnProperty","getData","tuplesRef","err","indataVisitor","indexName","IndexPrefix","indataRef","scaleVisitor","addScaleDependency","scales","scaleName","ScalePrefix","scaleRef","getScale","nameOrFunction","ctx","isString","maybeScale","isRegisteredScale","isFunction","internalScaleFunctions","codegen","fnctx","visitors","__bandwidth","s","fnctx.__bandwidth","bandwidth","_bandwidth","_range","_scale","ref","arg","stringValue","asin","x","halfPi","Math","noop","streamGeometry","geometry","stream","streamGeometryType","streamLine","coordinates","closed","i","n","length","lineStart","coordinate","point","lineEnd","streamPolygon","polygonStart","polygonEnd","geoStream","object","streamObjectType","areaRingStart","areaStream","areaPointFirst","areaRingEnd","areaPoint","lambda00$2","phi00$2","lambda","phi","radians$1","lambda0$1","cosPhi0","cos","quarterPi","sinPhi0","sin","dLambda","sdLambda","adLambda","cosPhi","sinPhi","k","u","v","areaRingSum","add","atan2","cartesianCross","a","b","boundsPoint","ranges","push","range$1","lambda0","lambda1","phi0","phi1","linePoint","spherical","p0","normal","p","inflection","equatorial","l","sqrt","d","cartesian","delta","lambda2","sign","lambdai","degrees$1","antimeridian","abs","phii","angle","boundsLineStart","boundsStream","boundsLineEnd","boundsRingPoint","deltaSum","lambda00$1","phi00$1","boundsRingStart","boundsRingEnd","epsilon","rangeCompare","rangeContains","range","centroidPoint","centroidPointCartesian","y","z","W0","X0","Y0","Z0","centroidLineStart","centroidStream","centroidLinePointFirst","x0","y0","z0","centroidLinePoint","w","W1","X1","Y1","Z1","centroidLineEnd","centroidRingStart","centroidRingPointFirst","centroidRingEnd","centroidRingPoint","lambda00","phi00","cx","cy","cz","m","hypot","X2","Y2","Z2","geoMethod","methodName","globalMethod","projection","geojson","group","path","geoScale","scale","inScope","log","method","apply","concat","slice","warn","arguments","info","debug","constructor","prototype","extend","parent","definition","Object","create","key","Color","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","trim","toLowerCase","reHex","exec","parseInt","rgbn","Rgb","rgba","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","hsla","reHslaPercent","named","NaN","r","g","rgbConvert","o","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","max","min","round","toString","h","Hsl","hslConvert","hsl","clamph","clampt","hsl2rgb","m1","m2","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","Xn","Zn","lab","t","t3","pow","t2","t0","lab2xyz","t1","lrgb2rgb","hclConvert","c","degrees","hcl","radians","channel_luminance_value","channelValue","val","luminance","contrast","color1","color2","lum1","lum2","lumL","lumD","merge","unshift","equal","equalObject","removePredicate","props","_","modify","toggle","stamp","changes","_trigger","runAfter","modified","run","predicate","isArray","isTuple","some","pinchDistance","event","touches","clientX","clientY","pinchAngle","pluck","accessor","accessors","map","array","seq","ArrayBuffer","isView","sequence","join","indexof","indexOf","lastindexof","lastIndexOf","replace","str","pattern","repl","isRegExp","String","reverse","sort","ascending","bandspace","paddingInner","paddingOuter","bandSpace","copy","domain","invert","invertRange","invertExtent","scaleGradient","p1","gradient","Gradient","stops","peek","fraction","identity","scaleFraction","interpolator","interpolate","ticks","forEach","stop","geoShape","pathShape","pathRender","pathParse","treeNodes","tree","root","lookup","treePath","target","nodes","datum","treeAncestors","node","ancestors","screen","window","windowSize","innerWidth","innerHeight","containerSize","view","el","container","clientWidth","clientHeight","intersect","opt","box","set","Bounds","scene","scenegraph","filter","types","marktype","names","markname","expressionFunction","fn","visitor","functionContext","astVisitors","codeGenerator","functions","thisPrefix","wrap","spec","locale","utcFormat","timeParse","utcParse","Date","Adder","_partials","Float64Array","_n","j","hi","lo","valueOf","pi","PI","tau","Feature","FeatureCollection","features","Sphere","sphere","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection","geometries","areaSum","areaRing","geoArea","area","geoBounds","bounds","feature","merged","Infinity","deltaMax","geoCentroid","centroid","epsilon2","brighter","darker","RegExp","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","channels","assign","displayable","formatHex8","color_formatHex8","formatHsl","color_formatHsl","clamp","rgb_formatHex8","K","Yn","random","cumulativeNormal","cumulativeLogNormal","cumulativeUniform","densityNormal","densityLogNormal","densityUniform","quantileNormal","quantileLogNormal","quantileUniform","sampleNormal","sampleLogNormal","sampleUniform","isBoolean","isDate","isDefined","isNumber","isObject","isValid","toBoolean","toDate","toNumber","flush","lerp","pad","span","inrange","truncate","range$2","start","step","ceil","Array","utcOffset","utcSequence","timeOffset","timeSequence","timeUnitSpecifier","quarter","utcquarter","week","utcweek","dayofyear","utcdayofyear","extent","clampRange","panLinear","panLog","panPow","panSymlog","zoomLinear","zoomLog","zoomPow","zoomSymlog","lassoAppend","lasso","minDist","last","lassoPath","reduce","svg","intersectLasso","pixelLasso","unit","bb","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","px","py","x1","x2","y1","y2","translate","intersection","tuple","intersections","prevX","prevY","testy","testx","eventFunctions","codegenParams","forbidden","allowed","fieldvar","globalvar","id","SignalPrefix","buildFunctions","eventPrefix","constants","codegenExpression","selectionTest","selectionVisitor","selectionIdTest","selectionResolve","selectionTuples","parseExpression","parser","expr","ast","visit","CallExpression","callee","gen","globals","signalName","getSignal","signalRef","$expr","code","options","$fields","fields","$params"]
}
