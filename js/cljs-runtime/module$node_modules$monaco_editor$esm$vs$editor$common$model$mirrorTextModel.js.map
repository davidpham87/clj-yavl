{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$model$mirrorTextModel.js",
"lineCount":67,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/model/mirrorTextModel.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$model$mirrorTextModel\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, MirrorTextModel:{enumerable:true, get:function() {\n  return MirrorTextModel;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js = require(\"../../../base/common/strings.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js = require(\"../core/position.js\");\nvar require$_DOT__SLASH_prefixSumComputer_DOT_js = require(\"./prefixSumComputer.js\");\nclass MirrorTextModel {\n  constructor(uri, lines, eol, versionId) {\n    this._uri = uri;\n    this._lines = lines;\n    this._eol = eol;\n    this._versionId = versionId;\n    this._lineStarts = null;\n    this._cachedTextValue = null;\n  }\n  dispose() {\n    this._lines.length = 0;\n  }\n  get version() {\n    return this._versionId;\n  }\n  getText() {\n    if (this._cachedTextValue === null) {\n      this._cachedTextValue = this._lines.join(this._eol);\n    }\n    return this._cachedTextValue;\n  }\n  onEvents(e) {\n    if (e.eol && e.eol !== this._eol) {\n      this._eol = e.eol;\n      this._lineStarts = null;\n    }\n    const changes = e.changes;\n    for (const change of changes) {\n      this._acceptDeleteRange(change.range);\n      this._acceptInsertText(new require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position(change.range.startLineNumber, change.range.startColumn), change.text);\n    }\n    this._versionId = e.versionId;\n    this._cachedTextValue = null;\n  }\n  _ensureLineStarts() {\n    if (!this._lineStarts) {\n      const eolLength = this._eol.length;\n      const linesLength = this._lines.length;\n      const lineStartValues = new Uint32Array(linesLength);\n      for (let i = 0; i < linesLength; i++) {\n        lineStartValues[i] = this._lines[i].length + eolLength;\n      }\n      this._lineStarts = new require$_DOT__SLASH_prefixSumComputer_DOT_js.PrefixSumComputer(lineStartValues);\n    }\n  }\n  _setLineText(lineIndex, newValue) {\n    this._lines[lineIndex] = newValue;\n    if (this._lineStarts) {\n      this._lineStarts.setValue(lineIndex, this._lines[lineIndex].length + this._eol.length);\n    }\n  }\n  _acceptDeleteRange(range) {\n    if (range.startLineNumber === range.endLineNumber) {\n      if (range.startColumn === range.endColumn) {\n        return;\n      }\n      this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1) + this._lines[range.startLineNumber - 1].substring(range.endColumn - 1));\n      return;\n    }\n    this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1) + this._lines[range.endLineNumber - 1].substring(range.endColumn - 1));\n    this._lines.splice(range.startLineNumber, range.endLineNumber - range.startLineNumber);\n    if (this._lineStarts) {\n      this._lineStarts.removeValues(range.startLineNumber, range.endLineNumber - range.startLineNumber);\n    }\n  }\n  _acceptInsertText(position, insertText) {\n    if (insertText.length === 0) {\n      return;\n    }\n    const insertLines = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js.splitLines)(insertText);\n    if (insertLines.length === 1) {\n      this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1) + insertLines[0] + this._lines[position.lineNumber - 1].substring(position.column - 1));\n      return;\n    }\n    insertLines[insertLines.length - 1] += this._lines[position.lineNumber - 1].substring(position.column - 1);\n    this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1) + insertLines[0]);\n    const newLengths = new Uint32Array(insertLines.length - 1);\n    for (let i = 1; i < insertLines.length; i++) {\n      this._lines.splice(position.lineNumber + i - 1, 0, insertLines[i]);\n      newLengths[i - 1] = insertLines[i].length + this._eol.length;\n    }\n    if (this._lineStarts) {\n      this._lineStarts.insertValues(position.lineNumber, newLengths);\n    }\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","MirrorTextModel","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js","require$_DOT__SLASH_prefixSumComputer_DOT_js","constructor","uri","lines","eol","versionId","_uri","_lines","_eol","_versionId","_cachedTextValue","_lineStarts","dispose","length","getText","join","onEvents","e","changes","change","_acceptDeleteRange","range","_acceptInsertText","Position","startLineNumber","startColumn","text","_ensureLineStarts","eolLength","linesLength","lineStartValues","Uint32Array","i","PrefixSumComputer","_setLineText","lineIndex","newValue","setValue","endLineNumber","endColumn","substring","splice","removeValues","position","insertText","insertLines","splitLines","lineNumber","column","newLengths","insertValues"]
}
