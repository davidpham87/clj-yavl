shadow$provide.module$node_modules$monaco_editor$esm$vs$base$browser$iframe = function(require, module, exports) {
  function getParentWindowIfSameOrigin(w) {
    if (!w.parent || w.parent === w) {
      return null;
    }
    try {
      const location = w.location, parentLocation = w.parent.location;
      if (location.origin !== "null" && parentLocation.origin !== "null" && location.origin !== parentLocation.origin) {
        return null;
      }
    } catch (e) {
      return null;
    }
    return w.parent;
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, IframeUtils:{enumerable:!0, get:function() {
    return IframeUtils;
  }}});
  const sameOriginWindowChainCache = new WeakMap();
  class IframeUtils {
    static getSameOriginWindowChain(targetWindow) {
      let windowChainCache = sameOriginWindowChainCache.get(targetWindow);
      if (!windowChainCache) {
        windowChainCache = [];
        sameOriginWindowChainCache.set(targetWindow, windowChainCache);
        let parent;
        do {
          (parent = getParentWindowIfSameOrigin(targetWindow)) ? windowChainCache.push({window:new WeakRef(targetWindow), iframeElement:targetWindow.frameElement || null}) : windowChainCache.push({window:new WeakRef(targetWindow), iframeElement:null}), targetWindow = parent;
        } while (targetWindow);
      }
      return windowChainCache.slice(0);
    }
    static getPositionOfChildWindowRelativeToAncestorWindow(childWindow, ancestorWindow) {
      var _a, _b;
      if (!ancestorWindow || childWindow === ancestorWindow) {
        return {top:0, left:0};
      }
      let top = 0, left = 0;
      childWindow = this.getSameOriginWindowChain(childWindow);
      for (const windowChainEl of childWindow) {
        childWindow = windowChainEl.window.deref();
        top += (_a = childWindow === null || childWindow === void 0 ? void 0 : childWindow.scrollY) !== null && _a !== void 0 ? _a : 0;
        left += (_b = childWindow === null || childWindow === void 0 ? void 0 : childWindow.scrollX) !== null && _b !== void 0 ? _b : 0;
        if (childWindow === ancestorWindow) {
          break;
        }
        if (!windowChainEl.iframeElement) {
          break;
        }
        childWindow = windowChainEl.iframeElement.getBoundingClientRect();
        top += childWindow.top;
        left += childWindow.left;
      }
      return {top, left};
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$browser$iframe.js.map
