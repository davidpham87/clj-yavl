shadow$provide.module$node_modules$monaco_editor$esm$vs$platform$actions$browser$menuEntryActionViewItem = function(require, module, exports) {
  function createAndFillInContextMenuActions(menu, options, target, primaryGroup) {
    menu = menu.getActions(options);
    options = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.ModifierKeyEmitter.getInstance();
    fillInActions(menu, target, options.keyStatus.altKey || (require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js.isWindows || require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js.isLinux) && options.keyStatus.shiftKey, primaryGroup ? actionGroup => actionGroup === primaryGroup : actionGroup => actionGroup === "navigation");
  }
  function createAndFillInActionBarActions(menu, options, target, primaryGroup, shouldInlineSubmenu, useSeparatorsInPrimaryActions) {
    menu = menu.getActions(options);
    fillInActions(menu, target, !1, typeof primaryGroup === "string" ? actionGroup => actionGroup === primaryGroup : primaryGroup, shouldInlineSubmenu, useSeparatorsInPrimaryActions);
  }
  function fillInActions(groups, target, useAlternativeActions, isPrimaryAction = actionGroup => actionGroup === "navigation", shouldInlineSubmenu = () => !1, useSeparatorsInPrimaryActions = !1) {
    let primaryBucket;
    Array.isArray(target) ? primaryBucket = target : (primaryBucket = target.primary, target = target.secondary);
    const submenuInfo = new Set();
    for (const [group, actions] of groups) {
      isPrimaryAction(group) ? (groups = primaryBucket, groups.length > 0 && useSeparatorsInPrimaryActions && groups.push(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.Separator())) : (groups = target, groups.length > 0 && groups.push(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.Separator()));
      for (let action of actions) {
        useAlternativeActions && (action = action instanceof require$_DOT__DOT__SLASH_common_SLASH_actions_DOT_js.MenuItemAction && action.alt ? action.alt : action);
        const newLen = groups.push(action);
        action instanceof require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.SubmenuAction && submenuInfo.add({group, action, index:newLen - 1});
      }
    }
    for (const {group, action, index} of submenuInfo) {
      useAlternativeActions = isPrimaryAction(group) ? primaryBucket : target, useSeparatorsInPrimaryActions = action.actions, shouldInlineSubmenu(action, group, useAlternativeActions.length) && useAlternativeActions.splice(index, 1, ...useSeparatorsInPrimaryActions);
    }
  }
  function createActionViewItem(instaService, action, options) {
    if (action instanceof require$_DOT__DOT__SLASH_common_SLASH_actions_DOT_js.MenuItemAction) {
      return instaService.createInstance(MenuEntryActionViewItem, action, options);
    }
    if (action instanceof require$_DOT__DOT__SLASH_common_SLASH_actions_DOT_js.SubmenuItemAction) {
      return action.item.isSelection ? instaService.createInstance(SubmenuEntrySelectActionViewItem, action) : action.item.rememberDefaultAction ? instaService.createInstance(DropdownWithDefaultActionViewItem, action, {...options, persistLastActionId:!0}) : instaService.createInstance(SubmenuEntryActionViewItem, action, options);
    }
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, DropdownWithDefaultActionViewItem:{enumerable:!0, get:function() {
    return DropdownWithDefaultActionViewItem;
  }}, MenuEntryActionViewItem:{enumerable:!0, get:function() {
    return MenuEntryActionViewItem;
  }}, SubmenuEntryActionViewItem:{enumerable:!0, get:function() {
    return SubmenuEntryActionViewItem;
  }}, createActionViewItem:{enumerable:!0, get:function() {
    return createActionViewItem;
  }}, createAndFillInActionBarActions:{enumerable:!0, get:function() {
    return createAndFillInActionBarActions;
  }}, createAndFillInContextMenuActions:{enumerable:!0, get:function() {
    return createAndFillInContextMenuActions;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$keyboardEvent");
  module = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$actionbar$actionViewItems");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_dropdown_SLASH_dropdownActionViewItem_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$dropdown$dropdownActionViewItem"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$actions"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_keybindingLabels_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$common$keybindingLabels"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$platform");
  require("module$node_modules$monaco_editor$esm$vs$platform$actions$browser$menuEntryActionViewItem_css");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js = require("module$node_modules$monaco_editor$esm$vs$nls"), require$_DOT__DOT__SLASH_common_SLASH_actions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$actions$common$actions"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_action_SLASH_common_SLASH_action_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$action$common$action");
  exports = require("module$node_modules$monaco_editor$esm$vs$platform$contextkey$common$contextkey");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextview_SLASH_browser_SLASH_contextView_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$contextview$browser$contextView"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_instantiation_SLASH_common_SLASH_instantiation_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$instantiation$common$instantiation"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_keybinding_SLASH_common_SLASH_keybinding_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$keybinding$common$keybinding"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH_notification_SLASH_common_SLASH_notification_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$notification$common$notification"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_storage_SLASH_common_SLASH_storage_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$storage$common$storage"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_themeService_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$themeService"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$themables"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_theme_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$theme"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$types"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_colorRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$colorRegistry"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_browser_SLASH_defaultStyles_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$browser$defaultStyles");
  require = require("module$node_modules$monaco_editor$esm$vs$platform$accessibility$common$accessibility");
  var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  }, __param = this && this.__param || function(paramIndex, decorator) {
    return function(target, key) {
      decorator(target, key, paramIndex);
    };
  };
  let MenuEntryActionViewItem = class extends module.ActionViewItem {
    constructor(action, options, _keybindingService, _notificationService, _contextKeyService, _themeService, _contextMenuService, _accessibilityService) {
      super(void 0, action, {icon:!(!action.class && !action.item.icon), label:!action.class && !action.item.icon, draggable:options === null || options === void 0 ? void 0 : options.draggable, keybinding:options === null || options === void 0 ? void 0 : options.keybinding, hoverDelegate:options === null || options === void 0 ? void 0 : options.hoverDelegate});
      this._keybindingService = _keybindingService;
      this._notificationService = _notificationService;
      this._contextKeyService = _contextKeyService;
      this._themeService = _themeService;
      this._contextMenuService = _contextMenuService;
      this._accessibilityService = _accessibilityService;
      this._wantsAltCommand = !1;
      this._itemClassDispose = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.MutableDisposable());
      this._altKey = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.ModifierKeyEmitter.getInstance();
    }
    get _menuItemAction() {
      return this._action;
    }
    get _commandAction() {
      return this._wantsAltCommand && this._menuItemAction.alt || this._menuItemAction;
    }
    async onClick(event) {
      event.preventDefault();
      event.stopPropagation();
      try {
        await this.actionRunner.run(this._commandAction, this._context);
      } catch (err) {
        this._notificationService.error(err);
      }
    }
    render(container) {
      super.render(container);
      container.classList.add("menu-entry");
      this.options.icon && this._updateItemClass(this._menuItemAction.item);
      if (this._menuItemAction.alt) {
        let isMouseOver = !1;
        const updateAltState = () => {
          var _a;
          const wantsAltCommand = !((_a = this._menuItemAction.alt) === null || _a === void 0 || !_a.enabled) && (!this._accessibilityService.isMotionReduced() || isMouseOver) && (this._altKey.keyStatus.altKey || this._altKey.keyStatus.shiftKey && isMouseOver);
          wantsAltCommand !== this._wantsAltCommand && (this._wantsAltCommand = wantsAltCommand, this.updateLabel(), this.updateTooltip(), this.updateClass());
        };
        this._register(this._altKey.event(updateAltState));
        this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(container, "mouseleave", _ => {
          isMouseOver = !1;
          updateAltState();
        }));
        this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(container, "mouseenter", _ => {
          isMouseOver = !0;
          updateAltState();
        }));
        updateAltState();
      }
    }
    updateLabel() {
      this.options.label && this.label && (this.label.textContent = this._commandAction.label);
    }
    getTooltip() {
      var _a, keybinding = this._keybindingService.lookupKeybinding(this._commandAction.id, this._contextKeyService);
      keybinding = keybinding && keybinding.getLabel();
      var tooltip = this._commandAction.tooltip || this._commandAction.label;
      keybinding = keybinding ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)("titleAndKb", "{0} ({1})", tooltip, keybinding) : tooltip;
      !this._wantsAltCommand && ((_a = this._menuItemAction.alt) === null || _a === void 0 ? 0 : _a.enabled) && (_a = this._menuItemAction.alt.tooltip || this._menuItemAction.alt.label, _a = (tooltip = (tooltip = this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id, this._contextKeyService)) && tooltip.getLabel()) ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)("titleAndKb", "{0} ({1})", _a, tooltip) : _a, keybinding = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)("titleAndKbAndAlt", 
      "{0}\n[{1}] {2}", keybinding, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_keybindingLabels_DOT_js.UILabelProvider.modifierLabels[require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js.OS].altKey, _a));
      return keybinding;
    }
    updateClass() {
      this.options.icon && (this._commandAction !== this._menuItemAction ? this._menuItemAction.alt && this._updateItemClass(this._menuItemAction.alt.item) : this._updateItemClass(this._menuItemAction.item));
    }
    _updateItemClass(item) {
      this._itemClassDispose.value = void 0;
      const {element, label} = this;
      if (element && label && (item = this._commandAction.checked && (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_action_SLASH_common_SLASH_action_DOT_js.isICommandActionToggleInfo)(item.toggled) && item.toggled.icon ? item.toggled.icon : item.icon)) {
        if (require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js.ThemeIcon.isThemeIcon(item)) {
          const iconClasses = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js.ThemeIcon.asClassNameArray(item);
          label.classList.add(...iconClasses);
          this._itemClassDispose.value = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.toDisposable)(() => {
            label.classList.remove(...iconClasses);
          });
        } else {
          label.style.backgroundImage = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_theme_DOT_js.isDark)(this._themeService.getColorTheme().type) ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.asCSSUrl)(item.dark) : (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.asCSSUrl)(item.light), label.classList.add("icon"), this._itemClassDispose.value = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.combinedDisposable)((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.toDisposable)(() => 
          {
            label.style.backgroundImage = "";
            label.classList.remove("icon");
          }), this._themeService.onDidColorThemeChange(() => {
            this.updateClass();
          }));
        }
      }
    }
  };
  MenuEntryActionViewItem = __decorate([__param(2, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_keybinding_SLASH_common_SLASH_keybinding_DOT_js.IKeybindingService), __param(3, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_notification_SLASH_common_SLASH_notification_DOT_js.INotificationService), __param(4, exports.IContextKeyService), __param(5, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_themeService_DOT_js.IThemeService), __param(6, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextview_SLASH_browser_SLASH_contextView_DOT_js.IContextMenuService), 
  __param(7, require.IAccessibilityService)], MenuEntryActionViewItem);
  let SubmenuEntryActionViewItem = class extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_dropdown_SLASH_dropdownActionViewItem_DOT_js.DropdownMenuActionViewItem {
    constructor(action, options, _keybindingService, _contextMenuService, _themeService) {
      var _a, _b, _c;
      const dropdownOptions = {...options, menuAsChild:(_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : !1, classNames:(_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js.ThemeIcon.isThemeIcon(action.item.icon) ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js.ThemeIcon.asClassName(action.item.icon) : 
      void 0, keybindingProvider:(_c = options === null || options === void 0 ? void 0 : options.keybindingProvider) !== null && _c !== void 0 ? _c : action => _keybindingService.lookupKeybinding(action.id)};
      super(action, {getActions:() => action.actions}, _contextMenuService, dropdownOptions);
      this._keybindingService = _keybindingService;
      this._contextMenuService = _contextMenuService;
      this._themeService = _themeService;
    }
    render(container) {
      super.render(container);
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_types_DOT_js.assertType)(this.element);
      container.classList.add("menu-entry");
      const {icon} = this._action.item;
      if (icon && !require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js.ThemeIcon.isThemeIcon(icon)) {
        this.element.classList.add("icon");
        const setBackgroundImage = () => {
          this.element && (this.element.style.backgroundImage = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_theme_DOT_js.isDark)(this._themeService.getColorTheme().type) ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.asCSSUrl)(icon.dark) : (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.asCSSUrl)(icon.light));
        };
        setBackgroundImage();
        this._register(this._themeService.onDidColorThemeChange(() => {
          setBackgroundImage();
        }));
      }
    }
  };
  SubmenuEntryActionViewItem = __decorate([__param(2, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_keybinding_SLASH_common_SLASH_keybinding_DOT_js.IKeybindingService), __param(3, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextview_SLASH_browser_SLASH_contextView_DOT_js.IContextMenuService), __param(4, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_themeService_DOT_js.IThemeService)], SubmenuEntryActionViewItem);
  let DropdownWithDefaultActionViewItem = class extends module.BaseActionViewItem {
    constructor(submenuAction, options, _keybindingService, _notificationService, _contextMenuService, _menuService, _instaService, _storageService) {
      var _a, _b, _c;
      super(null, submenuAction);
      this._keybindingService = _keybindingService;
      this._notificationService = _notificationService;
      this._contextMenuService = _contextMenuService;
      this._menuService = _menuService;
      this._instaService = _instaService;
      this._storageService = _storageService;
      this._container = null;
      this._options = options;
      this._storageKey = `${submenuAction.item.submenu.id}_lastActionId`;
      let defaultAction;
      const defaultActionId = (options === null || options === void 0 ? 0 : options.persistLastActionId) ? _storageService.get(this._storageKey, 1) : void 0;
      defaultActionId && (defaultAction = submenuAction.actions.find(a => defaultActionId === a.id));
      defaultAction ||= submenuAction.actions[0];
      this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, defaultAction, {keybinding:this._getDefaultActionKeybindingLabel(defaultAction)});
      _keybindingService = {keybindingProvider:action => this._keybindingService.lookupKeybinding(action.id), ...options, menuAsChild:(_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : !0, classNames:(_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : ["codicon", "codicon-chevron-down"], actionRunner:(_c = options === null || options === void 0 ? void 0 : options.actionRunner) !== null && 
      _c !== void 0 ? _c : new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.ActionRunner()};
      this._dropdown = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_dropdown_SLASH_dropdownActionViewItem_DOT_js.DropdownMenuActionViewItem(submenuAction, submenuAction.actions, this._contextMenuService, _keybindingService);
      this._dropdown.actionRunner.onDidRun(e => {
        e.action instanceof require$_DOT__DOT__SLASH_common_SLASH_actions_DOT_js.MenuItemAction && this.update(e.action);
      });
    }
    update(lastAction) {
      var _a;
      ((_a = this._options) === null || _a === void 0 ? 0 : _a.persistLastActionId) && this._storageService.store(this._storageKey, lastAction.id, 1, 1);
      this._defaultAction.dispose();
      this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, lastAction, {keybinding:this._getDefaultActionKeybindingLabel(lastAction)});
      this._defaultAction.actionRunner = new class extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.ActionRunner {
        async runAction(action, context) {
          await action.run(void 0);
        }
      }();
      this._container && this._defaultAction.render((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.prepend)(this._container, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.$)(".action-container")));
    }
    _getDefaultActionKeybindingLabel(defaultAction) {
      var _a;
      let defaultActionKeybinding;
      ((_a = this._options) === null || _a === void 0 ? 0 : _a.renderKeybindingWithDefaultActionLabel) && (defaultAction = this._keybindingService.lookupKeybinding(defaultAction.id)) && (defaultActionKeybinding = `(${defaultAction.getLabel()})`);
      return defaultActionKeybinding;
    }
    setActionContext(newContext) {
      super.setActionContext(newContext);
      this._defaultAction.setActionContext(newContext);
      this._dropdown.setActionContext(newContext);
    }
    render(container) {
      this._container = container;
      super.render(this._container);
      this._container.classList.add("monaco-dropdown-with-default");
      container = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.$)(".action-container");
      this._defaultAction.render((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.append)(this._container, container));
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(container, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.EventType.KEY_DOWN, e => {
        e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(e);
        e.equals(17) && (this._defaultAction.element.tabIndex = -1, this._dropdown.focus(), e.stopPropagation());
      }));
      container = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.$)(".dropdown-action-container");
      this._dropdown.render((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.append)(this._container, container));
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(container, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.EventType.KEY_DOWN, e => {
        var _a;
        e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(e);
        e.equals(15) && (this._defaultAction.element.tabIndex = 0, this._dropdown.setFocusable(!1), (_a = this._defaultAction.element) === null || _a === void 0 || _a.focus(), e.stopPropagation());
      }));
    }
    focus(fromRight) {
      fromRight ? this._dropdown.focus() : (this._defaultAction.element.tabIndex = 0, this._defaultAction.element.focus());
    }
    blur() {
      this._defaultAction.element.tabIndex = -1;
      this._dropdown.blur();
      this._container.blur();
    }
    setFocusable(focusable) {
      focusable ? this._defaultAction.element.tabIndex = 0 : (this._defaultAction.element.tabIndex = -1, this._dropdown.setFocusable(!1));
    }
    dispose() {
      this._defaultAction.dispose();
      this._dropdown.dispose();
      super.dispose();
    }
  };
  DropdownWithDefaultActionViewItem = __decorate([__param(2, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_keybinding_SLASH_common_SLASH_keybinding_DOT_js.IKeybindingService), __param(3, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_notification_SLASH_common_SLASH_notification_DOT_js.INotificationService), __param(4, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextview_SLASH_browser_SLASH_contextView_DOT_js.IContextMenuService), __param(5, require$_DOT__DOT__SLASH_common_SLASH_actions_DOT_js.IMenuService), 
  __param(6, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_instantiation_SLASH_common_SLASH_instantiation_DOT_js.IInstantiationService), __param(7, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_storage_SLASH_common_SLASH_storage_DOT_js.IStorageService)], DropdownWithDefaultActionViewItem);
  let SubmenuEntrySelectActionViewItem = class extends module.SelectActionViewItem {
    constructor(action, contextViewService) {
      super(null, action, action.actions.map(a => ({text:a.id === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.Separator.ID ? "─────────" : a.label, isDisabled:!a.enabled})), 0, contextViewService, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_browser_SLASH_defaultStyles_DOT_js.defaultSelectBoxStyles, {ariaLabel:action.tooltip, optionsAsChildren:!0});
      this.select(Math.max(0, action.actions.findIndex(a => a.checked)));
    }
    render(container) {
      super.render(container);
      container.style.borderColor = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_colorRegistry_DOT_js.asCssVariable)(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_colorRegistry_DOT_js.selectBorder);
    }
    runAction(option, index) {
      (option = this.action.actions[index]) && this.actionRunner.run(option);
    }
  };
  SubmenuEntrySelectActionViewItem = __decorate([__param(1, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextview_SLASH_browser_SLASH_contextView_DOT_js.IContextViewService)], SubmenuEntrySelectActionViewItem);
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$platform$actions$browser$menuEntryActionViewItem.js.map
