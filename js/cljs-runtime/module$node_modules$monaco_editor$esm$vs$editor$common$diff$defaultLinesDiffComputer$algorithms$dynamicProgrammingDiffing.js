shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$algorithms$dynamicProgrammingDiffing = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, DynamicProgrammingDiffing:{enumerable:!0, get:function() {
    return DynamicProgrammingDiffing;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$offsetRange"), require$_DOT__SLASH_diffAlgorithm_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$algorithms$diffAlgorithm"), require$_DOT__DOT__SLASH_utils_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$utils");
  class DynamicProgrammingDiffing {
    compute(sequence1, sequence2, timeout = require$_DOT__SLASH_diffAlgorithm_DOT_js.InfiniteTimeout.instance, equalityScore) {
      function reportDecreasingAligningPositions(s1, s2) {
        s1 + 1 === lastAligningPosS1 && s2 + 1 === lastAligningPosS2 || result.push(new require$_DOT__SLASH_diffAlgorithm_DOT_js.SequenceDiff(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(s1 + 1, lastAligningPosS1), new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(s2 + 1, lastAligningPosS2)));
        lastAligningPosS1 = s1;
        lastAligningPosS2 = s2;
      }
      if (sequence1.length === 0 || sequence2.length === 0) {
        return require$_DOT__SLASH_diffAlgorithm_DOT_js.DiffAlgorithmResult.trivial(sequence1, sequence2);
      }
      const lcsLengths = new require$_DOT__DOT__SLASH_utils_DOT_js.Array2D(sequence1.length, sequence2.length), directions = new require$_DOT__DOT__SLASH_utils_DOT_js.Array2D(sequence1.length, sequence2.length), lengths = new require$_DOT__DOT__SLASH_utils_DOT_js.Array2D(sequence1.length, sequence2.length);
      for (let s1 = 0; s1 < sequence1.length; s1++) {
        for (let s2 = 0; s2 < sequence2.length; s2++) {
          if (!timeout.isValid()) {
            return require$_DOT__SLASH_diffAlgorithm_DOT_js.DiffAlgorithmResult.trivialTimedOut(sequence1, sequence2);
          }
          var horizontalLen = s1 === 0 ? 0 : lcsLengths.get(s1 - 1, s2);
          const verticalLen = s2 === 0 ? 0 : lcsLengths.get(s1, s2 - 1);
          let extendedSeqScore;
          sequence1.getElement(s1) === sequence2.getElement(s2) ? (extendedSeqScore = s1 === 0 || s2 === 0 ? 0 : lcsLengths.get(s1 - 1, s2 - 1), s1 > 0 && s2 > 0 && directions.get(s1 - 1, s2 - 1) === 3 && (extendedSeqScore += lengths.get(s1 - 1, s2 - 1)), extendedSeqScore += equalityScore ? equalityScore(s1, s2) : 1) : extendedSeqScore = -1;
          const newValue = Math.max(horizontalLen, verticalLen, extendedSeqScore);
          newValue === extendedSeqScore ? (horizontalLen = s1 > 0 && s2 > 0 ? lengths.get(s1 - 1, s2 - 1) : 0, lengths.set(s1, s2, horizontalLen + 1), directions.set(s1, s2, 3)) : newValue === horizontalLen ? (lengths.set(s1, s2, 0), directions.set(s1, s2, 1)) : newValue === verticalLen && (lengths.set(s1, s2, 0), directions.set(s1, s2, 2));
          lcsLengths.set(s1, s2, newValue);
        }
      }
      const result = [];
      let lastAligningPosS1 = sequence1.length, lastAligningPosS2 = sequence2.length;
      sequence1 = sequence1.length - 1;
      for (sequence2 = sequence2.length - 1; sequence1 >= 0 && sequence2 >= 0;) {
        directions.get(sequence1, sequence2) === 3 ? (reportDecreasingAligningPositions(sequence1, sequence2), sequence1--, sequence2--) : directions.get(sequence1, sequence2) === 1 ? sequence1-- : sequence2--;
      }
      reportDecreasingAligningPositions(-1, -1);
      result.reverse();
      return new require$_DOT__SLASH_diffAlgorithm_DOT_js.DiffAlgorithmResult(result, !1);
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$algorithms$dynamicProgrammingDiffing.js.map
