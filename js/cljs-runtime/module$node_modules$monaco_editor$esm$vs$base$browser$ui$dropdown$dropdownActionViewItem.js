shadow$provide.module$node_modules$monaco_editor$esm$vs$base$browser$ui$dropdown$dropdownActionViewItem = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, DropdownMenuActionViewItem:{enumerable:!0, get:function() {
    return DropdownMenuActionViewItem;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom");
  module = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$actionbar$actionViewItems");
  var require$_DOT__SLASH_dropdown_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$dropdown$dropdown"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$dropdown$dropdown_css");
  class DropdownMenuActionViewItem extends module.BaseActionViewItem {
    constructor(action, menuActionsOrProvider, contextMenuProvider, options = Object.create(null)) {
      super(null, action, options);
      this.actionItem = null;
      this._onDidChangeVisibility = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidChangeVisibility = this._onDidChangeVisibility.event;
      this.menuActionsOrProvider = menuActionsOrProvider;
      this.contextMenuProvider = contextMenuProvider;
      this.options = options;
      this.options.actionRunner && (this.actionRunner = this.options.actionRunner);
    }
    render(container) {
      this.actionItem = container;
      const isActionsArray = Array.isArray(this.menuActionsOrProvider);
      this.dropdownMenu = this._register(new require$_DOT__SLASH_dropdown_DOT_js.DropdownMenu(container, {contextMenuProvider:this.contextMenuProvider, labelRenderer:el => {
        this.element = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.append)(el, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.$)("a.action-label"));
        el = [];
        typeof this.options.classNames === "string" ? el = this.options.classNames.split(/\s+/g).filter(s => !!s) : this.options.classNames && (el = this.options.classNames);
        el.find(c => c === "icon") || el.push("codicon");
        this.element.classList.add(...el);
        this.element.setAttribute("role", "button");
        this.element.setAttribute("aria-haspopup", "true");
        this.element.setAttribute("aria-expanded", "false");
        this.element.title = this._action.label || "";
        this.element.ariaLabel = this._action.label || "";
        return null;
      }, menuAsChild:this.options.menuAsChild, actions:isActionsArray ? this.menuActionsOrProvider : void 0, actionProvider:isActionsArray ? void 0 : this.menuActionsOrProvider, skipTelemetry:this.options.skipTelemetry}));
      this._register(this.dropdownMenu.onDidChangeVisibility(visible => {
        var _a;
        (_a = this.element) === null || _a === void 0 || _a.setAttribute("aria-expanded", `${visible}`);
        this._onDidChangeVisibility.fire(visible);
      }));
      this.dropdownMenu.menuOptions = {actionViewItemProvider:this.options.actionViewItemProvider, actionRunner:this.actionRunner, getKeyBinding:this.options.keybindingProvider, context:this._context};
      if (this.options.anchorAlignmentProvider) {
        const that = this;
        this.dropdownMenu.menuOptions = {...this.dropdownMenu.menuOptions, get anchorAlignment() {
          return that.options.anchorAlignmentProvider();
        }};
      }
      this.updateTooltip();
      this.updateEnabled();
    }
    getTooltip() {
      let title = null;
      this.action.tooltip ? title = this.action.tooltip : this.action.label && (title = this.action.label);
      return title !== null && title !== void 0 ? title : void 0;
    }
    setActionContext(newContext) {
      super.setActionContext(newContext);
      this.dropdownMenu && (this.dropdownMenu.menuOptions ? this.dropdownMenu.menuOptions.context = newContext : this.dropdownMenu.menuOptions = {context:newContext});
    }
    show() {
      var _a;
      (_a = this.dropdownMenu) === null || _a === void 0 || _a.show();
    }
    updateEnabled() {
      var _a, _b;
      const disabled = !this.action.enabled;
      (_a = this.actionItem) === null || _a === void 0 || _a.classList.toggle("disabled", disabled);
      (_b = this.element) === null || _b === void 0 || _b.classList.toggle("disabled", disabled);
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$browser$ui$dropdown$dropdownActionViewItem.js.map
