shadow$provide.module$node_modules$monaco_editor$esm$vs$base$browser$ui$inputbox$inputBox = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, HistoryInputBox:{enumerable:!0, get:function() {
    return HistoryInputBox;
  }}, InputBox:{enumerable:!0, get:function() {
    return InputBox;
  }}, unthemedInboxStyles:{enumerable:!0, get:function() {
    return unthemedInboxStyles;
  }}});
  var dom = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_formattedTextRenderer_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$formattedTextRenderer"), require$_DOT__DOT__SLASH_actionbar_SLASH_actionbar_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$actionbar$actionbar"), 
  aria = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$aria$aria"), require$_DOT__DOT__SLASH_scrollbar_SLASH_scrollableElement_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$scrollbar$scrollableElement");
  module = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$widget");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_history_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$history"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_objects_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$objects");
  require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$inputbox$inputBox_css");
  var nls = require("module$node_modules$monaco_editor$esm$vs$nls");
  const $ = dom.$, unthemedInboxStyles = {inputBackground:"#3C3C3C", inputForeground:"#CCCCCC", inputValidationInfoBorder:"#55AAFF", inputValidationInfoBackground:"#063B49", inputValidationWarningBorder:"#B89500", inputValidationWarningBackground:"#352A05", inputValidationErrorBorder:"#BE1100", inputValidationErrorBackground:"#5A1D1D", inputBorder:void 0, inputValidationErrorForeground:void 0, inputValidationInfoForeground:void 0, inputValidationWarningForeground:void 0};
  class InputBox extends module.Widget {
    constructor(container, contextViewProvider, options) {
      var _a;
      super();
      this.state = "idle";
      this.maxHeight = Number.POSITIVE_INFINITY;
      this._onDidChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidChange = this._onDidChange.event;
      this._onDidHeightChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidHeightChange = this._onDidHeightChange.event;
      this.contextViewProvider = contextViewProvider;
      this.options = options;
      this.message = null;
      this.placeholder = this.options.placeholder || "";
      this.tooltip = (_a = this.options.tooltip) !== null && _a !== void 0 ? _a : this.placeholder || "";
      this.ariaLabel = this.options.ariaLabel || "";
      this.options.validationOptions && (this.validation = this.options.validationOptions.validation);
      this.element = dom.append(container, $(".monaco-inputbox.idle"));
      contextViewProvider = this.options.flexibleHeight ? "textarea" : "input";
      const wrapper = dom.append(this.element, $(".ibwrapper"));
      this.input = dom.append(wrapper, $(contextViewProvider + ".input.empty"));
      this.input.setAttribute("autocorrect", "off");
      this.input.setAttribute("autocapitalize", "off");
      this.input.setAttribute("spellcheck", "false");
      this.onfocus(this.input, () => this.element.classList.add("synthetic-focus"));
      this.onblur(this.input, () => this.element.classList.remove("synthetic-focus"));
      this.options.flexibleHeight ? (this.maxHeight = typeof this.options.flexibleMaxHeight === "number" ? this.options.flexibleMaxHeight : Number.POSITIVE_INFINITY, this.mirror = dom.append(wrapper, $("div.mirror")), this.mirror.innerText = " ", this.scrollableElement = new require$_DOT__DOT__SLASH_scrollbar_SLASH_scrollableElement_DOT_js.ScrollableElement(this.element, {vertical:1}), this.options.flexibleWidth && (this.input.setAttribute("wrap", "off"), this.mirror.style.whiteSpace = "pre", this.mirror.style.wordWrap = 
      "initial"), dom.append(container, this.scrollableElement.getDomNode()), this._register(this.scrollableElement), this._register(this.scrollableElement.onScroll(e => this.input.scrollTop = e.scrollTop)), contextViewProvider = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_event_DOT_js.DomEmitter(container.ownerDocument, "selectionchange")), contextViewProvider = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Event.filter(contextViewProvider.event, 
      () => {
        const selection = container.ownerDocument.getSelection();
        return (selection === null || selection === void 0 ? void 0 : selection.anchorNode) === wrapper;
      }), this._register(contextViewProvider(this.updateScrollDimensions, this)), this._register(this.onDidHeightChange(this.updateScrollDimensions, this))) : (this.input.type = this.options.type || "text", this.input.setAttribute("wrap", "off"));
      this.ariaLabel && this.input.setAttribute("aria-label", this.ariaLabel);
      this.placeholder && !this.options.showPlaceholderOnFocus && this.setPlaceHolder(this.placeholder);
      this.tooltip && this.setTooltip(this.tooltip);
      this.oninput(this.input, () => this.onValueChange());
      this.onblur(this.input, () => this.onBlur());
      this.onfocus(this.input, () => this.onFocus());
      this._register(this.ignoreGesture(this.input));
      setTimeout(() => this.updateMirror(), 0);
      this.options.actions && (this.actionbar = this._register(new require$_DOT__DOT__SLASH_actionbar_SLASH_actionbar_DOT_js.ActionBar(this.element)), this.actionbar.push(this.options.actions, {icon:!0, label:!1}));
      this.applyStyles();
    }
    onBlur() {
      this._hideMessage();
      this.options.showPlaceholderOnFocus && this.input.setAttribute("placeholder", "");
    }
    onFocus() {
      this._showMessage();
      this.options.showPlaceholderOnFocus && this.input.setAttribute("placeholder", this.placeholder || "");
    }
    setPlaceHolder(placeHolder) {
      this.placeholder = placeHolder;
      this.input.setAttribute("placeholder", placeHolder);
    }
    setTooltip(tooltip) {
      this.tooltip = tooltip;
      this.input.title = tooltip;
    }
    get inputElement() {
      return this.input;
    }
    get value() {
      return this.input.value;
    }
    set value(newValue) {
      this.input.value !== newValue && (this.input.value = newValue, this.onValueChange());
    }
    get height() {
      return typeof this.cachedHeight === "number" ? this.cachedHeight : dom.getTotalHeight(this.element);
    }
    focus() {
      this.input.focus();
    }
    blur() {
      this.input.blur();
    }
    hasFocus() {
      return dom.isActiveElement(this.input);
    }
    select(range = null) {
      this.input.select();
      range && (this.input.setSelectionRange(range.start, range.end), range.end === this.input.value.length && (this.input.scrollLeft = this.input.scrollWidth));
    }
    isSelectionAtEnd() {
      return this.input.selectionEnd === this.input.value.length && this.input.selectionStart === this.input.selectionEnd;
    }
    enable() {
      this.input.removeAttribute("disabled");
    }
    disable() {
      this.blur();
      this.input.disabled = !0;
      this._hideMessage();
    }
    set paddingRight(paddingRight) {
      this.input.style.width = `calc(100% - ${paddingRight}px)`;
      this.mirror && (this.mirror.style.paddingRight = paddingRight + "px");
    }
    updateScrollDimensions() {
      if (typeof this.cachedContentHeight === "number" && typeof this.cachedHeight === "number" && this.scrollableElement) {
        var scrollTop = this.input.scrollTop;
        this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight, height:this.cachedHeight});
        this.scrollableElement.setScrollPosition({scrollTop});
      }
    }
    showMessage(message, force) {
      this.state === "open" && (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_objects_DOT_js.equals)(this.message, message) || (this.message = message, this.element.classList.remove("idle"), this.element.classList.remove("info"), this.element.classList.remove("warning"), this.element.classList.remove("error"), this.element.classList.add(this.classForType(message.type)), message = this.stylesForType(this.message.type), this.element.style.border = `1px solid ${dom.asCssValueWithDefault(message.border, 
      "transparent")}`, this.message.content && (this.hasFocus() || force) && this._showMessage());
    }
    hideMessage() {
      this.message = null;
      this.element.classList.remove("info");
      this.element.classList.remove("warning");
      this.element.classList.remove("error");
      this.element.classList.add("idle");
      this._hideMessage();
      this.applyStyles();
    }
    validate() {
      let errorMsg = null;
      this.validation && ((errorMsg = this.validation(this.value)) ? (this.inputElement.setAttribute("aria-invalid", "true"), this.showMessage(errorMsg)) : this.inputElement.hasAttribute("aria-invalid") && (this.inputElement.removeAttribute("aria-invalid"), this.hideMessage()));
      return errorMsg === null || errorMsg === void 0 ? void 0 : errorMsg.type;
    }
    stylesForType(type) {
      const styles = this.options.inputBoxStyles;
      switch(type) {
        case 1:
          return {border:styles.inputValidationInfoBorder, background:styles.inputValidationInfoBackground, foreground:styles.inputValidationInfoForeground};
        case 2:
          return {border:styles.inputValidationWarningBorder, background:styles.inputValidationWarningBackground, foreground:styles.inputValidationWarningForeground};
        default:
          return {border:styles.inputValidationErrorBorder, background:styles.inputValidationErrorBackground, foreground:styles.inputValidationErrorForeground};
      }
    }
    classForType(type) {
      switch(type) {
        case 1:
          return "info";
        case 2:
          return "warning";
        default:
          return "error";
      }
    }
    _showMessage() {
      if (this.contextViewProvider && this.message) {
        var div, layout = () => div.style.width = dom.getTotalWidth(this.element) + "px";
        this.contextViewProvider.showContextView({getAnchor:() => this.element, anchorAlignment:1, render:container => {
          var _a, _b;
          if (!this.message) {
            return null;
          }
          div = dom.append(container, $(".monaco-inputbox-container"));
          layout();
          container = {inline:!0, className:"monaco-inputbox-message"};
          container = this.message.formatContent ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_formattedTextRenderer_DOT_js.renderFormattedText)(this.message.content, container) : (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_formattedTextRenderer_DOT_js.renderText)(this.message.content, container);
          container.classList.add(this.classForType(this.message.type));
          const styles = this.stylesForType(this.message.type);
          container.style.backgroundColor = (_a = styles.background) !== null && _a !== void 0 ? _a : "";
          container.style.color = (_b = styles.foreground) !== null && _b !== void 0 ? _b : "";
          container.style.border = styles.border ? `1px solid ${styles.border}` : "";
          dom.append(div, container);
          return null;
        }, onHide:() => {
          this.state = "closed";
        }, layout});
        var alertText = this.message.type === 3 ? nls.localize("alertErrorMessage", "Error: {0}", this.message.content) : this.message.type === 2 ? nls.localize("alertWarningMessage", "Warning: {0}", this.message.content) : nls.localize("alertInfoMessage", "Info: {0}", this.message.content);
        aria.alert(alertText);
        this.state = "open";
      }
    }
    _hideMessage() {
      this.contextViewProvider && (this.state === "open" && this.contextViewProvider.hideContextView(), this.state = "idle");
    }
    onValueChange() {
      this._onDidChange.fire(this.value);
      this.validate();
      this.updateMirror();
      this.input.classList.toggle("empty", !this.value);
      this.state === "open" && this.contextViewProvider && this.contextViewProvider.layout();
    }
    updateMirror() {
      if (this.mirror) {
        var value = this.value, suffix = value.charCodeAt(value.length - 1) === 10 ? " " : "";
        (value + suffix).replace(/\u000c/g, "") ? this.mirror.textContent = value + suffix : this.mirror.innerText = " ";
        this.layout();
      }
    }
    applyStyles() {
      var _a, _b, _c;
      const styles = this.options.inputBoxStyles, background = (_a = styles.inputBackground) !== null && _a !== void 0 ? _a : "";
      _a = (_b = styles.inputForeground) !== null && _b !== void 0 ? _b : "";
      _b = (_c = styles.inputBorder) !== null && _c !== void 0 ? _c : "";
      this.element.style.backgroundColor = background;
      this.element.style.color = _a;
      this.input.style.backgroundColor = "inherit";
      this.input.style.color = _a;
      this.element.style.border = `1px solid ${dom.asCssValueWithDefault(_b, "transparent")}`;
    }
    layout() {
      if (this.mirror) {
        var previousHeight = this.cachedContentHeight;
        this.cachedContentHeight = dom.getTotalHeight(this.mirror);
        previousHeight !== this.cachedContentHeight && (this.cachedHeight = Math.min(this.cachedContentHeight, this.maxHeight), this.input.style.height = this.cachedHeight + "px", this._onDidHeightChange.fire(this.cachedContentHeight));
      }
    }
    insertAtCursor(text) {
      const inputElement = this.inputElement, start = inputElement.selectionStart, end = inputElement.selectionEnd, content = inputElement.value;
      start !== null && end !== null && (this.value = content.substr(0, start) + text + content.substr(end), inputElement.setSelectionRange(start + 1, start + 1), this.layout());
    }
    dispose() {
      var _a;
      this._hideMessage();
      this.message = null;
      (_a = this.actionbar) === null || _a === void 0 || _a.dispose();
      super.dispose();
    }
  }
  class HistoryInputBox extends InputBox {
    constructor(container, contextViewProvider, options) {
      const NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_NO_PARENS = nls.localize({key:"history.inputbox.hint.suffix.noparens", comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}, " or {0} for history", "⇅"), NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS = 
      nls.localize({key:"history.inputbox.hint.suffix.inparens", comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is ⇅ to represent the up and down arrow keys.']}, " ({0} for history)", "⇅");
      super(container, contextViewProvider, options);
      this._onDidFocus = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidFocus = this._onDidFocus.event;
      this._onDidBlur = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidBlur = this._onDidBlur.event;
      this.history = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_history_DOT_js.HistoryNavigator(options.history, 100);
      const addSuffix = () => {
        if (options.showHistoryHint && options.showHistoryHint() && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_NO_PARENS) && !this.placeholder.endsWith(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) && this.history.getHistory().length) {
          var suffix = this.placeholder.endsWith(")") ? NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_NO_PARENS : NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS;
          suffix = this.placeholder + suffix;
          options.showPlaceholderOnFocus && !dom.isActiveElement(this.input) ? this.placeholder = suffix : this.setPlaceHolder(suffix);
        }
      };
      this.observer = new MutationObserver((mutationList, observer) => {
        mutationList.forEach(mutation => {
          mutation.target.textContent || addSuffix();
        });
      });
      this.observer.observe(this.input, {attributeFilter:["class"]});
      this.onfocus(this.input, () => addSuffix());
      this.onblur(this.input, () => {
        const resetPlaceholder = historyHint => this.placeholder.endsWith(historyHint) ? (historyHint = this.placeholder.slice(0, this.placeholder.length - historyHint.length), options.showPlaceholderOnFocus ? this.placeholder = historyHint : this.setPlaceHolder(historyHint), !0) : !1;
        resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_IN_PARENS) || resetPlaceholder(NLS_PLACEHOLDER_HISTORY_HINT_SUFFIX_NO_PARENS);
      });
    }
    dispose() {
      super.dispose();
      this.observer && (this.observer.disconnect(), this.observer = void 0);
    }
    addToHistory(always) {
      this.value && (always || this.value !== this.getCurrentValue()) && this.history.add(this.value);
    }
    isAtLastInHistory() {
      return this.history.isLast();
    }
    isNowhereInHistory() {
      return this.history.isNowhere();
    }
    showNextValue() {
      this.history.has(this.value) || this.addToHistory();
      let next = this.getNextValue();
      next &&= next === this.value ? this.getNextValue() : next;
      this.value = next !== null && next !== void 0 ? next : "";
      aria.status(this.value ? this.value : nls.localize("clearedInput", "Cleared Input"));
    }
    showPreviousValue() {
      this.history.has(this.value) || this.addToHistory();
      let previous = this.getPreviousValue();
      previous &&= previous === this.value ? this.getPreviousValue() : previous;
      previous && (this.value = previous, aria.status(this.value));
    }
    setPlaceHolder(placeHolder) {
      super.setPlaceHolder(placeHolder);
      this.setTooltip(placeHolder);
    }
    onBlur() {
      super.onBlur();
      this._onDidBlur.fire();
    }
    onFocus() {
      super.onFocus();
      this._onDidFocus.fire();
    }
    getCurrentValue() {
      let currentValue = this.history.current();
      currentValue || (currentValue = this.history.last(), this.history.next());
      return currentValue;
    }
    getPreviousValue() {
      return this.history.previous() || this.history.first();
    }
    getNextValue() {
      return this.history.next();
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$browser$ui$inputbox$inputBox.js.map
