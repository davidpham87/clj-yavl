{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$view$viewLayer.js",
"lineCount":289,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/view/viewLayer.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$view$viewLayer\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, RenderedLinesCollection:{enumerable:true, get:function() {\n  return RenderedLinesCollection;\n}}, VisibleLinesCollection:{enumerable:true, get:function() {\n  return VisibleLinesCollection;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js = require(\"../../../base/browser/fastDomNode.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_trustedTypes_DOT_js = require(\"../../../base/browser/trustedTypes.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js = require(\"../../../base/common/errors.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_stringBuilder_DOT_js = require(\"../../common/core/stringBuilder.js\");\nclass RenderedLinesCollection {\n  constructor(createLine) {\n    this._createLine = createLine;\n    this._set(1, []);\n  }\n  flush() {\n    this._set(1, []);\n  }\n  _set(rendLineNumberStart, lines) {\n    this._lines = lines;\n    this._rendLineNumberStart = rendLineNumberStart;\n  }\n  _get() {\n    return {rendLineNumberStart:this._rendLineNumberStart, lines:this._lines};\n  }\n  getStartLineNumber() {\n    return this._rendLineNumberStart;\n  }\n  getEndLineNumber() {\n    return this._rendLineNumberStart + this._lines.length - 1;\n  }\n  getCount() {\n    return this._lines.length;\n  }\n  getLine(lineNumber) {\n    const lineIndex = lineNumber - this._rendLineNumberStart;\n    if (lineIndex < 0 || lineIndex >= this._lines.length) {\n      throw new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.BugIndicatingError(\"Illegal value for lineNumber\");\n    }\n    return this._lines[lineIndex];\n  }\n  onLinesDeleted(deleteFromLineNumber, deleteToLineNumber) {\n    if (this.getCount() === 0) {\n      return null;\n    }\n    const startLineNumber = this.getStartLineNumber();\n    const endLineNumber = this.getEndLineNumber();\n    if (deleteToLineNumber < startLineNumber) {\n      const deleteCnt = deleteToLineNumber - deleteFromLineNumber + 1;\n      this._rendLineNumberStart -= deleteCnt;\n      return null;\n    }\n    if (deleteFromLineNumber > endLineNumber) {\n      return null;\n    }\n    let deleteStartIndex = 0;\n    let deleteCount = 0;\n    for (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n      const lineIndex = lineNumber - this._rendLineNumberStart;\n      if (deleteFromLineNumber <= lineNumber && lineNumber <= deleteToLineNumber) {\n        if (deleteCount === 0) {\n          deleteStartIndex = lineIndex;\n          deleteCount = 1;\n        } else {\n          deleteCount++;\n        }\n      }\n    }\n    if (deleteFromLineNumber < startLineNumber) {\n      let deleteAboveCount = 0;\n      if (deleteToLineNumber < startLineNumber) {\n        deleteAboveCount = deleteToLineNumber - deleteFromLineNumber + 1;\n      } else {\n        deleteAboveCount = startLineNumber - deleteFromLineNumber;\n      }\n      this._rendLineNumberStart -= deleteAboveCount;\n    }\n    const deleted = this._lines.splice(deleteStartIndex, deleteCount);\n    return deleted;\n  }\n  onLinesChanged(changeFromLineNumber, changeCount) {\n    const changeToLineNumber = changeFromLineNumber + changeCount - 1;\n    if (this.getCount() === 0) {\n      return false;\n    }\n    const startLineNumber = this.getStartLineNumber();\n    const endLineNumber = this.getEndLineNumber();\n    let someoneNotified = false;\n    for (let changedLineNumber = changeFromLineNumber; changedLineNumber <= changeToLineNumber; changedLineNumber++) {\n      if (changedLineNumber >= startLineNumber && changedLineNumber <= endLineNumber) {\n        this._lines[changedLineNumber - this._rendLineNumberStart].onContentChanged();\n        someoneNotified = true;\n      }\n    }\n    return someoneNotified;\n  }\n  onLinesInserted(insertFromLineNumber, insertToLineNumber) {\n    if (this.getCount() === 0) {\n      return null;\n    }\n    const insertCnt = insertToLineNumber - insertFromLineNumber + 1;\n    const startLineNumber = this.getStartLineNumber();\n    const endLineNumber = this.getEndLineNumber();\n    if (insertFromLineNumber <= startLineNumber) {\n      this._rendLineNumberStart += insertCnt;\n      return null;\n    }\n    if (insertFromLineNumber > endLineNumber) {\n      return null;\n    }\n    if (insertCnt + insertFromLineNumber > endLineNumber) {\n      const deleted = this._lines.splice(insertFromLineNumber - this._rendLineNumberStart, endLineNumber - insertFromLineNumber + 1);\n      return deleted;\n    }\n    const newLines = [];\n    for (let i = 0; i < insertCnt; i++) {\n      newLines[i] = this._createLine();\n    }\n    const insertIndex = insertFromLineNumber - this._rendLineNumberStart;\n    const beforeLines = this._lines.slice(0, insertIndex);\n    const afterLines = this._lines.slice(insertIndex, this._lines.length - insertCnt);\n    const deletedLines = this._lines.slice(this._lines.length - insertCnt, this._lines.length);\n    this._lines = beforeLines.concat(newLines).concat(afterLines);\n    return deletedLines;\n  }\n  onTokensChanged(ranges) {\n    if (this.getCount() === 0) {\n      return false;\n    }\n    const startLineNumber = this.getStartLineNumber();\n    const endLineNumber = this.getEndLineNumber();\n    let notifiedSomeone = false;\n    for (let i = 0, len = ranges.length; i < len; i++) {\n      const rng = ranges[i];\n      if (rng.toLineNumber < startLineNumber || rng.fromLineNumber > endLineNumber) {\n        continue;\n      }\n      const from = Math.max(startLineNumber, rng.fromLineNumber);\n      const to = Math.min(endLineNumber, rng.toLineNumber);\n      for (let lineNumber = from; lineNumber <= to; lineNumber++) {\n        const lineIndex = lineNumber - this._rendLineNumberStart;\n        this._lines[lineIndex].onTokensChanged();\n        notifiedSomeone = true;\n      }\n    }\n    return notifiedSomeone;\n  }\n}\nclass VisibleLinesCollection {\n  constructor(host) {\n    this._host = host;\n    this.domNode = this._createDomNode();\n    this._linesCollection = new RenderedLinesCollection(() => this._host.createVisibleLine());\n  }\n  _createDomNode() {\n    const domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement(\"div\"));\n    domNode.setClassName(\"view-layer\");\n    domNode.setPosition(\"absolute\");\n    domNode.domNode.setAttribute(\"role\", \"presentation\");\n    domNode.domNode.setAttribute(\"aria-hidden\", \"true\");\n    return domNode;\n  }\n  onConfigurationChanged(e) {\n    if (e.hasChanged(143)) {\n      return true;\n    }\n    return false;\n  }\n  onFlushed(e) {\n    this._linesCollection.flush();\n    return true;\n  }\n  onLinesChanged(e) {\n    return this._linesCollection.onLinesChanged(e.fromLineNumber, e.count);\n  }\n  onLinesDeleted(e) {\n    const deleted = this._linesCollection.onLinesDeleted(e.fromLineNumber, e.toLineNumber);\n    if (deleted) {\n      for (let i = 0, len = deleted.length; i < len; i++) {\n        const lineDomNode = deleted[i].getDomNode();\n        if (lineDomNode) {\n          this.domNode.domNode.removeChild(lineDomNode);\n        }\n      }\n    }\n    return true;\n  }\n  onLinesInserted(e) {\n    const deleted = this._linesCollection.onLinesInserted(e.fromLineNumber, e.toLineNumber);\n    if (deleted) {\n      for (let i = 0, len = deleted.length; i < len; i++) {\n        const lineDomNode = deleted[i].getDomNode();\n        if (lineDomNode) {\n          this.domNode.domNode.removeChild(lineDomNode);\n        }\n      }\n    }\n    return true;\n  }\n  onScrollChanged(e) {\n    return e.scrollTopChanged;\n  }\n  onTokensChanged(e) {\n    return this._linesCollection.onTokensChanged(e.ranges);\n  }\n  onZonesChanged(e) {\n    return true;\n  }\n  getStartLineNumber() {\n    return this._linesCollection.getStartLineNumber();\n  }\n  getEndLineNumber() {\n    return this._linesCollection.getEndLineNumber();\n  }\n  getVisibleLine(lineNumber) {\n    return this._linesCollection.getLine(lineNumber);\n  }\n  renderLines(viewportData) {\n    const inp = this._linesCollection._get();\n    const renderer = new ViewLayerRenderer(this.domNode.domNode, this._host, viewportData);\n    const ctx = {rendLineNumberStart:inp.rendLineNumberStart, lines:inp.lines, linesLength:inp.lines.length};\n    const resCtx = renderer.render(ctx, viewportData.startLineNumber, viewportData.endLineNumber, viewportData.relativeVerticalOffset);\n    this._linesCollection._set(resCtx.rendLineNumberStart, resCtx.lines);\n  }\n}\nclass ViewLayerRenderer {\n  constructor(domNode, host, viewportData) {\n    this.domNode = domNode;\n    this.host = host;\n    this.viewportData = viewportData;\n  }\n  render(inContext, startLineNumber, stopLineNumber, deltaTop) {\n    const ctx = {rendLineNumberStart:inContext.rendLineNumberStart, lines:inContext.lines.slice(0), linesLength:inContext.linesLength};\n    if (ctx.rendLineNumberStart + ctx.linesLength - 1 < startLineNumber || stopLineNumber < ctx.rendLineNumberStart) {\n      ctx.rendLineNumberStart = startLineNumber;\n      ctx.linesLength = stopLineNumber - startLineNumber + 1;\n      ctx.lines = [];\n      for (let x = startLineNumber; x <= stopLineNumber; x++) {\n        ctx.lines[x - startLineNumber] = this.host.createVisibleLine();\n      }\n      this._finishRendering(ctx, true, deltaTop);\n      return ctx;\n    }\n    this._renderUntouchedLines(ctx, Math.max(startLineNumber - ctx.rendLineNumberStart, 0), Math.min(stopLineNumber - ctx.rendLineNumberStart, ctx.linesLength - 1), deltaTop, startLineNumber);\n    if (ctx.rendLineNumberStart > startLineNumber) {\n      const fromLineNumber = startLineNumber;\n      const toLineNumber = Math.min(stopLineNumber, ctx.rendLineNumberStart - 1);\n      if (fromLineNumber <= toLineNumber) {\n        this._insertLinesBefore(ctx, fromLineNumber, toLineNumber, deltaTop, startLineNumber);\n        ctx.linesLength += toLineNumber - fromLineNumber + 1;\n      }\n    } else if (ctx.rendLineNumberStart < startLineNumber) {\n      const removeCnt = Math.min(ctx.linesLength, startLineNumber - ctx.rendLineNumberStart);\n      if (removeCnt > 0) {\n        this._removeLinesBefore(ctx, removeCnt);\n        ctx.linesLength -= removeCnt;\n      }\n    }\n    ctx.rendLineNumberStart = startLineNumber;\n    if (ctx.rendLineNumberStart + ctx.linesLength - 1 < stopLineNumber) {\n      const fromLineNumber = ctx.rendLineNumberStart + ctx.linesLength;\n      const toLineNumber = stopLineNumber;\n      if (fromLineNumber <= toLineNumber) {\n        this._insertLinesAfter(ctx, fromLineNumber, toLineNumber, deltaTop, startLineNumber);\n        ctx.linesLength += toLineNumber - fromLineNumber + 1;\n      }\n    } else if (ctx.rendLineNumberStart + ctx.linesLength - 1 > stopLineNumber) {\n      const fromLineNumber = Math.max(0, stopLineNumber - ctx.rendLineNumberStart + 1);\n      const toLineNumber = ctx.linesLength - 1;\n      const removeCnt = toLineNumber - fromLineNumber + 1;\n      if (removeCnt > 0) {\n        this._removeLinesAfter(ctx, removeCnt);\n        ctx.linesLength -= removeCnt;\n      }\n    }\n    this._finishRendering(ctx, false, deltaTop);\n    return ctx;\n  }\n  _renderUntouchedLines(ctx, startIndex, endIndex, deltaTop, deltaLN) {\n    const rendLineNumberStart = ctx.rendLineNumberStart;\n    const lines = ctx.lines;\n    for (let i = startIndex; i <= endIndex; i++) {\n      const lineNumber = rendLineNumberStart + i;\n      lines[i].layoutLine(lineNumber, deltaTop[lineNumber - deltaLN]);\n    }\n  }\n  _insertLinesBefore(ctx, fromLineNumber, toLineNumber, deltaTop, deltaLN) {\n    const newLines = [];\n    let newLinesLen = 0;\n    for (let lineNumber = fromLineNumber; lineNumber <= toLineNumber; lineNumber++) {\n      newLines[newLinesLen++] = this.host.createVisibleLine();\n    }\n    ctx.lines = newLines.concat(ctx.lines);\n  }\n  _removeLinesBefore(ctx, removeCount) {\n    for (let i = 0; i < removeCount; i++) {\n      const lineDomNode = ctx.lines[i].getDomNode();\n      if (lineDomNode) {\n        this.domNode.removeChild(lineDomNode);\n      }\n    }\n    ctx.lines.splice(0, removeCount);\n  }\n  _insertLinesAfter(ctx, fromLineNumber, toLineNumber, deltaTop, deltaLN) {\n    const newLines = [];\n    let newLinesLen = 0;\n    for (let lineNumber = fromLineNumber; lineNumber <= toLineNumber; lineNumber++) {\n      newLines[newLinesLen++] = this.host.createVisibleLine();\n    }\n    ctx.lines = ctx.lines.concat(newLines);\n  }\n  _removeLinesAfter(ctx, removeCount) {\n    const removeIndex = ctx.linesLength - removeCount;\n    for (let i = 0; i < removeCount; i++) {\n      const lineDomNode = ctx.lines[removeIndex + i].getDomNode();\n      if (lineDomNode) {\n        this.domNode.removeChild(lineDomNode);\n      }\n    }\n    ctx.lines.splice(removeIndex, removeCount);\n  }\n  _finishRenderingNewLines(ctx, domNodeIsEmpty, newLinesHTML, wasNew) {\n    if (ViewLayerRenderer._ttPolicy) {\n      newLinesHTML = ViewLayerRenderer._ttPolicy.createHTML(newLinesHTML);\n    }\n    const lastChild = this.domNode.lastChild;\n    if (domNodeIsEmpty || !lastChild) {\n      this.domNode.innerHTML = newLinesHTML;\n    } else {\n      lastChild.insertAdjacentHTML(\"afterend\", newLinesHTML);\n    }\n    let currChild = this.domNode.lastChild;\n    for (let i = ctx.linesLength - 1; i >= 0; i--) {\n      const line = ctx.lines[i];\n      if (wasNew[i]) {\n        line.setDomNode(currChild);\n        currChild = currChild.previousSibling;\n      }\n    }\n  }\n  _finishRenderingInvalidLines(ctx, invalidLinesHTML, wasInvalid) {\n    const hugeDomNode = document.createElement(\"div\");\n    if (ViewLayerRenderer._ttPolicy) {\n      invalidLinesHTML = ViewLayerRenderer._ttPolicy.createHTML(invalidLinesHTML);\n    }\n    hugeDomNode.innerHTML = invalidLinesHTML;\n    for (let i = 0; i < ctx.linesLength; i++) {\n      const line = ctx.lines[i];\n      if (wasInvalid[i]) {\n        const source = hugeDomNode.firstChild;\n        const lineDomNode = line.getDomNode();\n        lineDomNode.parentNode.replaceChild(source, lineDomNode);\n        line.setDomNode(source);\n      }\n    }\n  }\n  _finishRendering(ctx, domNodeIsEmpty, deltaTop) {\n    const sb = ViewLayerRenderer._sb;\n    const linesLength = ctx.linesLength;\n    const lines = ctx.lines;\n    const rendLineNumberStart = ctx.rendLineNumberStart;\n    const wasNew = [];\n    {\n      sb.reset();\n      let hadNewLine = false;\n      for (let i = 0; i < linesLength; i++) {\n        const line = lines[i];\n        wasNew[i] = false;\n        const lineDomNode = line.getDomNode();\n        if (lineDomNode) {\n          continue;\n        }\n        const renderResult = line.renderLine(i + rendLineNumberStart, deltaTop[i], this.viewportData, sb);\n        if (!renderResult) {\n          continue;\n        }\n        wasNew[i] = true;\n        hadNewLine = true;\n      }\n      if (hadNewLine) {\n        this._finishRenderingNewLines(ctx, domNodeIsEmpty, sb.build(), wasNew);\n      }\n    }\n    {\n      sb.reset();\n      let hadInvalidLine = false;\n      const wasInvalid = [];\n      for (let i = 0; i < linesLength; i++) {\n        const line = lines[i];\n        wasInvalid[i] = false;\n        if (wasNew[i]) {\n          continue;\n        }\n        const renderResult = line.renderLine(i + rendLineNumberStart, deltaTop[i], this.viewportData, sb);\n        if (!renderResult) {\n          continue;\n        }\n        wasInvalid[i] = true;\n        hadInvalidLine = true;\n      }\n      if (hadInvalidLine) {\n        this._finishRenderingInvalidLines(ctx, sb.build(), wasInvalid);\n      }\n    }\n  }\n}\nViewLayerRenderer._ttPolicy = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_trustedTypes_DOT_js.createTrustedTypesPolicy)(\"editorViewLayer\", {createHTML:value => value});\nViewLayerRenderer._sb = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_stringBuilder_DOT_js.StringBuilder(100000);\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","RenderedLinesCollection","get","VisibleLinesCollection","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_trustedTypes_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_stringBuilder_DOT_js","constructor","createLine","_createLine","_set","flush","rendLineNumberStart","lines","_lines","_rendLineNumberStart","_get","getStartLineNumber","getEndLineNumber","length","getCount","getLine","lineNumber","lineIndex","BugIndicatingError","onLinesDeleted","deleteFromLineNumber","deleteToLineNumber","startLineNumber","endLineNumber","deleteStartIndex","deleteCount","deleteAboveCount","splice","deleted","onLinesChanged","changeFromLineNumber","changeCount","changeToLineNumber","someoneNotified","changedLineNumber","onContentChanged","onLinesInserted","insertFromLineNumber","insertToLineNumber","insertCnt","newLines","i","insertIndex","beforeLines","slice","afterLines","deletedLines","concat","onTokensChanged","ranges","notifiedSomeone","len","rng","toLineNumber","fromLineNumber","from","Math","max","to","min","host","_host","domNode","_createDomNode","_linesCollection","createVisibleLine","createFastDomNode","document","createElement","setClassName","setPosition","setAttribute","onConfigurationChanged","e","hasChanged","onFlushed","count","lineDomNode","getDomNode","removeChild","onScrollChanged","scrollTopChanged","onZonesChanged","getVisibleLine","renderLines","viewportData","inp","resCtx","render","renderer","ViewLayerRenderer","ctx","linesLength","relativeVerticalOffset","inContext","stopLineNumber","deltaTop","x","_finishRendering","_renderUntouchedLines","_insertLinesBefore","removeCnt","_removeLinesBefore","_insertLinesAfter","_removeLinesAfter","startIndex","endIndex","deltaLN","layoutLine","newLinesLen","removeCount","removeIndex","_finishRenderingNewLines","domNodeIsEmpty","newLinesHTML","wasNew","_ttPolicy","createHTML","lastChild","innerHTML","insertAdjacentHTML","currChild","line","setDomNode","previousSibling","_finishRenderingInvalidLines","invalidLinesHTML","wasInvalid","hugeDomNode","source","firstChild","parentNode","replaceChild","sb","_sb","reset","hadNewLine","renderLine","renderResult","build","hadInvalidLine","createTrustedTypesPolicy","StringBuilder"]
}
