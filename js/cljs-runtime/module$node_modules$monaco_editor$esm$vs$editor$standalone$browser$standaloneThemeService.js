shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$standalone$browser$standaloneThemeService = function(require, module, exports) {
  function isBuiltinTheme(themeName) {
    return themeName === "vs" || themeName === "vs-dark" || themeName === "hc-black" || themeName === "hc-light";
  }
  function getBuiltinRules(builtinTheme) {
    switch(builtinTheme) {
      case "vs":
        return require$_DOT__DOT__SLASH_common_SLASH_themes_DOT_js.vs;
      case "vs-dark":
        return require$_DOT__DOT__SLASH_common_SLASH_themes_DOT_js.vs_dark;
      case "hc-black":
        return require$_DOT__DOT__SLASH_common_SLASH_themes_DOT_js.hc_black;
      case "hc-light":
        return require$_DOT__DOT__SLASH_common_SLASH_themes_DOT_js.hc_light;
    }
  }
  function newBuiltInTheme(builtinTheme) {
    const themeData = getBuiltinRules(builtinTheme);
    return new StandaloneTheme(builtinTheme, themeData);
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, HC_BLACK_THEME_NAME:{enumerable:!0, get:function() {
    return "hc-black";
  }}, HC_LIGHT_THEME_NAME:{enumerable:!0, get:function() {
    return "hc-light";
  }}, StandaloneThemeService:{enumerable:!0, get:function() {
    return StandaloneThemeService;
  }}, VS_DARK_THEME_NAME:{enumerable:!0, get:function() {
    return "vs-dark";
  }}, VS_LIGHT_THEME_NAME:{enumerable:!0, get:function() {
    return "vs";
  }}});
  var dom = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_browser_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$browser"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_color_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$color"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$common$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$languages"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_encodedTokenAttributes_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$encodedTokenAttributes"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_supports_SLASH_tokenization_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$tokenization"), require$_DOT__DOT__SLASH_common_SLASH_themes_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$standalone$common$themes");
  module = require("module$node_modules$monaco_editor$esm$vs$platform$registry$common$platform");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_colorRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$colorRegistry");
  exports = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$themeService");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$theme"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_browser_SLASH_iconsStyleSheet_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$platform$theme$browser$iconsStyleSheet"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_window_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$window");
  const colorRegistry = module.Registry.as(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_colorRegistry_DOT_js.Extensions.ColorContribution), themingRegistry = module.Registry.as(exports.Extensions.ThemingContribution);
  class StandaloneTheme {
    constructor(name, standaloneThemeData) {
      this.semanticHighlighting = !1;
      this.themeData = standaloneThemeData;
      standaloneThemeData = standaloneThemeData.base;
      name.length > 0 ? (isBuiltinTheme(name) ? this.id = name : this.id = standaloneThemeData + " " + name, this.themeName = name) : this.themeName = this.id = standaloneThemeData;
      this.colors = null;
      this.defaultColors = Object.create(null);
      this._tokenTheme = null;
    }
    get base() {
      return this.themeData.base;
    }
    notifyBaseUpdated() {
      this.themeData.inherit && (this._tokenTheme = this.colors = null);
    }
    getColors() {
      if (!this.colors) {
        const colors = new Map();
        for (var id$jscomp$0 in this.themeData.colors) {
          colors.set(id$jscomp$0, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_color_DOT_js.Color.fromHex(this.themeData.colors[id$jscomp$0]));
        }
        if (this.themeData.inherit) {
          id$jscomp$0 = getBuiltinRules(this.themeData.base);
          for (const id in id$jscomp$0.colors) {
            colors.has(id) || colors.set(id, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_color_DOT_js.Color.fromHex(id$jscomp$0.colors[id]));
          }
        }
        this.colors = colors;
      }
      return this.colors;
    }
    getColor(colorId, useDefault) {
      const color = this.getColors().get(colorId);
      if (color) {
        return color;
      }
      if (useDefault !== !1) {
        return this.getDefault(colorId);
      }
    }
    getDefault(colorId) {
      let color = this.defaultColors[colorId];
      if (color) {
        return color;
      }
      color = colorRegistry.resolveDefaultColor(colorId, this);
      return this.defaultColors[colorId] = color;
    }
    defines(colorId) {
      return this.getColors().has(colorId);
    }
    get type() {
      switch(this.base) {
        case "vs":
          return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js.ColorScheme.LIGHT;
        case "hc-black":
          return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js.ColorScheme.HIGH_CONTRAST_DARK;
        case "hc-light":
          return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js.ColorScheme.HIGH_CONTRAST_LIGHT;
        default:
          return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js.ColorScheme.DARK;
      }
    }
    get tokenTheme() {
      if (!this._tokenTheme) {
        let rules = [], encodedTokensColors = [];
        if (this.themeData.inherit) {
          var baseData = getBuiltinRules(this.themeData.base);
          rules = baseData.rules;
          baseData.encodedTokensColors && (encodedTokensColors = baseData.encodedTokensColors);
        }
        baseData = this.themeData.colors["editor.foreground"];
        const editorBackground = this.themeData.colors["editor.background"];
        if (baseData || editorBackground) {
          const rule = {token:""};
          baseData && (rule.foreground = baseData);
          editorBackground && (rule.background = editorBackground);
          rules.push(rule);
        }
        rules = rules.concat(this.themeData.rules);
        this.themeData.encodedTokensColors && (encodedTokensColors = this.themeData.encodedTokensColors);
        this._tokenTheme = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_supports_SLASH_tokenization_DOT_js.TokenTheme.createFromRawTokenTheme(rules, encodedTokensColors);
      }
      return this._tokenTheme;
    }
    getTokenStyleMetadata(type, modifiers, modelLanguage) {
      modifiers = this.tokenTheme._match([type].concat(modifiers).join(".")).metadata;
      type = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_encodedTokenAttributes_DOT_js.TokenMetadata.getForeground(modifiers);
      modifiers = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_encodedTokenAttributes_DOT_js.TokenMetadata.getFontStyle(modifiers);
      return {foreground:type, italic:!!(modifiers & 1), bold:!!(modifiers & 2), underline:!!(modifiers & 4), strikethrough:!!(modifiers & 8)};
    }
  }
  class StandaloneThemeService extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    constructor() {
      super();
      this._onColorThemeChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidColorThemeChange = this._onColorThemeChange.event;
      this._onProductIconThemeChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidProductIconThemeChange = this._onProductIconThemeChange.event;
      this._environment = Object.create(null);
      this._builtInProductIconTheme = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_browser_SLASH_iconsStyleSheet_DOT_js.UnthemedProductIconTheme();
      this._autoDetectHighContrast = !0;
      this._knownThemes = new Map();
      this._knownThemes.set("vs", newBuiltInTheme("vs"));
      this._knownThemes.set("vs-dark", newBuiltInTheme("vs-dark"));
      this._knownThemes.set("hc-black", newBuiltInTheme("hc-black"));
      this._knownThemes.set("hc-light", newBuiltInTheme("hc-light"));
      const iconsStyleSheet = this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_browser_SLASH_iconsStyleSheet_DOT_js.getIconsStyleSheet)(this));
      this._codiconCSS = iconsStyleSheet.getCSS();
      this._themeCSS = "";
      this._allCSS = `${this._codiconCSS}\n${this._themeCSS}`;
      this._globalStyleElement = null;
      this._styleElements = [];
      this._colorMapOverride = null;
      this.setTheme("vs");
      this._onOSSchemeChanged();
      this._register(iconsStyleSheet.onDidChange(() => {
        this._codiconCSS = iconsStyleSheet.getCSS();
        this._updateCSS();
      }));
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_browser_DOT_js.addMatchMediaChangeListener)("(forced-colors: active)", () => {
        this._onOSSchemeChanged();
      });
    }
    registerEditorContainer(domNode) {
      return dom.isInShadowDOM(domNode) ? this._registerShadowDomContainer(domNode) : this._registerRegularEditorContainer();
    }
    _registerRegularEditorContainer() {
      this._globalStyleElement || (this._globalStyleElement = dom.createStyleSheet(void 0, style => {
        style.className = "monaco-colors";
        style.textContent = this._allCSS;
      }), this._styleElements.push(this._globalStyleElement));
      return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable.None;
    }
    _registerShadowDomContainer(domNode) {
      const styleElement = dom.createStyleSheet(domNode, style => {
        style.className = "monaco-colors";
        style.textContent = this._allCSS;
      });
      this._styleElements.push(styleElement);
      return {dispose:() => {
        for (let i = 0; i < this._styleElements.length; i++) {
          if (this._styleElements[i] === styleElement) {
            this._styleElements.splice(i, 1);
            break;
          }
        }
      }};
    }
    defineTheme(themeName, themeData) {
      if (!/^[a-z0-9\-]+$/i.test(themeName)) {
        throw Error("Illegal theme name!");
      }
      if (!isBuiltinTheme(themeData.base) && !isBuiltinTheme(themeName)) {
        throw Error("Illegal theme base!");
      }
      this._knownThemes.set(themeName, new StandaloneTheme(themeName, themeData));
      isBuiltinTheme(themeName) && this._knownThemes.forEach(theme => {
        theme.base === themeName && theme.notifyBaseUpdated();
      });
      this._theme.themeName === themeName && this.setTheme(themeName);
    }
    getColorTheme() {
      return this._theme;
    }
    setColorMapOverride(colorMapOverride) {
      this._colorMapOverride = colorMapOverride;
      this._updateThemeOrColorMap();
    }
    setTheme(themeName) {
      themeName = this._knownThemes.has(themeName) ? this._knownThemes.get(themeName) : this._knownThemes.get("vs");
      this._updateActualTheme(themeName);
    }
    _updateActualTheme(desiredTheme) {
      desiredTheme && this._theme !== desiredTheme && (this._theme = desiredTheme, this._updateThemeOrColorMap());
    }
    _onOSSchemeChanged() {
      if (this._autoDetectHighContrast) {
        var wantsHighContrast = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_window_DOT_js.mainWindow.matchMedia("(forced-colors: active)").matches;
        wantsHighContrast !== (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js.isHighContrast)(this._theme.type) && (wantsHighContrast = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_theme_DOT_js.isDark)(this._theme.type) ? wantsHighContrast ? "hc-black" : "vs-dark" : wantsHighContrast ? "hc-light" : "vs", this._updateActualTheme(this._knownThemes.get(wantsHighContrast)));
      }
    }
    setAutoDetectHighContrast(autoDetectHighContrast) {
      this._autoDetectHighContrast = autoDetectHighContrast;
      this._onOSSchemeChanged();
    }
    _updateThemeOrColorMap() {
      const cssRules = [], hasRule = {}, ruleCollector = {addRule:rule => {
        hasRule[rule] || (cssRules.push(rule), hasRule[rule] = !0);
      }};
      themingRegistry.getThemingParticipants().forEach(p => p(this._theme, ruleCollector, this._environment));
      var colorVariables = [];
      for (const item of colorRegistry.getColors()) {
        const color = this._theme.getColor(item.id, !0);
        color && colorVariables.push(`${(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_theme_SLASH_common_SLASH_colorRegistry_DOT_js.asCssVariableName)(item.id)}: ${color.toString()};`);
      }
      ruleCollector.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${colorVariables.join("\n")} }`);
      colorVariables = this._colorMapOverride || this._theme.tokenTheme.getColorMap();
      ruleCollector.addRule((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_SLASH_supports_SLASH_tokenization_DOT_js.generateTokensCSSForColorMap)(colorVariables));
      this._themeCSS = cssRules.join("\n");
      this._updateCSS();
      require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_languages_DOT_js.TokenizationRegistry.setColorMap(colorVariables);
      this._onColorThemeChange.fire(this._theme);
    }
    _updateCSS() {
      this._allCSS = `${this._codiconCSS}\n${this._themeCSS}`;
      this._styleElements.forEach(styleElement => styleElement.textContent = this._allCSS);
    }
    getFileIconTheme() {
      return {hasFileIcons:!1, hasFolderIcons:!1, hidesExplorerArrows:!1};
    }
    getProductIconTheme() {
      return this._builtInProductIconTheme;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$standalone$browser$standaloneThemeService.js.map
