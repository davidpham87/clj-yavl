shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$viewModelEventDispatcher = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ContentSizeChangedEvent:{enumerable:!0, get:function() {
    return ContentSizeChangedEvent;
  }}, CursorStateChangedEvent:{enumerable:!0, get:function() {
    return CursorStateChangedEvent;
  }}, FocusChangedEvent:{enumerable:!0, get:function() {
    return FocusChangedEvent;
  }}, HiddenAreasChangedEvent:{enumerable:!0, get:function() {
    return HiddenAreasChangedEvent;
  }}, ModelContentChangedEvent:{enumerable:!0, get:function() {
    return ModelContentChangedEvent;
  }}, ModelDecorationsChangedEvent:{enumerable:!0, get:function() {
    return ModelDecorationsChangedEvent;
  }}, ModelLanguageChangedEvent:{enumerable:!0, get:function() {
    return ModelLanguageChangedEvent;
  }}, ModelLanguageConfigurationChangedEvent:{enumerable:!0, get:function() {
    return ModelLanguageConfigurationChangedEvent;
  }}, ModelOptionsChangedEvent:{enumerable:!0, get:function() {
    return ModelOptionsChangedEvent;
  }}, ModelTokensChangedEvent:{enumerable:!0, get:function() {
    return ModelTokensChangedEvent;
  }}, ReadOnlyEditAttemptEvent:{enumerable:!0, get:function() {
    return ReadOnlyEditAttemptEvent;
  }}, ScrollChangedEvent:{enumerable:!0, get:function() {
    return ScrollChangedEvent;
  }}, ViewModelEventDispatcher:{enumerable:!0, get:function() {
    return ViewModelEventDispatcher;
  }}, ViewModelEventsCollector:{enumerable:!0, get:function() {
    return ViewModelEventsCollector;
  }}, ViewZonesChangedEvent:{enumerable:!0, get:function() {
    return ViewZonesChangedEvent;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  require = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  class ViewModelEventDispatcher extends require.Disposable {
    constructor() {
      super();
      this._onEvent = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onEvent = this._onEvent.event;
      this._eventHandlers = [];
      this._viewEventQueue = null;
      this._isConsumingViewEventQueue = !1;
      this._collector = null;
      this._collectorCnt = 0;
      this._outgoingEvents = [];
    }
    emitOutgoingEvent(e) {
      this._addOutgoingEvent(e);
      this._emitOutgoingEvents();
    }
    _addOutgoingEvent(e) {
      for (let i = 0, len = this._outgoingEvents.length; i < len; i++) {
        const mergeResult = this._outgoingEvents[i].kind === e.kind ? this._outgoingEvents[i].attemptToMerge(e) : null;
        if (mergeResult) {
          this._outgoingEvents[i] = mergeResult;
          return;
        }
      }
      this._outgoingEvents.push(e);
    }
    _emitOutgoingEvents() {
      for (; this._outgoingEvents.length > 0 && !this._collector && !this._isConsumingViewEventQueue;) {
        const event = this._outgoingEvents.shift();
        event.isNoOp() || this._onEvent.fire(event);
      }
    }
    addViewEventHandler(eventHandler) {
      for (let i = 0, len = this._eventHandlers.length; i < len; i++) {
        this._eventHandlers[i] === eventHandler && console.warn("Detected duplicate listener in ViewEventDispatcher", eventHandler);
      }
      this._eventHandlers.push(eventHandler);
    }
    removeViewEventHandler(eventHandler) {
      for (let i = 0; i < this._eventHandlers.length; i++) {
        if (this._eventHandlers[i] === eventHandler) {
          this._eventHandlers.splice(i, 1);
          break;
        }
      }
    }
    beginEmitViewEvents() {
      this._collectorCnt++;
      this._collectorCnt === 1 && (this._collector = new ViewModelEventsCollector());
      return this._collector;
    }
    endEmitViewEvents() {
      this._collectorCnt--;
      if (this._collectorCnt === 0) {
        const outgoingEvents = this._collector.outgoingEvents, viewEvents = this._collector.viewEvents;
        this._collector = null;
        for (const outgoingEvent of outgoingEvents) {
          this._addOutgoingEvent(outgoingEvent);
        }
        viewEvents.length > 0 && this._emitMany(viewEvents);
      }
      this._emitOutgoingEvents();
    }
    emitSingleViewEvent(event) {
      try {
        this.beginEmitViewEvents().emitViewEvent(event);
      } finally {
        this.endEmitViewEvents();
      }
    }
    _emitMany(events) {
      this._viewEventQueue = this._viewEventQueue ? this._viewEventQueue.concat(events) : events;
      this._isConsumingViewEventQueue || this._consumeViewEventQueue();
    }
    _consumeViewEventQueue() {
      try {
        this._isConsumingViewEventQueue = !0, this._doConsumeQueue();
      } finally {
        this._isConsumingViewEventQueue = !1;
      }
    }
    _doConsumeQueue() {
      for (; this._viewEventQueue;) {
        const events = this._viewEventQueue;
        this._viewEventQueue = null;
        const eventHandlers = this._eventHandlers.slice(0);
        for (const eventHandler of eventHandlers) {
          eventHandler.handleEvents(events);
        }
      }
    }
  }
  class ViewModelEventsCollector {
    constructor() {
      this.viewEvents = [];
      this.outgoingEvents = [];
    }
    emitViewEvent(event) {
      this.viewEvents.push(event);
    }
    emitOutgoingEvent(e) {
      this.outgoingEvents.push(e);
    }
  }
  class ContentSizeChangedEvent {
    constructor(oldContentWidth, oldContentHeight, contentWidth, contentHeight) {
      this.kind = 0;
      this._oldContentWidth = oldContentWidth;
      this._oldContentHeight = oldContentHeight;
      this.contentWidth = contentWidth;
      this.contentHeight = contentHeight;
      this.contentWidthChanged = this._oldContentWidth !== this.contentWidth;
      this.contentHeightChanged = this._oldContentHeight !== this.contentHeight;
    }
    isNoOp() {
      return !this.contentWidthChanged && !this.contentHeightChanged;
    }
    attemptToMerge(other) {
      return other.kind !== this.kind ? null : new ContentSizeChangedEvent(this._oldContentWidth, this._oldContentHeight, other.contentWidth, other.contentHeight);
    }
  }
  class FocusChangedEvent {
    constructor(oldHasFocus, hasFocus) {
      this.kind = 1;
      this.oldHasFocus = oldHasFocus;
      this.hasFocus = hasFocus;
    }
    isNoOp() {
      return this.oldHasFocus === this.hasFocus;
    }
    attemptToMerge(other) {
      return other.kind !== this.kind ? null : new FocusChangedEvent(this.oldHasFocus, other.hasFocus);
    }
  }
  class ScrollChangedEvent {
    constructor(oldScrollWidth, oldScrollLeft, oldScrollHeight, oldScrollTop, scrollWidth, scrollLeft, scrollHeight, scrollTop) {
      this.kind = 2;
      this._oldScrollWidth = oldScrollWidth;
      this._oldScrollLeft = oldScrollLeft;
      this._oldScrollHeight = oldScrollHeight;
      this._oldScrollTop = oldScrollTop;
      this.scrollWidth = scrollWidth;
      this.scrollLeft = scrollLeft;
      this.scrollHeight = scrollHeight;
      this.scrollTop = scrollTop;
      this.scrollWidthChanged = this._oldScrollWidth !== this.scrollWidth;
      this.scrollLeftChanged = this._oldScrollLeft !== this.scrollLeft;
      this.scrollHeightChanged = this._oldScrollHeight !== this.scrollHeight;
      this.scrollTopChanged = this._oldScrollTop !== this.scrollTop;
    }
    isNoOp() {
      return !this.scrollWidthChanged && !this.scrollLeftChanged && !this.scrollHeightChanged && !this.scrollTopChanged;
    }
    attemptToMerge(other) {
      return other.kind !== this.kind ? null : new ScrollChangedEvent(this._oldScrollWidth, this._oldScrollLeft, this._oldScrollHeight, this._oldScrollTop, other.scrollWidth, other.scrollLeft, other.scrollHeight, other.scrollTop);
    }
  }
  class ViewZonesChangedEvent {
    constructor() {
      this.kind = 3;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return other.kind !== this.kind ? null : this;
    }
  }
  class HiddenAreasChangedEvent {
    constructor() {
      this.kind = 4;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return other.kind !== this.kind ? null : this;
    }
  }
  class CursorStateChangedEvent {
    constructor(oldSelections, selections, oldModelVersionId, modelVersionId, source, reason, reachedMaxCursorCount) {
      this.kind = 6;
      this.oldSelections = oldSelections;
      this.selections = selections;
      this.oldModelVersionId = oldModelVersionId;
      this.modelVersionId = modelVersionId;
      this.source = source;
      this.reason = reason;
      this.reachedMaxCursorCount = reachedMaxCursorCount;
    }
    static _selectionsAreEqual(a, b) {
      if (!a && !b) {
        return !0;
      }
      if (!a || !b) {
        return !1;
      }
      const aLen = a.length;
      if (aLen !== b.length) {
        return !1;
      }
      for (let i = 0; i < aLen; i++) {
        if (!a[i].equalsSelection(b[i])) {
          return !1;
        }
      }
      return !0;
    }
    isNoOp() {
      return CursorStateChangedEvent._selectionsAreEqual(this.oldSelections, this.selections) && this.oldModelVersionId === this.modelVersionId;
    }
    attemptToMerge(other) {
      return other.kind !== this.kind ? null : new CursorStateChangedEvent(this.oldSelections, other.selections, this.oldModelVersionId, other.modelVersionId, other.source, other.reason, this.reachedMaxCursorCount || other.reachedMaxCursorCount);
    }
  }
  class ReadOnlyEditAttemptEvent {
    constructor() {
      this.kind = 5;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return other.kind !== this.kind ? null : this;
    }
  }
  class ModelDecorationsChangedEvent {
    constructor(event) {
      this.event = event;
      this.kind = 7;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return null;
    }
  }
  class ModelLanguageChangedEvent {
    constructor(event) {
      this.event = event;
      this.kind = 8;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return null;
    }
  }
  class ModelLanguageConfigurationChangedEvent {
    constructor(event) {
      this.event = event;
      this.kind = 9;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return null;
    }
  }
  class ModelContentChangedEvent {
    constructor(event) {
      this.event = event;
      this.kind = 10;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return null;
    }
  }
  class ModelOptionsChangedEvent {
    constructor(event) {
      this.event = event;
      this.kind = 11;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return null;
    }
  }
  class ModelTokensChangedEvent {
    constructor(event) {
      this.event = event;
      this.kind = 12;
    }
    isNoOp() {
      return !1;
    }
    attemptToMerge(other) {
      return null;
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$viewModelEventDispatcher.js.map
