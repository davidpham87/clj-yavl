shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$services$languagesAssociations = function(require, module, exports) {
  function registerPlatformLanguageAssociation(association, warnOnOverwrite = !1) {
    _registerLanguageAssociation(association, !1, warnOnOverwrite);
  }
  function _registerLanguageAssociation(association, userConfigured, warnOnOverwrite) {
    const associationItem = toLanguageAssociationItem(association, userConfigured);
    registeredAssociations.push(associationItem);
    associationItem.userConfigured ? userRegisteredAssociations.push(associationItem) : nonUserRegisteredAssociations.push(associationItem);
    warnOnOverwrite && !associationItem.userConfigured && registeredAssociations.forEach(a => {
      a.mime === associationItem.mime || a.userConfigured || (associationItem.extension && a.extension === associationItem.extension && console.warn(`Overwriting extension <<${associationItem.extension}>> to now point to mime <<${associationItem.mime}>>`), associationItem.filename && a.filename === associationItem.filename && console.warn(`Overwriting filename <<${associationItem.filename}>> to now point to mime <<${associationItem.mime}>>`), associationItem.filepattern && a.filepattern === associationItem.filepattern && 
      console.warn(`Overwriting filepattern <<${associationItem.filepattern}>> to now point to mime <<${associationItem.mime}>>`), associationItem.firstline && a.firstline === associationItem.firstline && console.warn(`Overwriting firstline <<${associationItem.firstline}>> to now point to mime <<${associationItem.mime}>>`));
    });
  }
  function toLanguageAssociationItem(association, userConfigured) {
    return {id:association.id, mime:association.mime, filename:association.filename, extension:association.extension, filepattern:association.filepattern, firstline:association.firstline, userConfigured, filenameLowercase:association.filename ? association.filename.toLowerCase() : void 0, extensionLowercase:association.extension ? association.extension.toLowerCase() : void 0, filepatternLowercase:association.filepattern ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_glob_DOT_js.parse)(association.filepattern.toLowerCase()) : 
    void 0, filepatternOnPath:association.filepattern ? association.filepattern.indexOf(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_path_DOT_js.posix.sep) >= 0 : !1};
  }
  function clearPlatformLanguageAssociations() {
    registeredAssociations = registeredAssociations.filter(a => a.userConfigured);
    nonUserRegisteredAssociations = [];
  }
  function getLanguageIds(resource, firstLine) {
    return getAssociations(resource, firstLine).map(item => item.id);
  }
  function getAssociations(resource, firstLine) {
    if (resource) {
      switch(resource.scheme) {
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js.Schemas.file:
          var path = resource.fsPath;
          break;
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js.Schemas.data:
          path = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_resources_DOT_js.DataUri.parseMetaData(resource).get(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_resources_DOT_js.DataUri.META_DATA_LABEL);
          break;
        case require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js.Schemas.vscodeNotebookCell:
          path = void 0;
          break;
        default:
          path = resource.path;
      }
    }
    if (!path) {
      return [{id:"unknown", mime:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.unknown}];
    }
    path = path.toLowerCase();
    resource = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_path_DOT_js.basename)(path);
    var configuredLanguage = getAssociationByPath(path, resource, userRegisteredAssociations);
    if (configuredLanguage) {
      return [configuredLanguage, {id:require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js.PLAINTEXT_LANGUAGE_ID, mime:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.text}];
    }
    if (path = getAssociationByPath(path, resource, nonUserRegisteredAssociations)) {
      return [path, {id:require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js.PLAINTEXT_LANGUAGE_ID, mime:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.text}];
    }
    if (firstLine) {
      a: {
        (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js.startsWithUTF8BOM)(firstLine) && (firstLine = firstLine.substr(1));
        if (firstLine.length > 0) {
          for (path = registeredAssociations.length - 1; path >= 0; path--) {
            if (resource = registeredAssociations[path], resource.firstline && (configuredLanguage = firstLine.match(resource.firstline)) && configuredLanguage.length > 0) {
              firstLine = resource;
              break a;
            }
          }
        }
        firstLine = void 0;
      }
      if (firstLine) {
        return [firstLine, {id:require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js.PLAINTEXT_LANGUAGE_ID, mime:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.text}];
      }
    }
    return [{id:"unknown", mime:require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.unknown}];
  }
  function getAssociationByPath(path, filename, associations) {
    var _a;
    let filenameMatch = void 0, patternMatch = void 0, extensionMatch = void 0;
    for (let i = associations.length - 1; i >= 0; i--) {
      const association = associations[i];
      if (filename === association.filenameLowercase) {
        filenameMatch = association;
        break;
      }
      if (association.filepattern && (!patternMatch || association.filepattern.length > patternMatch.filepattern.length)) {
        const target = association.filepatternOnPath ? path : filename;
        if ((_a = association.filepatternLowercase) === null || _a === void 0 ? 0 : _a.call(association, target)) {
          patternMatch = association;
        }
      }
      association.extension && (!extensionMatch || association.extension.length > extensionMatch.extension.length) && filename.endsWith(association.extensionLowercase) && (extensionMatch = association);
    }
    if (filenameMatch) {
      return filenameMatch;
    }
    if (patternMatch) {
      return patternMatch;
    }
    if (extensionMatch) {
      return extensionMatch;
    }
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, clearPlatformLanguageAssociations:{enumerable:!0, get:function() {
    return clearPlatformLanguageAssociations;
  }}, getLanguageIds:{enumerable:!0, get:function() {
    return getLanguageIds;
  }}, registerPlatformLanguageAssociation:{enumerable:!0, get:function() {
    return registerPlatformLanguageAssociation;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_glob_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$glob"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$mime"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_network_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$network"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_path_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$path"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_resources_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$resources"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$strings"), 
  require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$languages$modesRegistry");
  let registeredAssociations = [], nonUserRegisteredAssociations = [], userRegisteredAssociations = [];
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$services$languagesAssociations.js.map
