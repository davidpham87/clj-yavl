{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$base$browser$defaultWorkerFactory.js",
"lineCount":74,
"mappings":"AAAAA,cAAA,CAAA,0EAAA,GAA+F,QAAQ,CAACC,OAAD,EAASC,MAAT,EAAgBC,OAAhB,CAAyB;AAQhIC,UAASA,UAAS,CAACC,KAAD,CAAQ;AACxB,QAAMC,oBAAoBC,UAAWC,CAAAA,iBAArC;AACA,QAAIF,iBAAJ,CAAuB;AACrB,UAAI,MAAOA,kBAAkBF,CAAAA,SAA7B,KAA2C,UAA3C;AACE,eAAOE,iBAAkBF,CAAAA,SAAlB,CAA4B,eAA5B,EAA6CC,KAA7C,CAAP;AADF;AAGA,UAAI,MAAOC,kBAAkBG,CAAAA,YAA7B,KAA8C,UAA9C;AAEE,eADMC,iBACC,GADWJ,iBAAkBG,CAAAA,YAAlB,CAA+B,eAA/B,EAAgDJ,KAAhD,CACX,EAAA,IAAIM,MAAJ,CAAWC,QAAA,GAAWA,QAASC,CAAAA,eAAT,CAAyBH,iBAAzB,CAAX,GAAiDA,iBAA5D,EAAuE,CAACI,KAAKT,KAAN,CAAvE,CAAP;AAFF;AAJqB;AASvB,UAAUU,KAAJ,CAAW,0FAAX,CAAN;AAXwB;AAP1BC,QAAOC,CAAAA,gBAAP,CAAwBd,OAAxB,EAAiC,CAACe,WAAW,CAACC,WAAW,CAAA,CAAZ,EAAkBC,MAAM,CAAA,CAAxB,CAAZ,EAA2CC,qBAAqB,CAACF,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AAChI,WAAOD,oBAAP;AADgI,GAAjC,CAAhE,CAAjC,CAAA;AAGIE,QAAAA,GAA0CtB,OAAA,CAAQ,oEAAR,CAA1CsB;AACJ,MAAIC,sDAAsDvB,OAAA,CAAQ,6DAAR,CAA1D,EACIwB,yEAAyExB,OAAA,CAAQ,0EAAR,CAD7E;AAEA,QAAMW,WAAW,GAAGW,MAAwCG,CAAAA,wBAA3C,EAAqE,sBAArE,EAA6F,CAACb,gBAAgBO,KAAAP,IAASO,KAA1B,CAA7F,CAAjB;AAoBA,OAAMO,UAAN;AACEC,eAAW,CAACC,QAAD,EAAWC,EAAX,EAAezB,KAAf,EAAsB0B,iBAAtB,EAAyCC,eAAzC,CAA0D;AACnE,UAAKF,CAAAA,EAAL,GAAUA,EAAV;AACA,UAAKzB,CAAAA,KAAL,GAAaA,KAAb;AACM4B,QAAAA,GAAkB7B,SAAA,CAAUC,KAAV,CAAlB4B;AARN,WAAA,GADE,MAUgBA,GAVLC,CAAAA,IAAf,KAAwB,UAAxB,GACS,CAAA,CADT,GAGO,CAAA,CAFL;AAUE,UAAKC,CAAAA,MAAL,GADE,KAAJ,GACgBF,EADhB,GAGgBG,OAAQC,CAAAA,OAAR,CAAgBJ,EAAhB,CAFd;AAIF,UAAKK,CAAAA,WAAL,CAAiBT,QAAjB,EAA2B,EAA3B,CAAA;AACA,UAAKM,CAAAA,MAAOD,CAAAA,IAAZ,CAAiBK,CAAA,IAAK;AACpBA,SAAEC,CAAAA,SAAF,GAAcC,QAAQ,CAACC,EAAD,CAAK;AACzBX,2BAAA,CAAkBW,EAAGC,CAAAA,IAArB,CAAA;AADyB,SAA3B;AAGAJ,SAAEK,CAAAA,cAAF,GAAmBZ,eAAnB;AACI,cAAOO,EAAEM,CAAAA,gBAAb,KAAkC,UAAlC,IACEN,CAAEM,CAAAA,gBAAF,CAAmB,OAAnB,EAA4Bb,eAA5B,CADF;AALoB,OAAtB,CAAA;AAVmE;AAoBrEc,SAAK,EAAG;AACN,aAAO,IAAKhB,CAAAA,EAAZ;AADM;AAGRQ,eAAW,CAACS,OAAD,EAAUC,QAAV,CAAoB;AAC7B,UAAIC,EAAJ;AACA,OAACA,EAAD,GAAM,IAAKd,CAAAA,MAAX,MAAuB,IAAvB,IAA+Bc,EAA/B,KAAsC,IAAK,EAA3C,IAAwDA,EAAGf,CAAAA,IAAH,CAAQK,CAAA,IAAK;AACnE,WAAI;AACFA,WAAED,CAAAA,WAAF,CAAcS,OAAd,EAAuBC,QAAvB,CAAA;AADE,SAEF,QAAOE,GAAP,CAAY;AACZ,aAAG1B,mDAAoD2B,CAAAA,iBAAvD,EAA0ED,GAA1E,CACA,EAAA,GAAG1B,mDAAoD2B,CAAAA,iBAAvD,EAA8EpC,KAAJ,CAAW,8BAA6B,IAAKV,CAAAA,KAAlC,UAAX,EAA8D,CAAC+C,MAAMF,GAAP,CAA9D,CAA1E,CAAA;AAFY;AAHqD,OAAb,CAAxD;AAF6B;AAW/BG,WAAO,EAAG;AACR,UAAIJ,EAAJ;AACA,OAACA,EAAD,GAAM,IAAKd,CAAAA,MAAX,MAAuB,IAAvB,IAA+Bc,EAA/B,KAAsC,IAAK,EAA3C,IAAwDA,EAAGf,CAAAA,IAAH,CAAQK,CAAA,IAAKA,CAAEe,CAAAA,SAAF,EAAb,CAAxD;AACA,UAAKnB,CAAAA,MAAL,GAAc,IAAd;AAHQ;AAnCZ;AAyCA,OAAMd,qBAAN;AACEO,eAAW,CAACvB,KAAD,CAAQ;AACjB,UAAKkD,CAAAA,MAAL,GAAclD,KAAd;AACA,UAAKmD,CAAAA,2BAAL,GAAmC,CAAA,CAAnC;AAFiB;AAInBC,UAAM,CAAC5B,QAAD,EAAWE,iBAAX,EAA8BC,eAA9B,CAA+C;AACnD,YAAM0B,WAAW,EAAErC,oBAAqBsC,CAAAA,cAAxC;AACA,UAAI,IAAKH,CAAAA,2BAAT;AACE,cAAM,IAAKA,CAAAA,2BAAX;AADF;AAGA,aAAO,IAAI7B,SAAJ,CAAcE,QAAd,EAAwB6B,QAAxB,EAAkC,IAAKH,CAAAA,MAAvC,IAAiD,WAAjD,GAA+DG,QAA/D,EAAyE3B,iBAAzE,EAA4FmB,GAAA,IAAO;AACxG,WAAGzB,sEAAuEmC,CAAAA,uBAA1E,EAAmGV,GAAnG,CAAA;AACA,YAAKM,CAAAA,2BAAL,GAAmCN,GAAnC;AACAlB,uBAAA,CAAgBkB,GAAhB,CAAA;AAHwG,OAAnG,CAAP;AALmD;AALvD;AAiBA7B,sBAAqBsC,CAAAA,cAArB,GAAsC,CAAtC;AArFgI,CAAhI;;",
"sources":["node_modules/monaco-editor/esm/vs/base/browser/defaultWorkerFactory.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$base$browser$defaultWorkerFactory\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, DefaultWorkerFactory:{enumerable:true, get:function() {\n  return DefaultWorkerFactory;\n}}});\nvar require$_DOT__SLASH_trustedTypes_DOT_js = require(\"./trustedTypes.js\");\nvar require$_DOT__DOT__SLASH_common_SLASH_errors_DOT_js = require(\"../common/errors.js\");\nvar require$_DOT__DOT__SLASH_common_SLASH_worker_SLASH_simpleWorker_DOT_js = require(\"../common/worker/simpleWorker.js\");\nconst ttPolicy = (0,require$_DOT__SLASH_trustedTypes_DOT_js.createTrustedTypesPolicy)(\"defaultWorkerFactory\", {createScriptURL:value => value});\nfunction getWorker(label) {\n  const monacoEnvironment = globalThis.MonacoEnvironment;\n  if (monacoEnvironment) {\n    if (typeof monacoEnvironment.getWorker === \"function\") {\n      return monacoEnvironment.getWorker(\"workerMain.js\", label);\n    }\n    if (typeof monacoEnvironment.getWorkerUrl === \"function\") {\n      const workerUrl = monacoEnvironment.getWorkerUrl(\"workerMain.js\", label);\n      return new Worker(ttPolicy ? ttPolicy.createScriptURL(workerUrl) : workerUrl, {name:label});\n    }\n  }\n  throw new Error(`You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker`);\n}\nfunction isPromiseLike(obj) {\n  if (typeof obj.then === \"function\") {\n    return true;\n  }\n  return false;\n}\nclass WebWorker {\n  constructor(moduleId, id, label, onMessageCallback, onErrorCallback) {\n    this.id = id;\n    this.label = label;\n    const workerOrPromise = getWorker(label);\n    if (isPromiseLike(workerOrPromise)) {\n      this.worker = workerOrPromise;\n    } else {\n      this.worker = Promise.resolve(workerOrPromise);\n    }\n    this.postMessage(moduleId, []);\n    this.worker.then(w => {\n      w.onmessage = function(ev) {\n        onMessageCallback(ev.data);\n      };\n      w.onmessageerror = onErrorCallback;\n      if (typeof w.addEventListener === \"function\") {\n        w.addEventListener(\"error\", onErrorCallback);\n      }\n    });\n  }\n  getId() {\n    return this.id;\n  }\n  postMessage(message, transfer) {\n    var _a;\n    (_a = this.worker) === null || _a === void 0 ? void 0 : _a.then(w => {\n      try {\n        w.postMessage(message, transfer);\n      } catch (err) {\n        (0,require$_DOT__DOT__SLASH_common_SLASH_errors_DOT_js.onUnexpectedError)(err);\n        (0,require$_DOT__DOT__SLASH_common_SLASH_errors_DOT_js.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`, {cause:err}));\n      }\n    });\n  }\n  dispose() {\n    var _a;\n    (_a = this.worker) === null || _a === void 0 ? void 0 : _a.then(w => w.terminate());\n    this.worker = null;\n  }\n}\nclass DefaultWorkerFactory {\n  constructor(label) {\n    this._label = label;\n    this._webWorkerFailedBeforeError = false;\n  }\n  create(moduleId, onMessageCallback, onErrorCallback) {\n    const workerId = ++DefaultWorkerFactory.LAST_WORKER_ID;\n    if (this._webWorkerFailedBeforeError) {\n      throw this._webWorkerFailedBeforeError;\n    }\n    return new WebWorker(moduleId, workerId, this._label || \"anonymous\" + workerId, onMessageCallback, err => {\n      (0,require$_DOT__DOT__SLASH_common_SLASH_worker_SLASH_simpleWorker_DOT_js.logOnceWebWorkerWarning)(err);\n      this._webWorkerFailedBeforeError = err;\n      onErrorCallback(err);\n    });\n  }\n}\nDefaultWorkerFactory.LAST_WORKER_ID = 0;\n\n};"],
"names":["shadow$provide","require","module","exports","getWorker","label","monacoEnvironment","globalThis","MonacoEnvironment","getWorkerUrl","workerUrl","Worker","ttPolicy","createScriptURL","name","Error","Object","defineProperties","__esModule","enumerable","value","DefaultWorkerFactory","get","require$_DOT__SLASH_trustedTypes_DOT_js","require$_DOT__DOT__SLASH_common_SLASH_errors_DOT_js","require$_DOT__DOT__SLASH_common_SLASH_worker_SLASH_simpleWorker_DOT_js","createTrustedTypesPolicy","WebWorker","constructor","moduleId","id","onMessageCallback","onErrorCallback","workerOrPromise","then","worker","Promise","resolve","postMessage","w","onmessage","w.onmessage","ev","data","onmessageerror","addEventListener","getId","message","transfer","_a","err","onUnexpectedError","cause","dispose","terminate","_label","_webWorkerFailedBeforeError","create","workerId","LAST_WORKER_ID","logOnceWebWorkerWarning"]
}
