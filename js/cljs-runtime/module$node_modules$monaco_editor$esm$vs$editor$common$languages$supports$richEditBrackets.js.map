{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$richEditBrackets.js",
"lineCount":228,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/languages/supports/richEditBrackets.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$languages$supports$richEditBrackets\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, BracketsUtils:{enumerable:true, get:function() {\n  return BracketsUtils;\n}}, RichEditBracket:{enumerable:true, get:function() {\n  return RichEditBracket;\n}}, RichEditBrackets:{enumerable:true, get:function() {\n  return RichEditBrackets;\n}}});\nvar strings = require(\"../../../../base/common/strings.js\");\nvar stringBuilder = require(\"../../core/stringBuilder.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_range_DOT_js = require(\"../../core/range.js\");\nclass RichEditBracket {\n  constructor(languageId, index, open, close, forwardRegex, reversedRegex) {\n    this._richEditBracketBrand = undefined;\n    this.languageId = languageId;\n    this.index = index;\n    this.open = open;\n    this.close = close;\n    this.forwardRegex = forwardRegex;\n    this.reversedRegex = reversedRegex;\n    this._openSet = RichEditBracket._toSet(this.open);\n    this._closeSet = RichEditBracket._toSet(this.close);\n  }\n  isOpen(text) {\n    return this._openSet.has(text);\n  }\n  isClose(text) {\n    return this._closeSet.has(text);\n  }\n  static _toSet(arr) {\n    const result = new Set();\n    for (const element of arr) {\n      result.add(element);\n    }\n    return result;\n  }\n}\nfunction groupFuzzyBrackets(brackets) {\n  const N = brackets.length;\n  brackets = brackets.map(b => [b[0].toLowerCase(), b[1].toLowerCase()]);\n  const group = [];\n  for (let i = 0; i < N; i++) {\n    group[i] = i;\n  }\n  const areOverlapping = (a, b) => {\n    const [aOpen, aClose] = a;\n    const [bOpen, bClose] = b;\n    return aOpen === bOpen || aOpen === bClose || aClose === bOpen || aClose === bClose;\n  };\n  const mergeGroups = (g1, g2) => {\n    const newG = Math.min(g1, g2);\n    const oldG = Math.max(g1, g2);\n    for (let i = 0; i < N; i++) {\n      if (group[i] === oldG) {\n        group[i] = newG;\n      }\n    }\n  };\n  for (let i = 0; i < N; i++) {\n    const a = brackets[i];\n    for (let j = i + 1; j < N; j++) {\n      const b = brackets[j];\n      if (areOverlapping(a, b)) {\n        mergeGroups(group[i], group[j]);\n      }\n    }\n  }\n  const result = [];\n  for (let g = 0; g < N; g++) {\n    const currentOpen = [];\n    const currentClose = [];\n    for (let i = 0; i < N; i++) {\n      if (group[i] === g) {\n        const [open, close] = brackets[i];\n        currentOpen.push(open);\n        currentClose.push(close);\n      }\n    }\n    if (currentOpen.length > 0) {\n      result.push({open:currentOpen, close:currentClose});\n    }\n  }\n  return result;\n}\nclass RichEditBrackets {\n  constructor(languageId, _brackets) {\n    this._richEditBracketsBrand = undefined;\n    const brackets = groupFuzzyBrackets(_brackets);\n    this.brackets = brackets.map((b, index) => {\n      return new RichEditBracket(languageId, index, b.open, b.close, getRegexForBracketPair(b.open, b.close, brackets, index), getReversedRegexForBracketPair(b.open, b.close, brackets, index));\n    });\n    this.forwardRegex = getRegexForBrackets(this.brackets);\n    this.reversedRegex = getReversedRegexForBrackets(this.brackets);\n    this.textIsBracket = {};\n    this.textIsOpenBracket = {};\n    this.maxBracketLength = 0;\n    for (const bracket of this.brackets) {\n      for (const open of bracket.open) {\n        this.textIsBracket[open] = bracket;\n        this.textIsOpenBracket[open] = true;\n        this.maxBracketLength = Math.max(this.maxBracketLength, open.length);\n      }\n      for (const close of bracket.close) {\n        this.textIsBracket[close] = bracket;\n        this.textIsOpenBracket[close] = false;\n        this.maxBracketLength = Math.max(this.maxBracketLength, close.length);\n      }\n    }\n  }\n}\nfunction collectSuperstrings(str, brackets, currentIndex, dest) {\n  for (let i = 0, len = brackets.length; i < len; i++) {\n    if (i === currentIndex) {\n      continue;\n    }\n    const bracket = brackets[i];\n    for (const open of bracket.open) {\n      if (open.indexOf(str) >= 0) {\n        dest.push(open);\n      }\n    }\n    for (const close of bracket.close) {\n      if (close.indexOf(str) >= 0) {\n        dest.push(close);\n      }\n    }\n  }\n}\nfunction lengthcmp(a, b) {\n  return a.length - b.length;\n}\nfunction unique(arr) {\n  if (arr.length <= 1) {\n    return arr;\n  }\n  const result = [];\n  const seen = new Set();\n  for (const element of arr) {\n    if (seen.has(element)) {\n      continue;\n    }\n    result.push(element);\n    seen.add(element);\n  }\n  return result;\n}\nfunction getRegexForBracketPair(open, close, brackets, currentIndex) {\n  let pieces = [];\n  pieces = pieces.concat(open);\n  pieces = pieces.concat(close);\n  for (let i = 0, len = pieces.length; i < len; i++) {\n    collectSuperstrings(pieces[i], brackets, currentIndex, pieces);\n  }\n  pieces = unique(pieces);\n  pieces.sort(lengthcmp);\n  pieces.reverse();\n  return createBracketOrRegExp(pieces);\n}\nfunction getReversedRegexForBracketPair(open, close, brackets, currentIndex) {\n  let pieces = [];\n  pieces = pieces.concat(open);\n  pieces = pieces.concat(close);\n  for (let i = 0, len = pieces.length; i < len; i++) {\n    collectSuperstrings(pieces[i], brackets, currentIndex, pieces);\n  }\n  pieces = unique(pieces);\n  pieces.sort(lengthcmp);\n  pieces.reverse();\n  return createBracketOrRegExp(pieces.map(toReversedString));\n}\nfunction getRegexForBrackets(brackets) {\n  let pieces = [];\n  for (const bracket of brackets) {\n    for (const open of bracket.open) {\n      pieces.push(open);\n    }\n    for (const close of bracket.close) {\n      pieces.push(close);\n    }\n  }\n  pieces = unique(pieces);\n  return createBracketOrRegExp(pieces);\n}\nfunction getReversedRegexForBrackets(brackets) {\n  let pieces = [];\n  for (const bracket of brackets) {\n    for (const open of bracket.open) {\n      pieces.push(open);\n    }\n    for (const close of bracket.close) {\n      pieces.push(close);\n    }\n  }\n  pieces = unique(pieces);\n  return createBracketOrRegExp(pieces.map(toReversedString));\n}\nfunction prepareBracketForRegExp(str) {\n  const insertWordBoundaries = /^[\\w ]+$/.test(str);\n  str = strings.escapeRegExpCharacters(str);\n  return insertWordBoundaries ? `\\\\b${str}\\\\b` : str;\n}\nfunction createBracketOrRegExp(pieces) {\n  const regexStr = `(${pieces.map(prepareBracketForRegExp).join(\")|(\")})`;\n  return strings.createRegExp(regexStr, true);\n}\nconst toReversedString = function() {\n  function reverse(str) {\n    const arr = new Uint16Array(str.length);\n    let offset = 0;\n    for (let i = str.length - 1; i >= 0; i--) {\n      arr[offset++] = str.charCodeAt(i);\n    }\n    return stringBuilder.getPlatformTextDecoder().decode(arr);\n  }\n  let lastInput = null;\n  let lastOutput = null;\n  return function toReversedString(str) {\n    if (lastInput !== str) {\n      lastInput = str;\n      lastOutput = reverse(lastInput);\n    }\n    return lastOutput;\n  };\n}();\nclass BracketsUtils {\n  static _findPrevBracketInText(reversedBracketRegex, lineNumber, reversedText, offset) {\n    const m = reversedText.match(reversedBracketRegex);\n    if (!m) {\n      return null;\n    }\n    const matchOffset = reversedText.length - (m.index || 0);\n    const matchLength = m[0].length;\n    const absoluteMatchOffset = offset + matchOffset;\n    return new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(lineNumber, absoluteMatchOffset - matchLength + 1, lineNumber, absoluteMatchOffset + 1);\n  }\n  static findPrevBracketInRange(reversedBracketRegex, lineNumber, lineText, startOffset, endOffset) {\n    const reversedLineText = toReversedString(lineText);\n    const reversedSubstr = reversedLineText.substring(lineText.length - endOffset, lineText.length - startOffset);\n    return this._findPrevBracketInText(reversedBracketRegex, lineNumber, reversedSubstr, startOffset);\n  }\n  static findNextBracketInText(bracketRegex, lineNumber, text, offset) {\n    const m = text.match(bracketRegex);\n    if (!m) {\n      return null;\n    }\n    const matchOffset = m.index || 0;\n    const matchLength = m[0].length;\n    if (matchLength === 0) {\n      return null;\n    }\n    const absoluteMatchOffset = offset + matchOffset;\n    return new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(lineNumber, absoluteMatchOffset + 1, lineNumber, absoluteMatchOffset + 1 + matchLength);\n  }\n  static findNextBracketInRange(bracketRegex, lineNumber, lineText, startOffset, endOffset) {\n    const substr = lineText.substring(startOffset, endOffset);\n    return this.findNextBracketInText(bracketRegex, lineNumber, substr, startOffset);\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","groupFuzzyBrackets","brackets","N","length","map","b","toLowerCase","group","i","areOverlapping","a","aOpen","aClose","bOpen","bClose","mergeGroups","g1","g2","newG","Math","min","oldG","max","j","result","g","currentOpen","currentClose","open","close","push","collectSuperstrings","str","currentIndex","dest","len","bracket","indexOf","lengthcmp","unique","arr","seen","Set","element","has","add","getRegexForBrackets","pieces","createBracketOrRegExp","getReversedRegexForBrackets","toReversedString","prepareBracketForRegExp","insertWordBoundaries","test","strings","escapeRegExpCharacters","regexStr","join","createRegExp","Object","defineProperties","__esModule","enumerable","value","BracketsUtils","get","RichEditBracket","RichEditBrackets","stringBuilder","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_range_DOT_js","constructor","languageId","index","forwardRegex","reversedRegex","_richEditBracketBrand","undefined","_openSet","_toSet","_closeSet","isOpen","text","isClose","_brackets","_richEditBracketsBrand","concat","sort","reverse","textIsBracket","textIsOpenBracket","maxBracketLength","lastInput","lastOutput","Uint16Array","offset","charCodeAt","getPlatformTextDecoder","decode","_findPrevBracketInText","reversedBracketRegex","lineNumber","reversedText","m","match","absoluteMatchOffset","Range","findPrevBracketInRange","lineText","startOffset","endOffset","reversedSubstr","reversedLineText","substring","findNextBracketInText","bracketRegex","matchLength","findNextBracketInRange","substr"]
}
