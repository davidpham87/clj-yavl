{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$platform$quickinput$browser$quickAccess.js",
"lineCount":113,
"mappings":"AAAAA,cAAA,CAAA,gFAAA,GAAqG,QAAQ,CAACC,OAAD,EAASC,MAAT,EAAgBC,OAAhB,CAAyB;AACtIC,QAAOC,CAAAA,gBAAP,CAAwBF,OAAxB,EAAiC,CAACG,WAAW,CAACC,WAAW,CAAA,CAAZ,EAAkBC,MAAM,CAAA,CAAxB,CAAZ,EAA2CC,sBAAsB,CAACF,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AACjI,WAAOD,qBAAP;AADiI,GAAjC,CAAjE,CAAjC,CAAA;AAGA,MAAIE,kGAAkGV,OAAA,CAAQ,4DAAR,CAAtG,EACIW,yGAAyGX,OAAA,CAAQ,mEAAR,CAD7G,EAEIY,kGAAkGZ,OAAA,CAAQ,4DAAR,CAFtG;AAGIa,wGAAsGb,OAAA,CAAQ,gEAAR,CAH1G;AAIIc,QAAAA,GAAkGd,OAAA,CAAQ,sFAAR,CAAlGc;AACJ,MAAIC,2DAA2Df,OAAA,CAAQ,iFAAR,CAA/D,EACIgB,0DAA0DhB,OAAA,CAAQ,gFAAR,CAD9D,EAEIiB,wFAAwFjB,OAAA,CAAQ,4EAAR,CAF5F;AAgBIkB,SAAAA,GAAU,IAAVA,IAAkB,IAAKA,CAAAA,OAAvBA,IAAkC,QAAQ,CAACC,UAAD,EAAaC,SAAb,CAAwB;AACpE,WAAO,QAAQ,CAACC,MAAD,EAASC,GAAT,CAAc;AAC3BF,eAAA,CAAUC,MAAV,EAAkBC,GAAlB,EAAuBH,UAAvB,CAAA;AAD2B,KAA7B;AADoE,GAAlED;AAKJ,MAAIV,wBAAwB,aAAoCK,oGAAoGU,CAAAA,UAAxI;AAC1BC,eAAW,CAACC,iBAAD,EAAoBC,oBAApB,CAA0C;AACnD,WAAA,EAAA;AACA,UAAKD,CAAAA,iBAAL,GAAyBA,iBAAzB;AACA,UAAKC,CAAAA,oBAAL,GAA4BA,oBAA5B;AACA,UAAKC,CAAAA,QAAL,GAAgBV,qFAAsFW,CAAAA,QAASC,CAAAA,EAA/F,CAAkGd,wDAAyDe,CAAAA,UAAWC,CAAAA,WAAtK,CAAhB;AACA,UAAKC,CAAAA,uBAAL,GAA+B,IAAIC,GAAJ,EAA/B;AACA,UAAKC,CAAAA,wBAAL,GAAgC,IAAID,GAAJ,EAAhC;AACA,UAAKE,CAAAA,kBAAL,GAA0BC,IAAAA,EAA1B;AAPmD;AASrDC,QAAI,CAAC9B,KAAA,GAAQ,EAAT,EAAa+B,OAAb,CAAsB;AACxB,UAAKC,CAAAA,YAAL,CAAkBhC,KAAlB,EAAyB,CAAA,CAAzB,EAAgC+B,OAAhC,CAAA;AADwB;AAG1BC,gBAAY,CAAChC,KAAD,EAAQiC,IAAR,EAAcF,OAAd,CAAuB;AACjC,UAAIG,EAAJ;AACA,YAAM,CAACC,QAAD,EAAWC,UAAX,CAAA,GAAyB,IAAKC,CAAAA,wBAAL,CAA8BrC,KAA9B,CAA/B,EACM4B,qBAAqB,IAAKA,CAAAA,kBADhC;AAEA,UAAMU,oBAAoBV,kBAAA,KAAuB,IAAvB,IAA+BA,kBAA/B,KAAsD,IAAK,EAA3D,GAA+D,IAAK,EAApE,GAAwEA,kBAAmBQ,CAAAA,UAArH;AACA,UAAIR,kBAAJ,IAA0BQ,UAA1B,IAAwCE,iBAAxC,KAA8DF,UAA9D;AACMpC,aAGJ,KAHcoC,UAAWG,CAAAA,MAGzB,IAHqCR,OAGrC,KAHiD,IAGjD,IAHyDA,OAGzD,KAHqE,IAAK,EAG1E,IAHuFA,OAAQS,CAAAA,aAG/F,KAFEZ,kBAAmBa,CAAAA,MAAOzC,CAAAA,KAE5B,GAFoCA,KAEpC,GAAA,IAAK0C,CAAAA,oBAAL,CAA0Bd,kBAAmBa,CAAAA,MAA7C,EAAqDL,UAArD,EAAiEL,OAAjE,CAAA;AAJF,YAAA;AAOA,YAAIK,UAAJ,KAAoBL,OAApB,KAAgC,IAAhC,IAAwCA,OAAxC,KAAoD,IAAK,EAAzD,IAA8ES,CAART,OAAQS,CAAAA,aAA9E,EAA8F;AAC5F,cAAIG,WAAWd,IAAAA,EAAf;AACID,4BAAJ,IAA0BU,iBAA1B,IAA+CA,iBAA/C,KAAqEF,UAArE,KACQQ,iBADR,GACyChB,kBAAmB5B,CAAAA,KAAM6C,CAAAA,MAAzB,CAAgCP,iBAAkBC,CAAAA,MAAOO,CAAAA,MAAzD,CADzC,MAGIH,QAHJ,GAGgB,GAAEP,UAAWG,CAAAA,MAAb,GAAsBK,iBAAtB,EAHhB;AAMKD,kBAAL,KACQI,iBACN,GAD2BZ,QAAA,KAAa,IAAb,IAAqBA,QAArB,KAAkC,IAAK,EAAvC,GAA2C,IAAK,EAAhD,GAAoDA,QAASY,CAAAA,kBACxF,EAAIA,iBAAJ,KAA2BvC,wDAAyDwC,CAAAA,6BAA8BC,CAAAA,IAAlH,GACEN,QADF,GACa,IAAKhB,CAAAA,wBAAyBzB,CAAAA,GAA9B,CAAkCkC,UAAlC,CADb,GAEW,MAAOW,kBAFlB,KAEyC,QAFzC,KAGEJ,QAHF,GAGc,GAAEP,UAAWG,CAAAA,MAAb,GAAsBQ,iBAAtB,EAHd,CAFF;AAQI,gBAAOJ,SAAX,KAAwB,QAAxB,KACE3C,KADF,GACU2C,QADV;AAhB4F;AAoB9F,YAAMO,cAAc,IAAI5C,mGAAoG6C,CAAAA,eAAxG,EAApB,EACMV,SAASS,WAAYE,CAAAA,GAAZ,CAAgB,IAAKlC,CAAAA,iBAAkBmC,CAAAA,eAAvB,EAAhB,CADf;AAEAZ,cAAOzC,CAAAA,KAAP,GAAeA,KAAf;AACA,YAAK0C,CAAAA,oBAAL,CAA0BD,MAA1B,EAAkCL,UAAlC,EAA8CL,OAA9C,CAAA;AACAU,cAAOa,CAAAA,WAAP,GAAqBlB,UAAA,KAAe,IAAf,IAAuBA,UAAvB,KAAsC,IAAK,EAA3C,GAA+C,IAAK,EAApD,GAAwDA,UAAWkB,CAAAA,WAAxF;AACAb,cAAOc,CAAAA,aAAP,GAAuBxB,OAAA,KAAY,IAAZ,IAAoBA,OAApB,KAAgC,IAAK,EAArC,GAAyC,IAAK,EAA9C,GAAkDA,OAAQyB,CAAAA,0BAAjF;AACAf,cAAOgB,CAAAA,SAAP,GAAmB,CAAC,CAAChB,MAAOc,CAAAA,aAA5B,IAA6C,CAAC3B,kBAA9C;AACA,YAAI,OAAOG,OAAA,KAAY,IAAZ,IAAoBA,OAApB,KAAgC,IAAK,EAArC,GAAyC,IAAK,EAA9C,GAAkDA,OAAQ2B,CAAAA,cAAjE,CAAJ,KAAyF,QAAzF,KAAsG3B,OAAA,KAAY,IAAZ,IAAoBA,OAApB,KAAgC,IAAK,EAArC,GAAyC,CAAzC,GAAkDA,OAAQyB,CAAAA,0BAAhK;AACEf,gBAAOiB,CAAAA,cAAP,GAAwB,CAACxB,EAAD,GAAMH,OAAA,KAAY,IAAZ,IAAoBA,OAApB,KAAgC,IAAK,EAArC,GAAyC,IAAK,EAA9C,GAAkDA,OAAQ2B,CAAAA,cAAhE,MAAoF,IAApF,IAA4FxB,EAA5F,KAAmG,IAAK,EAAxG,GAA4GA,EAA5G,GAAiHzB,uDAAwDkD,CAAAA,cAAeC,CAAAA,MAAhN;AADF;AAGAnB,cAAOoB,CAAAA,UAAP,GAAoBzB,UAAA,KAAe,IAAf,IAAuBA,UAAvB,KAAsC,IAAK,EAA3C,GAA+C,IAAK,EAApD,GAAwDA,UAAWyB,CAAAA,UAAvF;AACApB,cAAOqB,CAAAA,WAAP,GAAqB9D,KAAA+D,IAAS/D,KAAMgE,CAAAA,SAAN,CAAgB5B,UAAA,GAAaA,UAAWG,CAAAA,MAAOO,CAAAA,MAA/B,GAAwC,CAAxD,CAA9B;AACA,YAAImB,cAAcpC,IAAAA,EAAlB;AACII,YAAJ,KACEgC,WACA,GADc,IAAI9D,+FAAgG+D,CAAAA,eAApG,EACd,EAAAhB,WAAYE,CAAAA,GAAZ,CAAgB/C,+FAAgG8D,CAAAA,KAAMC,CAAAA,IAAtG,CAA2G3B,MAAO4B,CAAAA,YAAlH,CAAA,CAAgIC,CAAA,IAAK;AACnJA,WAAEC,CAAAA,IAAF,EAAA;AACA9B,gBAAO+B,CAAAA,IAAP,EAAA;AAFmJ,SAArI,CAAhB,CAFF;AAOAtB,mBAAYE,CAAAA,GAAZ,CAAgB,IAAKqB,CAAAA,uBAAL,CAA6BhC,MAA7B,EAAqCN,QAArC,EAA+CC,UAA/C,EAA2DpC,KAA3D,EAAkE+B,OAAA,KAAY,IAAZ,IAAoBA,OAApB,KAAgC,IAAK,EAArC,GAAyC,IAAK,EAA9C,GAAkDA,OAAQ2C,CAAAA,eAA5H,CAAhB,CAAA;AACA,YAAMC,MAAMzB,WAAYE,CAAAA,GAAZ,CAAgB,IAAIhD,sGAAuGwE,CAAAA,uBAA3G,EAAhB,CAAZ;AACIzC,gBAAJ,IACEe,WAAYE,CAAAA,GAAZ,CAAgBjB,QAAS0C,CAAAA,OAAT,CAAiBpC,MAAjB,EAAyBkC,GAAIG,CAAAA,KAA7B,EAAoC/C,OAAA,KAAY,IAAZ,IAAoBA,OAApB,KAAgC,IAAK,EAArC,GAAyC,IAAK,EAA9C,GAAkDA,OAAQ2C,CAAAA,eAA9F,CAAhB,CADF;AAGArE,uGAAgG8D,CAAAA,KAAMC,CAAAA,IAAtG,CAA2G3B,MAAOsC,CAAAA,SAAlH,CAAA,CAA6H,EAAA,IAAM;AAC7HtC,gBAAOuC,CAAAA,aAAclC,CAAAA,MAAzB,KAAoC,CAApC,IACE6B,GAAIM,CAAAA,MAAJ,EADF;AAGA/B,qBAAYgC,CAAAA,OAAZ,EAAA;AACAjB,qBAAA,KAAgB,IAAhB,IAAwBA,WAAxB,KAAwC,IAAK,EAA7C,IAA0DA,WAAYkB,CAAAA,QAAZ,CAAqB1C,MAAOuC,CAAAA,aAAcI,CAAAA,KAArB,CAA2B,CAA3B,CAArB,CAA1D;AALiI,SAAnI,CAAA;AAOA3C,cAAOX,CAAAA,IAAP,EAAA;AACA,YAAIG,IAAJ;AACE,iBAAOgC,WAAA,KAAgB,IAAhB,IAAwBA,WAAxB,KAAwC,IAAK,EAA7C,GAAiD,IAAK,EAAtD,GAA0DA,WAAYoB,CAAAA,CAA7E;AADF;AA5DA;AALiC;AAqEnC3C,wBAAoB,CAACD,MAAD,EAASL,UAAT,EAAqBL,OAArB,CAA8B;AAChD,UAAIG,EAAJ;AAGEoD,gBAAA,GADF,CAAIvD,OAAA,KAAY,IAAZ,IAAoBA,OAApB,KAAgC,IAAK,EAArC,GAAyC,CAAzC,GAAkDA,OAAQS,CAAAA,aAA9D,IACmB,CAACC,MAAOzC,CAAAA,KAAM8C,CAAAA,MAAd,EAAsBL,MAAOzC,CAAAA,KAAM8C,CAAAA,MAAnC,CADnB,GAGmB,CAAC,CAACZ,EAAD,GAAME,UAAA,KAAe,IAAf,IAAuBA,UAAvB,KAAsC,IAAK,EAA3C,GAA+C,IAAK,EAApD,GAAwDA,UAAWG,CAAAA,MAAOO,CAAAA,MAAhF,MAA4F,IAA5F,IAAoGZ,EAApG,KAA2G,IAAK,EAAhH,GAAoHA,EAApH,GAAyH,CAA1H,EAA6HO,MAAOzC,CAAAA,KAAM8C,CAAAA,MAA1I,CAFjB;AAIFL,YAAO6C,CAAAA,cAAP,GAAwBA,UAAxB;AARgD;AAUlDb,2BAAuB,CAAChC,MAAD,EAASN,QAAT,EAAmBC,UAAnB,EAA+BpC,KAA/B,EAAsC0E,eAAtC,CAAuD;AAC5E,YAAMxB,cAAc,IAAI5C,mGAAoG6C,CAAAA,eAAxG,EAApB,EACMvB,qBAAqB,IAAKA,CAAAA,kBAA1BA,GAA+C,CAACa,MAAD,EAASL,UAAT,EAAqBpC,KAArB,CADrD;AAEAkD,iBAAYE,CAAAA,GAAZ,CAAgB,GAAG9C,mGAAoGiF,CAAAA,YAAvG,EAAqH,EAAA,IAAM;AACrI3D,0BAAJ,KAA2B,IAAKA,CAAAA,kBAAhC,KACE,IAAKA,CAAAA,kBADP,GAC4BC,IAAAA,EAD5B;AADyI,OAA3H,CAAhB,CAAA;AAKAqB,iBAAYE,CAAAA,GAAZ,CAAgBX,MAAO+C,CAAAA,gBAAP,CAAwBxF,KAAA,IAAS;AAC/C,cAAM,CAACyF,gBAAD,CAAA,GAAqB,IAAKpD,CAAAA,wBAAL,CAA8BrC,KAA9B,CAA3B;AACIyF,wBAAJ,KAAyBtD,QAAzB,GACE,IAAKL,CAAAA,IAAL,CAAU9B,KAAV,EAAiB,CAACwC,cAAc,CAAA,CAAf,EAAqBkC,eAArB,CAAjB,CADF,GAGE9C,kBAAmB5B,CAAAA,KAHrB,GAG6BA,KAH7B;AAF+C,OAAjC,CAAhB,CAAA;AAQIoC,gBAAJ,IACEc,WAAYE,CAAAA,GAAZ,CAAgBX,MAAOiD,CAAAA,WAAP,CAAmB,EAAA,IAAM;AACvC,YAAK/D,CAAAA,wBAAyBgE,CAAAA,GAA9B,CAAkCvD,UAAlC,EAA8CK,MAAOzC,CAAAA,KAArD,CAAA;AADuC,OAAzB,CAAhB,CADF;AAKA,aAAOkD,WAAP;AArB4E;AAuB9Eb,4BAAwB,CAACrC,KAAD,CAAQ;AACxB4F,WAAAA,GAAqB,IAAKxE,CAAAA,QAASyE,CAAAA,sBAAd,CAAqC7F,KAArC,CAArB4F;AACN,UAAI,CAACA,KAAL;AACE,eAAO,CAAC/D,IAAAA,EAAD,EAAYA,IAAAA,EAAZ,CAAP;AADF;AAGA,UAAIM,WAAW,IAAKV,CAAAA,uBAAwBvB,CAAAA,GAA7B,CAAiC0F,KAAjC,CAAf;AACKzD,cAAL,KACEA,QACA,GADW,IAAKhB,CAAAA,oBAAqB2E,CAAAA,cAA1B,CAAyCF,KAAmBG,CAAAA,IAA5D,CACX,EAAA,IAAKtE,CAAAA,uBAAwBkE,CAAAA,GAA7B,CAAiCC,KAAjC,EAAqDzD,QAArD,CAFF;AAIA,aAAO,CAACA,QAAD,EAAWyD,KAAX,CAAP;AAV8B;AAnHN,GAA5B;AAgIA3F,uBAAA,GAAwB,CAlJP,IAkJO,IAlJC,IAAK+F,CAAAA,UAkJN,IAlJoB,QAAQ,CAACC,UAAD,EAAanF,MAAb,EAAqBC,GAArB,EAA0BmF,IAA1B,CAAgC;AAAA,QAC9EC,IAAIC,SAAUtD,CAAAA,MADgE,EACxDuD,IAAIF,CAAA,GAAI,CAAJ,GAAQrF,MAAR,GAAiBoF,IAAA,KAAS,IAAT,GAAgBA,IAAhB,GAAuBtG,MAAO0G,CAAAA,wBAAP,CAAgCxF,MAAhC,EAAwCC,GAAxC,CAAvB,GAAsEmF,IADnC,EACyCK,CADzC;AAElF,QAAI,MAAOC,QAAX,KAAuB,QAAvB,IAAmC,MAAOA,QAAQC,CAAAA,QAAlD,KAA+D,UAA/D;AACEJ,OAAA,GAAIG,OAAQC,CAAAA,QAAR,CAAiBR,UAAjB,EAA6BnF,MAA7B,EAAqCC,GAArC,EAA0CmF,IAA1C,CAAJ;AADF;AAGE,WAAK,IAAIQ,IAAIT,UAAWnD,CAAAA,MAAf4D,GAAwB,CAAjC,EAAoCA,CAApC,IAAyC,CAAzC,EAA4CA,CAAA,EAA5C;AACE,YAAIH,CAAJ,GAAQN,UAAA,CAAWS,CAAX,CAAR;AACEL,WAAA,IAAKF,CAAA,GAAI,CAAJ,GAAQI,CAAA,CAAEF,CAAF,CAAR,GAAeF,CAAA,GAAI,CAAJ,GAAQI,CAAA,CAAEzF,MAAF,EAAUC,GAAV,EAAesF,CAAf,CAAR,GAA4BE,CAAA,CAAEzF,MAAF,EAAUC,GAAV,CAAhD,KAAmEsF,CAAnE;AADF;AADF;AAHF;AASA,WAAOF,CAAA,GAAI,CAAJ,IAASE,CAAT,IAAczG,MAAO+G,CAAAA,cAAP,CAAsB7F,MAAtB,EAA8BC,GAA9B,EAAmCsF,CAAnC,CAAd,EAAqDA,CAA5D;AAXkF,GAkJ5D,EAAW,CAAC1F,OAAA,CAAQ,CAAR,EAAWF,uDAAwDmG,CAAAA,kBAAnE,CAAD,EAAyFjG,OAAA,CAAQ,CAAR,EAAWJ,MAAgGsG,CAAAA,qBAA3G,CAAzF,CAAX,EAAwO5G,qBAAxO,CAAxB;AA9JsI,CAAtI;;",
"sources":["node_modules/monaco-editor/esm/vs/platform/quickinput/browser/quickAccess.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$platform$quickinput$browser$quickAccess\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, QuickAccessController:{enumerable:true, get:function() {\n  return QuickAccessController;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require(\"../../../base/common/async.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_cancellation_DOT_js = require(\"../../../base/common/cancellation.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require(\"../../../base/common/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../base/common/lifecycle.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_instantiation_SLASH_common_SLASH_instantiation_DOT_js = require(\"../../instantiation/common/instantiation.js\");\nvar require$_DOT__DOT__SLASH_common_SLASH_quickAccess_DOT_js = require(\"../common/quickAccess.js\");\nvar require$_DOT__DOT__SLASH_common_SLASH_quickInput_DOT_js = require(\"../common/quickInput.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_registry_SLASH_common_SLASH_platform_DOT_js = require(\"../../registry/common/platform.js\");\nvar __decorate = this && this.__decorate || function(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") {\n    r = Reflect.decorate(decorators, target, key, desc);\n  } else {\n    for (var i = decorators.length - 1; i >= 0; i--) {\n      if (d = decorators[i]) {\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n      }\n    }\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nlet QuickAccessController = class QuickAccessController extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  constructor(quickInputService, instantiationService) {\n    super();\n    this.quickInputService = quickInputService;\n    this.instantiationService = instantiationService;\n    this.registry = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_registry_SLASH_common_SLASH_platform_DOT_js.Registry.as(require$_DOT__DOT__SLASH_common_SLASH_quickAccess_DOT_js.Extensions.Quickaccess);\n    this.mapProviderToDescriptor = new Map();\n    this.lastAcceptedPickerValues = new Map();\n    this.visibleQuickAccess = undefined;\n  }\n  show(value = \"\", options) {\n    this.doShowOrPick(value, false, options);\n  }\n  doShowOrPick(value, pick, options) {\n    var _a;\n    const [provider, descriptor] = this.getOrInstantiateProvider(value);\n    const visibleQuickAccess = this.visibleQuickAccess;\n    const visibleDescriptor = visibleQuickAccess === null || visibleQuickAccess === void 0 ? void 0 : visibleQuickAccess.descriptor;\n    if (visibleQuickAccess && descriptor && visibleDescriptor === descriptor) {\n      if (value !== descriptor.prefix && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n        visibleQuickAccess.picker.value = value;\n      }\n      this.adjustValueSelection(visibleQuickAccess.picker, descriptor, options);\n      return;\n    }\n    if (descriptor && !(options === null || options === void 0 ? void 0 : options.preserveValue)) {\n      let newValue = undefined;\n      if (visibleQuickAccess && visibleDescriptor && visibleDescriptor !== descriptor) {\n        const newValueCandidateWithoutPrefix = visibleQuickAccess.value.substr(visibleDescriptor.prefix.length);\n        if (newValueCandidateWithoutPrefix) {\n          newValue = `${descriptor.prefix}${newValueCandidateWithoutPrefix}`;\n        }\n      }\n      if (!newValue) {\n        const defaultFilterValue = provider === null || provider === void 0 ? void 0 : provider.defaultFilterValue;\n        if (defaultFilterValue === require$_DOT__DOT__SLASH_common_SLASH_quickAccess_DOT_js.DefaultQuickAccessFilterValue.LAST) {\n          newValue = this.lastAcceptedPickerValues.get(descriptor);\n        } else if (typeof defaultFilterValue === \"string\") {\n          newValue = `${descriptor.prefix}${defaultFilterValue}`;\n        }\n      }\n      if (typeof newValue === \"string\") {\n        value = newValue;\n      }\n    }\n    const disposables = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();\n    const picker = disposables.add(this.quickInputService.createQuickPick());\n    picker.value = value;\n    this.adjustValueSelection(picker, descriptor, options);\n    picker.placeholder = descriptor === null || descriptor === void 0 ? void 0 : descriptor.placeholder;\n    picker.quickNavigate = options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration;\n    picker.hideInput = !!picker.quickNavigate && !visibleQuickAccess;\n    if (typeof(options === null || options === void 0 ? void 0 : options.itemActivation) === \"number\" || (options === null || options === void 0 ? void 0 : options.quickNavigateConfiguration)) {\n      picker.itemActivation = (_a = options === null || options === void 0 ? void 0 : options.itemActivation) !== null && _a !== void 0 ? _a : require$_DOT__DOT__SLASH_common_SLASH_quickInput_DOT_js.ItemActivation.SECOND;\n    }\n    picker.contextKey = descriptor === null || descriptor === void 0 ? void 0 : descriptor.contextKey;\n    picker.filterValue = value => value.substring(descriptor ? descriptor.prefix.length : 0);\n    let pickPromise = undefined;\n    if (pick) {\n      pickPromise = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.DeferredPromise();\n      disposables.add(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.once(picker.onWillAccept)(e => {\n        e.veto();\n        picker.hide();\n      }));\n    }\n    disposables.add(this.registerPickerListeners(picker, provider, descriptor, value, options === null || options === void 0 ? void 0 : options.providerOptions));\n    const cts = disposables.add(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_cancellation_DOT_js.CancellationTokenSource());\n    if (provider) {\n      disposables.add(provider.provide(picker, cts.token, options === null || options === void 0 ? void 0 : options.providerOptions));\n    }\n    require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.once(picker.onDidHide)(() => {\n      if (picker.selectedItems.length === 0) {\n        cts.cancel();\n      }\n      disposables.dispose();\n      pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.complete(picker.selectedItems.slice(0));\n    });\n    picker.show();\n    if (pick) {\n      return pickPromise === null || pickPromise === void 0 ? void 0 : pickPromise.p;\n    }\n  }\n  adjustValueSelection(picker, descriptor, options) {\n    var _a;\n    let valueSelection;\n    if (options === null || options === void 0 ? void 0 : options.preserveValue) {\n      valueSelection = [picker.value.length, picker.value.length];\n    } else {\n      valueSelection = [(_a = descriptor === null || descriptor === void 0 ? void 0 : descriptor.prefix.length) !== null && _a !== void 0 ? _a : 0, picker.value.length];\n    }\n    picker.valueSelection = valueSelection;\n  }\n  registerPickerListeners(picker, provider, descriptor, value, providerOptions) {\n    const disposables = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();\n    const visibleQuickAccess = this.visibleQuickAccess = {picker, descriptor, value};\n    disposables.add((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.toDisposable)(() => {\n      if (visibleQuickAccess === this.visibleQuickAccess) {\n        this.visibleQuickAccess = undefined;\n      }\n    }));\n    disposables.add(picker.onDidChangeValue(value => {\n      const [providerForValue] = this.getOrInstantiateProvider(value);\n      if (providerForValue !== provider) {\n        this.show(value, {preserveValue:true, providerOptions});\n      } else {\n        visibleQuickAccess.value = value;\n      }\n    }));\n    if (descriptor) {\n      disposables.add(picker.onDidAccept(() => {\n        this.lastAcceptedPickerValues.set(descriptor, picker.value);\n      }));\n    }\n    return disposables;\n  }\n  getOrInstantiateProvider(value) {\n    const providerDescriptor = this.registry.getQuickAccessProvider(value);\n    if (!providerDescriptor) {\n      return [undefined, undefined];\n    }\n    let provider = this.mapProviderToDescriptor.get(providerDescriptor);\n    if (!provider) {\n      provider = this.instantiationService.createInstance(providerDescriptor.ctor);\n      this.mapProviderToDescriptor.set(providerDescriptor, provider);\n    }\n    return [provider, providerDescriptor];\n  }\n};\nQuickAccessController = __decorate([__param(0, require$_DOT__DOT__SLASH_common_SLASH_quickInput_DOT_js.IQuickInputService), __param(1, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_instantiation_SLASH_common_SLASH_instantiation_DOT_js.IInstantiationService)], QuickAccessController);\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","QuickAccessController","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_cancellation_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_instantiation_SLASH_common_SLASH_instantiation_DOT_js","require$_DOT__DOT__SLASH_common_SLASH_quickAccess_DOT_js","require$_DOT__DOT__SLASH_common_SLASH_quickInput_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_registry_SLASH_common_SLASH_platform_DOT_js","__param","paramIndex","decorator","target","key","Disposable","constructor","quickInputService","instantiationService","registry","Registry","as","Extensions","Quickaccess","mapProviderToDescriptor","Map","lastAcceptedPickerValues","visibleQuickAccess","undefined","show","options","doShowOrPick","pick","_a","provider","descriptor","getOrInstantiateProvider","visibleDescriptor","prefix","preserveValue","picker","adjustValueSelection","newValue","newValueCandidateWithoutPrefix","substr","length","defaultFilterValue","DefaultQuickAccessFilterValue","LAST","disposables","DisposableStore","add","createQuickPick","placeholder","quickNavigate","quickNavigateConfiguration","hideInput","itemActivation","ItemActivation","SECOND","contextKey","filterValue","picker.filterValue","substring","pickPromise","DeferredPromise","Event","once","onWillAccept","e","veto","hide","registerPickerListeners","providerOptions","cts","CancellationTokenSource","provide","token","onDidHide","selectedItems","cancel","dispose","complete","slice","p","valueSelection","toDisposable","onDidChangeValue","providerForValue","onDidAccept","set","providerDescriptor","getQuickAccessProvider","createInstance","ctor","__decorate","decorators","desc","c","arguments","r","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","IQuickInputService","IInstantiationService"]
}
