{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$platform$clipboard$browser$clipboardService.js",
"lineCount":101,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/platform/clipboard/browser/clipboardService.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$platform$clipboard$browser$clipboardService\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, BrowserClipboardService:{enumerable:true, get:function() {\n  return BrowserClipboardService;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_browser_DOT_js = require(\"../../../base/browser/browser.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require(\"../../../base/browser/dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require(\"../../../base/common/async.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require(\"../../../base/common/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../base/common/lifecycle.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_layout_SLASH_browser_SLASH_layoutService_DOT_js = require(\"../../layout/browser/layoutService.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_log_SLASH_common_SLASH_log_DOT_js = require(\"../../log/common/log.js\");\nvar __decorate = this && this.__decorate || function(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") {\n    r = Reflect.decorate(decorators, target, key, desc);\n  } else {\n    for (var i = decorators.length - 1; i >= 0; i--) {\n      if (d = decorators[i]) {\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n      }\n    }\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nlet BrowserClipboardService = class BrowserClipboardService extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  constructor(layoutService, logService) {\n    super();\n    this.layoutService = layoutService;\n    this.logService = logService;\n    this.mapTextToType = new Map();\n    this.findText = \"\";\n    this.resources = [];\n    if (require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_browser_DOT_js.isSafari || require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_browser_DOT_js.isWebkitWebView) {\n      this.installWebKitWriteTextWorkaround();\n    }\n  }\n  installWebKitWriteTextWorkaround() {\n    const handler = () => {\n      const currentWritePromise = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.DeferredPromise();\n      if (this.webKitPendingClipboardWritePromise && !this.webKitPendingClipboardWritePromise.isSettled) {\n        this.webKitPendingClipboardWritePromise.cancel();\n      }\n      this.webKitPendingClipboardWritePromise = currentWritePromise;\n      navigator.clipboard.write([new ClipboardItem({\"text/plain\":currentWritePromise.p,})]).catch(async err => {\n        if (!(err instanceof Error) || err.name !== \"NotAllowedError\" || !currentWritePromise.isRejected) {\n          this.logService.error(err);\n        }\n      });\n    };\n    this._register(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.runAndSubscribe(this.layoutService.onDidAddContainer, ({container, disposables}) => {\n      disposables.add((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(container, \"click\", handler));\n      disposables.add((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addDisposableListener)(container, \"keydown\", handler));\n    }, {container:this.layoutService.mainContainer, disposables:this._store}));\n  }\n  async writeText(text, type) {\n    if (type) {\n      this.mapTextToType.set(type, text);\n      return;\n    }\n    if (this.webKitPendingClipboardWritePromise) {\n      return this.webKitPendingClipboardWritePromise.complete(text);\n    }\n    try {\n      return await navigator.clipboard.writeText(text);\n    } catch (error) {\n      console.error(error);\n    }\n    const activeDocument = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getActiveDocument)();\n    const activeElement = activeDocument.activeElement;\n    const textArea = activeDocument.body.appendChild((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.$)(\"textarea\", {\"aria-hidden\":true}));\n    textArea.style.height = \"1px\";\n    textArea.style.width = \"1px\";\n    textArea.style.position = \"absolute\";\n    textArea.value = text;\n    textArea.focus();\n    textArea.select();\n    activeDocument.execCommand(\"copy\");\n    if (activeElement instanceof HTMLElement) {\n      activeElement.focus();\n    }\n    activeDocument.body.removeChild(textArea);\n    return;\n  }\n  async readText(type) {\n    if (type) {\n      return this.mapTextToType.get(type) || \"\";\n    }\n    try {\n      return await navigator.clipboard.readText();\n    } catch (error) {\n      console.error(error);\n      return \"\";\n    }\n  }\n  async readFindText() {\n    return this.findText;\n  }\n  async writeFindText(text) {\n    this.findText = text;\n  }\n  async writeResources(resources) {\n    this.resources = resources;\n  }\n  async readResources() {\n    return this.resources;\n  }\n};\nBrowserClipboardService = __decorate([__param(0, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_layout_SLASH_browser_SLASH_layoutService_DOT_js.ILayoutService), __param(1, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_log_SLASH_common_SLASH_log_DOT_js.ILogService)], BrowserClipboardService);\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","BrowserClipboardService","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_browser_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_layout_SLASH_browser_SLASH_layoutService_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_log_SLASH_common_SLASH_log_DOT_js","__param","paramIndex","decorator","target","key","Disposable","constructor","layoutService","logService","mapTextToType","Map","findText","resources","isSafari","isWebkitWebView","installWebKitWriteTextWorkaround","handler","currentWritePromise","DeferredPromise","webKitPendingClipboardWritePromise","isSettled","cancel","navigator","clipboard","write","ClipboardItem","p","catch","err","Error","name","isRejected","error","_register","Event","runAndSubscribe","onDidAddContainer","container","disposables","add","addDisposableListener","mainContainer","_store","writeText","text","type","set","complete","console","activeDocument","getActiveDocument","activeElement","textArea","body","appendChild","$","style","height","width","position","focus","select","execCommand","HTMLElement","removeChild","readText","readFindText","writeFindText","writeResources","readResources","__decorate","decorators","desc","c","arguments","length","r","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","ILayoutService","ILogService"]
}
