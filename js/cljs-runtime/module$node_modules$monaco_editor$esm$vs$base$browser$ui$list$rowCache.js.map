{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$base$browser$ui$list$rowCache.js",
"lineCount":79,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/base/browser/ui/list/rowCache.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$base$browser$ui$list$rowCache\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, RowCache:{enumerable:true, get:function() {\n  return RowCache;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js = require(\"../../dom.js\");\nfunction removeFromParent(element) {\n  var _a;\n  try {\n    (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(element);\n  } catch (e) {\n  }\n}\nclass RowCache {\n  constructor(renderers) {\n    this.renderers = renderers;\n    this.cache = new Map();\n    this.transactionNodesPendingRemoval = new Set();\n    this.inTransaction = false;\n  }\n  alloc(templateId) {\n    let result = this.getTemplateCache(templateId).pop();\n    let isStale = false;\n    if (result) {\n      isStale = this.transactionNodesPendingRemoval.has(result.domNode);\n      if (isStale) {\n        this.transactionNodesPendingRemoval.delete(result.domNode);\n      }\n    } else {\n      const domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js.$)(\".monaco-list-row\");\n      const renderer = this.getRenderer(templateId);\n      const templateData = renderer.renderTemplate(domNode);\n      result = {domNode, templateId, templateData};\n    }\n    return {row:result, isReusingConnectedDomNode:isStale};\n  }\n  release(row) {\n    if (!row) {\n      return;\n    }\n    this.releaseRow(row);\n  }\n  transact(makeChanges) {\n    if (this.inTransaction) {\n      throw new Error(\"Already in transaction\");\n    }\n    this.inTransaction = true;\n    try {\n      makeChanges();\n    } finally {\n      for (const domNode of this.transactionNodesPendingRemoval) {\n        this.doRemoveNode(domNode);\n      }\n      this.transactionNodesPendingRemoval.clear();\n      this.inTransaction = false;\n    }\n  }\n  releaseRow(row) {\n    const {domNode, templateId} = row;\n    if (domNode) {\n      if (this.inTransaction) {\n        this.transactionNodesPendingRemoval.add(domNode);\n      } else {\n        this.doRemoveNode(domNode);\n      }\n    }\n    const cache = this.getTemplateCache(templateId);\n    cache.push(row);\n  }\n  doRemoveNode(domNode) {\n    domNode.classList.remove(\"scrolling\");\n    removeFromParent(domNode);\n  }\n  getTemplateCache(templateId) {\n    let result = this.cache.get(templateId);\n    if (!result) {\n      result = [];\n      this.cache.set(templateId, result);\n    }\n    return result;\n  }\n  dispose() {\n    this.cache.forEach((cachedRows, templateId) => {\n      for (const cachedRow of cachedRows) {\n        const renderer = this.getRenderer(templateId);\n        renderer.disposeTemplate(cachedRow.templateData);\n        cachedRow.templateData = null;\n      }\n    });\n    this.cache.clear();\n    this.transactionNodesPendingRemoval.clear();\n  }\n  getRenderer(templateId) {\n    const renderer = this.renderers.get(templateId);\n    if (!renderer) {\n      throw new Error(`No renderer found for ${templateId}`);\n    }\n    return renderer;\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","RowCache","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_dom_DOT_js","constructor","renderers","cache","Map","transactionNodesPendingRemoval","Set","inTransaction","alloc","templateId","result","getTemplateCache","pop","isStale","has","domNode","delete","$","templateData","getRenderer","renderer","renderTemplate","row","isReusingConnectedDomNode","release","releaseRow","transact","makeChanges","Error","doRemoveNode","clear","add","push","classList","remove","_a","parentElement","removeChild","e","set","dispose","forEach","cachedRows","cachedRow","disposeTemplate"]
}
