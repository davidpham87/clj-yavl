shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$viewCursors$viewCursor = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ViewCursor:{enumerable:!0, get:function() {
    return ViewCursor;
  }}});
  var dom = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$fastDomNode"), strings = require("module$node_modules$monaco_editor$esm$vs$base$common$strings"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$config$domFontInfo"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$config$editorOptions"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$position"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$range"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_mouseCursor_SLASH_mouseCursor_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$mouseCursor$mouseCursor");
  class ViewCursorRenderData {
    constructor(top, left, paddingLeft, width, height, textContent, textContentClassName) {
      this.top = top;
      this.left = left;
      this.paddingLeft = paddingLeft;
      this.width = width;
      this.height = height;
      this.textContent = textContent;
      this.textContentClassName = textContentClassName;
    }
  }
  class ViewCursor {
    constructor(context) {
      this._context = context;
      context = this._context.configuration.options;
      const fontInfo = context.get(50);
      this._cursorStyle = context.get(28);
      this._lineHeight = context.get(66);
      this._typicalHalfwidthCharacterWidth = fontInfo.typicalHalfwidthCharacterWidth;
      this._lineCursorWidth = Math.min(context.get(31), this._typicalHalfwidthCharacterWidth);
      this._isVisible = !0;
      this._domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement("div"));
      this._domNode.setClassName(`cursor ${require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_mouseCursor_SLASH_mouseCursor_DOT_js.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`);
      this._domNode.setHeight(this._lineHeight);
      this._domNode.setTop(0);
      this._domNode.setLeft(0);
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js.applyFontInfo)(this._domNode, fontInfo);
      this._domNode.setDisplay("none");
      this._position = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(1, 1);
      this._lastRenderedContent = "";
      this._renderData = null;
    }
    getDomNode() {
      return this._domNode;
    }
    getPosition() {
      return this._position;
    }
    show() {
      this._isVisible || (this._domNode.setVisibility("inherit"), this._isVisible = !0);
    }
    hide() {
      this._isVisible && (this._domNode.setVisibility("hidden"), this._isVisible = !1);
    }
    onConfigurationChanged(e) {
      e = this._context.configuration.options;
      const fontInfo = e.get(50);
      this._cursorStyle = e.get(28);
      this._lineHeight = e.get(66);
      this._typicalHalfwidthCharacterWidth = fontInfo.typicalHalfwidthCharacterWidth;
      this._lineCursorWidth = Math.min(e.get(31), this._typicalHalfwidthCharacterWidth);
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js.applyFontInfo)(this._domNode, fontInfo);
      return !0;
    }
    onCursorPositionChanged(position, pauseAnimation) {
      this._domNode.domNode.style.transitionProperty = pauseAnimation ? "none" : "";
      this._position = position;
      return !0;
    }
    _getGraphemeAwarePosition() {
      const {lineNumber, column} = this._position, lineContent = this._context.viewModel.getLineContent(lineNumber), [startOffset, endOffset] = strings.getCharContainingOffset(lineContent, column - 1);
      return [new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, startOffset + 1), lineContent.substring(startOffset, endOffset)];
    }
    _prepareRender(ctx) {
      let textContent = "", textContentClassName = "";
      const [position, nextGrapheme] = this._getGraphemeAwarePosition();
      if (this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Line || this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.LineThin) {
        var visibleRange = ctx.visibleRangeForPosition(position);
        if (!visibleRange || visibleRange.outsideRenderedLine) {
          return null;
        }
        var window = dom.getWindow(this._domNode.domNode);
        this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Line ? (window = dom.computeScreenAwareSize(window, this._lineCursorWidth > 0 ? this._lineCursorWidth : 2), window > 2 && (textContent = nextGrapheme, textContentClassName = this._getTokenClassName(position))) : window = dom.computeScreenAwareSize(window, 1);
        visibleRange = visibleRange.left;
        var paddingLeft = 0;
        window >= 2 && visibleRange >= 1 && (paddingLeft = 1, visibleRange -= paddingLeft);
        ctx = ctx.getVerticalOffsetForLineNumber(position.lineNumber) - ctx.bigNumbersDelta;
        return new ViewCursorRenderData(ctx, visibleRange, paddingLeft, window, this._lineHeight, textContent, textContentClassName);
      }
      window = ctx.linesVisibleRangesForRange(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(position.lineNumber, position.column, position.lineNumber, position.column + nextGrapheme.length), !1);
      if (!window || window.length === 0) {
        return null;
      }
      window = window[0];
      if (window.outsideRenderedLine || window.ranges.length === 0) {
        return null;
      }
      window = window.ranges[0];
      visibleRange = nextGrapheme === "\t" ? this._typicalHalfwidthCharacterWidth : window.width < 1 ? this._typicalHalfwidthCharacterWidth : window.width;
      this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Block && (textContent = nextGrapheme, textContentClassName = this._getTokenClassName(position));
      ctx = ctx.getVerticalOffsetForLineNumber(position.lineNumber) - ctx.bigNumbersDelta;
      paddingLeft = this._lineHeight;
      if (this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Underline || this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.UnderlineThin) {
        ctx += this._lineHeight - 2, paddingLeft = 2;
      }
      return new ViewCursorRenderData(ctx, window.left, 0, visibleRange, paddingLeft, textContent, textContentClassName);
    }
    _getTokenClassName(position) {
      const lineData = this._context.viewModel.getViewLineData(position.lineNumber);
      position = lineData.tokens.findTokenIndexAtOffset(position.column - 1);
      return lineData.tokens.getClassName(position);
    }
    prepareRender(ctx) {
      this._renderData = this._prepareRender(ctx);
    }
    render(ctx) {
      if (!this._renderData) {
        return this._domNode.setDisplay("none"), null;
      }
      this._lastRenderedContent !== this._renderData.textContent && (this._lastRenderedContent = this._renderData.textContent, this._domNode.domNode.textContent = this._lastRenderedContent);
      this._domNode.setClassName(`cursor ${require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_mouseCursor_SLASH_mouseCursor_DOT_js.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`);
      this._domNode.setDisplay("block");
      this._domNode.setTop(this._renderData.top);
      this._domNode.setLeft(this._renderData.left);
      this._domNode.setPaddingLeft(this._renderData.paddingLeft);
      this._domNode.setWidth(this._renderData.width);
      this._domNode.setLineHeight(this._renderData.height);
      this._domNode.setHeight(this._renderData.height);
      return {domNode:this._domNode.domNode, position:this._position, contentLeft:this._renderData.left, height:this._renderData.height, width:2};
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$viewCursors$viewCursor.js.map
