{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$bracketPairsTree$combineTextEditInfos.js",
"lineCount":70,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$bracketPairsTree$combineTextEditInfos\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, combineTextEditInfos:{enumerable:true, get:function() {\n  return combineTextEditInfos;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require(\"../../../../../base/common/arrays.js\");\nvar require$_DOT__SLASH_beforeEditPositionMapper_DOT_js = require(\"./beforeEditPositionMapper.js\");\nvar require$_DOT__SLASH_length_DOT_js = require(\"./length.js\");\nfunction combineTextEditInfos(textEditInfoFirst, textEditInfoSecond) {\n  if (textEditInfoFirst.length === 0) {\n    return textEditInfoSecond;\n  }\n  if (textEditInfoSecond.length === 0) {\n    return textEditInfoFirst;\n  }\n  const s0ToS1Map = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.ArrayQueue(toLengthMapping(textEditInfoFirst));\n  const s1ToS2Map = toLengthMapping(textEditInfoSecond);\n  s1ToS2Map.push({modified:false, lengthBefore:undefined, lengthAfter:undefined});\n  let curItem = s0ToS1Map.dequeue();\n  function nextS0ToS1MapWithS1LengthOf(s1Length) {\n    if (s1Length === undefined) {\n      const arr = s0ToS1Map.takeWhile(v => true) || [];\n      if (curItem) {\n        arr.unshift(curItem);\n      }\n      return arr;\n    }\n    const result = [];\n    while (curItem && !(0,require$_DOT__SLASH_length_DOT_js.lengthIsZero)(s1Length)) {\n      const [item, remainingItem] = curItem.splitAt(s1Length);\n      result.push(item);\n      s1Length = (0,require$_DOT__SLASH_length_DOT_js.lengthDiffNonNegative)(item.lengthAfter, s1Length);\n      curItem = remainingItem !== null && remainingItem !== void 0 ? remainingItem : s0ToS1Map.dequeue();\n    }\n    if (!(0,require$_DOT__SLASH_length_DOT_js.lengthIsZero)(s1Length)) {\n      result.push(new LengthMapping(false, s1Length, s1Length));\n    }\n    return result;\n  }\n  const result = [];\n  function pushEdit(startOffset, endOffset, newLength) {\n    if (result.length > 0 && (0,require$_DOT__SLASH_length_DOT_js.lengthEquals)(result[result.length - 1].endOffset, startOffset)) {\n      const lastResult = result[result.length - 1];\n      result[result.length - 1] = new require$_DOT__SLASH_beforeEditPositionMapper_DOT_js.TextEditInfo(lastResult.startOffset, endOffset, (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(lastResult.newLength, newLength));\n    } else {\n      result.push({startOffset, endOffset, newLength});\n    }\n  }\n  let s0offset = require$_DOT__SLASH_length_DOT_js.lengthZero;\n  for (const s1ToS2 of s1ToS2Map) {\n    const s0ToS1Map = nextS0ToS1MapWithS1LengthOf(s1ToS2.lengthBefore);\n    if (s1ToS2.modified) {\n      const s0Length = (0,require$_DOT__SLASH_length_DOT_js.sumLengths)(s0ToS1Map, s => s.lengthBefore);\n      const s0EndOffset = (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(s0offset, s0Length);\n      pushEdit(s0offset, s0EndOffset, s1ToS2.lengthAfter);\n      s0offset = s0EndOffset;\n    } else {\n      for (const s1 of s0ToS1Map) {\n        const s0startOffset = s0offset;\n        s0offset = (0,require$_DOT__SLASH_length_DOT_js.lengthAdd)(s0offset, s1.lengthBefore);\n        if (s1.modified) {\n          pushEdit(s0startOffset, s0offset, s1.lengthAfter);\n        }\n      }\n    }\n  }\n  return result;\n}\nclass LengthMapping {\n  constructor(modified, lengthBefore, lengthAfter) {\n    this.modified = modified;\n    this.lengthBefore = lengthBefore;\n    this.lengthAfter = lengthAfter;\n  }\n  splitAt(lengthAfter) {\n    const remainingLengthAfter = (0,require$_DOT__SLASH_length_DOT_js.lengthDiffNonNegative)(lengthAfter, this.lengthAfter);\n    if ((0,require$_DOT__SLASH_length_DOT_js.lengthEquals)(remainingLengthAfter, require$_DOT__SLASH_length_DOT_js.lengthZero)) {\n      return [this, undefined];\n    } else if (this.modified) {\n      return [new LengthMapping(this.modified, this.lengthBefore, lengthAfter), new LengthMapping(this.modified, require$_DOT__SLASH_length_DOT_js.lengthZero, remainingLengthAfter)];\n    } else {\n      return [new LengthMapping(this.modified, lengthAfter, lengthAfter), new LengthMapping(this.modified, remainingLengthAfter, remainingLengthAfter)];\n    }\n  }\n  toString() {\n    return `${this.modified ? \"M\" : \"U\"}:${(0,require$_DOT__SLASH_length_DOT_js.lengthToObj)(this.lengthBefore)} -> ${(0,require$_DOT__SLASH_length_DOT_js.lengthToObj)(this.lengthAfter)}`;\n  }\n}\nfunction toLengthMapping(textEditInfos) {\n  const result = [];\n  let lastOffset = require$_DOT__SLASH_length_DOT_js.lengthZero;\n  for (const textEditInfo of textEditInfos) {\n    const spaceLength = (0,require$_DOT__SLASH_length_DOT_js.lengthDiffNonNegative)(lastOffset, textEditInfo.startOffset);\n    if (!(0,require$_DOT__SLASH_length_DOT_js.lengthIsZero)(spaceLength)) {\n      result.push(new LengthMapping(false, spaceLength, spaceLength));\n    }\n    const lengthBefore = (0,require$_DOT__SLASH_length_DOT_js.lengthDiffNonNegative)(textEditInfo.startOffset, textEditInfo.endOffset);\n    result.push(new LengthMapping(true, lengthBefore, textEditInfo.newLength));\n    lastOffset = textEditInfo.endOffset;\n  }\n  return result;\n}\n\n};"],
"names":["shadow$provide","require","module","exports","combineTextEditInfos","textEditInfoFirst","textEditInfoSecond","nextS0ToS1MapWithS1LengthOf","s1Length","undefined","arr","s0ToS1Map","takeWhile","v","curItem","unshift","result","require$_DOT__SLASH_length_DOT_js","lengthIsZero","item","remainingItem","splitAt","push","lengthDiffNonNegative","lengthAfter","dequeue","LengthMapping","pushEdit","startOffset","endOffset","newLength","length","lengthEquals","lastResult","require$_DOT__SLASH_beforeEditPositionMapper_DOT_js","TextEditInfo","lengthAdd","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js","ArrayQueue","toLengthMapping","s1ToS2Map","modified","lengthBefore","s0offset","lengthZero","s1ToS2","s0Length","sumLengths","s","s0EndOffset","s1","s0startOffset","textEditInfos","lastOffset","textEditInfo","spaceLength","Object","defineProperties","__esModule","enumerable","value","get","constructor","remainingLengthAfter","toString","lengthToObj"]
}
