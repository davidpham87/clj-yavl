shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$colorizedBracketPairsDecorationProvider = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, ColorizedBracketPairsDecorationProvider:{enumerable:!0, get:function() {
    return ColorizedBracketPairsDecorationProvider;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_range_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$range"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_editorColorRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$editorColorRegistry");
  require = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$themeService");
  class ColorizedBracketPairsDecorationProvider extends module.Disposable {
    constructor(textModel) {
      super();
      this.textModel = textModel;
      this.colorProvider = new ColorProvider();
      this.onDidChangeEmitter = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onDidChange = this.onDidChangeEmitter.event;
      this.colorizationOptions = textModel.getOptions().bracketPairColorizationOptions;
      this._register(textModel.bracketPairs.onDidChange(e => {
        this.onDidChangeEmitter.fire();
      }));
    }
    handleDidChangeOptions(e) {
      this.colorizationOptions = this.textModel.getOptions().bracketPairColorizationOptions;
    }
    getDecorationsInRange(range, ownerId, filterOutValidation, onlyMinimapDecorations) {
      return onlyMinimapDecorations || ownerId === void 0 || !this.colorizationOptions.enabled ? [] : this.textModel.bracketPairs.getBracketsInRange(range, !0).map(bracket => ({id:`bracket${bracket.range.toString()}-${bracket.nestingLevel}`, options:{description:"BracketPairColorization", inlineClassName:this.colorProvider.getInlineClassName(bracket, this.colorizationOptions.independentColorPoolPerBracketType)}, ownerId:0, range:bracket.range})).toArray();
    }
    getAllDecorations(ownerId, filterOutValidation) {
      return ownerId !== void 0 && this.colorizationOptions.enabled ? this.getDecorationsInRange(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(1, 1, this.textModel.getLineCount(), 1), ownerId, filterOutValidation) : [];
    }
  }
  class ColorProvider {
    constructor() {
      this.unexpectedClosingBracketClassName = "unexpected-closing-bracket";
    }
    getInlineClassName(bracket, independentColorPoolPerBracketType) {
      return bracket.isInvalid ? this.unexpectedClosingBracketClassName : this.getInlineClassNameOfLevel(independentColorPoolPerBracketType ? bracket.nestingLevelOfEqualBracketType : bracket.nestingLevel);
    }
    getInlineClassNameOfLevel(level) {
      return `bracket-highlighting-${level % 30}`;
    }
  }
  (0,require.registerThemingParticipant)((theme, collector) => {
    var colors = [require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground1, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground2, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground3, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground4, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground5, 
    require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingForeground6];
    const colorProvider = new ColorProvider();
    collector.addRule(`.monaco-editor .${colorProvider.unexpectedClosingBracketClassName} { color: ${theme.getColor(require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_editorColorRegistry_DOT_js.editorBracketHighlightingUnexpectedBracketForeground)}; }`);
    colors = colors.map(c => theme.getColor(c)).filter(c => !!c).filter(c => !c.isTransparent());
    for (let level = 0; level < 30; level++) {
      const color = colors[level % colors.length];
      collector.addRule(`.monaco-editor .${colorProvider.getInlineClassNameOfLevel(level)} { color: ${color}; }`);
    }
  });
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$model$bracketPairsTextModelPart$colorizedBracketPairsDecorationProvider.js.map
