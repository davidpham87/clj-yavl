{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$controller$textAreaInput.js",
"lineCount":330,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/controller/textAreaInput.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$controller$textAreaInput\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, ClipboardEventUtils:{enumerable:true, get:function() {\n  return ClipboardEventUtils;\n}}, CopyOptions:{enumerable:true, get:function() {\n  return CopyOptions;\n}}, InMemoryClipboardMetadataManager:{enumerable:true, get:function() {\n  return InMemoryClipboardMetadataManager;\n}}, TextAreaInput:{enumerable:true, get:function() {\n  return TextAreaInput;\n}}, TextAreaSyntethicEvents:{enumerable:true, get:function() {\n  return TextAreaSyntethicEvents;\n}}, TextAreaWrapper:{enumerable:true, get:function() {\n  return TextAreaWrapper;\n}}});\nvar browser = require(\"../../../base/browser/browser.js\");\nvar dom = require(\"../../../base/browser/dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js = require(\"../../../base/browser/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js = require(\"../../../base/browser/keyboardEvent.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js = require(\"../../../base/browser/performance.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require(\"../../../base/common/async.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require(\"../../../base/common/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../base/common/lifecycle.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js = require(\"../../../base/common/mime.js\");\nvar strings = require(\"../../../base/common/strings.js\");\nvar require$_DOT__SLASH_textAreaState_DOT_js = require(\"./textAreaState.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_selection_DOT_js = require(\"../../common/core/selection.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_accessibility_SLASH_common_SLASH_accessibility_DOT_js = require(\"../../../platform/accessibility/common/accessibility.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_log_SLASH_common_SLASH_log_DOT_js = require(\"../../../platform/log/common/log.js\");\nvar __decorate = this && this.__decorate || function(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") {\n    r = Reflect.decorate(decorators, target, key, desc);\n  } else {\n    for (var i = decorators.length - 1; i >= 0; i--) {\n      if (d = decorators[i]) {\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n      }\n    }\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar TextAreaSyntethicEvents;\n(function(TextAreaSyntethicEvents) {\n  TextAreaSyntethicEvents.Tap = \"-monaco-textarea-synthetic-tap\";\n})(TextAreaSyntethicEvents || (TextAreaSyntethicEvents = {}));\nconst CopyOptions = {forceCopyWithSyntaxHighlighting:false};\nclass InMemoryClipboardMetadataManager {\n  constructor() {\n    this._lastState = null;\n  }\n  set(lastCopiedValue, data) {\n    this._lastState = {lastCopiedValue, data};\n  }\n  get(pastedText) {\n    if (this._lastState && this._lastState.lastCopiedValue === pastedText) {\n      return this._lastState.data;\n    }\n    this._lastState = null;\n    return null;\n  }\n}\nInMemoryClipboardMetadataManager.INSTANCE = new InMemoryClipboardMetadataManager();\nclass CompositionContext {\n  constructor() {\n    this._lastTypeTextLength = 0;\n  }\n  handleCompositionUpdate(text) {\n    text = text || \"\";\n    const typeInput = {text:text, replacePrevCharCnt:this._lastTypeTextLength, replaceNextCharCnt:0, positionDelta:0};\n    this._lastTypeTextLength = text.length;\n    return typeInput;\n  }\n}\nlet TextAreaInput = class TextAreaInput extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  get textAreaState() {\n    return this._textAreaState;\n  }\n  constructor(_host, _textArea, _OS, _browser, _accessibilityService, _logService) {\n    super();\n    this._host = _host;\n    this._textArea = _textArea;\n    this._OS = _OS;\n    this._browser = _browser;\n    this._accessibilityService = _accessibilityService;\n    this._logService = _logService;\n    this._onFocus = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onFocus = this._onFocus.event;\n    this._onBlur = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onBlur = this._onBlur.event;\n    this._onKeyDown = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onKeyDown = this._onKeyDown.event;\n    this._onKeyUp = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onKeyUp = this._onKeyUp.event;\n    this._onCut = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onCut = this._onCut.event;\n    this._onPaste = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onPaste = this._onPaste.event;\n    this._onType = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onType = this._onType.event;\n    this._onCompositionStart = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onCompositionStart = this._onCompositionStart.event;\n    this._onCompositionUpdate = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onCompositionUpdate = this._onCompositionUpdate.event;\n    this._onCompositionEnd = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onCompositionEnd = this._onCompositionEnd.event;\n    this._onSelectionChangeRequest = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onSelectionChangeRequest = this._onSelectionChangeRequest.event;\n    this._asyncFocusGainWriteScreenReaderContent = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.MutableDisposable());\n    this._asyncTriggerCut = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => this._onCut.fire(), 0));\n    this._textAreaState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.EMPTY;\n    this._selectionChangeListener = null;\n    if (this._accessibilityService.isScreenReaderOptimized()) {\n      this.writeNativeTextAreaContent(\"ctor\");\n    }\n    this._register(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized, () => {\n      if (this._accessibilityService.isScreenReaderOptimized() && !this._asyncFocusGainWriteScreenReaderContent.value) {\n        this._asyncFocusGainWriteScreenReaderContent.value = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => this.writeNativeTextAreaContent(\"asyncFocusGain\"), 0));\n      } else {\n        this._asyncFocusGainWriteScreenReaderContent.clear();\n      }\n    }));\n    this._hasFocus = false;\n    this._currentComposition = null;\n    let lastKeyDown = null;\n    this._register(this._textArea.onKeyDown(_e => {\n      const e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(_e);\n      if (e.keyCode === 114 || this._currentComposition && e.keyCode === 1) {\n        e.stopPropagation();\n      }\n      if (e.equals(9)) {\n        e.preventDefault();\n      }\n      lastKeyDown = e;\n      this._onKeyDown.fire(e);\n    }));\n    this._register(this._textArea.onKeyUp(_e => {\n      const e = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(_e);\n      this._onKeyUp.fire(e);\n    }));\n    this._register(this._textArea.onCompositionStart(e => {\n      if (require$_DOT__SLASH_textAreaState_DOT_js._debugComposition) {\n        console.log(`[compositionstart]`, e);\n      }\n      const currentComposition = new CompositionContext();\n      if (this._currentComposition) {\n        this._currentComposition = currentComposition;\n        return;\n      }\n      this._currentComposition = currentComposition;\n      if (this._OS === 2 && lastKeyDown && lastKeyDown.equals(114) && this._textAreaState.selectionStart === this._textAreaState.selectionEnd && this._textAreaState.selectionStart > 0 && this._textAreaState.value.substr(this._textAreaState.selectionStart - 1, 1) === e.data && (lastKeyDown.code === \"ArrowRight\" || lastKeyDown.code === \"ArrowLeft\")) {\n        if (require$_DOT__SLASH_textAreaState_DOT_js._debugComposition) {\n          console.log(`[compositionstart] Handling long press case on macOS + arrow key`, e);\n        }\n        currentComposition.handleCompositionUpdate(\"x\");\n        this._onCompositionStart.fire({data:e.data});\n        return;\n      }\n      if (this._browser.isAndroid) {\n        this._onCompositionStart.fire({data:e.data});\n        return;\n      }\n      this._onCompositionStart.fire({data:e.data});\n    }));\n    this._register(this._textArea.onCompositionUpdate(e => {\n      if (require$_DOT__SLASH_textAreaState_DOT_js._debugComposition) {\n        console.log(`[compositionupdate]`, e);\n      }\n      const currentComposition = this._currentComposition;\n      if (!currentComposition) {\n        return;\n      }\n      if (this._browser.isAndroid) {\n        const newState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n        const typeInput = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.deduceAndroidCompositionInput(this._textAreaState, newState);\n        this._textAreaState = newState;\n        this._onType.fire(typeInput);\n        this._onCompositionUpdate.fire(e);\n        return;\n      }\n      const typeInput = currentComposition.handleCompositionUpdate(e.data);\n      this._textAreaState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n      this._onType.fire(typeInput);\n      this._onCompositionUpdate.fire(e);\n    }));\n    this._register(this._textArea.onCompositionEnd(e => {\n      if (require$_DOT__SLASH_textAreaState_DOT_js._debugComposition) {\n        console.log(`[compositionend]`, e);\n      }\n      const currentComposition = this._currentComposition;\n      if (!currentComposition) {\n        return;\n      }\n      this._currentComposition = null;\n      if (this._browser.isAndroid) {\n        const newState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n        const typeInput = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.deduceAndroidCompositionInput(this._textAreaState, newState);\n        this._textAreaState = newState;\n        this._onType.fire(typeInput);\n        this._onCompositionEnd.fire();\n        return;\n      }\n      const typeInput = currentComposition.handleCompositionUpdate(e.data);\n      this._textAreaState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n      this._onType.fire(typeInput);\n      this._onCompositionEnd.fire();\n    }));\n    this._register(this._textArea.onInput(e => {\n      if (require$_DOT__SLASH_textAreaState_DOT_js._debugComposition) {\n        console.log(`[input]`, e);\n      }\n      this._textArea.setIgnoreSelectionChangeTime(\"received input event\");\n      if (this._currentComposition) {\n        return;\n      }\n      const newState = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.readFromTextArea(this._textArea, this._textAreaState);\n      const typeInput = require$_DOT__SLASH_textAreaState_DOT_js.TextAreaState.deduceInput(this._textAreaState, newState, this._OS === 2);\n      if (typeInput.replacePrevCharCnt === 0 && typeInput.text.length === 1) {\n        if (strings.isHighSurrogate(typeInput.text.charCodeAt(0)) || typeInput.text.charCodeAt(0) === 127) {\n          return;\n        }\n      }\n      this._textAreaState = newState;\n      if (typeInput.text !== \"\" || typeInput.replacePrevCharCnt !== 0 || typeInput.replaceNextCharCnt !== 0 || typeInput.positionDelta !== 0) {\n        this._onType.fire(typeInput);\n      }\n    }));\n    this._register(this._textArea.onCut(e => {\n      this._textArea.setIgnoreSelectionChangeTime(\"received cut event\");\n      this._ensureClipboardGetsEditorSelection(e);\n      this._asyncTriggerCut.schedule();\n    }));\n    this._register(this._textArea.onCopy(e => {\n      this._ensureClipboardGetsEditorSelection(e);\n    }));\n    this._register(this._textArea.onPaste(e => {\n      this._textArea.setIgnoreSelectionChangeTime(\"received paste event\");\n      e.preventDefault();\n      if (!e.clipboardData) {\n        return;\n      }\n      let [text, metadata] = ClipboardEventUtils.getTextData(e.clipboardData);\n      if (!text) {\n        return;\n      }\n      metadata = metadata || InMemoryClipboardMetadataManager.INSTANCE.get(text);\n      this._onPaste.fire({text:text, metadata:metadata});\n    }));\n    this._register(this._textArea.onFocus(() => {\n      const hadFocus = this._hasFocus;\n      this._setHasFocus(true);\n      if (this._accessibilityService.isScreenReaderOptimized() && this._browser.isSafari && !hadFocus && this._hasFocus) {\n        if (!this._asyncFocusGainWriteScreenReaderContent.value) {\n          this._asyncFocusGainWriteScreenReaderContent.value = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => this.writeNativeTextAreaContent(\"asyncFocusGain\"), 0);\n        }\n        this._asyncFocusGainWriteScreenReaderContent.value.schedule();\n      }\n    }));\n    this._register(this._textArea.onBlur(() => {\n      if (this._currentComposition) {\n        this._currentComposition = null;\n        this.writeNativeTextAreaContent(\"blurWithoutCompositionEnd\");\n        this._onCompositionEnd.fire();\n      }\n      this._setHasFocus(false);\n    }));\n    this._register(this._textArea.onSyntheticTap(() => {\n      if (this._browser.isAndroid && this._currentComposition) {\n        this._currentComposition = null;\n        this.writeNativeTextAreaContent(\"tapWithoutCompositionEnd\");\n        this._onCompositionEnd.fire();\n      }\n    }));\n  }\n  _installSelectionChangeListener() {\n    let previousSelectionChangeEventTime = 0;\n    return dom.addDisposableListener(this._textArea.ownerDocument, \"selectionchange\", e => {\n      require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onSelectionChange();\n      if (!this._hasFocus) {\n        return;\n      }\n      if (this._currentComposition) {\n        return;\n      }\n      if (!this._browser.isChrome) {\n        return;\n      }\n      const now = Date.now();\n      const delta1 = now - previousSelectionChangeEventTime;\n      previousSelectionChangeEventTime = now;\n      if (delta1 < 5) {\n        return;\n      }\n      const delta2 = now - this._textArea.getIgnoreSelectionChangeTime();\n      this._textArea.resetSelectionChangeTime();\n      if (delta2 < 100) {\n        return;\n      }\n      if (!this._textAreaState.selection) {\n        return;\n      }\n      const newValue = this._textArea.getValue();\n      if (this._textAreaState.value !== newValue) {\n        return;\n      }\n      const newSelectionStart = this._textArea.getSelectionStart();\n      const newSelectionEnd = this._textArea.getSelectionEnd();\n      if (this._textAreaState.selectionStart === newSelectionStart && this._textAreaState.selectionEnd === newSelectionEnd) {\n        return;\n      }\n      const _newSelectionStartPosition = this._textAreaState.deduceEditorPosition(newSelectionStart);\n      const newSelectionStartPosition = this._host.deduceModelPosition(_newSelectionStartPosition[0], _newSelectionStartPosition[1], _newSelectionStartPosition[2]);\n      const _newSelectionEndPosition = this._textAreaState.deduceEditorPosition(newSelectionEnd);\n      const newSelectionEndPosition = this._host.deduceModelPosition(_newSelectionEndPosition[0], _newSelectionEndPosition[1], _newSelectionEndPosition[2]);\n      const newSelection = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_selection_DOT_js.Selection(newSelectionStartPosition.lineNumber, newSelectionStartPosition.column, newSelectionEndPosition.lineNumber, newSelectionEndPosition.column);\n      this._onSelectionChangeRequest.fire(newSelection);\n    });\n  }\n  dispose() {\n    super.dispose();\n    if (this._selectionChangeListener) {\n      this._selectionChangeListener.dispose();\n      this._selectionChangeListener = null;\n    }\n  }\n  focusTextArea() {\n    this._setHasFocus(true);\n    this.refreshFocusState();\n  }\n  isFocused() {\n    return this._hasFocus;\n  }\n  refreshFocusState() {\n    this._setHasFocus(this._textArea.hasFocus());\n  }\n  _setHasFocus(newHasFocus) {\n    if (this._hasFocus === newHasFocus) {\n      return;\n    }\n    this._hasFocus = newHasFocus;\n    if (this._selectionChangeListener) {\n      this._selectionChangeListener.dispose();\n      this._selectionChangeListener = null;\n    }\n    if (this._hasFocus) {\n      this._selectionChangeListener = this._installSelectionChangeListener();\n    }\n    if (this._hasFocus) {\n      this.writeNativeTextAreaContent(\"focusgain\");\n    }\n    if (this._hasFocus) {\n      this._onFocus.fire();\n    } else {\n      this._onBlur.fire();\n    }\n  }\n  _setAndWriteTextAreaState(reason, textAreaState) {\n    if (!this._hasFocus) {\n      textAreaState = textAreaState.collapseSelection();\n    }\n    textAreaState.writeToTextArea(reason, this._textArea, this._hasFocus);\n    this._textAreaState = textAreaState;\n  }\n  writeNativeTextAreaContent(reason) {\n    if (!this._accessibilityService.isScreenReaderOptimized() && reason === \"render\" || this._currentComposition) {\n      return;\n    }\n    this._logService.trace(`writeTextAreaState(reason: ${reason})`);\n    this._setAndWriteTextAreaState(reason, this._host.getScreenReaderContent());\n  }\n  _ensureClipboardGetsEditorSelection(e) {\n    const dataToCopy = this._host.getDataToCopy();\n    const storedMetadata = {version:1, isFromEmptySelection:dataToCopy.isFromEmptySelection, multicursorText:dataToCopy.multicursorText, mode:dataToCopy.mode};\n    InMemoryClipboardMetadataManager.INSTANCE.set(this._browser.isFirefox ? dataToCopy.text.replace(/\\r\\n/g, \"\\n\") : dataToCopy.text, storedMetadata);\n    e.preventDefault();\n    if (e.clipboardData) {\n      ClipboardEventUtils.setTextData(e.clipboardData, dataToCopy.text, dataToCopy.html, storedMetadata);\n    }\n  }\n};\nTextAreaInput = __decorate([__param(4, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_accessibility_SLASH_common_SLASH_accessibility_DOT_js.IAccessibilityService), __param(5, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_log_SLASH_common_SLASH_log_DOT_js.ILogService)], TextAreaInput);\nconst ClipboardEventUtils = {getTextData(clipboardData) {\n  const text = clipboardData.getData(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.text);\n  let metadata = null;\n  const rawmetadata = clipboardData.getData(\"vscode-editor-data\");\n  if (typeof rawmetadata === \"string\") {\n    try {\n      metadata = JSON.parse(rawmetadata);\n      if (metadata.version !== 1) {\n        metadata = null;\n      }\n    } catch (err) {\n    }\n  }\n  if (text.length === 0 && metadata === null && clipboardData.files.length > 0) {\n    const files = Array.prototype.slice.call(clipboardData.files, 0);\n    return [files.map(file => file.name).join(\"\\n\"), null];\n  }\n  return [text, metadata];\n}, setTextData(clipboardData, text, html, metadata) {\n  clipboardData.setData(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js.Mimes.text, text);\n  if (typeof html === \"string\") {\n    clipboardData.setData(\"text/html\", html);\n  }\n  clipboardData.setData(\"vscode-editor-data\", JSON.stringify(metadata));\n}};\nclass TextAreaWrapper extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  get ownerDocument() {\n    return this._actual.ownerDocument;\n  }\n  constructor(_actual) {\n    super();\n    this._actual = _actual;\n    this.onKeyDown = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"keydown\")).event;\n    this.onKeyUp = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"keyup\")).event;\n    this.onCompositionStart = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"compositionstart\")).event;\n    this.onCompositionUpdate = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"compositionupdate\")).event;\n    this.onCompositionEnd = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"compositionend\")).event;\n    this.onBeforeInput = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"beforeinput\")).event;\n    this.onInput = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"input\")).event;\n    this.onCut = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"cut\")).event;\n    this.onCopy = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"copy\")).event;\n    this.onPaste = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"paste\")).event;\n    this.onFocus = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"focus\")).event;\n    this.onBlur = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js.DomEmitter(this._actual, \"blur\")).event;\n    this._onSyntheticTap = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());\n    this.onSyntheticTap = this._onSyntheticTap.event;\n    this._ignoreSelectionChangeTime = 0;\n    this._register(this.onKeyDown(() => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onKeyDown()));\n    this._register(this.onBeforeInput(() => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onBeforeInput()));\n    this._register(this.onInput(() => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onInput()));\n    this._register(this.onKeyUp(() => require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js.inputLatency.onKeyUp()));\n    this._register(dom.addDisposableListener(this._actual, TextAreaSyntethicEvents.Tap, () => this._onSyntheticTap.fire()));\n  }\n  hasFocus() {\n    const shadowRoot = dom.getShadowRoot(this._actual);\n    if (shadowRoot) {\n      return shadowRoot.activeElement === this._actual;\n    } else if (this._actual.isConnected) {\n      return this._actual.ownerDocument.activeElement === this._actual;\n    } else {\n      return false;\n    }\n  }\n  setIgnoreSelectionChangeTime(reason) {\n    this._ignoreSelectionChangeTime = Date.now();\n  }\n  getIgnoreSelectionChangeTime() {\n    return this._ignoreSelectionChangeTime;\n  }\n  resetSelectionChangeTime() {\n    this._ignoreSelectionChangeTime = 0;\n  }\n  getValue() {\n    return this._actual.value;\n  }\n  setValue(reason, value) {\n    const textArea = this._actual;\n    if (textArea.value === value) {\n      return;\n    }\n    this.setIgnoreSelectionChangeTime(\"setValue\");\n    textArea.value = value;\n  }\n  getSelectionStart() {\n    return this._actual.selectionDirection === \"backward\" ? this._actual.selectionEnd : this._actual.selectionStart;\n  }\n  getSelectionEnd() {\n    return this._actual.selectionDirection === \"backward\" ? this._actual.selectionStart : this._actual.selectionEnd;\n  }\n  setSelectionRange(reason, selectionStart, selectionEnd) {\n    const textArea = this._actual;\n    let activeElement = null;\n    const shadowRoot = dom.getShadowRoot(textArea);\n    if (shadowRoot) {\n      activeElement = shadowRoot.activeElement;\n    } else {\n      activeElement = textArea.ownerDocument.activeElement;\n    }\n    const activeWindow = dom.getWindow(activeElement);\n    const currentIsFocused = activeElement === textArea;\n    const currentSelectionStart = textArea.selectionStart;\n    const currentSelectionEnd = textArea.selectionEnd;\n    if (currentIsFocused && currentSelectionStart === selectionStart && currentSelectionEnd === selectionEnd) {\n      if (browser.isFirefox && activeWindow.parent !== activeWindow) {\n        textArea.focus();\n      }\n      return;\n    }\n    if (currentIsFocused) {\n      this.setIgnoreSelectionChangeTime(\"setSelectionRange\");\n      textArea.setSelectionRange(selectionStart, selectionEnd);\n      if (browser.isFirefox && activeWindow.parent !== activeWindow) {\n        textArea.focus();\n      }\n      return;\n    }\n    try {\n      const scrollState = dom.saveParentsScrollTop(textArea);\n      this.setIgnoreSelectionChangeTime(\"setSelectionRange\");\n      textArea.focus();\n      textArea.setSelectionRange(selectionStart, selectionEnd);\n      dom.restoreParentsScrollTop(textArea, scrollState);\n    } catch (e) {\n    }\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","ClipboardEventUtils","get","CopyOptions","InMemoryClipboardMetadataManager","TextAreaInput","TextAreaSyntethicEvents","TextAreaWrapper","browser","dom","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_performance_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_mime_DOT_js","strings","require$_DOT__SLASH_textAreaState_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_selection_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_accessibility_SLASH_common_SLASH_accessibility_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_log_SLASH_common_SLASH_log_DOT_js","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","Tap","forceCopyWithSyntaxHighlighting","constructor","_lastState","set","lastCopiedValue","data","pastedText","INSTANCE","CompositionContext","_lastTypeTextLength","handleCompositionUpdate","text","typeInput","replacePrevCharCnt","replaceNextCharCnt","positionDelta","Disposable","_textAreaState","_host","_textArea","_OS","_browser","_accessibilityService","_logService","_onFocus","_register","Emitter","onFocus","event","_onBlur","onBlur","_onKeyDown","onKeyDown","_onKeyUp","onKeyUp","_onCut","onCut","_onPaste","onPaste","_onType","onType","_onCompositionStart","onCompositionStart","_onCompositionUpdate","onCompositionUpdate","_onCompositionEnd","onCompositionEnd","_onSelectionChangeRequest","onSelectionChangeRequest","_asyncFocusGainWriteScreenReaderContent","MutableDisposable","_asyncTriggerCut","RunOnceScheduler","fire","TextAreaState","EMPTY","_selectionChangeListener","isScreenReaderOptimized","writeNativeTextAreaContent","Event","runAndSubscribe","onDidChangeScreenReaderOptimized","clear","_hasFocus","lastKeyDown","_currentComposition","_e","e","StandardKeyboardEvent","keyCode","stopPropagation","equals","preventDefault","_debugComposition","console","log","currentComposition","selectionStart","selectionEnd","substr","code","isAndroid","newState","readFromTextArea","deduceAndroidCompositionInput","onInput","setIgnoreSelectionChangeTime","deduceInput","isHighSurrogate","charCodeAt","_ensureClipboardGetsEditorSelection","schedule","onCopy","clipboardData","metadata","getTextData","hadFocus","_setHasFocus","isSafari","onSyntheticTap","_installSelectionChangeListener","previousSelectionChangeEventTime","addDisposableListener","ownerDocument","inputLatency","onSelectionChange","isChrome","now","Date","delta1","getIgnoreSelectionChangeTime","resetSelectionChangeTime","delta2","selection","newValue","getValue","newSelectionStart","getSelectionStart","newSelectionEnd","getSelectionEnd","_newSelectionStartPosition","deduceEditorPosition","newSelectionStartPosition","deduceModelPosition","_newSelectionEndPosition","newSelectionEndPosition","newSelection","Selection","lineNumber","column","dispose","focusTextArea","refreshFocusState","isFocused","hasFocus","newHasFocus","_setAndWriteTextAreaState","reason","textAreaState","collapseSelection","writeToTextArea","trace","getScreenReaderContent","dataToCopy","getDataToCopy","storedMetadata","version","isFromEmptySelection","multicursorText","mode","isFirefox","replace","setTextData","html","IAccessibilityService","ILogService","getData","Mimes","rawmetadata","JSON","parse","err","files","Array","prototype","slice","call","map","file","name","join","setData","stringify","_actual","DomEmitter","onBeforeInput","_onSyntheticTap","_ignoreSelectionChangeTime","shadowRoot","getShadowRoot","activeElement","isConnected","setValue","textArea","selectionDirection","setSelectionRange","activeWindow","getWindow","currentIsFocused","currentSelectionStart","currentSelectionEnd","parent","focus","scrollState","saveParentsScrollTop","restoreParentsScrollTop"]
}
