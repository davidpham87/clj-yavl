{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$overviewZoneManager.js",
"lineCount":136,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/viewModel/overviewZoneManager.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$overviewZoneManager\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, ColorZone:{enumerable:true, get:function() {\n  return ColorZone;\n}}, OverviewRulerZone:{enumerable:true, get:function() {\n  return OverviewRulerZone;\n}}, OverviewZoneManager:{enumerable:true, get:function() {\n  return OverviewZoneManager;\n}}});\nclass ColorZone {\n  constructor(from, to, colorId) {\n    this._colorZoneBrand = undefined;\n    this.from = from | 0;\n    this.to = to | 0;\n    this.colorId = colorId | 0;\n  }\n  static compare(a, b) {\n    if (a.colorId === b.colorId) {\n      if (a.from === b.from) {\n        return a.to - b.to;\n      }\n      return a.from - b.from;\n    }\n    return a.colorId - b.colorId;\n  }\n}\nclass OverviewRulerZone {\n  constructor(startLineNumber, endLineNumber, heightInLines, color) {\n    this._overviewRulerZoneBrand = undefined;\n    this.startLineNumber = startLineNumber;\n    this.endLineNumber = endLineNumber;\n    this.heightInLines = heightInLines;\n    this.color = color;\n    this._colorZone = null;\n  }\n  static compare(a, b) {\n    if (a.color === b.color) {\n      if (a.startLineNumber === b.startLineNumber) {\n        if (a.heightInLines === b.heightInLines) {\n          return a.endLineNumber - b.endLineNumber;\n        }\n        return a.heightInLines - b.heightInLines;\n      }\n      return a.startLineNumber - b.startLineNumber;\n    }\n    return a.color < b.color ? -1 : 1;\n  }\n  setColorZone(colorZone) {\n    this._colorZone = colorZone;\n  }\n  getColorZones() {\n    return this._colorZone;\n  }\n}\nclass OverviewZoneManager {\n  constructor(getVerticalOffsetForLine) {\n    this._getVerticalOffsetForLine = getVerticalOffsetForLine;\n    this._zones = [];\n    this._colorZonesInvalid = false;\n    this._lineHeight = 0;\n    this._domWidth = 0;\n    this._domHeight = 0;\n    this._outerHeight = 0;\n    this._pixelRatio = 1;\n    this._lastAssignedId = 0;\n    this._color2Id = Object.create(null);\n    this._id2Color = [];\n  }\n  getId2Color() {\n    return this._id2Color;\n  }\n  setZones(newZones) {\n    this._zones = newZones;\n    this._zones.sort(OverviewRulerZone.compare);\n  }\n  setLineHeight(lineHeight) {\n    if (this._lineHeight === lineHeight) {\n      return false;\n    }\n    this._lineHeight = lineHeight;\n    this._colorZonesInvalid = true;\n    return true;\n  }\n  setPixelRatio(pixelRatio) {\n    this._pixelRatio = pixelRatio;\n    this._colorZonesInvalid = true;\n  }\n  getDOMWidth() {\n    return this._domWidth;\n  }\n  getCanvasWidth() {\n    return this._domWidth * this._pixelRatio;\n  }\n  setDOMWidth(width) {\n    if (this._domWidth === width) {\n      return false;\n    }\n    this._domWidth = width;\n    this._colorZonesInvalid = true;\n    return true;\n  }\n  getDOMHeight() {\n    return this._domHeight;\n  }\n  getCanvasHeight() {\n    return this._domHeight * this._pixelRatio;\n  }\n  setDOMHeight(height) {\n    if (this._domHeight === height) {\n      return false;\n    }\n    this._domHeight = height;\n    this._colorZonesInvalid = true;\n    return true;\n  }\n  getOuterHeight() {\n    return this._outerHeight;\n  }\n  setOuterHeight(outerHeight) {\n    if (this._outerHeight === outerHeight) {\n      return false;\n    }\n    this._outerHeight = outerHeight;\n    this._colorZonesInvalid = true;\n    return true;\n  }\n  resolveColorZones() {\n    const colorZonesInvalid = this._colorZonesInvalid;\n    const lineHeight = Math.floor(this._lineHeight);\n    const totalHeight = Math.floor(this.getCanvasHeight());\n    const outerHeight = Math.floor(this._outerHeight);\n    const heightRatio = totalHeight / outerHeight;\n    const halfMinimumHeight = Math.floor(4 * this._pixelRatio / 2);\n    const allColorZones = [];\n    for (let i = 0, len = this._zones.length; i < len; i++) {\n      const zone = this._zones[i];\n      if (!colorZonesInvalid) {\n        const colorZone = zone.getColorZones();\n        if (colorZone) {\n          allColorZones.push(colorZone);\n          continue;\n        }\n      }\n      const offset1 = this._getVerticalOffsetForLine(zone.startLineNumber);\n      const offset2 = zone.heightInLines === 0 ? this._getVerticalOffsetForLine(zone.endLineNumber) + lineHeight : offset1 + zone.heightInLines * lineHeight;\n      const y1 = Math.floor(heightRatio * offset1);\n      const y2 = Math.floor(heightRatio * offset2);\n      let ycenter = Math.floor((y1 + y2) / 2);\n      let halfHeight = y2 - ycenter;\n      if (halfHeight < halfMinimumHeight) {\n        halfHeight = halfMinimumHeight;\n      }\n      if (ycenter - halfHeight < 0) {\n        ycenter = halfHeight;\n      }\n      if (ycenter + halfHeight > totalHeight) {\n        ycenter = totalHeight - halfHeight;\n      }\n      const color = zone.color;\n      let colorId = this._color2Id[color];\n      if (!colorId) {\n        colorId = ++this._lastAssignedId;\n        this._color2Id[color] = colorId;\n        this._id2Color[colorId] = color;\n      }\n      const colorZone = new ColorZone(ycenter - halfHeight, ycenter + halfHeight, colorId);\n      zone.setColorZone(colorZone);\n      allColorZones.push(colorZone);\n    }\n    this._colorZonesInvalid = false;\n    allColorZones.sort(ColorZone.compare);\n    return allColorZones;\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","ColorZone","get","OverviewRulerZone","OverviewZoneManager","constructor","from","to","colorId","_colorZoneBrand","undefined","compare","a","b","startLineNumber","endLineNumber","heightInLines","color","_overviewRulerZoneBrand","_colorZone","setColorZone","colorZone","getColorZones","getVerticalOffsetForLine","_getVerticalOffsetForLine","_zones","_colorZonesInvalid","_outerHeight","_domHeight","_domWidth","_lineHeight","_pixelRatio","_lastAssignedId","_color2Id","create","_id2Color","getId2Color","setZones","newZones","sort","setLineHeight","lineHeight","setPixelRatio","pixelRatio","getDOMWidth","getCanvasWidth","setDOMWidth","width","getDOMHeight","getCanvasHeight","setDOMHeight","height","getOuterHeight","setOuterHeight","outerHeight","resolveColorZones","colorZonesInvalid","Math","floor","totalHeight","heightRatio","halfMinimumHeight","allColorZones","i","len","length","zone","push","offset1","offset2","y2","ycenter","y1","halfHeight"]
}
