shadow$provide.module$node_modules$monaco_editor$esm$vs$base$browser$ui$findinput$findInput = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, FindInput:{enumerable:!0, get:function() {
    return FindInput;
  }}});
  var dom = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__SLASH_findInputToggles_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$findinput$findInputToggles"), require$_DOT__DOT__SLASH_inputbox_SLASH_inputBox_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$inputbox$inputBox");
  module = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$widget");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$findinput$findInput_css");
  exports = require("module$node_modules$monaco_editor$esm$vs$nls");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  const NLS_DEFAULT_LABEL = exports.localize("defaultLabel", "input");
  class FindInput extends module.Widget {
    constructor(parent, contextViewProvider, options) {
      super();
      this.fixFocusOnOptionClickEnabled = !0;
      this.imeSessionInProgress = !1;
      this.additionalTogglesDisposables = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js.MutableDisposable());
      this.additionalToggles = [];
      this._onDidOptionChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidOptionChange = this._onDidOptionChange.event;
      this._onKeyDown = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onKeyDown = this._onKeyDown.event;
      this._onMouseDown = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onMouseDown = this._onMouseDown.event;
      this._onInput = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this._onKeyUp = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this._onCaseSensitiveKeyDown = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onCaseSensitiveKeyDown = this._onCaseSensitiveKeyDown.event;
      this._onRegexKeyDown = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onRegexKeyDown = this._onRegexKeyDown.event;
      this._lastHighlightFindOptions = 0;
      this.placeholder = options.placeholder || "";
      this.validation = options.validation;
      this.label = options.label || NLS_DEFAULT_LABEL;
      this.showCommonFindToggles = !!options.showCommonFindToggles;
      const appendCaseSensitiveLabel = options.appendCaseSensitiveLabel || "", appendWholeWordsLabel = options.appendWholeWordsLabel || "", appendRegexLabel = options.appendRegexLabel || "", history = options.history || [], flexibleHeight = !!options.flexibleHeight, flexibleWidth = !!options.flexibleWidth, flexibleMaxHeight = options.flexibleMaxHeight;
      this.domNode = document.createElement("div");
      this.domNode.classList.add("monaco-findInput");
      this.inputBox = this._register(new require$_DOT__DOT__SLASH_inputbox_SLASH_inputBox_DOT_js.HistoryInputBox(this.domNode, contextViewProvider, {placeholder:this.placeholder || "", ariaLabel:this.label || "", validationOptions:{validation:this.validation}, history, showHistoryHint:options.showHistoryHint, flexibleHeight, flexibleWidth, flexibleMaxHeight, inputBoxStyles:options.inputBoxStyles}));
      if (this.showCommonFindToggles) {
        this.regex = this._register(new require$_DOT__SLASH_findInputToggles_DOT_js.RegexToggle({appendTitle:appendRegexLabel, isChecked:!1, ...options.toggleStyles}));
        this._register(this.regex.onChange(viaKeyboard => {
          this._onDidOptionChange.fire(viaKeyboard);
          !viaKeyboard && this.fixFocusOnOptionClickEnabled && this.inputBox.focus();
          this.validate();
        }));
        this._register(this.regex.onKeyDown(e => {
          this._onRegexKeyDown.fire(e);
        }));
        this.wholeWords = this._register(new require$_DOT__SLASH_findInputToggles_DOT_js.WholeWordsToggle({appendTitle:appendWholeWordsLabel, isChecked:!1, ...options.toggleStyles}));
        this._register(this.wholeWords.onChange(viaKeyboard => {
          this._onDidOptionChange.fire(viaKeyboard);
          !viaKeyboard && this.fixFocusOnOptionClickEnabled && this.inputBox.focus();
          this.validate();
        }));
        this.caseSensitive = this._register(new require$_DOT__SLASH_findInputToggles_DOT_js.CaseSensitiveToggle({appendTitle:appendCaseSensitiveLabel, isChecked:!1, ...options.toggleStyles}));
        this._register(this.caseSensitive.onChange(viaKeyboard => {
          this._onDidOptionChange.fire(viaKeyboard);
          !viaKeyboard && this.fixFocusOnOptionClickEnabled && this.inputBox.focus();
          this.validate();
        }));
        this._register(this.caseSensitive.onKeyDown(e => {
          this._onCaseSensitiveKeyDown.fire(e);
        }));
        const indexes = [this.caseSensitive.domNode, this.wholeWords.domNode, this.regex.domNode];
        this.onkeydown(this.domNode, event => {
          if (event.equals(15) || event.equals(17) || event.equals(9)) {
            const index = indexes.indexOf(this.domNode.ownerDocument.activeElement);
            if (index >= 0) {
              let newIndex = -1;
              event.equals(17) ? newIndex = (index + 1) % indexes.length : event.equals(15) && (newIndex = index === 0 ? indexes.length - 1 : index - 1);
              event.equals(9) ? (indexes[index].blur(), this.inputBox.focus()) : newIndex >= 0 && indexes[newIndex].focus();
              dom.EventHelper.stop(event, !0);
            }
          }
        });
      }
      this.controls = document.createElement("div");
      this.controls.className = "controls";
      this.controls.style.display = this.showCommonFindToggles ? "" : "none";
      this.caseSensitive && this.controls.append(this.caseSensitive.domNode);
      this.wholeWords && this.controls.appendChild(this.wholeWords.domNode);
      this.regex && this.controls.appendChild(this.regex.domNode);
      this.setAdditionalToggles(options === null || options === void 0 ? void 0 : options.additionalToggles);
      this.controls && this.domNode.appendChild(this.controls);
      parent === null || parent === void 0 || parent.appendChild(this.domNode);
      this._register(dom.addDisposableListener(this.inputBox.inputElement, "compositionstart", e => {
        this.imeSessionInProgress = !0;
      }));
      this._register(dom.addDisposableListener(this.inputBox.inputElement, "compositionend", e => {
        this.imeSessionInProgress = !1;
        this._onInput.fire();
      }));
      this.onkeydown(this.inputBox.inputElement, e => this._onKeyDown.fire(e));
      this.onkeyup(this.inputBox.inputElement, e => this._onKeyUp.fire(e));
      this.oninput(this.inputBox.inputElement, e => this._onInput.fire());
      this.onmousedown(this.inputBox.inputElement, e => this._onMouseDown.fire(e));
    }
    get onDidChange() {
      return this.inputBox.onDidChange;
    }
    layout(style) {
      this.inputBox.layout();
      this.updateInputBoxPadding(style.collapsedFindWidget);
    }
    enable() {
      var _a, _b, _c;
      this.domNode.classList.remove("disabled");
      this.inputBox.enable();
      (_a = this.regex) === null || _a === void 0 || _a.enable();
      (_b = this.wholeWords) === null || _b === void 0 || _b.enable();
      (_c = this.caseSensitive) === null || _c === void 0 || _c.enable();
      for (const toggle of this.additionalToggles) {
        toggle.enable();
      }
    }
    disable() {
      var _a, _b, _c;
      this.domNode.classList.add("disabled");
      this.inputBox.disable();
      (_a = this.regex) === null || _a === void 0 || _a.disable();
      (_b = this.wholeWords) === null || _b === void 0 || _b.disable();
      (_c = this.caseSensitive) === null || _c === void 0 || _c.disable();
      for (const toggle of this.additionalToggles) {
        toggle.disable();
      }
    }
    setFocusInputOnOptionClick(value) {
      this.fixFocusOnOptionClickEnabled = value;
    }
    setEnabled(enabled) {
      enabled ? this.enable() : this.disable();
    }
    setAdditionalToggles(toggles) {
      for (const currentToggle of this.additionalToggles) {
        currentToggle.domNode.remove();
      }
      this.additionalToggles = [];
      this.additionalTogglesDisposables.value = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();
      for (const toggle of toggles !== null && toggles !== void 0 ? toggles : []) {
        this.additionalTogglesDisposables.value.add(toggle), this.controls.appendChild(toggle.domNode), this.additionalTogglesDisposables.value.add(toggle.onChange(viaKeyboard => {
          this._onDidOptionChange.fire(viaKeyboard);
          !viaKeyboard && this.fixFocusOnOptionClickEnabled && this.inputBox.focus();
        })), this.additionalToggles.push(toggle);
      }
      this.additionalToggles.length > 0 && (this.controls.style.display = "");
      this.updateInputBoxPadding();
    }
    updateInputBoxPadding(controlsHidden = !1) {
      var _a, _b, _c, _d, _e, _f;
      this.inputBox.paddingRight = controlsHidden ? 0 : ((_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.width()) !== null && _b !== void 0 ? _b : 0) + ((_d = (_c = this.wholeWords) === null || _c === void 0 ? void 0 : _c.width()) !== null && _d !== void 0 ? _d : 0) + ((_f = (_e = this.regex) === null || _e === void 0 ? void 0 : _e.width()) !== null && _f !== void 0 ? _f : 0) + this.additionalToggles.reduce((r, t) => r + t.width(), 0);
    }
    getValue() {
      return this.inputBox.value;
    }
    setValue(value) {
      this.inputBox.value !== value && (this.inputBox.value = value);
    }
    select() {
      this.inputBox.select();
    }
    focus() {
      this.inputBox.focus();
    }
    getCaseSensitive() {
      var _a, _b;
      return (_b = (_a = this.caseSensitive) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : !1;
    }
    setCaseSensitive(value) {
      this.caseSensitive && (this.caseSensitive.checked = value);
    }
    getWholeWords() {
      var _a, _b;
      return (_b = (_a = this.wholeWords) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : !1;
    }
    setWholeWords(value) {
      this.wholeWords && (this.wholeWords.checked = value);
    }
    getRegex() {
      var _a, _b;
      return (_b = (_a = this.regex) === null || _a === void 0 ? void 0 : _a.checked) !== null && _b !== void 0 ? _b : !1;
    }
    setRegex(value) {
      this.regex && (this.regex.checked = value, this.validate());
    }
    focusOnCaseSensitive() {
      var _a;
      (_a = this.caseSensitive) === null || _a === void 0 || _a.focus();
    }
    highlightFindOptions() {
      this.domNode.classList.remove("highlight-" + this._lastHighlightFindOptions);
      this._lastHighlightFindOptions = 1 - this._lastHighlightFindOptions;
      this.domNode.classList.add("highlight-" + this._lastHighlightFindOptions);
    }
    validate() {
      this.inputBox.validate();
    }
    showMessage(message) {
      this.inputBox.showMessage(message);
    }
    clearMessage() {
      this.inputBox.hideMessage();
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$base$browser$ui$findinput$findInput.js.map
