{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$inlineDiffDeletedCodeMargin.js",
"lineCount":88,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditor/inlineDiffDeletedCodeMargin.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$inlineDiffDeletedCodeMargin\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, InlineDiffDeletedCodeMargin:{enumerable:true, get:function() {\n  return InlineDiffDeletedCodeMargin;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require(\"../../../../base/browser/dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js = require(\"../../../../base/common/actions.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_codicons_DOT_js = require(\"../../../../base/common/codicons.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../../base/common/lifecycle.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js = require(\"../../../../base/common/platform.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js = require(\"../../../../base/common/themables.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js = require(\"../../../../nls.js\");\nclass InlineDiffDeletedCodeMargin extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {\n  get visibility() {\n    return this._visibility;\n  }\n  set visibility(_visibility) {\n    if (this._visibility !== _visibility) {\n      this._visibility = _visibility;\n      this._diffActions.style.visibility = _visibility ? \"visible\" : \"hidden\";\n    }\n  }\n  constructor(_getViewZoneId, _marginDomNode, _modifiedEditor, _diff, _editor, _viewLineCounts, _originalTextModel, _contextMenuService, _clipboardService) {\n    super();\n    this._getViewZoneId = _getViewZoneId;\n    this._marginDomNode = _marginDomNode;\n    this._modifiedEditor = _modifiedEditor;\n    this._diff = _diff;\n    this._editor = _editor;\n    this._viewLineCounts = _viewLineCounts;\n    this._originalTextModel = _originalTextModel;\n    this._contextMenuService = _contextMenuService;\n    this._clipboardService = _clipboardService;\n    this._visibility = false;\n    this._marginDomNode.style.zIndex = \"10\";\n    this._diffActions = document.createElement(\"div\");\n    this._diffActions.className = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js.ThemeIcon.asClassName(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_codicons_DOT_js.Codicon.lightBulb) + \" lightbulb-glyph\";\n    this._diffActions.style.position = \"absolute\";\n    const lineHeight = this._modifiedEditor.getOption(66);\n    this._diffActions.style.right = \"0px\";\n    this._diffActions.style.visibility = \"hidden\";\n    this._diffActions.style.height = `${lineHeight}px`;\n    this._diffActions.style.lineHeight = `${lineHeight}px`;\n    this._marginDomNode.appendChild(this._diffActions);\n    let currentLineNumberOffset = 0;\n    const useShadowDOM = _modifiedEditor.getOption(126) && !require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js.isIOS;\n    const showContextMenu = (x, y) => {\n      var _a;\n      this._contextMenuService.showContextMenu({domForShadowRoot:useShadowDOM ? (_a = _modifiedEditor.getDomNode()) !== null && _a !== void 0 ? _a : undefined : undefined, getAnchor:() => ({x, y}), getActions:() => {\n        const actions = [];\n        const isDeletion = _diff.modified.isEmpty;\n        actions.push(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.Action(\"diff.clipboard.copyDeletedContent\", isDeletion ? _diff.original.length > 1 ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)(\"diff.clipboard.copyDeletedLinesContent.label\", \"Copy deleted lines\") : (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)(\"diff.clipboard.copyDeletedLinesContent.single.label\", \n        \"Copy deleted line\") : _diff.original.length > 1 ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)(\"diff.clipboard.copyChangedLinesContent.label\", \"Copy changed lines\") : (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)(\"diff.clipboard.copyChangedLinesContent.single.label\", \"Copy changed line\"), undefined, true, async() => {\n          const originalText = this._originalTextModel.getValueInRange(_diff.original.toExclusiveRange());\n          await this._clipboardService.writeText(originalText);\n        }));\n        if (_diff.original.length > 1) {\n          actions.push(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.Action(\"diff.clipboard.copyDeletedLineContent\", isDeletion ? (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)(\"diff.clipboard.copyDeletedLineContent.label\", \"Copy deleted line ({0})\", _diff.original.startLineNumber + currentLineNumberOffset) : (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)(\"diff.clipboard.copyChangedLineContent.label\", \n          \"Copy changed line ({0})\", _diff.original.startLineNumber + currentLineNumberOffset), undefined, true, async() => {\n            let lineContent = this._originalTextModel.getLineContent(_diff.original.startLineNumber + currentLineNumberOffset);\n            if (lineContent === \"\") {\n              const eof = this._originalTextModel.getEndOfLineSequence();\n              lineContent = eof === 0 ? \"\\n\" : \"\\r\\n\";\n            }\n            await this._clipboardService.writeText(lineContent);\n          }));\n        }\n        const readOnly = _modifiedEditor.getOption(90);\n        if (!readOnly) {\n          actions.push(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.Action(\"diff.inline.revertChange\", (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)(\"diff.inline.revertChange.label\", \"Revert this change\"), undefined, true, async() => {\n            this._editor.revert(this._diff);\n          }));\n        }\n        return actions;\n      }, autoSelectFirstItem:true});\n    };\n    this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.addStandardDisposableListener)(this._diffActions, \"mousedown\", e => {\n      if (!e.leftButton) {\n        return;\n      }\n      const {top, height} = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getDomNodePagePosition)(this._diffActions);\n      const pad = Math.floor(lineHeight / 3);\n      e.preventDefault();\n      showContextMenu(e.posx, top + height + pad);\n    }));\n    this._register(_modifiedEditor.onMouseMove(e => {\n      if ((e.target.type === 8 || e.target.type === 5) && e.target.detail.viewZoneId === this._getViewZoneId()) {\n        currentLineNumberOffset = this._updateLightBulbPosition(this._marginDomNode, e.event.browserEvent.y, lineHeight);\n        this.visibility = true;\n      } else {\n        this.visibility = false;\n      }\n    }));\n    this._register(_modifiedEditor.onMouseDown(e => {\n      if (!e.event.leftButton) {\n        return;\n      }\n      if (e.target.type === 8 || e.target.type === 5) {\n        const viewZoneId = e.target.detail.viewZoneId;\n        if (viewZoneId === this._getViewZoneId()) {\n          e.event.preventDefault();\n          currentLineNumberOffset = this._updateLightBulbPosition(this._marginDomNode, e.event.browserEvent.y, lineHeight);\n          showContextMenu(e.event.posx, e.event.posy + lineHeight);\n        }\n      }\n    }));\n  }\n  _updateLightBulbPosition(marginDomNode, y, lineHeight) {\n    const {top} = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.getDomNodePagePosition)(marginDomNode);\n    const offset = y - top;\n    const lineNumberOffset = Math.floor(offset / lineHeight);\n    const newTop = lineNumberOffset * lineHeight;\n    this._diffActions.style.top = `${newTop}px`;\n    if (this._viewLineCounts) {\n      let acc = 0;\n      for (let i = 0; i < this._viewLineCounts.length; i++) {\n        acc += this._viewLineCounts[i];\n        if (lineNumberOffset < acc) {\n          return i;\n        }\n      }\n    }\n    return lineNumberOffset;\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","InlineDiffDeletedCodeMargin","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_codicons_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_platform_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_themables_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js","Disposable","_visibility","_diffActions","style","visibility","constructor","_getViewZoneId","_marginDomNode","_modifiedEditor","_diff","_editor","_viewLineCounts","_originalTextModel","_contextMenuService","_clipboardService","zIndex","document","createElement","className","ThemeIcon","asClassName","Codicon","lightBulb","position","lineHeight","getOption","right","height","appendChild","currentLineNumberOffset","useShadowDOM","isIOS","showContextMenu","x","y","_a","domForShadowRoot","getDomNode","undefined","getAnchor","getActions","actions","isDeletion","modified","isEmpty","push","Action","original","length","localize","originalText","getValueInRange","toExclusiveRange","writeText","startLineNumber","lineContent","getLineContent","getEndOfLineSequence","eof","readOnly","revert","autoSelectFirstItem","_register","addStandardDisposableListener","e","leftButton","top","getDomNodePagePosition","pad","Math","floor","preventDefault","posx","onMouseMove","target","type","detail","viewZoneId","_updateLightBulbPosition","event","browserEvent","onMouseDown","posy","marginDomNode","lineNumberOffset","acc","i"]
}
