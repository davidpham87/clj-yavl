{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$heuristicSequenceOptimizations.js",
"lineCount":206,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$diff$defaultLinesDiffComputer$heuristicSequenceOptimizations\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, extendDiffsToEntireWordIfAppropriate:{enumerable:true, get:function() {\n  return extendDiffsToEntireWordIfAppropriate;\n}}, optimizeSequenceDiffs:{enumerable:true, get:function() {\n  return optimizeSequenceDiffs;\n}}, removeShortMatches:{enumerable:true, get:function() {\n  return removeShortMatches;\n}}, removeVeryShortMatchingLinesBetweenDiffs:{enumerable:true, get:function() {\n  return removeVeryShortMatchingLinesBetweenDiffs;\n}}, removeVeryShortMatchingTextBetweenLongDiffs:{enumerable:true, get:function() {\n  return removeVeryShortMatchingTextBetweenLongDiffs;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require(\"../../../../base/common/arrays.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js = require(\"../../core/offsetRange.js\");\nvar require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js = require(\"./algorithms/diffAlgorithm.js\");\nfunction optimizeSequenceDiffs(sequence1, sequence2, sequenceDiffs) {\n  let result = sequenceDiffs;\n  result = joinSequenceDiffsByShifting(sequence1, sequence2, result);\n  result = joinSequenceDiffsByShifting(sequence1, sequence2, result);\n  result = shiftSequenceDiffs(sequence1, sequence2, result);\n  return result;\n}\nfunction joinSequenceDiffsByShifting(sequence1, sequence2, sequenceDiffs) {\n  if (sequenceDiffs.length === 0) {\n    return sequenceDiffs;\n  }\n  const result = [];\n  result.push(sequenceDiffs[0]);\n  for (let i = 1; i < sequenceDiffs.length; i++) {\n    const prevResult = result[result.length - 1];\n    let cur = sequenceDiffs[i];\n    if (cur.seq1Range.isEmpty || cur.seq2Range.isEmpty) {\n      const length = cur.seq1Range.start - prevResult.seq1Range.endExclusive;\n      let d;\n      for (d = 1; d <= length; d++) {\n        if (sequence1.getElement(cur.seq1Range.start - d) !== sequence1.getElement(cur.seq1Range.endExclusive - d) || sequence2.getElement(cur.seq2Range.start - d) !== sequence2.getElement(cur.seq2Range.endExclusive - d)) {\n          break;\n        }\n      }\n      d--;\n      if (d === length) {\n        result[result.length - 1] = new require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js.SequenceDiff(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(prevResult.seq1Range.start, cur.seq1Range.endExclusive - length), new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(prevResult.seq2Range.start, cur.seq2Range.endExclusive - length));\n        continue;\n      }\n      cur = cur.delta(-d);\n    }\n    result.push(cur);\n  }\n  const result2 = [];\n  for (let i = 0; i < result.length - 1; i++) {\n    const nextResult = result[i + 1];\n    let cur = result[i];\n    if (cur.seq1Range.isEmpty || cur.seq2Range.isEmpty) {\n      const length = nextResult.seq1Range.start - cur.seq1Range.endExclusive;\n      let d;\n      for (d = 0; d < length; d++) {\n        if (!sequence1.isStronglyEqual(cur.seq1Range.start + d, cur.seq1Range.endExclusive + d) || !sequence2.isStronglyEqual(cur.seq2Range.start + d, cur.seq2Range.endExclusive + d)) {\n          break;\n        }\n      }\n      if (d === length) {\n        result[i + 1] = new require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js.SequenceDiff(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(cur.seq1Range.start + length, nextResult.seq1Range.endExclusive), new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(cur.seq2Range.start + length, nextResult.seq2Range.endExclusive));\n        continue;\n      }\n      if (d > 0) {\n        cur = cur.delta(d);\n      }\n    }\n    result2.push(cur);\n  }\n  if (result.length > 0) {\n    result2.push(result[result.length - 1]);\n  }\n  return result2;\n}\nfunction shiftSequenceDiffs(sequence1, sequence2, sequenceDiffs) {\n  if (!sequence1.getBoundaryScore || !sequence2.getBoundaryScore) {\n    return sequenceDiffs;\n  }\n  for (let i = 0; i < sequenceDiffs.length; i++) {\n    const prevDiff = i > 0 ? sequenceDiffs[i - 1] : undefined;\n    const diff = sequenceDiffs[i];\n    const nextDiff = i + 1 < sequenceDiffs.length ? sequenceDiffs[i + 1] : undefined;\n    const seq1ValidRange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(prevDiff ? prevDiff.seq1Range.start + 1 : 0, nextDiff ? nextDiff.seq1Range.endExclusive - 1 : sequence1.length);\n    const seq2ValidRange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(prevDiff ? prevDiff.seq2Range.start + 1 : 0, nextDiff ? nextDiff.seq2Range.endExclusive - 1 : sequence2.length);\n    if (diff.seq1Range.isEmpty) {\n      sequenceDiffs[i] = shiftDiffToBetterPosition(diff, sequence1, sequence2, seq1ValidRange, seq2ValidRange);\n    } else if (diff.seq2Range.isEmpty) {\n      sequenceDiffs[i] = shiftDiffToBetterPosition(diff.swap(), sequence2, sequence1, seq2ValidRange, seq1ValidRange).swap();\n    }\n  }\n  return sequenceDiffs;\n}\nfunction shiftDiffToBetterPosition(diff, sequence1, sequence2, seq1ValidRange, seq2ValidRange) {\n  const maxShiftLimit = 100;\n  let deltaBefore = 1;\n  while (diff.seq1Range.start - deltaBefore >= seq1ValidRange.start && diff.seq2Range.start - deltaBefore >= seq2ValidRange.start && sequence2.isStronglyEqual(diff.seq2Range.start - deltaBefore, diff.seq2Range.endExclusive - deltaBefore) && deltaBefore < maxShiftLimit) {\n    deltaBefore++;\n  }\n  deltaBefore--;\n  let deltaAfter = 0;\n  while (diff.seq1Range.start + deltaAfter < seq1ValidRange.endExclusive && diff.seq2Range.endExclusive + deltaAfter < seq2ValidRange.endExclusive && sequence2.isStronglyEqual(diff.seq2Range.start + deltaAfter, diff.seq2Range.endExclusive + deltaAfter) && deltaAfter < maxShiftLimit) {\n    deltaAfter++;\n  }\n  if (deltaBefore === 0 && deltaAfter === 0) {\n    return diff;\n  }\n  let bestDelta = 0;\n  let bestScore = -1;\n  for (let delta = -deltaBefore; delta <= deltaAfter; delta++) {\n    const seq2OffsetStart = diff.seq2Range.start + delta;\n    const seq2OffsetEndExclusive = diff.seq2Range.endExclusive + delta;\n    const seq1Offset = diff.seq1Range.start + delta;\n    const score = sequence1.getBoundaryScore(seq1Offset) + sequence2.getBoundaryScore(seq2OffsetStart) + sequence2.getBoundaryScore(seq2OffsetEndExclusive);\n    if (score > bestScore) {\n      bestScore = score;\n      bestDelta = delta;\n    }\n  }\n  return diff.delta(bestDelta);\n}\nfunction removeShortMatches(sequence1, sequence2, sequenceDiffs) {\n  const result = [];\n  for (const s of sequenceDiffs) {\n    const last = result[result.length - 1];\n    if (!last) {\n      result.push(s);\n      continue;\n    }\n    if (s.seq1Range.start - last.seq1Range.endExclusive <= 2 || s.seq2Range.start - last.seq2Range.endExclusive <= 2) {\n      result[result.length - 1] = new require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js.SequenceDiff(last.seq1Range.join(s.seq1Range), last.seq2Range.join(s.seq2Range));\n    } else {\n      result.push(s);\n    }\n  }\n  return result;\n}\nfunction extendDiffsToEntireWordIfAppropriate(sequence1, sequence2, sequenceDiffs) {\n  const additional = [];\n  let lastModifiedWord = undefined;\n  function maybePushWordToAdditional() {\n    if (!lastModifiedWord) {\n      return;\n    }\n    const originalLength1 = lastModifiedWord.s1Range.length - lastModifiedWord.deleted;\n    const originalLength2 = lastModifiedWord.s2Range.length - lastModifiedWord.added;\n    if (originalLength1 !== originalLength2) {\n    }\n    if (Math.max(lastModifiedWord.deleted, lastModifiedWord.added) + (lastModifiedWord.count - 1) > originalLength1) {\n      additional.push(new require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js.SequenceDiff(lastModifiedWord.s1Range, lastModifiedWord.s2Range));\n    }\n    lastModifiedWord = undefined;\n  }\n  for (const s of sequenceDiffs) {\n    function processWord(s1Range, s2Range) {\n      var _a, _b, _c, _d;\n      if (!lastModifiedWord || !lastModifiedWord.s1Range.containsRange(s1Range) || !lastModifiedWord.s2Range.containsRange(s2Range)) {\n        if (lastModifiedWord && !(lastModifiedWord.s1Range.endExclusive < s1Range.start && lastModifiedWord.s2Range.endExclusive < s2Range.start)) {\n          const s1Added = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange.tryCreate(lastModifiedWord.s1Range.endExclusive, s1Range.start);\n          const s2Added = require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange.tryCreate(lastModifiedWord.s2Range.endExclusive, s2Range.start);\n          lastModifiedWord.deleted += (_a = s1Added === null || s1Added === void 0 ? void 0 : s1Added.length) !== null && _a !== void 0 ? _a : 0;\n          lastModifiedWord.added += (_b = s2Added === null || s2Added === void 0 ? void 0 : s2Added.length) !== null && _b !== void 0 ? _b : 0;\n          lastModifiedWord.s1Range = lastModifiedWord.s1Range.join(s1Range);\n          lastModifiedWord.s2Range = lastModifiedWord.s2Range.join(s2Range);\n        } else {\n          maybePushWordToAdditional();\n          lastModifiedWord = {added:0, deleted:0, count:0, s1Range:s1Range, s2Range:s2Range};\n        }\n      }\n      const changedS1 = s1Range.intersect(s.seq1Range);\n      const changedS2 = s2Range.intersect(s.seq2Range);\n      lastModifiedWord.count++;\n      lastModifiedWord.deleted += (_c = changedS1 === null || changedS1 === void 0 ? void 0 : changedS1.length) !== null && _c !== void 0 ? _c : 0;\n      lastModifiedWord.added += (_d = changedS2 === null || changedS2 === void 0 ? void 0 : changedS2.length) !== null && _d !== void 0 ? _d : 0;\n    }\n    const w1Before = sequence1.findWordContaining(s.seq1Range.start - 1);\n    const w2Before = sequence2.findWordContaining(s.seq2Range.start - 1);\n    const w1After = sequence1.findWordContaining(s.seq1Range.endExclusive);\n    const w2After = sequence2.findWordContaining(s.seq2Range.endExclusive);\n    if (w1Before && w1After && w2Before && w2After && w1Before.equals(w1After) && w2Before.equals(w2After)) {\n      processWord(w1Before, w2Before);\n    } else {\n      if (w1Before && w2Before) {\n        processWord(w1Before, w2Before);\n      }\n      if (w1After && w2After) {\n        processWord(w1After, w2After);\n      }\n    }\n  }\n  maybePushWordToAdditional();\n  const merged = mergeSequenceDiffs(sequenceDiffs, additional);\n  return merged;\n}\nfunction mergeSequenceDiffs(sequenceDiffs1, sequenceDiffs2) {\n  const result = [];\n  while (sequenceDiffs1.length > 0 || sequenceDiffs2.length > 0) {\n    const sd1 = sequenceDiffs1[0];\n    const sd2 = sequenceDiffs2[0];\n    let next;\n    if (sd1 && (!sd2 || sd1.seq1Range.start < sd2.seq1Range.start)) {\n      next = sequenceDiffs1.shift();\n    } else {\n      next = sequenceDiffs2.shift();\n    }\n    if (result.length > 0 && result[result.length - 1].seq1Range.endExclusive >= next.seq1Range.start) {\n      result[result.length - 1] = result[result.length - 1].join(next);\n    } else {\n      result.push(next);\n    }\n  }\n  return result;\n}\nfunction removeVeryShortMatchingLinesBetweenDiffs(sequence1, _sequence2, sequenceDiffs) {\n  let diffs = sequenceDiffs;\n  if (diffs.length === 0) {\n    return diffs;\n  }\n  let counter = 0;\n  let shouldRepeat;\n  do {\n    shouldRepeat = false;\n    const result = [diffs[0]];\n    for (let i = 1; i < diffs.length; i++) {\n      const cur = diffs[i];\n      const lastResult = result[result.length - 1];\n      function shouldJoinDiffs(before, after) {\n        const unchangedRange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(lastResult.seq1Range.endExclusive, cur.seq1Range.start);\n        const unchangedText = sequence1.getText(unchangedRange);\n        const unchangedTextWithoutWs = unchangedText.replace(/\\s/g, \"\");\n        if (unchangedTextWithoutWs.length <= 4 && (before.seq1Range.length + before.seq2Range.length > 5 || after.seq1Range.length + after.seq2Range.length > 5)) {\n          return true;\n        }\n        return false;\n      }\n      const shouldJoin = shouldJoinDiffs(lastResult, cur);\n      if (shouldJoin) {\n        shouldRepeat = true;\n        result[result.length - 1] = result[result.length - 1].join(cur);\n      } else {\n        result.push(cur);\n      }\n    }\n    diffs = result;\n  } while (counter++ < 10 && shouldRepeat);\n  return diffs;\n}\nfunction removeVeryShortMatchingTextBetweenLongDiffs(sequence1, sequence2, sequenceDiffs) {\n  let diffs = sequenceDiffs;\n  if (diffs.length === 0) {\n    return diffs;\n  }\n  let counter = 0;\n  let shouldRepeat;\n  do {\n    shouldRepeat = false;\n    const result = [diffs[0]];\n    for (let i = 1; i < diffs.length; i++) {\n      const cur = diffs[i];\n      const lastResult = result[result.length - 1];\n      function shouldJoinDiffs(before, after) {\n        const unchangedRange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(lastResult.seq1Range.endExclusive, cur.seq1Range.start);\n        const unchangedLineCount = sequence1.countLinesIn(unchangedRange);\n        if (unchangedLineCount > 5 || unchangedRange.length > 500) {\n          return false;\n        }\n        const unchangedText = sequence1.getText(unchangedRange).trim();\n        if (unchangedText.length > 20 || unchangedText.split(/\\r\\n|\\r|\\n/).length > 1) {\n          return false;\n        }\n        const beforeLineCount1 = sequence1.countLinesIn(before.seq1Range);\n        const beforeSeq1Length = before.seq1Range.length;\n        const beforeLineCount2 = sequence2.countLinesIn(before.seq2Range);\n        const beforeSeq2Length = before.seq2Range.length;\n        const afterLineCount1 = sequence1.countLinesIn(after.seq1Range);\n        const afterSeq1Length = after.seq1Range.length;\n        const afterLineCount2 = sequence2.countLinesIn(after.seq2Range);\n        const afterSeq2Length = after.seq2Range.length;\n        const max = 2 * 40 + 50;\n        function cap(v) {\n          return Math.min(v, max);\n        }\n        if (Math.pow(Math.pow(cap(beforeLineCount1 * 40 + beforeSeq1Length), 1.5) + Math.pow(cap(beforeLineCount2 * 40 + beforeSeq2Length), 1.5), 1.5) + Math.pow(Math.pow(cap(afterLineCount1 * 40 + afterSeq1Length), 1.5) + Math.pow(cap(afterLineCount2 * 40 + afterSeq2Length), 1.5), 1.5) > (max ** 1.5) ** 1.5 * 1.3) {\n          return true;\n        }\n        return false;\n      }\n      const shouldJoin = shouldJoinDiffs(lastResult, cur);\n      if (shouldJoin) {\n        shouldRepeat = true;\n        result[result.length - 1] = result[result.length - 1].join(cur);\n      } else {\n        result.push(cur);\n      }\n    }\n    diffs = result;\n  } while (counter++ < 10 && shouldRepeat);\n  const newDiffs = [];\n  (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.forEachWithNeighbors)(diffs, (prev, cur, next) => {\n    let newDiff = cur;\n    function shouldMarkAsChanged(text) {\n      return text.length > 0 && text.trim().length <= 3 && cur.seq1Range.length + cur.seq2Range.length > 100;\n    }\n    const fullRange1 = sequence1.extendToFullLines(cur.seq1Range);\n    const prefix = sequence1.getText(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(fullRange1.start, cur.seq1Range.start));\n    if (shouldMarkAsChanged(prefix)) {\n      newDiff = newDiff.deltaStart(-prefix.length);\n    }\n    const suffix = sequence1.getText(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js.OffsetRange(cur.seq1Range.endExclusive, fullRange1.endExclusive));\n    if (shouldMarkAsChanged(suffix)) {\n      newDiff = newDiff.deltaEnd(suffix.length);\n    }\n    const availableSpace = require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js.SequenceDiff.fromOffsetPairs(prev ? prev.getEndExclusives() : require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js.OffsetPair.zero, next ? next.getStarts() : require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js.OffsetPair.max);\n    const result = newDiff.intersect(availableSpace);\n    newDiffs.push(result);\n  });\n  return newDiffs;\n}\n\n};"],
"names":["shadow$provide","require","module","exports","optimizeSequenceDiffs","sequence1","sequence2","sequenceDiffs","result","joinSequenceDiffsByShifting","getBoundaryScore","i","length","prevDiff","undefined","diff","nextDiff","seq1ValidRange","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_core_SLASH_offsetRange_DOT_js","OffsetRange","seq1Range","start","endExclusive","seq2ValidRange","seq2Range","isEmpty","shiftDiffToBetterPosition","swap","push","prevResult","cur","d","getElement","require$_DOT__SLASH_algorithms_SLASH_diffAlgorithm_DOT_js","SequenceDiff","delta","result2","nextResult","isStronglyEqual","deltaBefore","maxShiftLimit","deltaAfter","bestDelta","bestScore","seq2OffsetStart","seq2OffsetEndExclusive","score","removeShortMatches","s","last","join","extendDiffsToEntireWordIfAppropriate","maybePushWordToAdditional","lastModifiedWord","Math","max","deleted","added","count","s1Range","additional","s2Range","processWord","_a","_b","_c","_d","containsRange","s1Added","tryCreate","s2Added","changedS1","intersect","changedS2","w1Before","findWordContaining","w2Before","w1After","w2After","equals","mergeSequenceDiffs","merged","sequenceDiffs1","sequenceDiffs2","sd1","sd2","next","shift","removeVeryShortMatchingLinesBetweenDiffs","_sequence2","diffs","counter","shouldRepeat","lastResult","unchangedRange","getText","unchangedText","replace","unchangedTextWithoutWs","shouldJoin","removeVeryShortMatchingTextBetweenLongDiffs","shouldJoinDiffs","before","after","countLinesIn","unchangedLineCount","trim","split","beforeLineCount1","beforeSeq1Length","beforeLineCount2","beforeSeq2Length","afterLineCount1","afterSeq1Length","afterLineCount2","pow","min","newDiffs","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js","forEachWithNeighbors","prev","shouldMarkAsChanged","text","newDiff","fullRange1","extendToFullLines","prefix","deltaStart","suffix","deltaEnd","availableSpace","fromOffsetPairs","getEndExclusives","OffsetPair","zero","getStarts","Object","defineProperties","__esModule","enumerable","value","get"]
}
