shadow$provide.module$node_modules$monaco_editor$esm$vs$platform$instantiation$common$graph = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, Graph:{enumerable:!0, get:function() {
    return Graph;
  }}, Node:{enumerable:!0, get:function() {
    return Node;
  }}});
  class Node {
    constructor(key, data) {
      this.key = key;
      this.data = data;
      this.incoming = new Map();
      this.outgoing = new Map();
    }
  }
  class Graph {
    constructor(_hashFn) {
      this._hashFn = _hashFn;
      this._nodes = new Map();
    }
    roots() {
      const ret = [];
      for (const node of this._nodes.values()) {
        node.outgoing.size === 0 && ret.push(node);
      }
      return ret;
    }
    insertEdge(from, to) {
      from = this.lookupOrInsertNode(from);
      to = this.lookupOrInsertNode(to);
      from.outgoing.set(to.key, to);
      to.incoming.set(from.key, from);
    }
    removeNode(data) {
      data = this._hashFn(data);
      this._nodes.delete(data);
      for (const node of this._nodes.values()) {
        node.outgoing.delete(data), node.incoming.delete(data);
      }
    }
    lookupOrInsertNode(data) {
      const key = this._hashFn(data);
      let node = this._nodes.get(key);
      node || (node = new Node(key, data), this._nodes.set(key, node));
      return node;
    }
    isEmpty() {
      return this._nodes.size === 0;
    }
    toString() {
      const data = [];
      for (const [key, value] of this._nodes) {
        data.push(`${key}\n\t(-> incoming)[${[...value.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...value.outgoing.keys()].join()}]\n`);
      }
      return data.join("\n");
    }
    findCycleSlow() {
      for (const [id, node] of this._nodes) {
        var seen = new Set([id]);
        if (seen = this._findCycle(node, seen)) {
          return seen;
        }
      }
    }
    _findCycle(node, seen) {
      for (const [id, outgoing] of node.outgoing) {
        if (seen.has(id)) {
          return [...seen, id].join(" -\x3e ");
        }
        seen.add(id);
        if (node = this._findCycle(outgoing, seen)) {
          return node;
        }
        seen.delete(id);
      }
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$platform$instantiation$common$graph.js.map
