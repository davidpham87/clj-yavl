shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$services$languageService = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, LanguageService:{enumerable:!0, get:function() {
    return LanguageService;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event");
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle");
  var require$_DOT__SLASH_languagesRegistry_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$services$languagesRegistry"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$arrays"), require$_DOT__DOT__SLASH_languages_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$languages"), require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$editor$common$languages$modesRegistry");
  class LanguageService extends module.Disposable {
    constructor(warnOnOverwrite = !1) {
      super();
      this._onDidRequestBasicLanguageFeatures = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidRequestBasicLanguageFeatures = this._onDidRequestBasicLanguageFeatures.event;
      this._onDidRequestRichLanguageFeatures = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter());
      this.onDidRequestRichLanguageFeatures = this._onDidRequestRichLanguageFeatures.event;
      this._onDidChange = this._register(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter({leakWarningThreshold:200}));
      this.onDidChange = this._onDidChange.event;
      this._requestedBasicLanguages = new Set();
      this._requestedRichLanguages = new Set();
      LanguageService.instanceCount++;
      this._registry = this._register(new require$_DOT__SLASH_languagesRegistry_DOT_js.LanguagesRegistry(!0, warnOnOverwrite));
      this.languageIdCodec = this._registry.languageIdCodec;
      this._register(this._registry.onDidChange(() => this._onDidChange.fire()));
    }
    dispose() {
      LanguageService.instanceCount--;
      super.dispose();
    }
    isRegisteredLanguageId(languageId) {
      return this._registry.isRegisteredLanguageId(languageId);
    }
    getLanguageIdByLanguageName(languageName) {
      return this._registry.getLanguageIdByLanguageName(languageName);
    }
    getLanguageIdByMimeType(mimeType) {
      return this._registry.getLanguageIdByMimeType(mimeType);
    }
    guessLanguageIdByFilepathOrFirstLine(resource, firstLine) {
      resource = this._registry.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);
      return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.firstOrDefault)(resource, null);
    }
    createById(languageId) {
      return new LanguageSelection(this.onDidChange, () => this._createAndGetLanguageIdentifier(languageId));
    }
    createByFilepathOrFirstLine(resource, firstLine) {
      return new LanguageSelection(this.onDidChange, () => {
        const languageId = this.guessLanguageIdByFilepathOrFirstLine(resource, firstLine);
        return this._createAndGetLanguageIdentifier(languageId);
      });
    }
    _createAndGetLanguageIdentifier(languageId) {
      languageId && this.isRegisteredLanguageId(languageId) || (languageId = require$_DOT__DOT__SLASH_languages_SLASH_modesRegistry_DOT_js.PLAINTEXT_LANGUAGE_ID);
      return languageId;
    }
    requestBasicLanguageFeatures(languageId) {
      this._requestedBasicLanguages.has(languageId) || (this._requestedBasicLanguages.add(languageId), this._onDidRequestBasicLanguageFeatures.fire(languageId));
    }
    requestRichLanguageFeatures(languageId) {
      this._requestedRichLanguages.has(languageId) || (this._requestedRichLanguages.add(languageId), this.requestBasicLanguageFeatures(languageId), require$_DOT__DOT__SLASH_languages_DOT_js.TokenizationRegistry.getOrCreate(languageId), this._onDidRequestRichLanguageFeatures.fire(languageId));
    }
  }
  LanguageService.instanceCount = 0;
  class LanguageSelection {
    constructor(_onDidChangeLanguages, _selector) {
      this._onDidChangeLanguages = _onDidChangeLanguages;
      this._selector = _selector;
      this._emitter = this._listener = null;
      this.languageId = this._selector();
    }
    _dispose() {
      this._listener && (this._listener.dispose(), this._listener = null);
      this._emitter && (this._emitter.dispose(), this._emitter = null);
    }
    get onDidChange() {
      this._listener || (this._listener = this._onDidChangeLanguages(() => this._evaluate()));
      this._emitter || (this._emitter = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter({onDidRemoveLastListener:() => {
        this._dispose();
      }}));
      return this._emitter.event;
    }
    _evaluate() {
      var _a;
      const languageId = this._selector();
      languageId !== this.languageId && (this.languageId = languageId, (_a = this._emitter) === null || _a === void 0 || _a.fire(this.languageId));
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$services$languageService.js.map
