{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$cursor$cursorCollection.js",
"lineCount":136,
"mappings":"AAAAA,cAAA,CAAA,8EAAA,GAAmG,QAAQ,CAACC,OAAD,EAASC,MAAT,EAAgBC,OAAhB,CAAyB;AACpIC,QAAOC,CAAAA,gBAAP,CAAwBF,OAAxB,EAAiC,CAACG,WAAW,CAACC,WAAW,CAAA,CAAZ,EAAkBC,MAAM,CAAA,CAAxB,CAAZ,EAA2CC,iBAAiB,CAACF,WAAW,CAAA,CAAZ,EAAkBG,IAAIA,QAAQ,EAAG;AAC5H,WAAOD,gBAAP;AAD4H,GAAjC,CAA5D,CAAjC,CAAA;AAGA,MAAIE,mGAAmGV,OAAA,CAAQ,6DAAR,CAAvG,EACIW,uGAAuGX,OAAA,CAAQ,iEAAR,CAD3G,EAEIY,+CAA+CZ,OAAA,CAAQ,qEAAR,CAFnD,EAGIa;AAAuCb,SAAA,CAAQ,yEAAR,CAH3C,EAIIc,sDAAsDd,OAAA,CAAQ,sEAAR,CAJ1D,EAKIe,mDAAmDf,OAAA,CAAQ,mEAAR,CALvD,EAMIgB,uDAAuDhB,OAAA,CAAQ,uEAAR,CAN3D;AAOA,OAAMQ,iBAAN;AACES,eAAW,CAACC,OAAD,CAAU;AACnB,UAAKA,CAAAA,OAAL,GAAeA,OAAf;AACA,UAAKC,CAAAA,OAAL,GAAe,CAAC,IAAIN,oCAAqCO,CAAAA,MAAzC,CAAgDF,OAAhD,CAAD,CAAf;AACA,UAAKG,CAAAA,oBAAL,GAA4B,CAA5B;AAHmB;AAKrBC,WAAO,EAAG;AACR,WAAK,MAAMC,MAAX,IAAqB,IAAKJ,CAAAA,OAA1B;AACEI,cAAOD,CAAAA,OAAP,CAAe,IAAKJ,CAAAA,OAApB,CAAA;AADF;AADQ;AAKVM,2BAAuB,EAAG;AACxB,WAAK,MAAMD,MAAX,IAAqB,IAAKJ,CAAAA,OAA1B;AACEI,cAAOE,CAAAA,sBAAP,CAA8B,IAAKP,CAAAA,OAAnC,CAAA;AADF;AADwB;AAK1BQ,0BAAsB,EAAG;AACvB,WAAK,MAAMH,MAAX,IAAqB,IAAKJ,CAAAA,OAA1B;AACEI,cAAOI,CAAAA,qBAAP,CAA6B,IAAKT,CAAAA,OAAlC,CAAA;AADF;AADuB;AAKzBU,iBAAa,CAACV,OAAD,CAAU;AACrB,UAAKA,CAAAA,OAAL,GAAeA,OAAf;AADqB;AAGvBW,oBAAgB,EAAG;AACjB,WAAK,MAAMN,MAAX,IAAqB,IAAKJ,CAAAA,OAA1B;AACEI,cAAOM,CAAAA,gBAAP,CAAwB,IAAKX,CAAAA,OAA7B,CAAA;AADF;AADiB;AAKnBY,4BAAwB,EAAG;AACzB,aAAO,IAAKX,CAAAA,OAAQY,CAAAA,GAAb,CAAiBC,CAAA,IAAKA,CAAEF,CAAAA,wBAAF,CAA2B,IAAKZ,CAAAA,OAAhC,CAAtB,CAAP;AADyB;AAG3Be,UAAM,EAAG;AACP,aAAO,IAAKd,CAAAA,OAAQY,CAAAA,GAAb,CAAiBC,CAAA,IAAKA,CAAEE,CAAAA,aAAF,EAAtB,CAAP;AADO;AAGTC,oBAAgB,EAAG;AACjB,aAAO,IAAKhB,CAAAA,OAAQY,CAAAA,GAAb,CAAiBC,CAAA,IAAKA,CAAEI,CAAAA,SAAUC,CAAAA,QAAlC,CAAP;AADiB;AAGnBC,0BAAsB,EAAG;AACvB,aAAO,GAAG3B,oGAAqG4B,CAAAA,cAAxG,EAAwH,IAAKpB,CAAAA,OAA7H,EAAsI,GAAGT,gGAAiG8B,CAAAA,SAApG,EAA+GR,CAAA,IAAKA,CAAEI,CAAAA,SAAUC,CAAAA,QAAhI,EAA0IvB,mDAAoD2B,CAAAA,QAASC,CAAAA,OAAvM,CAAtI,CAAuVN,CAAAA,SAAUC,CAAAA,QAAxW;AADuB;AAGzBM,6BAAyB,EAAG;AAC1B,aAAO,GAAGhC,oGAAqGiC,CAAAA,aAAxG,EAAuH,IAAKzB,CAAAA,OAA5H,EAAqI,GAAGT,gGAAiG8B,CAAAA,SAApG,EAA+GR,CAAA,IAAKA,CAAEI,CAAAA,SAAUC,CAAAA,QAAhI,EAA0IvB,mDAAoD2B,CAAAA,QAASC,CAAAA,OAAvM,CAArI,CAAsVN,CAAAA,SAAUC,CAAAA,QAAvW;AAD0B;AAG5BQ,iBAAa,EAAG;AACd,aAAO,IAAK1B,CAAAA,OAAQY,CAAAA,GAAb,CAAiBC,CAAA,IAAKA,CAAEc,CAAAA,UAAWC,CAAAA,SAAnC,CAAP;AADc;AAGhBC,qBAAiB,EAAG;AAClB,aAAO,IAAK7B,CAAAA,OAAQY,CAAAA,GAAb,CAAiBC,CAAA,IAAKA,CAAEI,CAAAA,SAAUW,CAAAA,SAAlC,CAAP;AADkB;AAGpBE,iBAAa,CAACC,UAAD,CAAa;AACxB,UAAKC,CAAAA,SAAL,CAAevC,4CAA6CwC,CAAAA,WAAYC,CAAAA,mBAAzD,CAA6EH,UAA7E,CAAf,CAAA;AADwB;AAG1BI,oBAAgB,EAAG;AACjB,aAAO,IAAKnC,CAAAA,OAAL,CAAa,CAAb,CAAgBe,CAAAA,aAAhB,EAAP;AADiB;AAGnBiB,aAAS,CAACI,MAAD,CAAS;AACZA,YAAJ,KAAe,IAAf,KAGA,IAAKpC,CAAAA,OAAL,CAAa,CAAb,CAAgBqC,CAAAA,QAAhB,CAAyB,IAAKtC,CAAAA,OAA9B,EAAuCqC,MAAA,CAAO,CAAP,CAAUT,CAAAA,UAAjD,EAA6DS,MAAA,CAAO,CAAP,CAAUnB,CAAAA,SAAvE,CACA,EAAA,IAAKqB,CAAAA,mBAAL,CAAyBF,MAAOG,CAAAA,KAAP,CAAa,CAAb,CAAzB,CAJA;AADgB;AAOlBD,uBAAmB,CAACE,eAAD,CAAkB;AACnC,UAAMC,yBAAyB,IAAKzC,CAAAA,OAAQ0C,CAAAA,MAAtCD,GAA+C,CAArD;AACA,YAAME,wBAAwBH,eAAgBE,CAAAA,MAA9C;AACA,UAAID,sBAAJ,GAA6BE,qBAA7B,CAAoD;AAC5CC,8BAAAA,GAAYD,qBAAZC,GAAoCH,sBAApCG;AACN,aAAK,IAAIC,IAAI,CAAb,EAAgBA,CAAhB,GAAoBD,sBAApB,EAA+BC,CAAA,EAA/B;AACE,cAAKC,CAAAA,mBAAL,EAAA;AADF;AAFkD,OAApD,KAKO,KAAIL,sBAAJ,GAA6BE,qBAA7B;AAEL,aADkBF,sBACTI,IADkCF,qBAClCE,EAAAA,CAAAA,GAAI,CAAb,EAAgBA,CAAhB,GAAoBE,sBAApB,EAA+BF,CAAA,EAA/B;AACE,cAAKG,CAAAA,sBAAL,CAA4B,IAAKhD,CAAAA,OAAQ0C,CAAAA,MAAzC,GAAkD,CAAlD,CAAA;AADF;AAFK;AAMP,WAASG,sBAAT,GAAa,CAAb,EAAgBA,sBAAhB,GAAoBF,qBAApB,EAA2CE,sBAAA,EAA3C;AACE,YAAK7C,CAAAA,OAAL,CAAa6C,sBAAb,GAAiB,CAAjB,CAAoBR,CAAAA,QAApB,CAA6B,IAAKtC,CAAAA,OAAlC,EAA2CyC,eAAA,CAAgBK,sBAAhB,CAAmBlB,CAAAA,UAA9D,EAA0Ea,eAAA,CAAgBK,sBAAhB,CAAmB5B,CAAAA,SAA7F,CAAA;AADF;AAdmC;AAkBrCgC,wBAAoB,EAAG;AACrB,UAAKX,CAAAA,mBAAL,CAAyB,EAAzB,CAAA;AADqB;AAGvBQ,uBAAmB,EAAG;AACpB,UAAK9C,CAAAA,OAAQkD,CAAAA,IAAb,CAAkB,IAAIxD,oCAAqCO,CAAAA,MAAzC,CAAgD,IAAKF,CAAAA,OAArD,CAAlB,CAAA;AACA,UAAKG,CAAAA,oBAAL,GAA4B,IAAKF,CAAAA,OAAQ0C,CAAAA,MAAzC,GAAkD,CAAlD;AAFoB;AAItBS,2BAAuB,EAAG;AACxB,aAAI,IAAKnD,CAAAA,OAAQ0C,CAAAA,MAAjB,KAA4B,CAA5B,IAAiC,IAAKxC,CAAAA,oBAAtC,KAA+D,CAA/D,GACS,CADT,GAGO,IAAKA,CAAAA,oBAHZ;AADwB;AAM1B8C,0BAAsB,CAACI,WAAD,CAAc;AAC9B,UAAKlD,CAAAA,oBAAT,IAAiCkD,WAAjC,GAA+C,CAA/C,IACE,IAAKlD,CAAAA,oBAAL,EADF;AAGA,UAAKF,CAAAA,OAAL,CAAaoD,WAAb,GAA2B,CAA3B,CAA8BjD,CAAAA,OAA9B,CAAsC,IAAKJ,CAAAA,OAA3C,CAAA;AACA,UAAKC,CAAAA,OAAQqD,CAAAA,MAAb,CAAoBD,WAApB,GAAkC,CAAlC,EAAqC,CAArC,CAAA;AALkC;AAOpCE,aAAS,EAAG;AACV,UAAI,IAAKtD,CAAAA,OAAQ0C,CAAAA,MAAjB,KAA4B,CAA5B,CAAA;AAGA,YAAM1C,UAAU,IAAKA,CAAAA,OAAQuC,CAAAA,KAAb,CAAmB,CAAnB,CAAhB,EACMgB,gBAAgB,EADtB;AAEA,aAAK,IAAIV,IAAI,CAAR,EAAWW,MAAMxD,OAAQ0C,CAAAA,MAA9B,EAAsCG,CAAtC,GAA0CW,GAA1C,EAA+CX,CAAA,EAA/C;AACEU,uBAAcL,CAAAA,IAAd,CAAmB,CAACO,MAAMZ,CAAP,EAAUjB,UAAU5B,OAAA,CAAQ6C,CAAR,CAAWlB,CAAAA,UAAWC,CAAAA,SAA1C,CAAnB,CAAA;AADF;AAGA2B,qBAAcG,CAAAA,IAAd,CAAmB,GAAGnE,gGAAiG8B,CAAAA,SAApG,EAA+GsC,CAAA,IAAKA,CAAE/B,CAAAA,SAAtH,EAAiIhC,gDAAiDgE,CAAAA,KAAMC,CAAAA,wBAAxL,CAAnB,CAAA;AACA,aAAK,IAAIC,oBAAoB,CAA7B,EAAgCA,iBAAhC,GAAoDP,aAAcb,CAAAA,MAAlE,GAA2E,CAA3E,EAA8EoB,iBAAA,EAA9E,CAAmG;AACjG,cAAMC,UAAUR,aAAA,CAAcO,iBAAd,CAAhB,EACME,OAAOT,aAAA,CAAcO,iBAAd,GAAkC,CAAlC,CADb,EAEMG,mBAAmBF,OAAQnC,CAAAA,SAFjC,EAGMsC,gBAAgBF,IAAKpC,CAAAA,SAH3B;AAIA,cAAK,IAAK7B,CAAAA,OAAQoE,CAAAA,YAAaC,CAAAA,2BAA/B,KAIIF,aAAcG,CAAAA,OAAd,EAAJC,IAA+BL,gBAAiBI,CAAAA,OAAjB,EAA/BC,GACuBJ,aAAcK,CAAAA,gBAAd,EAAiCC,CAAAA,eAAjC,CAAiDP,gBAAiBQ,CAAAA,cAAjB,EAAjD,CADvBH,GAGuBJ,aAAcK,CAAAA,gBAAd,EAAiCG,CAAAA,QAAjC,CAA0CT,gBAAiBQ,CAAAA,cAAjB,EAA1C,CAPvB,EASwB;AAChBE,4BAAAA,GAA0BZ,OAAQN,CAAAA,KAAR,GAAgBO,IAAKP,CAAAA,KAArB,GAA6BK,iBAA7B,GAAiDA,iBAAjD,GAAqE,CAA/Fa;AACAC,mBAAAA,GAA0Bb,OAAQN,CAAAA,KAAR,GAAgBO,IAAKP,CAAAA,KAArB,GAA6BK,iBAA7B,GAAiD,CAAjD,GAAqDA,iBAA/Ec;AACAC,gBAAAA,GAActB,aAAA,CAAcqB,OAAd,CAAuCnB,CAAAA,KAArDoB;AACAC,yBAAAA,GAAcvB,aAAA,CAAcoB,gBAAd,CAAuClB,CAAAA,KAArDqB;AACN,gBAAMC,kBAAkBxB,aAAA,CAAcqB,OAAd,CAAuChD,CAAAA,SAA/D,EACMoD,kBAAkBzB,aAAA,CAAcoB,gBAAd,CAAuC/C,CAAAA,SAD/D;AAEA,gBAAI,CAACmD,eAAgBE,CAAAA,eAAhB,CAAgCD,eAAhC,CAAL,CAAuD;AACrD,kBAAME,iBAAiBH,eAAgBI,CAAAA,SAAhB,CAA0BH,eAA1B,CAAvB;AACMI,6BAAAA,GAAuBL,eAAgBM,CAAAA,wBAAvCD,KAAoEL,eAAgBO,CAAAA,eAApFF,IAAuGL,eAAgBQ,CAAAA,oBAAvHH,KAAgJL,eAAgBS,CAAAA,WAAhKJ;AACAK,6BAAAA,GAAuBT,eAAgBK,CAAAA,wBAAvCI,KAAoET,eAAgBM,CAAAA,eAApFG,IAAuGT,eAAgBO,CAAAA,oBAAvHE,KAAgJT,eAAgBQ,CAAAA,WAAhKC;AAEFZ,kBAAJ,KAAoB,IAAK3E,CAAAA,oBAAzB,KACEwF,eACA,GAD0BN,eAC1B,EAAA,IAAKlF,CAAAA,oBAAL,GAA4B4E,aAF9B;AAQEa,4BAAA,GADED,eAAJ,GACuB,IAAI7F,oDAAqD+F,CAAAA,SAAzD,CAAmEV,cAAeI,CAAAA,eAAlF,EAAmGJ,cAAeM,CAAAA,WAAlH,EAA+HN,cAAeW,CAAAA,aAA9I,EAA6JX,cAAeY,CAAAA,SAA5K,CADvB,GAGuB,IAAIjG,oDAAqD+F,CAAAA,SAAzD,CAAmEV,cAAeW,CAAAA,aAAlF,EAAiGX,cAAeY,CAAAA,SAAhH,EAA2HZ,cAAeI,CAAAA,eAA1I,EAA2JJ,cAAeM,CAAAA,WAA1K,CAFrB;AAIFjC,2BAAA,CAAcoB,gBAAd,CAAuC/C,CAAAA,SAAvC,GAAmD+D,cAAnD;AACMI,8BAAAA,GAAiBtG,4CAA6CwC,CAAAA,WAAY+D,CAAAA,kBAAzD,CAA4EL,cAA5E,CAAjBI;AACN/F,qBAAA,CAAQ8E,aAAR,CAAqBzC,CAAAA,QAArB,CAA8B,IAAKtC,CAAAA,OAAnC,EAA4CgG,gBAAepE,CAAAA,UAA3D,EAAuEoE,gBAAe9E,CAAAA,SAAtF,CAAA;AAnBqD;AAqBvD,iBAAK,MAAMgF,YAAX,IAA2B1C,aAA3B;AACM0C,0BAAaxC,CAAAA,KAAjB,GAAyBoB,IAAzB,IACEoB,YAAaxC,CAAAA,KAAb,EADF;AADF;AAKAzD,mBAAQqD,CAAAA,MAAR,CAAewB,IAAf,EAA4B,CAA5B,CAAA;AACAtB,yBAAcF,CAAAA,MAAd,CAAqBuB,OAArB,EAA8C,CAA9C,CAAA;AACA,gBAAK5B,CAAAA,sBAAL,CAA4B6B,IAA5B,GAA0C,CAA1C,CAAA;AACAf,6BAAA,EAAA;AApCsB;AAdyE;AATnG;AADU;AArGd;AAXoI,CAApI;;",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/cursor/cursorCollection.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$cursor$cursorCollection\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, CursorCollection:{enumerable:true, get:function() {\n  return CursorCollection;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require(\"../../../base/common/arrays.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arraysFind_DOT_js = require(\"../../../base/common/arraysFind.js\");\nvar require$_DOT__DOT__SLASH_cursorCommon_DOT_js = require(\"../cursorCommon.js\");\nvar require$_DOT__SLASH_oneCursor_DOT_js = require(\"./oneCursor.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js = require(\"../core/position.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js = require(\"../core/range.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_selection_DOT_js = require(\"../core/selection.js\");\nclass CursorCollection {\n  constructor(context) {\n    this.context = context;\n    this.cursors = [new require$_DOT__SLASH_oneCursor_DOT_js.Cursor(context)];\n    this.lastAddedCursorIndex = 0;\n  }\n  dispose() {\n    for (const cursor of this.cursors) {\n      cursor.dispose(this.context);\n    }\n  }\n  startTrackingSelections() {\n    for (const cursor of this.cursors) {\n      cursor.startTrackingSelection(this.context);\n    }\n  }\n  stopTrackingSelections() {\n    for (const cursor of this.cursors) {\n      cursor.stopTrackingSelection(this.context);\n    }\n  }\n  updateContext(context) {\n    this.context = context;\n  }\n  ensureValidState() {\n    for (const cursor of this.cursors) {\n      cursor.ensureValidState(this.context);\n    }\n  }\n  readSelectionFromMarkers() {\n    return this.cursors.map(c => c.readSelectionFromMarkers(this.context));\n  }\n  getAll() {\n    return this.cursors.map(c => c.asCursorState());\n  }\n  getViewPositions() {\n    return this.cursors.map(c => c.viewState.position);\n  }\n  getTopMostViewPosition() {\n    return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arraysFind_DOT_js.findFirstMinBy)(this.cursors, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.compareBy)(c => c.viewState.position, require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position.compare)).viewState.position;\n  }\n  getBottomMostViewPosition() {\n    return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arraysFind_DOT_js.findLastMaxBy)(this.cursors, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.compareBy)(c => c.viewState.position, require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position.compare)).viewState.position;\n  }\n  getSelections() {\n    return this.cursors.map(c => c.modelState.selection);\n  }\n  getViewSelections() {\n    return this.cursors.map(c => c.viewState.selection);\n  }\n  setSelections(selections) {\n    this.setStates(require$_DOT__DOT__SLASH_cursorCommon_DOT_js.CursorState.fromModelSelections(selections));\n  }\n  getPrimaryCursor() {\n    return this.cursors[0].asCursorState();\n  }\n  setStates(states) {\n    if (states === null) {\n      return;\n    }\n    this.cursors[0].setState(this.context, states[0].modelState, states[0].viewState);\n    this._setSecondaryStates(states.slice(1));\n  }\n  _setSecondaryStates(secondaryStates) {\n    const secondaryCursorsLength = this.cursors.length - 1;\n    const secondaryStatesLength = secondaryStates.length;\n    if (secondaryCursorsLength < secondaryStatesLength) {\n      const createCnt = secondaryStatesLength - secondaryCursorsLength;\n      for (let i = 0; i < createCnt; i++) {\n        this._addSecondaryCursor();\n      }\n    } else if (secondaryCursorsLength > secondaryStatesLength) {\n      const removeCnt = secondaryCursorsLength - secondaryStatesLength;\n      for (let i = 0; i < removeCnt; i++) {\n        this._removeSecondaryCursor(this.cursors.length - 2);\n      }\n    }\n    for (let i = 0; i < secondaryStatesLength; i++) {\n      this.cursors[i + 1].setState(this.context, secondaryStates[i].modelState, secondaryStates[i].viewState);\n    }\n  }\n  killSecondaryCursors() {\n    this._setSecondaryStates([]);\n  }\n  _addSecondaryCursor() {\n    this.cursors.push(new require$_DOT__SLASH_oneCursor_DOT_js.Cursor(this.context));\n    this.lastAddedCursorIndex = this.cursors.length - 1;\n  }\n  getLastAddedCursorIndex() {\n    if (this.cursors.length === 1 || this.lastAddedCursorIndex === 0) {\n      return 0;\n    }\n    return this.lastAddedCursorIndex;\n  }\n  _removeSecondaryCursor(removeIndex) {\n    if (this.lastAddedCursorIndex >= removeIndex + 1) {\n      this.lastAddedCursorIndex--;\n    }\n    this.cursors[removeIndex + 1].dispose(this.context);\n    this.cursors.splice(removeIndex + 1, 1);\n  }\n  normalize() {\n    if (this.cursors.length === 1) {\n      return;\n    }\n    const cursors = this.cursors.slice(0);\n    const sortedCursors = [];\n    for (let i = 0, len = cursors.length; i < len; i++) {\n      sortedCursors.push({index:i, selection:cursors[i].modelState.selection,});\n    }\n    sortedCursors.sort((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.compareBy)(s => s.selection, require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range.compareRangesUsingStarts));\n    for (let sortedCursorIndex = 0; sortedCursorIndex < sortedCursors.length - 1; sortedCursorIndex++) {\n      const current = sortedCursors[sortedCursorIndex];\n      const next = sortedCursors[sortedCursorIndex + 1];\n      const currentSelection = current.selection;\n      const nextSelection = next.selection;\n      if (!this.context.cursorConfig.multiCursorMergeOverlapping) {\n        continue;\n      }\n      let shouldMergeCursors;\n      if (nextSelection.isEmpty() || currentSelection.isEmpty()) {\n        shouldMergeCursors = nextSelection.getStartPosition().isBeforeOrEqual(currentSelection.getEndPosition());\n      } else {\n        shouldMergeCursors = nextSelection.getStartPosition().isBefore(currentSelection.getEndPosition());\n      }\n      if (shouldMergeCursors) {\n        const winnerSortedCursorIndex = current.index < next.index ? sortedCursorIndex : sortedCursorIndex + 1;\n        const looserSortedCursorIndex = current.index < next.index ? sortedCursorIndex + 1 : sortedCursorIndex;\n        const looserIndex = sortedCursors[looserSortedCursorIndex].index;\n        const winnerIndex = sortedCursors[winnerSortedCursorIndex].index;\n        const looserSelection = sortedCursors[looserSortedCursorIndex].selection;\n        const winnerSelection = sortedCursors[winnerSortedCursorIndex].selection;\n        if (!looserSelection.equalsSelection(winnerSelection)) {\n          const resultingRange = looserSelection.plusRange(winnerSelection);\n          const looserSelectionIsLTR = looserSelection.selectionStartLineNumber === looserSelection.startLineNumber && looserSelection.selectionStartColumn === looserSelection.startColumn;\n          const winnerSelectionIsLTR = winnerSelection.selectionStartLineNumber === winnerSelection.startLineNumber && winnerSelection.selectionStartColumn === winnerSelection.startColumn;\n          let resultingSelectionIsLTR;\n          if (looserIndex === this.lastAddedCursorIndex) {\n            resultingSelectionIsLTR = looserSelectionIsLTR;\n            this.lastAddedCursorIndex = winnerIndex;\n          } else {\n            resultingSelectionIsLTR = winnerSelectionIsLTR;\n          }\n          let resultingSelection;\n          if (resultingSelectionIsLTR) {\n            resultingSelection = new require$_DOT__DOT__SLASH_core_SLASH_selection_DOT_js.Selection(resultingRange.startLineNumber, resultingRange.startColumn, resultingRange.endLineNumber, resultingRange.endColumn);\n          } else {\n            resultingSelection = new require$_DOT__DOT__SLASH_core_SLASH_selection_DOT_js.Selection(resultingRange.endLineNumber, resultingRange.endColumn, resultingRange.startLineNumber, resultingRange.startColumn);\n          }\n          sortedCursors[winnerSortedCursorIndex].selection = resultingSelection;\n          const resultingState = require$_DOT__DOT__SLASH_cursorCommon_DOT_js.CursorState.fromModelSelection(resultingSelection);\n          cursors[winnerIndex].setState(this.context, resultingState.modelState, resultingState.viewState);\n        }\n        for (const sortedCursor of sortedCursors) {\n          if (sortedCursor.index > looserIndex) {\n            sortedCursor.index--;\n          }\n        }\n        cursors.splice(looserIndex, 1);\n        sortedCursors.splice(looserSortedCursorIndex, 1);\n        this._removeSecondaryCursor(looserIndex - 1);\n        sortedCursorIndex--;\n      }\n    }\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","CursorCollection","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arraysFind_DOT_js","require$_DOT__DOT__SLASH_cursorCommon_DOT_js","require$_DOT__SLASH_oneCursor_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_selection_DOT_js","constructor","context","cursors","Cursor","lastAddedCursorIndex","dispose","cursor","startTrackingSelections","startTrackingSelection","stopTrackingSelections","stopTrackingSelection","updateContext","ensureValidState","readSelectionFromMarkers","map","c","getAll","asCursorState","getViewPositions","viewState","position","getTopMostViewPosition","findFirstMinBy","compareBy","Position","compare","getBottomMostViewPosition","findLastMaxBy","getSelections","modelState","selection","getViewSelections","setSelections","selections","setStates","CursorState","fromModelSelections","getPrimaryCursor","states","setState","_setSecondaryStates","slice","secondaryStates","secondaryCursorsLength","length","secondaryStatesLength","createCnt","i","_addSecondaryCursor","removeCnt","_removeSecondaryCursor","killSecondaryCursors","push","getLastAddedCursorIndex","removeIndex","splice","normalize","sortedCursors","len","index","sort","s","Range","compareRangesUsingStarts","sortedCursorIndex","current","next","currentSelection","nextSelection","cursorConfig","multiCursorMergeOverlapping","isEmpty","shouldMergeCursors","getStartPosition","isBeforeOrEqual","getEndPosition","isBefore","winnerSortedCursorIndex","looserSortedCursorIndex","looserIndex","winnerIndex","looserSelection","winnerSelection","equalsSelection","resultingRange","plusRange","looserSelectionIsLTR","selectionStartLineNumber","startLineNumber","selectionStartColumn","startColumn","winnerSelectionIsLTR","resultingSelectionIsLTR","resultingSelection","Selection","endLineNumber","endColumn","resultingState","fromModelSelection","sortedCursor"]
}
