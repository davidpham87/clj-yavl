{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$platform$actions$common$menuService.js",
"lineCount":258,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/platform/actions/common/menuService.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$platform$actions$common$menuService\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, MenuService:{enumerable:true, get:function() {\n  return MenuService;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require(\"../../../base/common/async.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require(\"../../../base/common/event.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require(\"../../../base/common/lifecycle.js\");\nvar require$_DOT__SLASH_actions_DOT_js = require(\"./actions.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_commands_SLASH_common_SLASH_commands_DOT_js = require(\"../../commands/common/commands.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextkey_SLASH_common_SLASH_contextkey_DOT_js = require(\"../../contextkey/common/contextkey.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js = require(\"../../../base/common/actions.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_storage_SLASH_common_SLASH_storage_DOT_js = require(\"../../storage/common/storage.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require(\"../../../base/common/arrays.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js = require(\"../../../nls.js\");\nvar __decorate = this && this.__decorate || function(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") {\n    r = Reflect.decorate(decorators, target, key, desc);\n  } else {\n    for (var i = decorators.length - 1; i >= 0; i--) {\n      if (d = decorators[i]) {\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n      }\n    }\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar PersistedMenuHideState_1, MenuInfo_1;\nlet MenuService = class MenuService {\n  constructor(_commandService, storageService) {\n    this._commandService = _commandService;\n    this._hiddenStates = new PersistedMenuHideState(storageService);\n  }\n  createMenu(id, contextKeyService, options) {\n    return new MenuImpl(id, this._hiddenStates, {emitEventsForSubmenuChanges:false, eventDebounceDelay:50, ...options}, this._commandService, contextKeyService);\n  }\n  resetHiddenStates(ids) {\n    this._hiddenStates.reset(ids);\n  }\n};\nMenuService = __decorate([__param(0, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_commands_SLASH_common_SLASH_commands_DOT_js.ICommandService), __param(1, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_storage_SLASH_common_SLASH_storage_DOT_js.IStorageService)], MenuService);\nlet PersistedMenuHideState = PersistedMenuHideState_1 = class PersistedMenuHideState {\n  constructor(_storageService) {\n    this._storageService = _storageService;\n    this._disposables = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();\n    this._onDidChange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();\n    this.onDidChange = this._onDidChange.event;\n    this._ignoreChangeEvent = false;\n    this._hiddenByDefaultCache = new Map();\n    try {\n      const raw = _storageService.get(PersistedMenuHideState_1._key, 0, \"{}\");\n      this._data = JSON.parse(raw);\n    } catch (err) {\n      this._data = Object.create(null);\n    }\n    this._disposables.add(_storageService.onDidChangeValue(0, PersistedMenuHideState_1._key, this._disposables)(() => {\n      if (!this._ignoreChangeEvent) {\n        try {\n          const raw = _storageService.get(PersistedMenuHideState_1._key, 0, \"{}\");\n          this._data = JSON.parse(raw);\n        } catch (err) {\n          console.log(\"FAILED to read storage after UPDATE\", err);\n        }\n      }\n      this._onDidChange.fire();\n    }));\n  }\n  dispose() {\n    this._onDidChange.dispose();\n    this._disposables.dispose();\n  }\n  _isHiddenByDefault(menu, commandId) {\n    var _a;\n    return (_a = this._hiddenByDefaultCache.get(`${menu.id}/${commandId}`)) !== null && _a !== void 0 ? _a : false;\n  }\n  setDefaultState(menu, commandId, hidden) {\n    this._hiddenByDefaultCache.set(`${menu.id}/${commandId}`, hidden);\n  }\n  isHidden(menu, commandId) {\n    var _a, _b;\n    const hiddenByDefault = this._isHiddenByDefault(menu, commandId);\n    const state = (_b = (_a = this._data[menu.id]) === null || _a === void 0 ? void 0 : _a.includes(commandId)) !== null && _b !== void 0 ? _b : false;\n    return hiddenByDefault ? !state : state;\n  }\n  updateHidden(menu, commandId, hidden) {\n    const hiddenByDefault = this._isHiddenByDefault(menu, commandId);\n    if (hiddenByDefault) {\n      hidden = !hidden;\n    }\n    const entries = this._data[menu.id];\n    if (!hidden) {\n      if (entries) {\n        const idx = entries.indexOf(commandId);\n        if (idx >= 0) {\n          (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.removeFastWithoutKeepingOrder)(entries, idx);\n        }\n        if (entries.length === 0) {\n          delete this._data[menu.id];\n        }\n      }\n    } else {\n      if (!entries) {\n        this._data[menu.id] = [commandId];\n      } else {\n        const idx = entries.indexOf(commandId);\n        if (idx < 0) {\n          entries.push(commandId);\n        }\n      }\n    }\n    this._persist();\n  }\n  reset(menus) {\n    if (menus === undefined) {\n      this._data = Object.create(null);\n      this._persist();\n    } else {\n      for (const {id} of menus) {\n        if (this._data[id]) {\n          delete this._data[id];\n        }\n      }\n      this._persist();\n    }\n  }\n  _persist() {\n    try {\n      this._ignoreChangeEvent = true;\n      const raw = JSON.stringify(this._data);\n      this._storageService.store(PersistedMenuHideState_1._key, raw, 0, 0);\n    } finally {\n      this._ignoreChangeEvent = false;\n    }\n  }\n};\nPersistedMenuHideState._key = \"menu.hiddenCommands\";\nPersistedMenuHideState = PersistedMenuHideState_1 = __decorate([__param(0, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_storage_SLASH_common_SLASH_storage_DOT_js.IStorageService)], PersistedMenuHideState);\nlet MenuInfo = MenuInfo_1 = class MenuInfo {\n  constructor(_id, _hiddenStates, _collectContextKeysForSubmenus, _commandService, _contextKeyService) {\n    this._id = _id;\n    this._hiddenStates = _hiddenStates;\n    this._collectContextKeysForSubmenus = _collectContextKeysForSubmenus;\n    this._commandService = _commandService;\n    this._contextKeyService = _contextKeyService;\n    this._menuGroups = [];\n    this._structureContextKeys = new Set();\n    this._preconditionContextKeys = new Set();\n    this._toggledContextKeys = new Set();\n    this.refresh();\n  }\n  get structureContextKeys() {\n    return this._structureContextKeys;\n  }\n  get preconditionContextKeys() {\n    return this._preconditionContextKeys;\n  }\n  get toggledContextKeys() {\n    return this._toggledContextKeys;\n  }\n  refresh() {\n    this._menuGroups.length = 0;\n    this._structureContextKeys.clear();\n    this._preconditionContextKeys.clear();\n    this._toggledContextKeys.clear();\n    const menuItems = require$_DOT__SLASH_actions_DOT_js.MenuRegistry.getMenuItems(this._id);\n    let group;\n    menuItems.sort(MenuInfo_1._compareMenuItems);\n    for (const item of menuItems) {\n      const groupName = item.group || \"\";\n      if (!group || group[0] !== groupName) {\n        group = [groupName, []];\n        this._menuGroups.push(group);\n      }\n      group[1].push(item);\n      this._collectContextKeys(item);\n    }\n  }\n  _collectContextKeys(item) {\n    MenuInfo_1._fillInKbExprKeys(item.when, this._structureContextKeys);\n    if ((0,require$_DOT__SLASH_actions_DOT_js.isIMenuItem)(item)) {\n      if (item.command.precondition) {\n        MenuInfo_1._fillInKbExprKeys(item.command.precondition, this._preconditionContextKeys);\n      }\n      if (item.command.toggled) {\n        const toggledExpression = item.command.toggled.condition || item.command.toggled;\n        MenuInfo_1._fillInKbExprKeys(toggledExpression, this._toggledContextKeys);\n      }\n    } else if (this._collectContextKeysForSubmenus) {\n      require$_DOT__SLASH_actions_DOT_js.MenuRegistry.getMenuItems(item.submenu).forEach(this._collectContextKeys, this);\n    }\n  }\n  createActionGroups(options) {\n    const result = [];\n    for (const group of this._menuGroups) {\n      const [id, items] = group;\n      const activeActions = [];\n      for (const item of items) {\n        if (this._contextKeyService.contextMatchesRules(item.when)) {\n          const isMenuItem = (0,require$_DOT__SLASH_actions_DOT_js.isIMenuItem)(item);\n          if (isMenuItem) {\n            this._hiddenStates.setDefaultState(this._id, item.command.id, !!item.isHiddenByDefault);\n          }\n          const menuHide = createMenuHide(this._id, isMenuItem ? item.command : item, this._hiddenStates);\n          if (isMenuItem) {\n            activeActions.push(new require$_DOT__SLASH_actions_DOT_js.MenuItemAction(item.command, item.alt, options, menuHide, this._contextKeyService, this._commandService));\n          } else {\n            const groups = (new MenuInfo_1(item.submenu, this._hiddenStates, this._collectContextKeysForSubmenus, this._commandService, this._contextKeyService)).createActionGroups(options);\n            const submenuActions = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.Separator.join(...groups.map(g => g[1]));\n            if (submenuActions.length > 0) {\n              activeActions.push(new require$_DOT__SLASH_actions_DOT_js.SubmenuItemAction(item, menuHide, submenuActions));\n            }\n          }\n        }\n      }\n      if (activeActions.length > 0) {\n        result.push([id, activeActions]);\n      }\n    }\n    return result;\n  }\n  static _fillInKbExprKeys(exp, set) {\n    if (exp) {\n      for (const key of exp.keys()) {\n        set.add(key);\n      }\n    }\n  }\n  static _compareMenuItems(a, b) {\n    const aGroup = a.group;\n    const bGroup = b.group;\n    if (aGroup !== bGroup) {\n      if (!aGroup) {\n        return 1;\n      } else if (!bGroup) {\n        return -1;\n      }\n      if (aGroup === \"navigation\") {\n        return -1;\n      } else if (bGroup === \"navigation\") {\n        return 1;\n      }\n      const value = aGroup.localeCompare(bGroup);\n      if (value !== 0) {\n        return value;\n      }\n    }\n    const aPrio = a.order || 0;\n    const bPrio = b.order || 0;\n    if (aPrio < bPrio) {\n      return -1;\n    } else if (aPrio > bPrio) {\n      return 1;\n    }\n    return MenuInfo_1._compareTitles((0,require$_DOT__SLASH_actions_DOT_js.isIMenuItem)(a) ? a.command.title : a.title, (0,require$_DOT__SLASH_actions_DOT_js.isIMenuItem)(b) ? b.command.title : b.title);\n  }\n  static _compareTitles(a, b) {\n    const aStr = typeof a === \"string\" ? a : a.original;\n    const bStr = typeof b === \"string\" ? b : b.original;\n    return aStr.localeCompare(bStr);\n  }\n};\nMenuInfo = MenuInfo_1 = __decorate([__param(3, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_commands_SLASH_common_SLASH_commands_DOT_js.ICommandService), __param(4, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextkey_SLASH_common_SLASH_contextkey_DOT_js.IContextKeyService)], MenuInfo);\nlet MenuImpl = class MenuImpl {\n  constructor(id, hiddenStates, options, commandService, contextKeyService) {\n    this._disposables = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();\n    this._menuInfo = new MenuInfo(id, hiddenStates, options.emitEventsForSubmenuChanges, commandService, contextKeyService);\n    const rebuildMenuSoon = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.RunOnceScheduler(() => {\n      this._menuInfo.refresh();\n      this._onDidChange.fire({menu:this, isStructuralChange:true, isEnablementChange:true, isToggleChange:true});\n    }, options.eventDebounceDelay);\n    this._disposables.add(rebuildMenuSoon);\n    this._disposables.add(require$_DOT__SLASH_actions_DOT_js.MenuRegistry.onDidChangeMenu(e => {\n      if (e.has(id)) {\n        rebuildMenuSoon.schedule();\n      }\n    }));\n    const lazyListener = this._disposables.add(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore());\n    const merge = events => {\n      let isStructuralChange = false;\n      let isEnablementChange = false;\n      let isToggleChange = false;\n      for (const item of events) {\n        isStructuralChange = isStructuralChange || item.isStructuralChange;\n        isEnablementChange = isEnablementChange || item.isEnablementChange;\n        isToggleChange = isToggleChange || item.isToggleChange;\n        if (isStructuralChange && isEnablementChange && isToggleChange) {\n          break;\n        }\n      }\n      return {menu:this, isStructuralChange, isEnablementChange, isToggleChange};\n    };\n    const startLazyListener = () => {\n      lazyListener.add(contextKeyService.onDidChangeContext(e => {\n        const isStructuralChange = e.affectsSome(this._menuInfo.structureContextKeys);\n        const isEnablementChange = e.affectsSome(this._menuInfo.preconditionContextKeys);\n        const isToggleChange = e.affectsSome(this._menuInfo.toggledContextKeys);\n        if (isStructuralChange || isEnablementChange || isToggleChange) {\n          this._onDidChange.fire({menu:this, isStructuralChange, isEnablementChange, isToggleChange});\n        }\n      }));\n      lazyListener.add(hiddenStates.onDidChange(e => {\n        this._onDidChange.fire({menu:this, isStructuralChange:true, isEnablementChange:false, isToggleChange:false});\n      }));\n    };\n    this._onDidChange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.DebounceEmitter({onWillAddFirstListener:startLazyListener, onDidRemoveLastListener:lazyListener.clear.bind(lazyListener), delay:options.eventDebounceDelay, merge});\n    this.onDidChange = this._onDidChange.event;\n  }\n  getActions(options) {\n    return this._menuInfo.createActionGroups(options);\n  }\n  dispose() {\n    this._disposables.dispose();\n    this._onDidChange.dispose();\n  }\n};\nMenuImpl = __decorate([__param(3, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_commands_SLASH_common_SLASH_commands_DOT_js.ICommandService), __param(4, require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextkey_SLASH_common_SLASH_contextkey_DOT_js.IContextKeyService)], MenuImpl);\nfunction createMenuHide(menu, command, states) {\n  const id = (0,require$_DOT__SLASH_actions_DOT_js.isISubmenuItem)(command) ? command.submenu.id : command.id;\n  const title = typeof command.title === \"string\" ? command.title : command.title.value;\n  const hide = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.toAction)({id:`hide/${menu.id}/${id}`, label:(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)(\"hide.label\", \"Hide '{0}'\", title), run() {\n    states.updateHidden(menu, id, true);\n  }});\n  const toggle = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js.toAction)({id:`toggle/${menu.id}/${id}`, label:title, get checked() {\n    return !states.isHidden(menu, id);\n  }, run() {\n    states.updateHidden(menu, id, !!this.checked);\n  }});\n  return {hide, toggle, get isHidden() {\n    return !toggle.checked;\n  },};\n}\n\n};"],
"names":["shadow$provide","require","module","exports","createMenuHide","menu","command","states","id","require$_DOT__SLASH_actions_DOT_js","isISubmenuItem","submenu","title","value","hide","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_actions_DOT_js","toAction","label","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js","localize","run","updateHidden","toggle","checked","isHidden","Object","defineProperties","__esModule","enumerable","MenuService","get","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_commands_SLASH_common_SLASH_commands_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_contextkey_SLASH_common_SLASH_contextkey_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_storage_SLASH_common_SLASH_storage_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","PersistedMenuHideState_1","MenuInfo_1","constructor","_commandService","storageService","_hiddenStates","PersistedMenuHideState","createMenu","contextKeyService","options","MenuImpl","emitEventsForSubmenuChanges","eventDebounceDelay","resetHiddenStates","ids","reset","ICommandService","IStorageService","_storageService","_disposables","DisposableStore","_onDidChange","Emitter","onDidChange","event","_ignoreChangeEvent","_hiddenByDefaultCache","Map","raw","_key","_data","JSON","parse","err","create","add","onDidChangeValue","console","log","fire","dispose","_isHiddenByDefault","commandId","_a","setDefaultState","hidden","set","_b","hiddenByDefault","state","includes","entries","indexOf","idx","push","removeFastWithoutKeepingOrder","_persist","menus","undefined","stringify","store","MenuInfo","_id","_collectContextKeysForSubmenus","_contextKeyService","_menuGroups","_structureContextKeys","Set","_preconditionContextKeys","_toggledContextKeys","refresh","clear","menuItems","MenuRegistry","getMenuItems","group","sort","_compareMenuItems","item","groupName","_collectContextKeys","_fillInKbExprKeys","when","isIMenuItem","precondition","toggled","condition","forEach","createActionGroups","result","items","activeActions","contextMatchesRules","isMenuItem","isHiddenByDefault","menuHide","MenuItemAction","alt","groups","submenuActions","Separator","join","map","g","SubmenuItemAction","exp","keys","a","b","aGroup","bGroup","localeCompare","aPrio","order","bPrio","_compareTitles","aStr","original","bStr","IContextKeyService","hiddenStates","commandService","_menuInfo","rebuildMenuSoon","RunOnceScheduler","isStructuralChange","isEnablementChange","isToggleChange","onDidChangeMenu","e","has","schedule","lazyListener","DebounceEmitter","onWillAddFirstListener","startLazyListener","onDidChangeContext","affectsSome","structureContextKeys","preconditionContextKeys","toggledContextKeys","onDidRemoveLastListener","bind","delay","merge","events","getActions"]
}
