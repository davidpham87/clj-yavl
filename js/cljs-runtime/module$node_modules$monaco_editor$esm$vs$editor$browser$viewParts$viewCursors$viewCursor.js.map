{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$viewCursors$viewCursor.js",
"lineCount":130,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/browser/viewParts/viewCursors/viewCursor.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$browser$viewParts$viewCursors$viewCursor\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, ViewCursor:{enumerable:true, get:function() {\n  return ViewCursor;\n}}});\nvar dom = require(\"../../../../base/browser/dom.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js = require(\"../../../../base/browser/fastDomNode.js\");\nvar strings = require(\"../../../../base/common/strings.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js = require(\"../../config/domFontInfo.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js = require(\"../../../common/config/editorOptions.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js = require(\"../../../common/core/position.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js = require(\"../../../common/core/range.js\");\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_mouseCursor_SLASH_mouseCursor_DOT_js = require(\"../../../../base/browser/ui/mouseCursor/mouseCursor.js\");\nclass ViewCursorRenderData {\n  constructor(top, left, paddingLeft, width, height, textContent, textContentClassName) {\n    this.top = top;\n    this.left = left;\n    this.paddingLeft = paddingLeft;\n    this.width = width;\n    this.height = height;\n    this.textContent = textContent;\n    this.textContentClassName = textContentClassName;\n  }\n}\nclass ViewCursor {\n  constructor(context) {\n    this._context = context;\n    const options = this._context.configuration.options;\n    const fontInfo = options.get(50);\n    this._cursorStyle = options.get(28);\n    this._lineHeight = options.get(66);\n    this._typicalHalfwidthCharacterWidth = fontInfo.typicalHalfwidthCharacterWidth;\n    this._lineCursorWidth = Math.min(options.get(31), this._typicalHalfwidthCharacterWidth);\n    this._isVisible = true;\n    this._domNode = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js.createFastDomNode)(document.createElement(\"div\"));\n    this._domNode.setClassName(`cursor ${require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_mouseCursor_SLASH_mouseCursor_DOT_js.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`);\n    this._domNode.setHeight(this._lineHeight);\n    this._domNode.setTop(0);\n    this._domNode.setLeft(0);\n    (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js.applyFontInfo)(this._domNode, fontInfo);\n    this._domNode.setDisplay(\"none\");\n    this._position = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(1, 1);\n    this._lastRenderedContent = \"\";\n    this._renderData = null;\n  }\n  getDomNode() {\n    return this._domNode;\n  }\n  getPosition() {\n    return this._position;\n  }\n  show() {\n    if (!this._isVisible) {\n      this._domNode.setVisibility(\"inherit\");\n      this._isVisible = true;\n    }\n  }\n  hide() {\n    if (this._isVisible) {\n      this._domNode.setVisibility(\"hidden\");\n      this._isVisible = false;\n    }\n  }\n  onConfigurationChanged(e) {\n    const options = this._context.configuration.options;\n    const fontInfo = options.get(50);\n    this._cursorStyle = options.get(28);\n    this._lineHeight = options.get(66);\n    this._typicalHalfwidthCharacterWidth = fontInfo.typicalHalfwidthCharacterWidth;\n    this._lineCursorWidth = Math.min(options.get(31), this._typicalHalfwidthCharacterWidth);\n    (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js.applyFontInfo)(this._domNode, fontInfo);\n    return true;\n  }\n  onCursorPositionChanged(position, pauseAnimation) {\n    if (pauseAnimation) {\n      this._domNode.domNode.style.transitionProperty = \"none\";\n    } else {\n      this._domNode.domNode.style.transitionProperty = \"\";\n    }\n    this._position = position;\n    return true;\n  }\n  _getGraphemeAwarePosition() {\n    const {lineNumber, column} = this._position;\n    const lineContent = this._context.viewModel.getLineContent(lineNumber);\n    const [startOffset, endOffset] = strings.getCharContainingOffset(lineContent, column - 1);\n    return [new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js.Position(lineNumber, startOffset + 1), lineContent.substring(startOffset, endOffset)];\n  }\n  _prepareRender(ctx) {\n    let textContent = \"\";\n    let textContentClassName = \"\";\n    const [position, nextGrapheme] = this._getGraphemeAwarePosition();\n    if (this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Line || this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.LineThin) {\n      const visibleRange = ctx.visibleRangeForPosition(position);\n      if (!visibleRange || visibleRange.outsideRenderedLine) {\n        return null;\n      }\n      const window = dom.getWindow(this._domNode.domNode);\n      let width;\n      if (this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Line) {\n        width = dom.computeScreenAwareSize(window, this._lineCursorWidth > 0 ? this._lineCursorWidth : 2);\n        if (width > 2) {\n          textContent = nextGrapheme;\n          textContentClassName = this._getTokenClassName(position);\n        }\n      } else {\n        width = dom.computeScreenAwareSize(window, 1);\n      }\n      let left = visibleRange.left;\n      let paddingLeft = 0;\n      if (width >= 2 && left >= 1) {\n        paddingLeft = 1;\n        left -= paddingLeft;\n      }\n      const top = ctx.getVerticalOffsetForLineNumber(position.lineNumber) - ctx.bigNumbersDelta;\n      return new ViewCursorRenderData(top, left, paddingLeft, width, this._lineHeight, textContent, textContentClassName);\n    }\n    const visibleRangeForCharacter = ctx.linesVisibleRangesForRange(new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js.Range(position.lineNumber, position.column, position.lineNumber, position.column + nextGrapheme.length), false);\n    if (!visibleRangeForCharacter || visibleRangeForCharacter.length === 0) {\n      return null;\n    }\n    const firstVisibleRangeForCharacter = visibleRangeForCharacter[0];\n    if (firstVisibleRangeForCharacter.outsideRenderedLine || firstVisibleRangeForCharacter.ranges.length === 0) {\n      return null;\n    }\n    const range = firstVisibleRangeForCharacter.ranges[0];\n    const width = nextGrapheme === \"\\t\" ? this._typicalHalfwidthCharacterWidth : range.width < 1 ? this._typicalHalfwidthCharacterWidth : range.width;\n    if (this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Block) {\n      textContent = nextGrapheme;\n      textContentClassName = this._getTokenClassName(position);\n    }\n    let top = ctx.getVerticalOffsetForLineNumber(position.lineNumber) - ctx.bigNumbersDelta;\n    let height = this._lineHeight;\n    if (this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.Underline || this._cursorStyle === require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js.TextEditorCursorStyle.UnderlineThin) {\n      top += this._lineHeight - 2;\n      height = 2;\n    }\n    return new ViewCursorRenderData(top, range.left, 0, width, height, textContent, textContentClassName);\n  }\n  _getTokenClassName(position) {\n    const lineData = this._context.viewModel.getViewLineData(position.lineNumber);\n    const tokenIndex = lineData.tokens.findTokenIndexAtOffset(position.column - 1);\n    return lineData.tokens.getClassName(tokenIndex);\n  }\n  prepareRender(ctx) {\n    this._renderData = this._prepareRender(ctx);\n  }\n  render(ctx) {\n    if (!this._renderData) {\n      this._domNode.setDisplay(\"none\");\n      return null;\n    }\n    if (this._lastRenderedContent !== this._renderData.textContent) {\n      this._lastRenderedContent = this._renderData.textContent;\n      this._domNode.domNode.textContent = this._lastRenderedContent;\n    }\n    this._domNode.setClassName(`cursor ${require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_mouseCursor_SLASH_mouseCursor_DOT_js.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`);\n    this._domNode.setDisplay(\"block\");\n    this._domNode.setTop(this._renderData.top);\n    this._domNode.setLeft(this._renderData.left);\n    this._domNode.setPaddingLeft(this._renderData.paddingLeft);\n    this._domNode.setWidth(this._renderData.width);\n    this._domNode.setLineHeight(this._renderData.height);\n    this._domNode.setHeight(this._renderData.height);\n    return {domNode:this._domNode.domNode, position:this._position, contentLeft:this._renderData.left, height:this._renderData.height, width:2};\n  }\n}\n\n};"],
"names":["shadow$provide","require","module","exports","Object","defineProperties","__esModule","enumerable","value","ViewCursor","get","dom","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_fastDomNode_DOT_js","strings","require$_DOT__DOT__SLASH__DOT__DOT__SLASH_config_SLASH_domFontInfo_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_config_SLASH_editorOptions_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_position_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_common_SLASH_core_SLASH_range_DOT_js","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_mouseCursor_SLASH_mouseCursor_DOT_js","ViewCursorRenderData","constructor","top","left","paddingLeft","width","height","textContent","textContentClassName","context","_context","options","configuration","fontInfo","_cursorStyle","_lineHeight","_typicalHalfwidthCharacterWidth","typicalHalfwidthCharacterWidth","_lineCursorWidth","Math","min","_isVisible","_domNode","createFastDomNode","document","createElement","setClassName","MOUSE_CURSOR_TEXT_CSS_CLASS_NAME","setHeight","setTop","setLeft","applyFontInfo","setDisplay","_position","Position","_lastRenderedContent","_renderData","getDomNode","getPosition","show","setVisibility","hide","onConfigurationChanged","e","onCursorPositionChanged","position","pauseAnimation","domNode","style","transitionProperty","_getGraphemeAwarePosition","lineNumber","column","lineContent","viewModel","getLineContent","startOffset","endOffset","getCharContainingOffset","substring","_prepareRender","ctx","nextGrapheme","TextEditorCursorStyle","Line","LineThin","visibleRange","visibleRangeForPosition","outsideRenderedLine","window","getWindow","computeScreenAwareSize","_getTokenClassName","getVerticalOffsetForLineNumber","bigNumbersDelta","visibleRangeForCharacter","linesVisibleRangesForRange","Range","length","firstVisibleRangeForCharacter","ranges","range","Block","Underline","UnderlineThin","lineData","getViewLineData","tokenIndex","tokens","findTokenIndexAtOffset","getClassName","prepareRender","render","setPaddingLeft","setWidth","setLineHeight","contentLeft"]
}
