{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$editor$common$cursor$cursorTypeOperations.js",
"lineCount":565,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/editor/common/cursor/cursorTypeOperations.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$editor$common$cursor$cursorTypeOperations\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, CompositionOutcome:{enumerable:true, get:function() {\n  return CompositionOutcome;\n}}, TypeOperations:{enumerable:true, get:function() {\n  return TypeOperations;\n}}, TypeWithAutoClosingCommand:{enumerable:true, get:function() {\n  return TypeWithAutoClosingCommand;\n}}});\nvar require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js = require(\"../../../base/common/errors.js\");\nvar strings = require(\"../../../base/common/strings.js\");\nvar require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js = require(\"../commands/replaceCommand.js\");\nvar require$_DOT__DOT__SLASH_commands_SLASH_shiftCommand_DOT_js = require(\"../commands/shiftCommand.js\");\nvar require$_DOT__DOT__SLASH_commands_SLASH_surroundSelectionCommand_DOT_js = require(\"../commands/surroundSelectionCommand.js\");\nvar require$_DOT__DOT__SLASH_cursorCommon_DOT_js = require(\"../cursorCommon.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_wordCharacterClassifier_DOT_js = require(\"../core/wordCharacterClassifier.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js = require(\"../core/range.js\");\nvar require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js = require(\"../core/position.js\");\nvar require$_DOT__DOT__SLASH_languages_SLASH_languageConfiguration_DOT_js = require(\"../languages/languageConfiguration.js\");\nvar require$_DOT__DOT__SLASH_languages_SLASH_languageConfigurationRegistry_DOT_js = require(\"../languages/languageConfigurationRegistry.js\");\nvar require$_DOT__DOT__SLASH_languages_SLASH_supports_DOT_js = require(\"../languages/supports.js\");\nvar require$_DOT__DOT__SLASH_languages_SLASH_autoIndent_DOT_js = require(\"../languages/autoIndent.js\");\nvar require$_DOT__DOT__SLASH_languages_SLASH_enterAction_DOT_js = require(\"../languages/enterAction.js\");\nclass TypeOperations {\n  static indent(config, model, selections) {\n    if (model === null || selections === null) {\n      return [];\n    }\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_shiftCommand_DOT_js.ShiftCommand(selections[i], {isUnshift:false, tabSize:config.tabSize, indentSize:config.indentSize, insertSpaces:config.insertSpaces, useTabStops:config.useTabStops, autoIndent:config.autoIndent}, config.languageConfigurationService);\n    }\n    return commands;\n  }\n  static outdent(config, model, selections) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_shiftCommand_DOT_js.ShiftCommand(selections[i], {isUnshift:true, tabSize:config.tabSize, indentSize:config.indentSize, insertSpaces:config.insertSpaces, useTabStops:config.useTabStops, autoIndent:config.autoIndent}, config.languageConfigurationService);\n    }\n    return commands;\n  }\n  static shiftIndent(config, indentation, count) {\n    count = count || 1;\n    return require$_DOT__DOT__SLASH_commands_SLASH_shiftCommand_DOT_js.ShiftCommand.shiftIndent(indentation, indentation.length + count, config.tabSize, config.indentSize, config.insertSpaces);\n  }\n  static unshiftIndent(config, indentation, count) {\n    count = count || 1;\n    return require$_DOT__DOT__SLASH_commands_SLASH_shiftCommand_DOT_js.ShiftCommand.unshiftIndent(indentation, indentation.length + count, config.tabSize, config.indentSize, config.insertSpaces);\n  }\n  static _distributedPaste(config, model, selections, text) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(selections[i], text[i]);\n    }\n    return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(0, commands, {shouldPushStackElementBefore:true, shouldPushStackElementAfter:true});\n  }\n  static _simplePaste(config, model, selections, text, pasteOnNewLine) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      const selection = selections[i];\n      const position = selection.getPosition();\n      if (pasteOnNewLine && !selection.isEmpty()) {\n        pasteOnNewLine = false;\n      }\n      if (pasteOnNewLine && text.indexOf(\"\\n\") !== text.length - 1) {\n        pasteOnNewLine = false;\n      }\n      if (pasteOnNewLine) {\n        const typeSelection = new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(position.lineNumber, 1, position.lineNumber, 1);\n        commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandThatPreservesSelection(typeSelection, text, selection, true);\n      } else {\n        commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(selection, text);\n      }\n    }\n    return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(0, commands, {shouldPushStackElementBefore:true, shouldPushStackElementAfter:true});\n  }\n  static _distributePasteToCursors(config, selections, text, pasteOnNewLine, multicursorText) {\n    if (pasteOnNewLine) {\n      return null;\n    }\n    if (selections.length === 1) {\n      return null;\n    }\n    if (multicursorText && multicursorText.length === selections.length) {\n      return multicursorText;\n    }\n    if (config.multiCursorPaste === \"spread\") {\n      if (text.charCodeAt(text.length - 1) === 10) {\n        text = text.substr(0, text.length - 1);\n      }\n      if (text.charCodeAt(text.length - 1) === 13) {\n        text = text.substr(0, text.length - 1);\n      }\n      const lines = strings.splitLines(text);\n      if (lines.length === selections.length) {\n        return lines;\n      }\n    }\n    return null;\n  }\n  static paste(config, model, selections, text, pasteOnNewLine, multicursorText) {\n    const distributedPaste = this._distributePasteToCursors(config, selections, text, pasteOnNewLine, multicursorText);\n    if (distributedPaste) {\n      selections = selections.sort(require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range.compareRangesUsingStarts);\n      return this._distributedPaste(config, model, selections, distributedPaste);\n    } else {\n      return this._simplePaste(config, model, selections, text, pasteOnNewLine);\n    }\n  }\n  static _goodIndentForLine(config, model, lineNumber) {\n    let action = null;\n    let indentation = \"\";\n    const expectedIndentAction = (0,require$_DOT__DOT__SLASH_languages_SLASH_autoIndent_DOT_js.getInheritIndentForLine)(config.autoIndent, model, lineNumber, false, config.languageConfigurationService);\n    if (expectedIndentAction) {\n      action = expectedIndentAction.action;\n      indentation = expectedIndentAction.indentation;\n    } else if (lineNumber > 1) {\n      let lastLineNumber;\n      for (lastLineNumber = lineNumber - 1; lastLineNumber >= 1; lastLineNumber--) {\n        const lineText = model.getLineContent(lastLineNumber);\n        const nonWhitespaceIdx = strings.lastNonWhitespaceIndex(lineText);\n        if (nonWhitespaceIdx >= 0) {\n          break;\n        }\n      }\n      if (lastLineNumber < 1) {\n        return null;\n      }\n      const maxColumn = model.getLineMaxColumn(lastLineNumber);\n      const expectedEnterAction = (0,require$_DOT__DOT__SLASH_languages_SLASH_enterAction_DOT_js.getEnterAction)(config.autoIndent, model, new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(lastLineNumber, maxColumn, lastLineNumber, maxColumn), config.languageConfigurationService);\n      if (expectedEnterAction) {\n        indentation = expectedEnterAction.indentation + expectedEnterAction.appendText;\n      }\n    }\n    if (action) {\n      if (action === require$_DOT__DOT__SLASH_languages_SLASH_languageConfiguration_DOT_js.IndentAction.Indent) {\n        indentation = TypeOperations.shiftIndent(config, indentation);\n      }\n      if (action === require$_DOT__DOT__SLASH_languages_SLASH_languageConfiguration_DOT_js.IndentAction.Outdent) {\n        indentation = TypeOperations.unshiftIndent(config, indentation);\n      }\n      indentation = config.normalizeIndentation(indentation);\n    }\n    if (!indentation) {\n      return null;\n    }\n    return indentation;\n  }\n  static _replaceJumpToNextIndent(config, model, selection, insertsAutoWhitespace) {\n    let typeText = \"\";\n    const position = selection.getStartPosition();\n    if (config.insertSpaces) {\n      const visibleColumnFromColumn = config.visibleColumnFromColumn(model, position);\n      const indentSize = config.indentSize;\n      const spacesCnt = indentSize - visibleColumnFromColumn % indentSize;\n      for (let i = 0; i < spacesCnt; i++) {\n        typeText += \" \";\n      }\n    } else {\n      typeText = \"\\t\";\n    }\n    return new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(selection, typeText, insertsAutoWhitespace);\n  }\n  static tab(config, model, selections) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      const selection = selections[i];\n      if (selection.isEmpty()) {\n        const lineText = model.getLineContent(selection.startLineNumber);\n        if (/^\\s*$/.test(lineText) && model.tokenization.isCheapToTokenize(selection.startLineNumber)) {\n          let goodIndent = this._goodIndentForLine(config, model, selection.startLineNumber);\n          goodIndent = goodIndent || \"\\t\";\n          const possibleTypeText = config.normalizeIndentation(goodIndent);\n          if (!lineText.startsWith(possibleTypeText)) {\n            commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(selection.startLineNumber, 1, selection.startLineNumber, lineText.length + 1), possibleTypeText, true);\n            continue;\n          }\n        }\n        commands[i] = this._replaceJumpToNextIndent(config, model, selection, true);\n      } else {\n        if (selection.startLineNumber === selection.endLineNumber) {\n          const lineMaxColumn = model.getLineMaxColumn(selection.startLineNumber);\n          if (selection.startColumn !== 1 || selection.endColumn !== lineMaxColumn) {\n            commands[i] = this._replaceJumpToNextIndent(config, model, selection, false);\n            continue;\n          }\n        }\n        commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_shiftCommand_DOT_js.ShiftCommand(selection, {isUnshift:false, tabSize:config.tabSize, indentSize:config.indentSize, insertSpaces:config.insertSpaces, useTabStops:config.useTabStops, autoIndent:config.autoIndent}, config.languageConfigurationService);\n      }\n    }\n    return commands;\n  }\n  static compositionType(prevEditOperationType, config, model, selections, text, replacePrevCharCnt, replaceNextCharCnt, positionDelta) {\n    const commands = selections.map(selection => this._compositionType(model, selection, text, replacePrevCharCnt, replaceNextCharCnt, positionDelta));\n    return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(4, commands, {shouldPushStackElementBefore:shouldPushStackElementBetween(prevEditOperationType, 4), shouldPushStackElementAfter:false});\n  }\n  static _compositionType(model, selection, text, replacePrevCharCnt, replaceNextCharCnt, positionDelta) {\n    if (!selection.isEmpty()) {\n      return null;\n    }\n    const pos = selection.getPosition();\n    const startColumn = Math.max(1, pos.column - replacePrevCharCnt);\n    const endColumn = Math.min(model.getLineMaxColumn(pos.lineNumber), pos.column + replaceNextCharCnt);\n    const range = new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(pos.lineNumber, startColumn, pos.lineNumber, endColumn);\n    const oldText = model.getValueInRange(range);\n    if (oldText === text && positionDelta === 0) {\n      return null;\n    }\n    return new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandWithOffsetCursorState(range, text, 0, positionDelta);\n  }\n  static _typeCommand(range, text, keepPosition) {\n    if (keepPosition) {\n      return new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandWithoutChangingPosition(range, text, true);\n    } else {\n      return new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(range, text, true);\n    }\n  }\n  static _enter(config, model, keepPosition, range) {\n    if (config.autoIndent === 0) {\n      return TypeOperations._typeCommand(range, \"\\n\", keepPosition);\n    }\n    if (!model.tokenization.isCheapToTokenize(range.getStartPosition().lineNumber) || config.autoIndent === 1) {\n      const lineText = model.getLineContent(range.startLineNumber);\n      const indentation = strings.getLeadingWhitespace(lineText).substring(0, range.startColumn - 1);\n      return TypeOperations._typeCommand(range, \"\\n\" + config.normalizeIndentation(indentation), keepPosition);\n    }\n    const r = (0,require$_DOT__DOT__SLASH_languages_SLASH_enterAction_DOT_js.getEnterAction)(config.autoIndent, model, range, config.languageConfigurationService);\n    if (r) {\n      if (r.indentAction === require$_DOT__DOT__SLASH_languages_SLASH_languageConfiguration_DOT_js.IndentAction.None) {\n        return TypeOperations._typeCommand(range, \"\\n\" + config.normalizeIndentation(r.indentation + r.appendText), keepPosition);\n      } else if (r.indentAction === require$_DOT__DOT__SLASH_languages_SLASH_languageConfiguration_DOT_js.IndentAction.Indent) {\n        return TypeOperations._typeCommand(range, \"\\n\" + config.normalizeIndentation(r.indentation + r.appendText), keepPosition);\n      } else if (r.indentAction === require$_DOT__DOT__SLASH_languages_SLASH_languageConfiguration_DOT_js.IndentAction.IndentOutdent) {\n        const normalIndent = config.normalizeIndentation(r.indentation);\n        const increasedIndent = config.normalizeIndentation(r.indentation + r.appendText);\n        const typeText = \"\\n\" + increasedIndent + \"\\n\" + normalIndent;\n        if (keepPosition) {\n          return new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandWithoutChangingPosition(range, typeText, true);\n        } else {\n          return new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandWithOffsetCursorState(range, typeText, -1, increasedIndent.length - normalIndent.length, true);\n        }\n      } else if (r.indentAction === require$_DOT__DOT__SLASH_languages_SLASH_languageConfiguration_DOT_js.IndentAction.Outdent) {\n        const actualIndentation = TypeOperations.unshiftIndent(config, r.indentation);\n        return TypeOperations._typeCommand(range, \"\\n\" + config.normalizeIndentation(actualIndentation + r.appendText), keepPosition);\n      }\n    }\n    const lineText = model.getLineContent(range.startLineNumber);\n    const indentation = strings.getLeadingWhitespace(lineText).substring(0, range.startColumn - 1);\n    if (config.autoIndent >= 4) {\n      const ir = (0,require$_DOT__DOT__SLASH_languages_SLASH_autoIndent_DOT_js.getIndentForEnter)(config.autoIndent, model, range, {unshiftIndent:indent => {\n        return TypeOperations.unshiftIndent(config, indent);\n      }, shiftIndent:indent => {\n        return TypeOperations.shiftIndent(config, indent);\n      }, normalizeIndentation:indent => {\n        return config.normalizeIndentation(indent);\n      }}, config.languageConfigurationService);\n      if (ir) {\n        let oldEndViewColumn = config.visibleColumnFromColumn(model, range.getEndPosition());\n        const oldEndColumn = range.endColumn;\n        const newLineContent = model.getLineContent(range.endLineNumber);\n        const firstNonWhitespace = strings.firstNonWhitespaceIndex(newLineContent);\n        if (firstNonWhitespace >= 0) {\n          range = range.setEndPosition(range.endLineNumber, Math.max(range.endColumn, firstNonWhitespace + 1));\n        } else {\n          range = range.setEndPosition(range.endLineNumber, model.getLineMaxColumn(range.endLineNumber));\n        }\n        if (keepPosition) {\n          return new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandWithoutChangingPosition(range, \"\\n\" + config.normalizeIndentation(ir.afterEnter), true);\n        } else {\n          let offset = 0;\n          if (oldEndColumn <= firstNonWhitespace + 1) {\n            if (!config.insertSpaces) {\n              oldEndViewColumn = Math.ceil(oldEndViewColumn / config.indentSize);\n            }\n            offset = Math.min(oldEndViewColumn + 1 - config.normalizeIndentation(ir.afterEnter).length - 1, 0);\n          }\n          return new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandWithOffsetCursorState(range, \"\\n\" + config.normalizeIndentation(ir.afterEnter), 0, offset, true);\n        }\n      }\n    }\n    return TypeOperations._typeCommand(range, \"\\n\" + config.normalizeIndentation(indentation), keepPosition);\n  }\n  static _isAutoIndentType(config, model, selections) {\n    if (config.autoIndent < 4) {\n      return false;\n    }\n    for (let i = 0, len = selections.length; i < len; i++) {\n      if (!model.tokenization.isCheapToTokenize(selections[i].getEndPosition().lineNumber)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  static _runAutoIndentType(config, model, range, ch) {\n    const currentIndentation = (0,require$_DOT__DOT__SLASH_languages_SLASH_languageConfigurationRegistry_DOT_js.getIndentationAtPosition)(model, range.startLineNumber, range.startColumn);\n    const actualIndentation = (0,require$_DOT__DOT__SLASH_languages_SLASH_autoIndent_DOT_js.getIndentActionForType)(config.autoIndent, model, range, ch, {shiftIndent:indentation => {\n      return TypeOperations.shiftIndent(config, indentation);\n    }, unshiftIndent:indentation => {\n      return TypeOperations.unshiftIndent(config, indentation);\n    },}, config.languageConfigurationService);\n    if (actualIndentation === null) {\n      return null;\n    }\n    if (actualIndentation !== config.normalizeIndentation(currentIndentation)) {\n      const firstNonWhitespace = model.getLineFirstNonWhitespaceColumn(range.startLineNumber);\n      if (firstNonWhitespace === 0) {\n        return TypeOperations._typeCommand(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(range.startLineNumber, 1, range.endLineNumber, range.endColumn), config.normalizeIndentation(actualIndentation) + ch, false);\n      } else {\n        return TypeOperations._typeCommand(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(range.startLineNumber, 1, range.endLineNumber, range.endColumn), config.normalizeIndentation(actualIndentation) + model.getLineContent(range.startLineNumber).substring(firstNonWhitespace - 1, range.startColumn - 1) + ch, false);\n      }\n    }\n    return null;\n  }\n  static _isAutoClosingOvertype(config, model, selections, autoClosedCharacters, ch) {\n    if (config.autoClosingOvertype === \"never\") {\n      return false;\n    }\n    if (!config.autoClosingPairs.autoClosingPairsCloseSingleChar.has(ch)) {\n      return false;\n    }\n    for (let i = 0, len = selections.length; i < len; i++) {\n      const selection = selections[i];\n      if (!selection.isEmpty()) {\n        return false;\n      }\n      const position = selection.getPosition();\n      const lineText = model.getLineContent(position.lineNumber);\n      const afterCharacter = lineText.charAt(position.column - 1);\n      if (afterCharacter !== ch) {\n        return false;\n      }\n      const chIsQuote = (0,require$_DOT__DOT__SLASH_cursorCommon_DOT_js.isQuote)(ch);\n      const beforeCharacter = position.column > 2 ? lineText.charCodeAt(position.column - 2) : 0;\n      if (beforeCharacter === 92 && chIsQuote) {\n        return false;\n      }\n      if (config.autoClosingOvertype === \"auto\") {\n        let found = false;\n        for (let j = 0, lenJ = autoClosedCharacters.length; j < lenJ; j++) {\n          const autoClosedCharacter = autoClosedCharacters[j];\n          if (position.lineNumber === autoClosedCharacter.startLineNumber && position.column === autoClosedCharacter.startColumn) {\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n  static _runAutoClosingOvertype(prevEditOperationType, config, model, selections, ch) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      const selection = selections[i];\n      const position = selection.getPosition();\n      const typeSelection = new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(position.lineNumber, position.column, position.lineNumber, position.column + 1);\n      commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(typeSelection, ch);\n    }\n    return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(4, commands, {shouldPushStackElementBefore:shouldPushStackElementBetween(prevEditOperationType, 4), shouldPushStackElementAfter:false});\n  }\n  static _isBeforeClosingBrace(config, lineAfter) {\n    const nextChar = lineAfter.charAt(0);\n    const potentialStartingBraces = config.autoClosingPairs.autoClosingPairsOpenByStart.get(nextChar) || [];\n    const potentialClosingBraces = config.autoClosingPairs.autoClosingPairsCloseByStart.get(nextChar) || [];\n    const isBeforeStartingBrace = potentialStartingBraces.some(x => lineAfter.startsWith(x.open));\n    const isBeforeClosingBrace = potentialClosingBraces.some(x => lineAfter.startsWith(x.close));\n    return !isBeforeStartingBrace && isBeforeClosingBrace;\n  }\n  static _findAutoClosingPairOpen(config, model, positions, ch) {\n    const candidates = config.autoClosingPairs.autoClosingPairsOpenByEnd.get(ch);\n    if (!candidates) {\n      return null;\n    }\n    let result = null;\n    for (const candidate of candidates) {\n      if (result === null || candidate.open.length > result.open.length) {\n        let candidateIsMatch = true;\n        for (const position of positions) {\n          const relevantText = model.getValueInRange(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(position.lineNumber, position.column - candidate.open.length + 1, position.lineNumber, position.column));\n          if (relevantText + ch !== candidate.open) {\n            candidateIsMatch = false;\n            break;\n          }\n        }\n        if (candidateIsMatch) {\n          result = candidate;\n        }\n      }\n    }\n    return result;\n  }\n  static _findContainedAutoClosingPair(config, pair) {\n    if (pair.open.length <= 1) {\n      return null;\n    }\n    const lastChar = pair.close.charAt(pair.close.length - 1);\n    const candidates = config.autoClosingPairs.autoClosingPairsCloseByEnd.get(lastChar) || [];\n    let result = null;\n    for (const candidate of candidates) {\n      if (candidate.open !== pair.open && pair.open.includes(candidate.open) && pair.close.endsWith(candidate.close)) {\n        if (!result || candidate.open.length > result.open.length) {\n          result = candidate;\n        }\n      }\n    }\n    return result;\n  }\n  static _getAutoClosingPairClose(config, model, selections, ch, chIsAlreadyTyped) {\n    for (const selection of selections) {\n      if (!selection.isEmpty()) {\n        return null;\n      }\n    }\n    const positions = selections.map(s => {\n      const position = s.getPosition();\n      if (chIsAlreadyTyped) {\n        return {lineNumber:position.lineNumber, beforeColumn:position.column - ch.length, afterColumn:position.column};\n      } else {\n        return {lineNumber:position.lineNumber, beforeColumn:position.column, afterColumn:position.column};\n      }\n    });\n    const pair = this._findAutoClosingPairOpen(config, model, positions.map(p => new require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js.Position(p.lineNumber, p.beforeColumn)), ch);\n    if (!pair) {\n      return null;\n    }\n    let autoCloseConfig;\n    let shouldAutoCloseBefore;\n    const chIsQuote = (0,require$_DOT__DOT__SLASH_cursorCommon_DOT_js.isQuote)(ch);\n    if (chIsQuote) {\n      autoCloseConfig = config.autoClosingQuotes;\n      shouldAutoCloseBefore = config.shouldAutoCloseBefore.quote;\n    } else {\n      const pairIsForComments = config.blockCommentStartToken ? pair.open.includes(config.blockCommentStartToken) : false;\n      if (pairIsForComments) {\n        autoCloseConfig = config.autoClosingComments;\n        shouldAutoCloseBefore = config.shouldAutoCloseBefore.comment;\n      } else {\n        autoCloseConfig = config.autoClosingBrackets;\n        shouldAutoCloseBefore = config.shouldAutoCloseBefore.bracket;\n      }\n    }\n    if (autoCloseConfig === \"never\") {\n      return null;\n    }\n    const containedPair = this._findContainedAutoClosingPair(config, pair);\n    const containedPairClose = containedPair ? containedPair.close : \"\";\n    let isContainedPairPresent = true;\n    for (const position of positions) {\n      const {lineNumber, beforeColumn, afterColumn} = position;\n      const lineText = model.getLineContent(lineNumber);\n      const lineBefore = lineText.substring(0, beforeColumn - 1);\n      const lineAfter = lineText.substring(afterColumn - 1);\n      if (!lineAfter.startsWith(containedPairClose)) {\n        isContainedPairPresent = false;\n      }\n      if (lineAfter.length > 0) {\n        const characterAfter = lineAfter.charAt(0);\n        const isBeforeCloseBrace = TypeOperations._isBeforeClosingBrace(config, lineAfter);\n        if (!isBeforeCloseBrace && !shouldAutoCloseBefore(characterAfter)) {\n          return null;\n        }\n      }\n      if (pair.open.length === 1 && (ch === \"'\" || ch === '\"') && autoCloseConfig !== \"always\") {\n        const wordSeparators = (0,require$_DOT__DOT__SLASH_core_SLASH_wordCharacterClassifier_DOT_js.getMapForWordSeparators)(config.wordSeparators);\n        if (lineBefore.length > 0) {\n          const characterBefore = lineBefore.charCodeAt(lineBefore.length - 1);\n          if (wordSeparators.get(characterBefore) === 0) {\n            return null;\n          }\n        }\n      }\n      if (!model.tokenization.isCheapToTokenize(lineNumber)) {\n        return null;\n      }\n      model.tokenization.forceTokenization(lineNumber);\n      const lineTokens = model.tokenization.getLineTokens(lineNumber);\n      const scopedLineTokens = (0,require$_DOT__DOT__SLASH_languages_SLASH_supports_DOT_js.createScopedLineTokens)(lineTokens, beforeColumn - 1);\n      if (!pair.shouldAutoClose(scopedLineTokens, beforeColumn - scopedLineTokens.firstCharOffset)) {\n        return null;\n      }\n      const neutralCharacter = pair.findNeutralCharacter();\n      if (neutralCharacter) {\n        const tokenType = model.tokenization.getTokenTypeIfInsertingCharacter(lineNumber, beforeColumn, neutralCharacter);\n        if (!pair.isOK(tokenType)) {\n          return null;\n        }\n      }\n    }\n    if (isContainedPairPresent) {\n      return pair.close.substring(0, pair.close.length - containedPairClose.length);\n    } else {\n      return pair.close;\n    }\n  }\n  static _runAutoClosingOpenCharType(prevEditOperationType, config, model, selections, ch, chIsAlreadyTyped, autoClosingPairClose) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      const selection = selections[i];\n      commands[i] = new TypeWithAutoClosingCommand(selection, ch, !chIsAlreadyTyped, autoClosingPairClose);\n    }\n    return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(4, commands, {shouldPushStackElementBefore:true, shouldPushStackElementAfter:false});\n  }\n  static _shouldSurroundChar(config, ch) {\n    if ((0,require$_DOT__DOT__SLASH_cursorCommon_DOT_js.isQuote)(ch)) {\n      return config.autoSurround === \"quotes\" || config.autoSurround === \"languageDefined\";\n    } else {\n      return config.autoSurround === \"brackets\" || config.autoSurround === \"languageDefined\";\n    }\n  }\n  static _isSurroundSelectionType(config, model, selections, ch) {\n    if (!TypeOperations._shouldSurroundChar(config, ch) || !config.surroundingPairs.hasOwnProperty(ch)) {\n      return false;\n    }\n    const isTypingAQuoteCharacter = (0,require$_DOT__DOT__SLASH_cursorCommon_DOT_js.isQuote)(ch);\n    for (const selection of selections) {\n      if (selection.isEmpty()) {\n        return false;\n      }\n      let selectionContainsOnlyWhitespace = true;\n      for (let lineNumber = selection.startLineNumber; lineNumber <= selection.endLineNumber; lineNumber++) {\n        const lineText = model.getLineContent(lineNumber);\n        const startIndex = lineNumber === selection.startLineNumber ? selection.startColumn - 1 : 0;\n        const endIndex = lineNumber === selection.endLineNumber ? selection.endColumn - 1 : lineText.length;\n        const selectedText = lineText.substring(startIndex, endIndex);\n        if (/[^ \\t]/.test(selectedText)) {\n          selectionContainsOnlyWhitespace = false;\n          break;\n        }\n      }\n      if (selectionContainsOnlyWhitespace) {\n        return false;\n      }\n      if (isTypingAQuoteCharacter && selection.startLineNumber === selection.endLineNumber && selection.startColumn + 1 === selection.endColumn) {\n        const selectionText = model.getValueInRange(selection);\n        if ((0,require$_DOT__DOT__SLASH_cursorCommon_DOT_js.isQuote)(selectionText)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n  static _runSurroundSelectionType(prevEditOperationType, config, model, selections, ch) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      const selection = selections[i];\n      const closeCharacter = config.surroundingPairs[ch];\n      commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_surroundSelectionCommand_DOT_js.SurroundSelectionCommand(selection, ch, closeCharacter);\n    }\n    return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(0, commands, {shouldPushStackElementBefore:true, shouldPushStackElementAfter:true});\n  }\n  static _isTypeInterceptorElectricChar(config, model, selections) {\n    if (selections.length === 1 && model.tokenization.isCheapToTokenize(selections[0].getEndPosition().lineNumber)) {\n      return true;\n    }\n    return false;\n  }\n  static _typeInterceptorElectricChar(prevEditOperationType, config, model, selection, ch) {\n    if (!config.electricChars.hasOwnProperty(ch) || !selection.isEmpty()) {\n      return null;\n    }\n    const position = selection.getPosition();\n    model.tokenization.forceTokenization(position.lineNumber);\n    const lineTokens = model.tokenization.getLineTokens(position.lineNumber);\n    let electricAction;\n    try {\n      electricAction = config.onElectricCharacter(ch, lineTokens, position.column);\n    } catch (e) {\n      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.onUnexpectedError)(e);\n      return null;\n    }\n    if (!electricAction) {\n      return null;\n    }\n    if (electricAction.matchOpenBracket) {\n      const endColumn = (lineTokens.getLineContent() + ch).lastIndexOf(electricAction.matchOpenBracket) + 1;\n      const match = model.bracketPairs.findMatchingBracketUp(electricAction.matchOpenBracket, {lineNumber:position.lineNumber, column:endColumn}, 500);\n      if (match) {\n        if (match.startLineNumber === position.lineNumber) {\n          return null;\n        }\n        const matchLine = model.getLineContent(match.startLineNumber);\n        const matchLineIndentation = strings.getLeadingWhitespace(matchLine);\n        const newIndentation = config.normalizeIndentation(matchLineIndentation);\n        const lineText = model.getLineContent(position.lineNumber);\n        const lineFirstNonBlankColumn = model.getLineFirstNonWhitespaceColumn(position.lineNumber) || position.column;\n        const prefix = lineText.substring(lineFirstNonBlankColumn - 1, position.column - 1);\n        const typeText = newIndentation + prefix + ch;\n        const typeSelection = new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(position.lineNumber, 1, position.lineNumber, position.column);\n        const command = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(typeSelection, typeText);\n        return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(getTypingOperation(typeText, prevEditOperationType), [command], {shouldPushStackElementBefore:false, shouldPushStackElementAfter:true});\n      }\n    }\n    return null;\n  }\n  static compositionEndWithInterceptors(prevEditOperationType, config, model, compositions, selections, autoClosedCharacters) {\n    if (!compositions) {\n      return null;\n    }\n    let insertedText = null;\n    for (const composition of compositions) {\n      if (insertedText === null) {\n        insertedText = composition.insertedText;\n      } else if (insertedText !== composition.insertedText) {\n        return null;\n      }\n    }\n    if (!insertedText || insertedText.length !== 1) {\n      return null;\n    }\n    const ch = insertedText;\n    let hasDeletion = false;\n    for (const composition of compositions) {\n      if (composition.deletedText.length !== 0) {\n        hasDeletion = true;\n        break;\n      }\n    }\n    if (hasDeletion) {\n      if (!TypeOperations._shouldSurroundChar(config, ch) || !config.surroundingPairs.hasOwnProperty(ch)) {\n        return null;\n      }\n      const isTypingAQuoteCharacter = (0,require$_DOT__DOT__SLASH_cursorCommon_DOT_js.isQuote)(ch);\n      for (const composition of compositions) {\n        if (composition.deletedSelectionStart !== 0 || composition.deletedSelectionEnd !== composition.deletedText.length) {\n          return null;\n        }\n        if (/^[ \\t]+$/.test(composition.deletedText)) {\n          return null;\n        }\n        if (isTypingAQuoteCharacter && (0,require$_DOT__DOT__SLASH_cursorCommon_DOT_js.isQuote)(composition.deletedText)) {\n          return null;\n        }\n      }\n      const positions = [];\n      for (const selection of selections) {\n        if (!selection.isEmpty()) {\n          return null;\n        }\n        positions.push(selection.getPosition());\n      }\n      if (positions.length !== compositions.length) {\n        return null;\n      }\n      const commands = [];\n      for (let i = 0, len = positions.length; i < len; i++) {\n        commands.push(new require$_DOT__DOT__SLASH_commands_SLASH_surroundSelectionCommand_DOT_js.CompositionSurroundSelectionCommand(positions[i], compositions[i].deletedText, config.surroundingPairs[ch]));\n      }\n      return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(4, commands, {shouldPushStackElementBefore:true, shouldPushStackElementAfter:false});\n    }\n    if (this._isAutoClosingOvertype(config, model, selections, autoClosedCharacters, ch)) {\n      const commands = selections.map(s => new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(s.positionLineNumber, s.positionColumn, s.positionLineNumber, s.positionColumn + 1), \"\", false));\n      return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(4, commands, {shouldPushStackElementBefore:true, shouldPushStackElementAfter:false});\n    }\n    const autoClosingPairClose = this._getAutoClosingPairClose(config, model, selections, ch, true);\n    if (autoClosingPairClose !== null) {\n      return this._runAutoClosingOpenCharType(prevEditOperationType, config, model, selections, ch, true, autoClosingPairClose);\n    }\n    return null;\n  }\n  static typeWithInterceptors(isDoingComposition, prevEditOperationType, config, model, selections, autoClosedCharacters, ch) {\n    if (!isDoingComposition && ch === \"\\n\") {\n      const commands = [];\n      for (let i = 0, len = selections.length; i < len; i++) {\n        commands[i] = TypeOperations._enter(config, model, false, selections[i]);\n      }\n      return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(4, commands, {shouldPushStackElementBefore:true, shouldPushStackElementAfter:false,});\n    }\n    if (!isDoingComposition && this._isAutoIndentType(config, model, selections)) {\n      const commands = [];\n      let autoIndentFails = false;\n      for (let i = 0, len = selections.length; i < len; i++) {\n        commands[i] = this._runAutoIndentType(config, model, selections[i], ch);\n        if (!commands[i]) {\n          autoIndentFails = true;\n          break;\n        }\n      }\n      if (!autoIndentFails) {\n        return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(4, commands, {shouldPushStackElementBefore:true, shouldPushStackElementAfter:false,});\n      }\n    }\n    if (this._isAutoClosingOvertype(config, model, selections, autoClosedCharacters, ch)) {\n      return this._runAutoClosingOvertype(prevEditOperationType, config, model, selections, ch);\n    }\n    if (!isDoingComposition) {\n      const autoClosingPairClose = this._getAutoClosingPairClose(config, model, selections, ch, false);\n      if (autoClosingPairClose) {\n        return this._runAutoClosingOpenCharType(prevEditOperationType, config, model, selections, ch, false, autoClosingPairClose);\n      }\n    }\n    if (!isDoingComposition && this._isSurroundSelectionType(config, model, selections, ch)) {\n      return this._runSurroundSelectionType(prevEditOperationType, config, model, selections, ch);\n    }\n    if (!isDoingComposition && this._isTypeInterceptorElectricChar(config, model, selections)) {\n      const r = this._typeInterceptorElectricChar(prevEditOperationType, config, model, selections[0], ch);\n      if (r) {\n        return r;\n      }\n    }\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(selections[i], ch);\n    }\n    const opType = getTypingOperation(ch, prevEditOperationType);\n    return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(opType, commands, {shouldPushStackElementBefore:shouldPushStackElementBetween(prevEditOperationType, opType), shouldPushStackElementAfter:false});\n  }\n  static typeWithoutInterceptors(prevEditOperationType, config, model, selections, str) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommand(selections[i], str);\n    }\n    const opType = getTypingOperation(str, prevEditOperationType);\n    return new require$_DOT__DOT__SLASH_cursorCommon_DOT_js.EditOperationResult(opType, commands, {shouldPushStackElementBefore:shouldPushStackElementBetween(prevEditOperationType, opType), shouldPushStackElementAfter:false});\n  }\n  static lineInsertBefore(config, model, selections) {\n    if (model === null || selections === null) {\n      return [];\n    }\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      let lineNumber = selections[i].positionLineNumber;\n      if (lineNumber === 1) {\n        commands[i] = new require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandWithoutChangingPosition(new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(1, 1, 1, 1), \"\\n\");\n      } else {\n        lineNumber--;\n        const column = model.getLineMaxColumn(lineNumber);\n        commands[i] = this._enter(config, model, false, new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(lineNumber, column, lineNumber, column));\n      }\n    }\n    return commands;\n  }\n  static lineInsertAfter(config, model, selections) {\n    if (model === null || selections === null) {\n      return [];\n    }\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      const lineNumber = selections[i].positionLineNumber;\n      const column = model.getLineMaxColumn(lineNumber);\n      commands[i] = this._enter(config, model, false, new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(lineNumber, column, lineNumber, column));\n    }\n    return commands;\n  }\n  static lineBreakInsert(config, model, selections) {\n    const commands = [];\n    for (let i = 0, len = selections.length; i < len; i++) {\n      commands[i] = this._enter(config, model, true, selections[i]);\n    }\n    return commands;\n  }\n}\nclass TypeWithAutoClosingCommand extends require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js.ReplaceCommandWithOffsetCursorState {\n  constructor(selection, openCharacter, insertOpenCharacter, closeCharacter) {\n    super(selection, (insertOpenCharacter ? openCharacter : \"\") + closeCharacter, 0, -closeCharacter.length);\n    this._openCharacter = openCharacter;\n    this._closeCharacter = closeCharacter;\n    this.closeCharacterRange = null;\n    this.enclosingRange = null;\n  }\n  computeCursorState(model, helper) {\n    const inverseEditOperations = helper.getInverseEditOperations();\n    const range = inverseEditOperations[0].range;\n    this.closeCharacterRange = new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(range.startLineNumber, range.endColumn - this._closeCharacter.length, range.endLineNumber, range.endColumn);\n    this.enclosingRange = new require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js.Range(range.startLineNumber, range.endColumn - this._openCharacter.length - this._closeCharacter.length, range.endLineNumber, range.endColumn);\n    return super.computeCursorState(model, helper);\n  }\n}\nclass CompositionOutcome {\n  constructor(deletedText, deletedSelectionStart, deletedSelectionEnd, insertedText, insertedSelectionStart, insertedSelectionEnd) {\n    this.deletedText = deletedText;\n    this.deletedSelectionStart = deletedSelectionStart;\n    this.deletedSelectionEnd = deletedSelectionEnd;\n    this.insertedText = insertedText;\n    this.insertedSelectionStart = insertedSelectionStart;\n    this.insertedSelectionEnd = insertedSelectionEnd;\n  }\n}\nfunction getTypingOperation(typedText, previousTypingOperation) {\n  if (typedText === \" \") {\n    return previousTypingOperation === 5 || previousTypingOperation === 6 ? 6 : 5;\n  }\n  return 4;\n}\nfunction shouldPushStackElementBetween(previousTypingOperation, typingOperation) {\n  if (isTypingOperation(previousTypingOperation) && !isTypingOperation(typingOperation)) {\n    return true;\n  }\n  if (previousTypingOperation === 5) {\n    return false;\n  }\n  return normalizeOperationType(previousTypingOperation) !== normalizeOperationType(typingOperation);\n}\nfunction normalizeOperationType(type) {\n  return type === 6 || type === 5 ? \"space\" : type;\n}\nfunction isTypingOperation(type) {\n  return type === 4 || type === 5 || type === 6;\n}\n\n};"],
"names":["shadow$provide","require","module","exports","getTypingOperation","typedText","previousTypingOperation","shouldPushStackElementBetween","typingOperation","Object","defineProperties","__esModule","enumerable","value","CompositionOutcome","get","TypeOperations","TypeWithAutoClosingCommand","require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js","strings","require$_DOT__DOT__SLASH_commands_SLASH_replaceCommand_DOT_js","require$_DOT__DOT__SLASH_commands_SLASH_shiftCommand_DOT_js","require$_DOT__DOT__SLASH_commands_SLASH_surroundSelectionCommand_DOT_js","require$_DOT__DOT__SLASH_cursorCommon_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_wordCharacterClassifier_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_range_DOT_js","require$_DOT__DOT__SLASH_core_SLASH_position_DOT_js","require$_DOT__DOT__SLASH_languages_SLASH_languageConfiguration_DOT_js","require$_DOT__DOT__SLASH_languages_SLASH_languageConfigurationRegistry_DOT_js","require$_DOT__DOT__SLASH_languages_SLASH_supports_DOT_js","require$_DOT__DOT__SLASH_languages_SLASH_autoIndent_DOT_js","require$_DOT__DOT__SLASH_languages_SLASH_enterAction_DOT_js","indent","config","model","selections","commands","i","len","length","ShiftCommand","isUnshift","tabSize","indentSize","insertSpaces","useTabStops","autoIndent","languageConfigurationService","outdent","shiftIndent","indentation","count","unshiftIndent","_distributedPaste","text","ReplaceCommand","EditOperationResult","shouldPushStackElementBefore","shouldPushStackElementAfter","_simplePaste","pasteOnNewLine","selection","position","getPosition","isEmpty","indexOf","typeSelection","Range","lineNumber","ReplaceCommandThatPreservesSelection","_distributePasteToCursors","multicursorText","multiCursorPaste","charCodeAt","substr","lines","splitLines","paste","distributedPaste","sort","compareRangesUsingStarts","_goodIndentForLine","action","expectedIndentAction","getInheritIndentForLine","lastLineNumber","lineText","getLineContent","lastNonWhitespaceIndex","nonWhitespaceIdx","maxColumn","getLineMaxColumn","expectedEnterAction","getEnterAction","appendText","IndentAction","Indent","Outdent","normalizeIndentation","_replaceJumpToNextIndent","insertsAutoWhitespace","typeText","getStartPosition","visibleColumnFromColumn","spacesCnt","tab","startLineNumber","test","tokenization","isCheapToTokenize","goodIndent","possibleTypeText","startsWith","endLineNumber","lineMaxColumn","startColumn","endColumn","compositionType","prevEditOperationType","replacePrevCharCnt","replaceNextCharCnt","positionDelta","map","_compositionType","pos","Math","max","column","min","range","getValueInRange","oldText","ReplaceCommandWithOffsetCursorState","_typeCommand","keepPosition","ReplaceCommandWithoutChangingPosition","_enter","getLeadingWhitespace","substring","r","indentAction","None","IndentOutdent","normalIndent","increasedIndent","actualIndentation","ir","getIndentForEnter","oldEndViewColumn","getEndPosition","oldEndColumn","newLineContent","firstNonWhitespace","firstNonWhitespaceIndex","setEndPosition","afterEnter","offset","ceil","_isAutoIndentType","_runAutoIndentType","ch","currentIndentation","getIndentationAtPosition","getIndentActionForType","getLineFirstNonWhitespaceColumn","_isAutoClosingOvertype","autoClosedCharacters","autoClosingOvertype","autoClosingPairs","autoClosingPairsCloseSingleChar","has","charAt","afterCharacter","chIsQuote","isQuote","beforeCharacter","found","j","lenJ","autoClosedCharacter","_runAutoClosingOvertype","_isBeforeClosingBrace","lineAfter","nextChar","potentialStartingBraces","autoClosingPairsOpenByStart","potentialClosingBraces","autoClosingPairsCloseByStart","isBeforeStartingBrace","some","x","open","isBeforeClosingBrace","close","_findAutoClosingPairOpen","positions","candidates","autoClosingPairsOpenByEnd","result","candidate","candidateIsMatch","relevantText","_findContainedAutoClosingPair","pair","lastChar","autoClosingPairsCloseByEnd","includes","endsWith","_getAutoClosingPairClose","chIsAlreadyTyped","s","beforeColumn","afterColumn","p","Position","shouldAutoCloseBefore","autoCloseConfig","autoClosingQuotes","quote","blockCommentStartToken","autoClosingComments","comment","autoClosingBrackets","bracket","containedPair","containedPairClose","isContainedPairPresent","lineBefore","characterAfter","isBeforeCloseBrace","wordSeparators","getMapForWordSeparators","characterBefore","forceTokenization","lineTokens","getLineTokens","scopedLineTokens","createScopedLineTokens","shouldAutoClose","firstCharOffset","neutralCharacter","findNeutralCharacter","tokenType","getTokenTypeIfInsertingCharacter","isOK","_runAutoClosingOpenCharType","autoClosingPairClose","_shouldSurroundChar","autoSurround","_isSurroundSelectionType","surroundingPairs","hasOwnProperty","isTypingAQuoteCharacter","selectionContainsOnlyWhitespace","selectedText","startIndex","endIndex","selectionText","_runSurroundSelectionType","SurroundSelectionCommand","closeCharacter","_isTypeInterceptorElectricChar","_typeInterceptorElectricChar","electricChars","electricAction","onElectricCharacter","e","onUnexpectedError","matchOpenBracket","match","lastIndexOf","bracketPairs","findMatchingBracketUp","matchLine","matchLineIndentation","newIndentation","lineFirstNonBlankColumn","prefix","command","compositionEndWithInterceptors","compositions","insertedText","composition","hasDeletion","deletedText","deletedSelectionStart","deletedSelectionEnd","push","CompositionSurroundSelectionCommand","positionLineNumber","positionColumn","typeWithInterceptors","isDoingComposition","autoIndentFails","opType","typeWithoutInterceptors","str","lineInsertBefore","lineInsertAfter","lineBreakInsert","constructor","openCharacter","insertOpenCharacter","_openCharacter","_closeCharacter","enclosingRange","closeCharacterRange","computeCursorState","helper","getInverseEditOperations","inverseEditOperations","insertedSelectionStart","insertedSelectionEnd"]
}
