shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$browser$widget$multiDiffEditorWidget$diffEditorItemTemplate = function(require, module, exports) {
  function isFocused(editor) {
    return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.observableFromEvent)(h => {
      const store = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();
      store.add(editor.onDidFocusEditorWidget(() => h(!0)));
      store.add(editor.onDidBlurEditorWidget(() => h(!1)));
      return store;
    }, () => editor.hasWidgetFocus());
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, DiffEditorItemTemplate:{enumerable:!0, get:function() {
    return DiffEditorItemTemplate;
  }}, TemplateData:{enumerable:!0, get:function() {
    return TemplateData;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_button_SLASH_button_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$button$button"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_codicons_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$common$codicons"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$observable"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$common$observableInternal$base"), require$_DOT__DOT__SLASH_diffEditor_SLASH_diffEditorWidget_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$diffEditor$diffEditorWidget"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_actions_SLASH_browser_SLASH_toolbar_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$actions$browser$toolbar"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_actions_SLASH_common_SLASH_actions_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$platform$actions$common$actions");
  module = require("module$node_modules$monaco_editor$esm$vs$platform$instantiation$common$instantiation");
  var require$_DOT__SLASH_utils_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$browser$widget$multiDiffEditorWidget$utils");
  class TemplateData {
    constructor(viewModel) {
      this.viewModel = viewModel;
    }
    getId() {
      return this.viewModel;
    }
  }
  let DiffEditorItemTemplate = class extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    constructor(_container, _overflowWidgetsDomNode, _workbenchUIElementFactory, _instantiationService) {
      super();
      this._container = _container;
      this._overflowWidgetsDomNode = _overflowWidgetsDomNode;
      this._workbenchUIElementFactory = _workbenchUIElementFactory;
      this._instantiationService = _instantiationService;
      this._viewModel = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.observableValue)(this, void 0);
      this._collapsed = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(this, reader => {
        var _a;
        return (_a = this._viewModel.read(reader)) === null || _a === void 0 ? void 0 : _a.collapsed.read(reader);
      });
      this._contentHeight = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.observableValue)(this, 500);
      this.height = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(this, reader => (this._collapsed.read(reader) ? 0 : this._contentHeight.read(reader)) + this._outerEditorHeight);
      this._modifiedContentWidth = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.observableValue)(this, 0);
      this._modifiedWidth = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.observableValue)(this, 0);
      this._originalContentWidth = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.observableValue)(this, 0);
      this._originalWidth = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.observableValue)(this, 0);
      this.maxScroll = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(this, reader => {
        const scroll1 = this._modifiedContentWidth.read(reader) - this._modifiedWidth.read(reader), scroll2 = this._originalContentWidth.read(reader) - this._originalWidth.read(reader);
        return scroll1 > scroll2 ? {maxScroll:scroll1, width:this._modifiedWidth.read(reader)} : {maxScroll:scroll2, width:this._originalWidth.read(reader)};
      });
      this._elements = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.h)("div.multiDiffEntry", [(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.h)("div.content", {style:{display:"flex", flexDirection:"column", flex:"1", overflow:"hidden"}}, [(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.h)("div.header@header", 
      [(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.h)("div.collapse-button@collapseButton"), (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.h)("div.title.show-file-icons@title", []), (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.h)("div.actions@actions")]), (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.h)("div.editorParent", 
      {style:{flex:"1", display:"flex", flexDirection:"column"}}, [(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_dom_DOT_js.h)("div.editorContainer@editor", {style:{flex:"1"}})])])]);
      this.editor = this._register(this._instantiationService.createInstance(require$_DOT__DOT__SLASH_diffEditor_SLASH_diffEditorWidget_DOT_js.DiffEditorWidget, this._elements.editor, {overflowWidgetsDomNode:this._overflowWidgetsDomNode}, {}));
      this.isModifedFocused = isFocused(this.editor.getModifiedEditor());
      this.isOriginalFocused = isFocused(this.editor.getOriginalEditor());
      this.isFocused = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.derived)(this, reader => this.isModifedFocused.read(reader) || this.isOriginalFocused.read(reader));
      this._resourceLabel = this._workbenchUIElementFactory.createResourceLabel ? this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.title)) : void 0;
      this._dataStore = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore();
      this._headerHeight = this._elements.header.clientHeight;
      const btn = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_button_SLASH_button_DOT_js.Button(this._elements.collapseButton, {});
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.autorun)(reader => {
        btn.element.className = "";
        btn.icon = this._collapsed.read(reader) ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_codicons_DOT_js.Codicon.chevronRight : require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_codicons_DOT_js.Codicon.chevronDown;
      }));
      this._register(btn.onDidClick(() => {
        var _a;
        (_a = this._viewModel.get()) === null || _a === void 0 || _a.collapsed.set(!this._collapsed.get(), void 0);
      }));
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.autorun)(reader => {
        this._elements.editor.style.display = this._collapsed.read(reader) ? "none" : "block";
      }));
      this.editor.getModifiedEditor().onDidLayoutChange(e => {
        e = this.editor.getModifiedEditor().getLayoutInfo().contentWidth;
        this._modifiedWidth.set(e, void 0);
      });
      this.editor.getOriginalEditor().onDidLayoutChange(e => {
        e = this.editor.getOriginalEditor().getLayoutInfo().contentWidth;
        this._originalWidth.set(e, void 0);
      });
      this._register(this.editor.onDidContentSizeChange(e => {
        (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.globalTransaction)(tx => {
          this._contentHeight.set(e.contentHeight, tx);
          this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(), tx);
          this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(), tx);
        });
      }));
      this._register((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observable_DOT_js.autorun)(reader => {
        reader = this.isFocused.read(reader);
        this._elements.root.classList.toggle("focused", reader);
      }));
      this._container.appendChild(this._elements.root);
      this._outerEditorHeight = 38;
      this._register(this._instantiationService.createInstance(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_actions_SLASH_browser_SLASH_toolbar_DOT_js.MenuWorkbenchToolBar, this._elements.actions, require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_platform_SLASH_actions_SLASH_common_SLASH_actions_DOT_js.MenuId.MultiDiffEditorFileToolbar, {actionRunner:this._register(new require$_DOT__SLASH_utils_DOT_js.ActionRunnerWithContext(() => 
      {
        var _a, _b;
        return (_b = (_a = this._viewModel.get()) === null || _a === void 0 ? void 0 : _a.diffEditorViewModel) === null || _b === void 0 ? void 0 : _b.model.modified.uri;
      })), menuOptions:{shouldForwardArgs:!0}}));
    }
    setScrollLeft(left) {
      this._modifiedContentWidth.get() - this._modifiedWidth.get() > this._originalContentWidth.get() - this._originalWidth.get() ? this.editor.getModifiedEditor().setScrollLeft(left) : this.editor.getOriginalEditor().setScrollLeft(left);
    }
    setData(data) {
      function updateOptions(options) {
        return {...options, scrollBeyondLastLine:!1, hideUnchangedRegions:{enabled:!0}, scrollbar:{vertical:"hidden", horizontal:"hidden", handleMouseWheel:!1, useShadows:!1}, renderOverviewRuler:!1, fixedOverflowWidgets:!0};
      }
      const value = data.viewModel.entry.value;
      value.onOptionsDidChange && this._dataStore.add(value.onOptionsDidChange(() => {
        var _a;
        this.editor.updateOptions(updateOptions((_a = value.options) !== null && _a !== void 0 ? _a : {}));
      }));
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.globalTransaction)(tx => {
        var _a, _b;
        (_a = this._resourceLabel) === null || _a === void 0 || _a.setUri(data.viewModel.diffEditorViewModel.model.modified.uri);
        this._dataStore.clear();
        this._viewModel.set(data.viewModel, tx);
        this.editor.setModel(data.viewModel.diffEditorViewModel, tx);
        this.editor.updateOptions(updateOptions((_b = value.options) !== null && _b !== void 0 ? _b : {}));
      });
    }
    render(verticalRange, width, editorScroll, viewPort) {
      this._elements.root.style.visibility = "visible";
      this._elements.root.style.top = `${verticalRange.start}px`;
      this._elements.root.style.height = `${verticalRange.length}px`;
      this._elements.root.style.width = `${width}px`;
      this._elements.root.style.position = "absolute";
      viewPort = Math.max(0, Math.min(verticalRange.length - this._headerHeight, viewPort.start - verticalRange.start));
      this._elements.header.style.transform = `translateY(${viewPort}px)`;
      (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_observableInternal_SLASH_base_DOT_js.globalTransaction)(tx => {
        this.editor.layout({width, height:verticalRange.length - this._outerEditorHeight});
      });
      this.editor.getOriginalEditor().setScrollTop(editorScroll);
      this._elements.header.classList.toggle("shadow", viewPort > 0 || editorScroll > 0);
    }
    hide() {
      this._elements.root.style.top = "-100000px";
      this._elements.root.style.visibility = "hidden";
    }
  };
  DiffEditorItemTemplate = (this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  })([(this && this.__param || function(paramIndex, decorator) {
    return function(target, key) {
      decorator(target, key, paramIndex);
    };
  })(3, module.IInstantiationService)], DiffEditorItemTemplate);
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$browser$widget$multiDiffEditorWidget$diffEditorItemTemplate.js.map
