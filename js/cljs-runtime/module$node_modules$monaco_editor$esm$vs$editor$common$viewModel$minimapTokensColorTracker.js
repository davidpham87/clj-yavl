shadow$provide.module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$minimapTokensColorTracker = function(require, module, exports) {
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, MinimapTokensColorTracker:{enumerable:!0, get:function() {
    return MinimapTokensColorTracker;
  }}});
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js = require("module$node_modules$monaco_editor$esm$vs$editor$common$core$rgba"), require$_DOT__DOT__SLASH_languages_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$editor$common$languages");
  class MinimapTokensColorTracker extends require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.Disposable {
    static getInstance() {
      this._INSTANCE || (this._INSTANCE = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.markAsSingleton)(new MinimapTokensColorTracker()));
      return this._INSTANCE;
    }
    constructor() {
      super();
      this._onDidChange = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onDidChange = this._onDidChange.event;
      this._updateColorMap();
      this._register(require$_DOT__DOT__SLASH_languages_DOT_js.TokenizationRegistry.onDidChange(e => {
        e.changedColorMap && this._updateColorMap();
      }));
    }
    _updateColorMap() {
      const colorMap = require$_DOT__DOT__SLASH_languages_DOT_js.TokenizationRegistry.getColorMap();
      if (colorMap) {
        this._colors = [require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js.RGBA8.Empty];
        for (let colorId = 1; colorId < colorMap.length; colorId++) {
          const source = colorMap[colorId].rgba;
          this._colors[colorId] = new require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js.RGBA8(source.r, source.g, source.b, Math.round(source.a * 255));
        }
        this._backgroundIsLight = colorMap[2].getRelativeLuminance() >= 0.5;
        this._onDidChange.fire(void 0);
      } else {
        this._colors = [require$_DOT__DOT__SLASH_core_SLASH_rgba_DOT_js.RGBA8.Empty], this._backgroundIsLight = !0;
      }
    }
    getColor(colorId) {
      if (colorId < 1 || colorId >= this._colors.length) {
        colorId = 2;
      }
      return this._colors[colorId];
    }
    backgroundIsLight() {
      return this._backgroundIsLight;
    }
  }
  MinimapTokensColorTracker._INSTANCE = null;
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$editor$common$viewModel$minimapTokensColorTracker.js.map
