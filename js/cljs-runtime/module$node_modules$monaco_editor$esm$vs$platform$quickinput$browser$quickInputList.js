shadow$provide.module$node_modules$monaco_editor$esm$vs$platform$quickinput$browser$quickInputList = function(require, module, exports) {
  function matchesContiguous(word, wordToMatchAgainst) {
    wordToMatchAgainst = wordToMatchAgainst.toLowerCase().indexOf(word.toLowerCase());
    return wordToMatchAgainst !== -1 ? [{start:wordToMatchAgainst, end:wordToMatchAgainst + word.length}] : null;
  }
  Object.defineProperties(exports, {__esModule:{enumerable:!0, value:!0}, QuickInputList:{enumerable:!0, get:function() {
    return QuickInputList;
  }}, QuickInputListFocus:{enumerable:!0, get:function() {
    return QuickInputListFocus;
  }}});
  var dom = require("module$node_modules$monaco_editor$esm$vs$base$browser$dom"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$keyboardEvent"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_actionbar_SLASH_actionbar_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$actionbar$actionbar"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_iconLabel_SLASH_iconLabel_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$iconLabel$iconLabel"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_keybindingLabel_SLASH_keybindingLabel_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$browser$ui$keybindingLabel$keybindingLabel"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$arrays"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$async"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_comparers_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$comparers");
  module = require("module$node_modules$monaco_editor$esm$vs$base$common$decorators");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$errors"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$event"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$iconLabels"), 
  require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lifecycle"), platform = require("module$node_modules$monaco_editor$esm$vs$base$common$platform"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$strings");
  require("module$node_modules$monaco_editor$esm$vs$platform$quickinput$browser$media$quickInput_css");
  var require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js = require("module$node_modules$monaco_editor$esm$vs$nls"), require$_DOT__SLASH_quickInputUtils_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$quickinput$browser$quickInputUtils"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lazy_DOT_js = require("module$node_modules$monaco_editor$esm$vs$base$common$lazy"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_uri_DOT_js = 
  require("module$node_modules$monaco_editor$esm$vs$base$common$uri"), require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_theme_DOT_js = require("module$node_modules$monaco_editor$esm$vs$platform$theme$common$theme");
  require = this && this.__decorate || function(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") {
      r = Reflect.decorate(decorators, target, key, desc);
    } else {
      for (var i = decorators.length - 1; i >= 0; i--) {
        if (d = decorators[i]) {
          r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        }
      }
    }
    return c > 3 && r && Object.defineProperty(target, key, r), r;
  };
  const $ = dom.$;
  class ListElement {
    constructor(mainItem, previous, index, hasCheckbox, fireButtonTriggered, fireSeparatorButtonTriggered, onCheckedEmitter) {
      var _a, _b, _c;
      this._hidden = this._checked = !1;
      this.hasCheckbox = hasCheckbox;
      this.index = index;
      this.fireButtonTriggered = fireButtonTriggered;
      this.fireSeparatorButtonTriggered = fireSeparatorButtonTriggered;
      this._onChecked = onCheckedEmitter;
      this.onChecked = hasCheckbox ? require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.map(require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.filter(this._onChecked.event, e => e.listElement === this), e => e.checked) : require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.None;
      mainItem.type === "separator" ? this._separator = mainItem : (this.item = mainItem, previous && previous.type === "separator" && !previous.buttons && (this._separator = previous), this.saneDescription = this.item.description, this.saneDetail = this.item.detail, this._labelHighlights = (_a = this.item.highlights) === null || _a === void 0 ? void 0 : _a.label, this._descriptionHighlights = (_b = this.item.highlights) === null || _b === void 0 ? void 0 : _b.description, this._detailHighlights = 
      (_c = this.item.highlights) === null || _c === void 0 ? void 0 : _c.detail, this.saneTooltip = this.item.tooltip);
      this._init = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lazy_DOT_js.Lazy(() => {
        var _a;
        const saneLabel = (_a = mainItem.label) !== null && _a !== void 0 ? _a : "";
        _a = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.parseLabelWithIcons)(saneLabel).text.trim();
        const saneAriaLabel = mainItem.ariaLabel || [saneLabel, this.saneDescription, this.saneDetail].map(s => (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.getCodiconAriaLabel)(s)).filter(s => !!s).join(", ");
        return {saneLabel, saneSortLabel:_a, saneAriaLabel};
      });
    }
    get saneLabel() {
      return this._init.value.saneLabel;
    }
    get saneSortLabel() {
      return this._init.value.saneSortLabel;
    }
    get saneAriaLabel() {
      return this._init.value.saneAriaLabel;
    }
    get element() {
      return this._element;
    }
    set element(value) {
      this._element = value;
    }
    get hidden() {
      return this._hidden;
    }
    set hidden(value) {
      this._hidden = value;
    }
    get checked() {
      return this._checked;
    }
    set checked(value) {
      value !== this._checked && (this._checked = value, this._onChecked.fire({listElement:this, checked:value}));
    }
    get separator() {
      return this._separator;
    }
    set separator(value) {
      this._separator = value;
    }
    get labelHighlights() {
      return this._labelHighlights;
    }
    set labelHighlights(value) {
      this._labelHighlights = value;
    }
    get descriptionHighlights() {
      return this._descriptionHighlights;
    }
    set descriptionHighlights(value) {
      this._descriptionHighlights = value;
    }
    get detailHighlights() {
      return this._detailHighlights;
    }
    set detailHighlights(value) {
      this._detailHighlights = value;
    }
  }
  class ListElementRenderer {
    constructor(themeService) {
      this.themeService = themeService;
    }
    get templateId() {
      return ListElementRenderer.ID;
    }
    renderTemplate(container) {
      const data = Object.create(null);
      data.toDisposeElement = [];
      data.toDisposeTemplate = [];
      data.entry = dom.append(container, $(".quick-input-list-entry"));
      container = dom.append(data.entry, $("label.quick-input-list-label"));
      data.toDisposeTemplate.push(dom.addStandardDisposableListener(container, dom.EventType.CLICK, e => {
        data.checkbox.offsetParent || e.preventDefault();
      }));
      data.checkbox = dom.append(container, $("input.quick-input-list-checkbox"));
      data.checkbox.type = "checkbox";
      data.toDisposeTemplate.push(dom.addStandardDisposableListener(data.checkbox, dom.EventType.CHANGE, e => {
        data.element.checked = data.checkbox.checked;
      }));
      var rows = dom.append(container, $(".quick-input-list-rows"));
      container = dom.append(rows, $(".quick-input-list-row"));
      rows = dom.append(rows, $(".quick-input-list-row"));
      data.label = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_iconLabel_SLASH_iconLabel_DOT_js.IconLabel(container, {supportHighlights:!0, supportDescriptionHighlights:!0, supportIcons:!0});
      data.toDisposeTemplate.push(data.label);
      data.icon = dom.prepend(data.label.element, $(".quick-input-list-icon"));
      container = dom.append(container, $(".quick-input-list-entry-keybinding"));
      data.keybinding = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_keybindingLabel_SLASH_keybindingLabel_DOT_js.KeybindingLabel(container, platform.OS);
      container = dom.append(rows, $(".quick-input-list-label-meta"));
      data.detail = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_iconLabel_SLASH_iconLabel_DOT_js.IconLabel(container, {supportHighlights:!0, supportIcons:!0});
      data.toDisposeTemplate.push(data.detail);
      data.separator = dom.append(data.entry, $(".quick-input-list-separator"));
      data.actionBar = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_ui_SLASH_actionbar_SLASH_actionbar_DOT_js.ActionBar(data.entry);
      data.actionBar.domNode.classList.add("quick-input-list-entry-action-bar");
      data.toDisposeTemplate.push(data.actionBar);
      return data;
    }
    renderElement(element, index, data) {
      var _a, _b, _c, _d;
      data.element = element;
      element.element = (_a = data.entry) !== null && _a !== void 0 ? _a : void 0;
      const mainItem = element.item ? element.item : element.separator;
      data.checkbox.checked = element.checked;
      data.toDisposeElement.push(element.onChecked(checked => data.checkbox.checked = checked));
      const {labelHighlights, descriptionHighlights, detailHighlights} = element;
      ((_b = element.item) === null || _b === void 0 ? 0 : _b.iconPath) ? (index = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH_theme_SLASH_common_SLASH_theme_DOT_js.isDark)(this.themeService.getColorTheme().type) ? element.item.iconPath.dark : (_c = element.item.iconPath.light) !== null && _c !== void 0 ? _c : element.item.iconPath.dark, _c = require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_uri_DOT_js.URI.revive(index), data.icon.className = "quick-input-list-icon", 
      data.icon.style.backgroundImage = dom.asCSSUrl(_c)) : (data.icon.style.backgroundImage = "", data.icon.className = ((_d = element.item) === null || _d === void 0 ? 0 : _d.iconClass) ? `quick-input-list-icon ${element.item.iconClass}` : "");
      _c = {matches:labelHighlights || [], descriptionTitle:element.saneDescription, descriptionMatches:descriptionHighlights || [], labelEscapeNewLines:!0};
      mainItem.type !== "separator" ? (_c.extraClasses = mainItem.iconClasses, _c.italic = mainItem.italic, _c.strikethrough = mainItem.strikethrough, data.entry.classList.remove("quick-input-list-separator-as-item")) : data.entry.classList.add("quick-input-list-separator-as-item");
      data.label.setLabel(element.saneLabel, element.saneDescription, _c);
      data.keybinding.set(mainItem.type === "separator" ? void 0 : mainItem.keybinding);
      element.saneDetail ? (data.detail.element.style.display = "", data.detail.setLabel(element.saneDetail, void 0, {matches:detailHighlights, title:element.saneDetail, labelEscapeNewLines:!0})) : data.detail.element.style.display = "none";
      element.item && element.separator && element.separator.label ? (data.separator.textContent = element.separator.label, data.separator.style.display = "") : data.separator.style.display = "none";
      data.entry.classList.toggle("quick-input-list-separator-border", !!element.separator);
      (_c = mainItem.buttons) && _c.length ? (data.actionBar.push(_c.map((button, index) => {
        let cssClasses = button.iconClass || (button.iconPath ? (0,require$_DOT__SLASH_quickInputUtils_DOT_js.getIconClass)(button.iconPath) : void 0);
        button.alwaysVisible && (cssClasses = cssClasses ? `${cssClasses} always-visible` : "always-visible");
        return {id:`id-${index}`, class:cssClasses, enabled:!0, label:"", tooltip:button.tooltip || "", run:() => {
          mainItem.type !== "separator" ? element.fireButtonTriggered({button, item:mainItem}) : element.fireSeparatorButtonTriggered({button, separator:mainItem});
        }};
      }), {icon:!0, label:!1}), data.entry.classList.add("has-actions")) : data.entry.classList.remove("has-actions");
    }
    disposeElement(element, index, data) {
      data.toDisposeElement = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.dispose)(data.toDisposeElement);
      data.actionBar.clear();
    }
    disposeTemplate(data) {
      data.toDisposeElement = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.dispose)(data.toDisposeElement);
      data.toDisposeTemplate = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.dispose)(data.toDisposeTemplate);
    }
  }
  ListElementRenderer.ID = "listelement";
  class ListElementDelegate {
    getHeight(element) {
      return element.item ? element.saneDetail ? 44 : 22 : 24;
    }
    getTemplateId(element) {
      return ListElementRenderer.ID;
    }
  }
  var QuickInputListFocus;
  (function(QuickInputListFocus) {
    QuickInputListFocus[QuickInputListFocus.First = 1] = "First";
    QuickInputListFocus[QuickInputListFocus.Second = 2] = "Second";
    QuickInputListFocus[QuickInputListFocus.Last = 3] = "Last";
    QuickInputListFocus[QuickInputListFocus.Next = 4] = "Next";
    QuickInputListFocus[QuickInputListFocus.Previous = 5] = "Previous";
    QuickInputListFocus[QuickInputListFocus.NextPage = 6] = "NextPage";
    QuickInputListFocus[QuickInputListFocus.PreviousPage = 7] = "PreviousPage";
  })(QuickInputListFocus ||= {});
  class QuickInputList {
    constructor(parent, id, options, themeService) {
      this.parent = parent;
      this.options = options;
      this.inputElements = [];
      this.elements = [];
      this.elementsToIndexes = new Map();
      this.matchOnDetail = this.matchOnDescription = !1;
      this.matchOnLabel = !0;
      this.matchOnLabelMode = "fuzzy";
      this.sortByLabel = !0;
      this._onChangedAllVisibleChecked = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onChangedAllVisibleChecked = this._onChangedAllVisibleChecked.event;
      this._onChangedCheckedCount = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onChangedCheckedCount = this._onChangedCheckedCount.event;
      this._onChangedVisibleCount = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onChangedVisibleCount = this._onChangedVisibleCount.event;
      this._onChangedCheckedElements = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onChangedCheckedElements = this._onChangedCheckedElements.event;
      this._onButtonTriggered = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onButtonTriggered = this._onButtonTriggered.event;
      this._onSeparatorButtonTriggered = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onSeparatorButtonTriggered = this._onSeparatorButtonTriggered.event;
      this._onKeyDown = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onKeyDown = this._onKeyDown.event;
      this._onLeave = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this.onLeave = this._onLeave.event;
      this._listElementChecked = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Emitter();
      this._fireCheckedEvents = !0;
      this.elementDisposables = [];
      this.disposables = [];
      this.id = id;
      this.container = dom.append(this.parent, $(".quick-input-list"));
      parent = new ListElementDelegate();
      const accessibilityProvider = new QuickInputAccessibilityProvider();
      this.list = options.createList("QuickInput", this.container, parent, [new ListElementRenderer(themeService)], {identityProvider:{getId:element => {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        return (_h = (_f = (_d = (_b = (_a = element.item) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : (_c = element.item) === null || _c === void 0 ? void 0 : _c.label) !== null && _d !== void 0 ? _d : (_e = element.separator) === null || _e === void 0 ? void 0 : _e.id) !== null && _f !== void 0 ? _f : (_g = element.separator) === null || _g === void 0 ? void 0 : _g.label) !== null && _h !== void 0 ? _h : "";
      }}, setRowLineHeight:!1, multipleSelectionSupport:!1, horizontalScrolling:!1, accessibilityProvider});
      this.list.getHTMLElement().id = id;
      this.disposables.push(this.list);
      this.disposables.push(this.list.onKeyDown(e => {
        const event = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_browser_SLASH_keyboardEvent_DOT_js.StandardKeyboardEvent(e);
        switch(event.keyCode) {
          case 10:
            this.toggleCheckbox();
            break;
          case 31:
            (platform.isMacintosh ? e.metaKey : e.ctrlKey) && this.list.setFocus((0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_arrays_DOT_js.range)(this.list.length));
            break;
          case 16:
            e = this.list.getFocus();
            e.length === 1 && e[0] === 0 && this._onLeave.fire();
            break;
          case 18:
            e = this.list.getFocus(), e.length === 1 && e[0] === this.list.length - 1 && this._onLeave.fire();
        }
        this._onKeyDown.fire(event);
      }));
      this.disposables.push(this.list.onMouseDown(e => {
        e.browserEvent.button !== 2 && e.browserEvent.preventDefault();
      }));
      this.disposables.push(dom.addDisposableListener(this.container, dom.EventType.CLICK, e => {
        (e.x || e.y) && this._onLeave.fire();
      }));
      this.disposables.push(this.list.onMouseMiddleClick(e => {
        this._onLeave.fire();
      }));
      this.disposables.push(this.list.onContextMenu(e => {
        typeof e.index === "number" && (e.browserEvent.preventDefault(), this.list.setSelection([e.index]));
      }));
      if (options.hoverDelegate) {
        const delayer = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_async_DOT_js.ThrottledDelayer(options.hoverDelegate.delay);
        this.disposables.push(this.list.onMouseOver(async e => {
          var _a;
          if (e.browserEvent.target instanceof HTMLAnchorElement) {
            delayer.cancel();
          } else {
            if (e.browserEvent.relatedTarget instanceof HTMLAnchorElement || !dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element)) {
              try {
                await delayer.trigger(async() => {
                  e.element && this.showHover(e.element);
                });
              } catch (e) {
                if (!(0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_errors_DOT_js.isCancellationError)(e)) {
                  throw e;
                }
              }
            }
          }
        }));
        this.disposables.push(this.list.onMouseOut(e => {
          var _a;
          dom.isAncestor(e.browserEvent.relatedTarget, (_a = e.element) === null || _a === void 0 ? void 0 : _a.element) || delayer.cancel();
        }));
        this.disposables.push(delayer);
      }
      this.disposables.push(this._listElementChecked.event(_ => this.fireCheckedEvents()));
      this.disposables.push(this._onChangedAllVisibleChecked, this._onChangedCheckedCount, this._onChangedVisibleCount, this._onChangedCheckedElements, this._onButtonTriggered, this._onSeparatorButtonTriggered, this._onLeave, this._onKeyDown);
    }
    get onDidChangeFocus() {
      return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.map(this.list.onDidChangeFocus, e => e.elements.map(e => e.item));
    }
    get onDidChangeSelection() {
      return require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_event_DOT_js.Event.map(this.list.onDidChangeSelection, e => ({items:e.elements.map(e => e.item), event:e.browserEvent}));
    }
    get scrollTop() {
      return this.list.scrollTop;
    }
    set scrollTop(scrollTop) {
      this.list.scrollTop = scrollTop;
    }
    get ariaLabel() {
      return this.list.getHTMLElement().ariaLabel;
    }
    set ariaLabel(label) {
      this.list.getHTMLElement().ariaLabel = label;
    }
    getAllVisibleChecked() {
      return this.allVisibleChecked(this.elements, !1);
    }
    allVisibleChecked(elements, whenNoneVisible = !0) {
      for (let i = 0, n = elements.length; i < n; i++) {
        const element = elements[i];
        if (!element.hidden) {
          if (element.checked) {
            whenNoneVisible = !0;
          } else {
            return !1;
          }
        }
      }
      return whenNoneVisible;
    }
    getCheckedCount() {
      let count = 0;
      const elements = this.elements;
      for (let i = 0, n = elements.length; i < n; i++) {
        elements[i].checked && count++;
      }
      return count;
    }
    getVisibleCount() {
      let count = 0;
      const elements = this.elements;
      for (let i = 0, n = elements.length; i < n; i++) {
        elements[i].hidden || count++;
      }
      return count;
    }
    setAllVisibleChecked(checked) {
      try {
        this._fireCheckedEvents = !1, this.elements.forEach(element => {
          element.hidden || (element.checked = checked);
        });
      } finally {
        this._fireCheckedEvents = !0, this.fireCheckedEvents();
      }
    }
    setElements(inputElements) {
      this.elementDisposables = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.dispose)(this.elementDisposables);
      const fireButtonTriggered = event => this.fireButtonTriggered(event), fireSeparatorButtonTriggered = event => this.fireSeparatorButtonTriggered(event);
      this.inputElements = inputElements;
      const elementsToIndexes = new Map(), hasCheckbox = this.parent.classList.contains("show-checkboxes");
      this.elements = inputElements.reduce((result, item, index) => {
        var _a;
        if (item.type === "separator" && !item.buttons) {
          return result;
        }
        item = new ListElement(item, index > 0 ? inputElements[index - 1] : void 0, index, hasCheckbox, fireButtonTriggered, fireSeparatorButtonTriggered, this._listElementChecked);
        index = result.length;
        result.push(item);
        elementsToIndexes.set((_a = item.item) !== null && _a !== void 0 ? _a : item.separator, index);
        return result;
      }, []);
      this.elementsToIndexes = elementsToIndexes;
      this.list.splice(0, this.list.length);
      this.list.splice(0, this.list.length, this.elements);
      this._onChangedVisibleCount.fire(this.elements.length);
    }
    getFocusedElements() {
      return this.list.getFocusedElements().map(e => e.item);
    }
    setFocusedElements(items) {
      this.list.setFocus(items.filter(item => this.elementsToIndexes.has(item)).map(item => this.elementsToIndexes.get(item)));
      items.length > 0 && (items = this.list.getFocus()[0], typeof items === "number" && this.list.reveal(items));
    }
    getActiveDescendant() {
      return this.list.getHTMLElement().getAttribute("aria-activedescendant");
    }
    setSelectedElements(items) {
      this.list.setSelection(items.filter(item => this.elementsToIndexes.has(item)).map(item => this.elementsToIndexes.get(item)));
    }
    getCheckedElements() {
      return this.elements.filter(e => e.checked).map(e => e.item).filter(e => !!e);
    }
    setCheckedElements(items) {
      try {
        this._fireCheckedEvents = !1;
        const checked = new Set();
        for (const item of items) {
          checked.add(item);
        }
        for (const element of this.elements) {
          element.checked = checked.has(element.item);
        }
      } finally {
        this._fireCheckedEvents = !0, this.fireCheckedEvents();
      }
    }
    set enabled(value) {
      this.list.getHTMLElement().style.pointerEvents = value ? "" : "none";
    }
    focus(what) {
      if (this.list.length) {
        what === QuickInputListFocus.Second && this.list.length < 2 && (what = QuickInputListFocus.First);
        switch(what) {
          case QuickInputListFocus.First:
            this.list.scrollTop = 0;
            this.list.focusFirst(void 0, e => !!e.item);
            break;
          case QuickInputListFocus.Second:
            this.list.scrollTop = 0;
            this.list.focusNth(1, void 0, e => !!e.item);
            break;
          case QuickInputListFocus.Last:
            this.list.scrollTop = this.list.scrollHeight;
            this.list.focusLast(void 0, e => !!e.item);
            break;
          case QuickInputListFocus.Next:
            this.list.focusNext(void 0, !0, void 0, e => !!e.item);
            what = this.list.getFocus()[0];
            what !== 0 && !this.elements[what - 1].item && this.list.firstVisibleIndex > what - 1 && this.list.reveal(what - 1);
            break;
          case QuickInputListFocus.Previous:
            this.list.focusPrevious(void 0, !0, void 0, e => !!e.item);
            what = this.list.getFocus()[0];
            what !== 0 && !this.elements[what - 1].item && this.list.firstVisibleIndex > what - 1 && this.list.reveal(what - 1);
            break;
          case QuickInputListFocus.NextPage:
            this.list.focusNextPage(void 0, e => !!e.item);
            break;
          case QuickInputListFocus.PreviousPage:
            this.list.focusPreviousPage(void 0, e => !!e.item);
        }
        what = this.list.getFocus()[0];
        typeof what === "number" && this.list.reveal(what);
      }
    }
    clearFocus() {
      this.list.setFocus([]);
    }
    domFocus() {
      this.list.domFocus();
    }
    showHover(element) {
      var _a, _b, _c;
      this.options.hoverDelegate !== void 0 && (this._lastHover && !this._lastHover.isDisposed && ((_b = (_a = this.options.hoverDelegate).onDidHideHover) === null || _b === void 0 || _b.call(_a), (_c = this._lastHover) === null || _c === void 0 || _c.dispose()), element.element && element.saneTooltip && (this._lastHover = this.options.hoverDelegate.showHover({content:element.saneTooltip, target:element.element, linkHandler:url => {
        this.options.linkOpenerDelegate(url);
      }, appearance:{showPointer:!0}, container:this.container, position:{hoverPosition:1}}, !1)));
    }
    layout(maxHeight) {
      this.list.getHTMLElement().style.maxHeight = maxHeight ? `${Math.floor(maxHeight / 44) * 44 + 6}px` : "";
      this.list.layout();
    }
    filter(query) {
      if (!(this.sortByLabel || this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {
        return this.list.layout(), !1;
      }
      const queryWithWhitespace = query;
      if ((query = query.trim()) && (this.matchOnLabel || this.matchOnDescription || this.matchOnDetail)) {
        let currentSeparator;
        this.elements.forEach(element => {
          var _a, _c, _d;
          if (this.matchOnLabelMode === "fuzzy") {
            var _b = this.matchOnLabel ? (_a = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.matchesFuzzyIconAware)(query, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.parseLabelWithIcons)(element.saneLabel))) !== null && _a !== void 0 ? _a : void 0 : void 0;
          } else {
            if (this.matchOnLabel) {
              {
                _a = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.parseLabelWithIcons)(element.saneLabel);
                const {text, iconOffsets} = _a;
                if (iconOffsets && iconOffsets.length !== 0) {
                  var wordToMatchAgainstWithoutIconsTrimmed = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_strings_DOT_js.ltrim)(text, " ");
                  _a = text.length - wordToMatchAgainstWithoutIconsTrimmed.length;
                  if (wordToMatchAgainstWithoutIconsTrimmed = matchesContiguous(queryWithWhitespace, wordToMatchAgainstWithoutIconsTrimmed)) {
                    for (JSCompiler_temp of wordToMatchAgainstWithoutIconsTrimmed) {
                      const iconOffset = iconOffsets[JSCompiler_temp.start + _a] + _a;
                      JSCompiler_temp.start += iconOffset;
                      JSCompiler_temp.end += iconOffset;
                    }
                  }
                  var JSCompiler_temp = wordToMatchAgainstWithoutIconsTrimmed;
                } else {
                  JSCompiler_temp = matchesContiguous(queryWithWhitespace, text);
                }
              }
              JSCompiler_temp = (_b = JSCompiler_temp) !== null && _b !== void 0 ? _b : void 0;
            } else {
              JSCompiler_temp = void 0;
            }
            _b = JSCompiler_temp;
          }
          JSCompiler_temp = this.matchOnDescription ? (_c = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.matchesFuzzyIconAware)(query, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.parseLabelWithIcons)(element.saneDescription || ""))) !== null && _c !== void 0 ? _c : void 0 : void 0;
          _c = this.matchOnDetail ? (_d = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.matchesFuzzyIconAware)(query, (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_iconLabels_DOT_js.parseLabelWithIcons)(element.saneDetail || ""))) !== null && _d !== void 0 ? _d : void 0 : void 0;
          _b || JSCompiler_temp || _c ? (element.labelHighlights = _b, element.descriptionHighlights = JSCompiler_temp, element.detailHighlights = _c, element.hidden = !1) : (element.labelHighlights = void 0, element.descriptionHighlights = void 0, element.detailHighlights = void 0, element.hidden = element.item ? !element.item.alwaysShow : !0);
          element.item ? element.separator = void 0 : element.separator && (element.hidden = !0);
          this.sortByLabel || (currentSeparator = (_d = element.index && this.inputElements[element.index - 1]) && _d.type === "separator" ? _d : currentSeparator) && !element.hidden && (element.separator = currentSeparator, currentSeparator = void 0);
        });
      } else {
        this.elements.forEach(element => {
          element.labelHighlights = void 0;
          element.descriptionHighlights = void 0;
          element.detailHighlights = void 0;
          element.hidden = !1;
          const previous = element.index && this.inputElements[element.index - 1];
          element.item && (element.separator = previous && previous.type === "separator" && !previous.buttons ? previous : void 0);
        });
      }
      const shownElements = this.elements.filter(element => !element.hidden);
      if (this.sortByLabel && query) {
        const normalizedSearchValue = query.toLowerCase();
        shownElements.sort((a, b) => {
          {
            const labelHighlightsA = a.labelHighlights || [], labelHighlightsB = b.labelHighlights || [];
            a = labelHighlightsA.length && !labelHighlightsB.length ? -1 : !labelHighlightsA.length && labelHighlightsB.length ? 1 : labelHighlightsA.length === 0 && labelHighlightsB.length === 0 ? 0 : (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_comparers_DOT_js.compareAnything)(a.saneSortLabel, b.saneSortLabel, normalizedSearchValue);
          }
          return a;
        });
      }
      this.elementsToIndexes = shownElements.reduce((map, element, index) => {
        var _a;
        map.set((_a = element.item) !== null && _a !== void 0 ? _a : element.separator, index);
        return map;
      }, new Map());
      this.list.splice(0, this.list.length, shownElements);
      this.list.setFocus([]);
      this.list.layout();
      this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked());
      this._onChangedVisibleCount.fire(shownElements.length);
      return !0;
    }
    toggleCheckbox() {
      try {
        this._fireCheckedEvents = !1;
        const elements = this.list.getFocusedElements(), allChecked = this.allVisibleChecked(elements);
        for (const element of elements) {
          element.checked = !allChecked;
        }
      } finally {
        this._fireCheckedEvents = !0, this.fireCheckedEvents();
      }
    }
    display(display) {
      this.container.style.display = display ? "" : "none";
    }
    isDisplayed() {
      return this.container.style.display !== "none";
    }
    dispose() {
      this.elementDisposables = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.dispose)(this.elementDisposables);
      this.disposables = (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.dispose)(this.disposables);
    }
    fireCheckedEvents() {
      this._fireCheckedEvents && (this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()), this._onChangedCheckedCount.fire(this.getCheckedCount()), this._onChangedCheckedElements.fire(this.getCheckedElements()));
    }
    fireButtonTriggered(event) {
      this._onButtonTriggered.fire(event);
    }
    fireSeparatorButtonTriggered(event) {
      this._onSeparatorButtonTriggered.fire(event);
    }
    style(styles) {
      this.list.style(styles);
    }
    toggleHover() {
      var element = this.list.getFocusedElements()[0];
      if (element !== null && element !== void 0 && element.saneTooltip) {
        if (this._lastHover && !this._lastHover.isDisposed) {
          this._lastHover.dispose();
        } else {
          if (element = this.list.getFocusedElements()[0]) {
            this.showHover(element), element = new require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_base_SLASH_common_SLASH_lifecycle_DOT_js.DisposableStore(), element.add(this.list.onDidChangeFocus(e => {
              e.indexes.length && this.showHover(e.elements[0]);
            })), this._lastHover && element.add(this._lastHover), this._toggleHover = element, this.elementDisposables.push(this._toggleHover);
          }
        }
      }
    }
  }
  require([module.memoize], QuickInputList.prototype, "onDidChangeFocus", null);
  require([module.memoize], QuickInputList.prototype, "onDidChangeSelection", null);
  class QuickInputAccessibilityProvider {
    getWidgetAriaLabel() {
      return (0,require$_DOT__DOT__SLASH__DOT__DOT__SLASH__DOT__DOT__SLASH_nls_DOT_js.localize)("quickInput", "Quick Input");
    }
    getAriaLabel(element) {
      var _a;
      return ((_a = element.separator) === null || _a === void 0 ? 0 : _a.label) ? `${element.saneAriaLabel}, ${element.separator.label}` : element.saneAriaLabel;
    }
    getWidgetRole() {
      return "listbox";
    }
    getRole(element) {
      return element.hasCheckbox ? "checkbox" : "option";
    }
    isChecked(element) {
      if (element.hasCheckbox) {
        return {value:element.checked, onDidChange:element.onChecked};
      }
    }
  }
};

//# sourceMappingURL=module$node_modules$monaco_editor$esm$vs$platform$quickinput$browser$quickInputList.js.map
