{
"version":3,
"file":"module$node_modules$monaco_editor$esm$vs$base$common$observableInternal$utils.js",
"lineCount":197,
"mappings":"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",
"sources":["node_modules/monaco-editor/esm/vs/base/common/observableInternal/utils.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$monaco_editor$esm$vs$base$common$observableInternal$utils\"] = function(require,module,exports) {\nObject.defineProperties(exports, {__esModule:{enumerable:true, value:true}, FromEventObservable:{enumerable:true, get:function() {\n  return FromEventObservable;\n}}, constObservable:{enumerable:true, get:function() {\n  return constObservable;\n}}, derivedObservableWithCache:{enumerable:true, get:function() {\n  return derivedObservableWithCache;\n}}, observableFromEvent:{enumerable:true, get:function() {\n  return observableFromEvent;\n}}, observableSignal:{enumerable:true, get:function() {\n  return observableSignal;\n}}, observableSignalFromEvent:{enumerable:true, get:function() {\n  return observableSignalFromEvent;\n}}, recomputeInitiallyAndOnChange:{enumerable:true, get:function() {\n  return recomputeInitiallyAndOnChange;\n}}, waitForState:{enumerable:true, get:function() {\n  return waitForState;\n}}});\nvar require$_DOT__DOT__SLASH_lifecycle_DOT_js = require(\"../lifecycle.js\");\nvar require$_DOT__SLASH_autorun_DOT_js = require(\"./autorun.js\");\nvar require$_DOT__SLASH_base_DOT_js = require(\"./base.js\");\nvar require$_DOT__SLASH_derived_DOT_js = require(\"./derived.js\");\nvar require$_DOT__SLASH_logging_DOT_js = require(\"./logging.js\");\nfunction constObservable(value) {\n  return new ConstObservable(value);\n}\nclass ConstObservable extends require$_DOT__SLASH_base_DOT_js.ConvenientObservable {\n  constructor(value) {\n    super();\n    this.value = value;\n  }\n  get debugName() {\n    return this.toString();\n  }\n  get() {\n    return this.value;\n  }\n  addObserver(observer) {\n  }\n  removeObserver(observer) {\n  }\n  toString() {\n    return `Const: ${this.value}`;\n  }\n}\nfunction waitForState(observable, predicate) {\n  return new Promise(resolve => {\n    let didRun = false;\n    let shouldDispose = false;\n    const stateObs = observable.map(state => ({isFinished:predicate(state), state}));\n    const d = (0,require$_DOT__SLASH_autorun_DOT_js.autorun)(reader => {\n      const {isFinished, state} = stateObs.read(reader);\n      if (isFinished) {\n        if (!didRun) {\n          shouldDispose = true;\n        } else {\n          d.dispose();\n        }\n        resolve(state);\n      }\n    });\n    didRun = true;\n    if (shouldDispose) {\n      d.dispose();\n    }\n  });\n}\nfunction observableFromEvent(event, getValue) {\n  return new FromEventObservable(event, getValue);\n}\nclass FromEventObservable extends require$_DOT__SLASH_base_DOT_js.BaseObservable {\n  constructor(event, _getValue) {\n    super();\n    this.event = event;\n    this._getValue = _getValue;\n    this.hasValue = false;\n    this.handleEvent = args => {\n      var _a;\n      const newValue = this._getValue(args);\n      const oldValue = this.value;\n      const didChange = !this.hasValue || oldValue !== newValue;\n      let didRunTransaction = false;\n      if (didChange) {\n        this.value = newValue;\n        if (this.hasValue) {\n          didRunTransaction = true;\n          (0,require$_DOT__SLASH_base_DOT_js.subtransaction)(FromEventObservable.globalTransaction, tx => {\n            var _a;\n            (_a = (0,require$_DOT__SLASH_logging_DOT_js.getLogger)()) === null || _a === void 0 ? void 0 : _a.handleFromEventObservableTriggered(this, {oldValue, newValue, change:undefined, didChange, hadValue:this.hasValue});\n            for (const o of this.observers) {\n              tx.updateObserver(o, this);\n              o.handleChange(this, undefined);\n            }\n          }, () => {\n            const name = this.getDebugName();\n            return \"Event fired\" + (name ? `: ${name}` : \"\");\n          });\n        }\n        this.hasValue = true;\n      }\n      if (!didRunTransaction) {\n        (_a = (0,require$_DOT__SLASH_logging_DOT_js.getLogger)()) === null || _a === void 0 ? void 0 : _a.handleFromEventObservableTriggered(this, {oldValue, newValue, change:undefined, didChange, hadValue:this.hasValue});\n      }\n    };\n  }\n  getDebugName() {\n    return (0,require$_DOT__SLASH_base_DOT_js.getFunctionName)(this._getValue);\n  }\n  get debugName() {\n    const name = this.getDebugName();\n    return \"From Event\" + (name ? `: ${name}` : \"\");\n  }\n  onFirstObserverAdded() {\n    this.subscription = this.event(this.handleEvent);\n  }\n  onLastObserverRemoved() {\n    this.subscription.dispose();\n    this.subscription = undefined;\n    this.hasValue = false;\n    this.value = undefined;\n  }\n  get() {\n    if (this.subscription) {\n      if (!this.hasValue) {\n        this.handleEvent(undefined);\n      }\n      return this.value;\n    } else {\n      return this._getValue(undefined);\n    }\n  }\n}\n(function(observableFromEvent) {\n  observableFromEvent.Observer = FromEventObservable;\n  function batchEventsGlobally(tx, fn) {\n    let didSet = false;\n    if (FromEventObservable.globalTransaction === undefined) {\n      FromEventObservable.globalTransaction = tx;\n      didSet = true;\n    }\n    try {\n      fn();\n    } finally {\n      if (didSet) {\n        FromEventObservable.globalTransaction = undefined;\n      }\n    }\n  }\n  observableFromEvent.batchEventsGlobally = batchEventsGlobally;\n})(observableFromEvent || (observableFromEvent = {}));\nfunction observableSignalFromEvent(debugName, event) {\n  return new FromEventObservableSignal(debugName, event);\n}\nclass FromEventObservableSignal extends require$_DOT__SLASH_base_DOT_js.BaseObservable {\n  constructor(debugName, event) {\n    super();\n    this.debugName = debugName;\n    this.event = event;\n    this.handleEvent = () => {\n      (0,require$_DOT__SLASH_base_DOT_js.transaction)(tx => {\n        for (const o of this.observers) {\n          tx.updateObserver(o, this);\n          o.handleChange(this, undefined);\n        }\n      }, () => this.debugName);\n    };\n  }\n  onFirstObserverAdded() {\n    this.subscription = this.event(this.handleEvent);\n  }\n  onLastObserverRemoved() {\n    this.subscription.dispose();\n    this.subscription = undefined;\n  }\n  get() {\n  }\n}\nfunction observableSignal(debugNameOrOwner) {\n  if (typeof debugNameOrOwner === \"string\") {\n    return new ObservableSignal(debugNameOrOwner);\n  } else {\n    return new ObservableSignal(undefined, debugNameOrOwner);\n  }\n}\nclass ObservableSignal extends require$_DOT__SLASH_base_DOT_js.BaseObservable {\n  get debugName() {\n    var _a;\n    return (_a = (0,require$_DOT__SLASH_base_DOT_js.getDebugName)(this, this._debugName, undefined, this._owner, this)) !== null && _a !== void 0 ? _a : \"Observable Signal\";\n  }\n  constructor(_debugName, _owner) {\n    super();\n    this._debugName = _debugName;\n    this._owner = _owner;\n  }\n  trigger(tx, change) {\n    if (!tx) {\n      (0,require$_DOT__SLASH_base_DOT_js.transaction)(tx => {\n        this.trigger(tx, change);\n      }, () => `Trigger signal ${this.debugName}`);\n      return;\n    }\n    for (const o of this.observers) {\n      tx.updateObserver(o, this);\n      o.handleChange(this, change);\n    }\n  }\n  get() {\n  }\n}\nfunction recomputeInitiallyAndOnChange(observable, handleValue) {\n  const o = new KeepAliveObserver(true, handleValue);\n  observable.addObserver(o);\n  if (handleValue) {\n    handleValue(observable.get());\n  } else {\n    observable.reportChanges();\n  }\n  return (0,require$_DOT__DOT__SLASH_lifecycle_DOT_js.toDisposable)(() => {\n    observable.removeObserver(o);\n  });\n}\n(0,require$_DOT__SLASH_base_DOT_js._setRecomputeInitiallyAndOnChange)(recomputeInitiallyAndOnChange);\nclass KeepAliveObserver {\n  constructor(_forceRecompute, _handleValue) {\n    this._forceRecompute = _forceRecompute;\n    this._handleValue = _handleValue;\n    this._counter = 0;\n  }\n  beginUpdate(observable) {\n    this._counter++;\n  }\n  endUpdate(observable) {\n    this._counter--;\n    if (this._counter === 0 && this._forceRecompute) {\n      if (this._handleValue) {\n        this._handleValue(observable.get());\n      } else {\n        observable.reportChanges();\n      }\n    }\n  }\n  handlePossibleChange(observable) {\n  }\n  handleChange(observable, change) {\n  }\n}\nfunction derivedObservableWithCache(computeFn) {\n  let lastValue = undefined;\n  const observable = (0,require$_DOT__SLASH_derived_DOT_js.derived)(reader => {\n    lastValue = computeFn(reader, lastValue);\n    return lastValue;\n  });\n  return observable;\n}\n\n};"],
"names":["shadow$provide","require","module","exports","constObservable","value","ConstObservable","waitForState","observable","predicate","Promise","resolve","didRun","shouldDispose","stateObs","map","state","isFinished","d","require$_DOT__SLASH_autorun_DOT_js","autorun","reader","read","dispose","observableFromEvent","event","getValue","FromEventObservable","observableSignalFromEvent","debugName","FromEventObservableSignal","observableSignal","debugNameOrOwner","ObservableSignal","undefined","recomputeInitiallyAndOnChange","handleValue","o","KeepAliveObserver","addObserver","get","reportChanges","require$_DOT__DOT__SLASH_lifecycle_DOT_js","toDisposable","removeObserver","derivedObservableWithCache","computeFn","lastValue","require$_DOT__SLASH_derived_DOT_js","derived","Object","defineProperties","__esModule","enumerable","require$_DOT__SLASH_base_DOT_js","require$_DOT__SLASH_logging_DOT_js","ConvenientObservable","constructor","toString","observer","BaseObservable","_getValue","hasValue","handleEvent","args","this.handleEvent","_a","newValue","oldValue","didChange","didRunTransaction","subtransaction","globalTransaction","tx","getLogger","handleFromEventObservableTriggered","change","hadValue","observers","updateObserver","handleChange","name","getDebugName","getFunctionName","onFirstObserverAdded","subscription","onLastObserverRemoved","Observer","batchEventsGlobally","fn","didSet","transaction","_debugName","_owner","trigger","_setRecomputeInitiallyAndOnChange","_forceRecompute","_handleValue","_counter","beginUpdate","endUpdate","handlePossibleChange"]
}
